(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Ld={exports:{}},wo={};var B0;function jT(){if(B0)return wo;B0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return wo.Fragment=e,wo.jsx=i,wo.jsxs=i,wo}var q0;function PT(){return q0||(q0=1,Ld.exports=jT()),Ld.exports}var v=PT(),jd={exports:{}},Re={};var H0;function UT(){if(H0)return Re;H0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.iterator;function H(M){return M===null||typeof M!="object"?null:(M=V&&M[V]||M["@@iterator"],typeof M=="function"?M:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},re=Object.assign,Z={};function me(M,K,se){this.props=M,this.context=K,this.refs=Z,this.updater=se||W}me.prototype.isReactComponent={},me.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},me.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function be(){}be.prototype=me.prototype;function ve(M,K,se){this.props=M,this.context=K,this.refs=Z,this.updater=se||W}var Ge=ve.prototype=new be;Ge.constructor=ve,re(Ge,me.prototype),Ge.isPureReactComponent=!0;var qe=Array.isArray;function Me(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(M,K,se){var ae=se.ref;return{$$typeof:s,type:M,key:K,ref:ae!==void 0?ae:null,props:se}}function S(M,K){return C(M.type,K,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function k(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(se){return K[se]})}var R=/\/+/g;function nt(M,K){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):K.toString(36)}function vt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Me,Me):(M.status="pending",M.then(function(K){M.status==="pending"&&(M.status="fulfilled",M.value=K)},function(K){M.status==="pending"&&(M.status="rejected",M.reason=K)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,K,se,ae,Te){var we=typeof M;(we==="undefined"||we==="boolean")&&(M=null);var Ve=!1;if(M===null)Ve=!0;else switch(we){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(M.$$typeof){case s:case e:Ve=!0;break;case b:return Ve=M._init,G(Ve(M._payload),K,se,ae,Te)}}if(Ve)return Te=Te(M),Ve=ae===""?"."+nt(M,0):ae,qe(Te)?(se="",Ve!=null&&(se=Ve.replace(R,"$&/")+"/"),G(Te,K,se,"",function(Yi){return Yi})):Te!=null&&(D(Te)&&(Te=S(Te,se+(Te.key==null||M&&M.key===Te.key?"":(""+Te.key).replace(R,"$&/")+"/")+Ve)),K.push(Te)),1;Ve=0;var Tt=ae===""?".":ae+":";if(qe(M))for(var ct=0;ct<M.length;ct++)ae=M[ct],we=Tt+nt(ae,ct),Ve+=G(ae,K,se,we,Te);else if(ct=H(M),typeof ct=="function")for(M=ct.call(M),ct=0;!(ae=M.next()).done;)ae=ae.value,we=Tt+nt(ae,ct++),Ve+=G(ae,K,se,we,Te);else if(we==="object"){if(typeof M.then=="function")return G(vt(M),K,se,ae,Te);throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function ie(M,K,se){if(M==null)return M;var ae=[],Te=0;return G(M,ae,"","",function(we){return K.call(se,we,Te++)}),ae}function he(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(se){(M._status===0||M._status===-1)&&(M._status=1,M._result=se)},function(se){(M._status===0||M._status===-1)&&(M._status=2,M._result=se)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var De=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ye={map:ie,forEach:function(M,K,se){ie(M,function(){K.apply(this,arguments)},se)},count:function(M){var K=0;return ie(M,function(){K++}),K},toArray:function(M){return ie(M,function(K){return K})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Re.Activity=x,Re.Children=Ye,Re.Component=me,Re.Fragment=i,Re.Profiler=o,Re.PureComponent=ve,Re.StrictMode=a,Re.Suspense=y,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Re.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},Re.cache=function(M){return function(){return M.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(M,K,se){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ae=re({},M.props),Te=M.key;if(K!=null)for(we in K.key!==void 0&&(Te=""+K.key),K)!w.call(K,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&K.ref===void 0||(ae[we]=K[we]);var we=arguments.length-2;if(we===1)ae.children=se;else if(1<we){for(var Ve=Array(we),Tt=0;Tt<we;Tt++)Ve[Tt]=arguments[Tt+2];ae.children=Ve}return C(M.type,Te,ae)},Re.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Re.createElement=function(M,K,se){var ae,Te={},we=null;if(K!=null)for(ae in K.key!==void 0&&(we=""+K.key),K)w.call(K,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(Te[ae]=K[ae]);var Ve=arguments.length-2;if(Ve===1)Te.children=se;else if(1<Ve){for(var Tt=Array(Ve),ct=0;ct<Ve;ct++)Tt[ct]=arguments[ct+2];Te.children=Tt}if(M&&M.defaultProps)for(ae in Ve=M.defaultProps,Ve)Te[ae]===void 0&&(Te[ae]=Ve[ae]);return C(M,we,Te)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(M){return{$$typeof:g,render:M}},Re.isValidElement=D,Re.lazy=function(M){return{$$typeof:b,_payload:{_status:-1,_result:M},_init:he}},Re.memo=function(M,K){return{$$typeof:_,type:M,compare:K===void 0?null:K}},Re.startTransition=function(M){var K=I.T,se={};I.T=se;try{var ae=M(),Te=I.S;Te!==null&&Te(se,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Me,De)}catch(we){De(we)}finally{K!==null&&se.types!==null&&(K.types=se.types),I.T=K}},Re.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Re.use=function(M){return I.H.use(M)},Re.useActionState=function(M,K,se){return I.H.useActionState(M,K,se)},Re.useCallback=function(M,K){return I.H.useCallback(M,K)},Re.useContext=function(M){return I.H.useContext(M)},Re.useDebugValue=function(){},Re.useDeferredValue=function(M,K){return I.H.useDeferredValue(M,K)},Re.useEffect=function(M,K){return I.H.useEffect(M,K)},Re.useEffectEvent=function(M){return I.H.useEffectEvent(M)},Re.useId=function(){return I.H.useId()},Re.useImperativeHandle=function(M,K,se){return I.H.useImperativeHandle(M,K,se)},Re.useInsertionEffect=function(M,K){return I.H.useInsertionEffect(M,K)},Re.useLayoutEffect=function(M,K){return I.H.useLayoutEffect(M,K)},Re.useMemo=function(M,K){return I.H.useMemo(M,K)},Re.useOptimistic=function(M,K){return I.H.useOptimistic(M,K)},Re.useReducer=function(M,K,se){return I.H.useReducer(M,K,se)},Re.useRef=function(M){return I.H.useRef(M)},Re.useState=function(M){return I.H.useState(M)},Re.useSyncExternalStore=function(M,K,se){return I.H.useSyncExternalStore(M,K,se)},Re.useTransition=function(){return I.H.useTransition()},Re.version="19.2.3",Re}var G0;function Dm(){return G0||(G0=1,jd.exports=UT()),jd.exports}var lt=Dm(),Pd={exports:{}},Ro={},Ud={exports:{}},zd={};var F0;function zT(){return F0||(F0=1,(function(s){function e(G,ie){var he=G.length;G.push(ie);e:for(;0<he;){var De=he-1>>>1,Ye=G[De];if(0<o(Ye,ie))G[De]=ie,G[he]=Ye,he=De;else break e}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var ie=G[0],he=G.pop();if(he!==ie){G[0]=he;e:for(var De=0,Ye=G.length,M=Ye>>>1;De<M;){var K=2*(De+1)-1,se=G[K],ae=K+1,Te=G[ae];if(0>o(se,he))ae<Ye&&0>o(Te,se)?(G[De]=Te,G[ae]=he,De=ae):(G[De]=se,G[K]=he,De=K);else if(ae<Ye&&0>o(Te,he))G[De]=Te,G[ae]=he,De=ae;else break e}}return ie}function o(G,ie){var he=G.sortIndex-ie.sortIndex;return he!==0?he:G.id-ie.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var y=[],_=[],b=1,x=null,V=3,H=!1,W=!1,re=!1,Z=!1,me=typeof setTimeout=="function"?setTimeout:null,be=typeof clearTimeout=="function"?clearTimeout:null,ve=typeof setImmediate<"u"?setImmediate:null;function Ge(G){for(var ie=i(_);ie!==null;){if(ie.callback===null)a(_);else if(ie.startTime<=G)a(_),ie.sortIndex=ie.expirationTime,e(y,ie);else break;ie=i(_)}}function qe(G){if(re=!1,Ge(G),!W)if(i(y)!==null)W=!0,Me||(Me=!0,k());else{var ie=i(_);ie!==null&&vt(qe,ie.startTime-G)}}var Me=!1,I=-1,w=5,C=-1;function S(){return Z?!0:!(s.unstable_now()-C<w)}function D(){if(Z=!1,Me){var G=s.unstable_now();C=G;var ie=!0;try{e:{W=!1,re&&(re=!1,be(I),I=-1),H=!0;var he=V;try{t:{for(Ge(G),x=i(y);x!==null&&!(x.expirationTime>G&&S());){var De=x.callback;if(typeof De=="function"){x.callback=null,V=x.priorityLevel;var Ye=De(x.expirationTime<=G);if(G=s.unstable_now(),typeof Ye=="function"){x.callback=Ye,Ge(G),ie=!0;break t}x===i(y)&&a(y),Ge(G)}else a(y);x=i(y)}if(x!==null)ie=!0;else{var M=i(_);M!==null&&vt(qe,M.startTime-G),ie=!1}}break e}finally{x=null,V=he,H=!1}ie=void 0}}finally{ie?k():Me=!1}}}var k;if(typeof ve=="function")k=function(){ve(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,nt=R.port2;R.port1.onmessage=D,k=function(){nt.postMessage(null)}}else k=function(){me(D,0)};function vt(G,ie){I=me(function(){G(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return V},s.unstable_next=function(G){switch(V){case 1:case 2:case 3:var ie=3;break;default:ie=V}var he=V;V=ie;try{return G()}finally{V=he}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(G,ie){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var he=V;V=G;try{return ie()}finally{V=he}},s.unstable_scheduleCallback=function(G,ie,he){var De=s.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?De+he:De):he=De,G){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=he+Ye,G={id:b++,callback:ie,priorityLevel:G,startTime:he,expirationTime:Ye,sortIndex:-1},he>De?(G.sortIndex=he,e(_,G),i(y)===null&&G===i(_)&&(re?(be(I),I=-1):re=!0,vt(qe,he-De))):(G.sortIndex=Ye,e(y,G),W||H||(W=!0,Me||(Me=!0,k()))),G},s.unstable_shouldYield=S,s.unstable_wrapCallback=function(G){var ie=V;return function(){var he=V;V=ie;try{return G.apply(this,arguments)}finally{V=he}}}})(zd)),zd}var Y0;function BT(){return Y0||(Y0=1,Ud.exports=zT()),Ud.exports}var Bd={exports:{}},sn={};var Q0;function qT(){if(Q0)return sn;Q0=1;var s=Dm();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,_,b){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:y,containerInfo:_,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,sn.createPortal=function(y,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,b)},sn.flushSync=function(y){var _=d.T,b=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=b,a.d.f()}},sn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},sn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},sn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var b=_.as,x=g(b,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:x,integrity:V,fetchPriority:H}):b==="script"&&a.d.X(y,{crossOrigin:x,integrity:V,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},sn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=g(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},sn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,x=g(b,_.crossOrigin);a.d.L(y,b,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},sn.preloadModule=function(y,_){if(typeof y=="string")if(_){var b=g(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},sn.requestFormReset=function(y){a.d.r(y)},sn.unstable_batchedUpdates=function(y,_){return y(_)},sn.useFormState=function(y,_,b){return d.H.useFormState(y,_,b)},sn.useFormStatus=function(){return d.H.useHostTransitionStatus()},sn.version="19.2.3",sn}var K0;function HT(){if(K0)return Bd.exports;K0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Bd.exports=qT(),Bd.exports}var X0;function GT(){if(X0)return Ro;X0=1;var s=BT(),e=Dm(),i=HT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),t;if(f===l)return y(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var p=!1,T=h.child;T;){if(T===r){p=!0,r=h,l=f;break}if(T===l){p=!0,l=h,r=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===r){p=!0,r=f,l=h;break}if(T===l){p=!0,l=f,r=h;break}T=T.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,V=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),me=Symbol.for("react.profiler"),be=Symbol.for("react.consumer"),ve=Symbol.for("react.context"),Ge=Symbol.for("react.forward_ref"),qe=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),S=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function nt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case re:return"Fragment";case me:return"Profiler";case Z:return"StrictMode";case qe:return"Suspense";case Me:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case ve:return t.displayName||"Context";case be:return(t._context.displayName||"Context")+".Consumer";case Ge:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:nt(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return nt(t(n))}catch{}}return null}var vt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},De=[],Ye=-1;function M(t){return{current:t}}function K(t){0>Ye||(t.current=De[Ye],De[Ye]=null,Ye--)}function se(t,n){Ye++,De[Ye]=t.current,t.current=n}var ae=M(null),Te=M(null),we=M(null),Ve=M(null);function Tt(t,n){switch(se(we,n),se(Te,t),se(ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?c0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=c0(n),t=h0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(ae),se(ae,t)}function ct(){K(ae),K(Te),K(we)}function Yi(t){t.memoizedState!==null&&se(Ve,t);var n=ae.current,r=h0(n,t.type);n!==r&&(se(Te,t),se(ae,r))}function Qi(t){Te.current===t&&(K(ae),K(Te)),Ve.current===t&&(K(Ve),To._currentValue=he)}var Ss,xs;function Ln(t){if(Ss===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ss=n&&n[1]||"",xs=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ss+t+xs}var Ar=!1;function Ut(t,n){if(!t||Ar)return"";Ar=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var z=q}Reflect.construct(t,[],X)}else{try{X.call()}catch(q){z=q}t.call(X.prototype)}}else{try{throw Error()}catch(q){z=q}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var N=p.split(`
`),U=T.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===U.length)for(l=N.length-1,h=U.length-1;1<=l&&0<=h&&N[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==U[h]){var F=`
`+N[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=h);break}}}finally{Ar=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Ln(r):""}function Ht(t,n){switch(t.tag){case 26:case 27:case 5:return Ln(t.type);case 16:return Ln("Lazy");case 13:return t.child!==n&&n!==null?Ln("Suspense Fallback"):Ln("Suspense");case 19:return Ln("SuspenseList");case 0:case 15:return Ut(t.type,!1);case 11:return Ut(t.type.render,!1);case 1:return Ut(t.type,!0);case 31:return Ln("Activity");default:return""}}function pi(t){try{var n="",r=null;do n+=Ht(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ee=Object.prototype.hasOwnProperty,ne=s.unstable_scheduleCallback,fe=s.unstable_cancelCallback,pe=s.unstable_shouldYield,Y=s.unstable_requestPaint,ge=s.unstable_now,ue=s.unstable_getCurrentPriorityLevel,gt=s.unstable_ImmediatePriority,Wn=s.unstable_UserBlockingPriority,un=s.unstable_NormalPriority,Je=s.unstable_LowPriority,xn=s.unstable_IdlePriority,ca=s.log,Sr=s.unstable_setDisableYieldValue,ei=null,Kt=null;function jn(t){if(typeof ca=="function"&&Sr(t),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(ei,t)}catch{}}var At=Math.clz32?Math.clz32:uu,ou=Math.log,ha=Math.LN2;function uu(t){return t>>>=0,t===0?32:31-(ou(t)/ha|0)|0}var gi=256,xr=262144,Ct=4194304;function yi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _i(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=yi(l):(p&=T,p!==0?h=yi(p):r||(r=T&~t,r!==0&&(h=yi(r))))):(T=l&~f,T!==0?h=yi(T):p!==0?h=yi(p):r||(r=l&~t,r!==0&&(h=yi(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function ti(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Uh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cu(){var t=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),t}function vi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function wr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function zh(t,n,r,l,h,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,N=t.expirationTimes,U=t.hiddenUpdates;for(r=p&~r;0<r;){var F=31-At(r),X=1<<F;T[F]=0,N[F]=-1;var z=U[F];if(z!==null)for(U[F]=null,F=0;F<z.length;F++){var q=z[F];q!==null&&(q.lane&=-536870913)}r&=~X}l!==0&&Rr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Rr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-At(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function wl(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-At(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function Rl(t,n){var r=n&-n;return r=(r&42)!==0?1:Cr(r),(r&(t.suspendedLanes|n))!==0?0:r}function Cr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ki(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function hu(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:V0(t.type))}function ni(t,n){var r=ie.p;try{return ie.p=t,n()}finally{ie.p=r}}var ii=Math.random().toString(36).slice(2),It="__reactFiber$"+ii,Gt="__reactProps$"+ii,Ei="__reactContainer$"+ii,fa="__reactEvents$"+ii,Bh="__reactListeners$"+ii,fu="__reactHandles$"+ii,du="__reactResources$"+ii,bi="__reactMarker$"+ii;function da(t){delete t[It],delete t[Gt],delete t[fa],delete t[Bh],delete t[fu]}function Ti(t){var n=t[It];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Ei]||r[It]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=_0(t);t!==null;){if(r=t[It])return r;t=_0(t)}return n}t=r,r=t.parentNode}return null}function Pn(t){if(t=t[It]||t[Ei]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function wn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ai(t){var n=t[du];return n||(n=t[du]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Nt(t){t[bi]=!0}var Cl=new Set,Il={};function Si(t,n){xi(t,n),xi(t+"Capture",n)}function xi(t,n){for(Il[t]=n,t=0;t<n.length;t++)Cl.add(n[t])}var Nl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dl={},Ol={};function mu(t){return ee.call(Ol,t)?!0:ee.call(Dl,t)?!1:Nl.test(t)?Ol[t]=!0:(Dl[t]=!0,!1)}function ma(t,n,r){if(mu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Rn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Dt(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Ft(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ws(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ml(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function We(t){if(!t._valueTracker){var n=ws(t)?"checked":"value";t._valueTracker=Ml(t,n,""+t[n])}}function Ir(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=ws(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function wi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Nr=/[\n"\\]/g;function pn(t){return t.replace(Nr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function pa(t,n,r,l,h,f,p,T){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ft(n)):t.value!==""+Ft(n)&&(t.value=""+Ft(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Vl(t,p,Ft(n)):r!=null?Vl(t,p,Ft(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ft(T):t.removeAttribute("name")}function pu(t,n,r,l,h,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){We(t);return}r=r!=null?""+Ft(r):"",n=n!=null?""+Ft(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),We(t)}function Vl(t,n,r){n==="number"&&wi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Rs(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ft(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function gu(t,n,r){if(n!=null&&(n=""+Ft(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ft(r):""}function Cs(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(vt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ft(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),We(t)}function gn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var yu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kl(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||yu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Ll(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&kl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&kl(t,f,n[f])}function ga(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _u=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Is=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ya(t){return Is.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function si(){}var jl=null;function Un(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ns=null,Ri=null;function Dr(t){var n=Pn(t);if(n&&(t=n.stateNode)){var r=t[Gt]||null;e:switch(t=n.stateNode,n.type){case"input":if(pa(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+pn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[Gt]||null;if(!h)throw Error(a(90));pa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Ir(l)}break e;case"textarea":gu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Rs(t,!!r.multiple,n,!1)}}}var _a=!1;function Ds(t,n,r){if(_a)return t(n,r);_a=!0;try{var l=t(n);return l}finally{if(_a=!1,(Ns!==null||Ri!==null)&&(hc(),Ns&&(n=Ns,t=Ri,Ri=Ns=null,Dr(n),t)))for(n=0;n<t.length;n++)Dr(t[n])}}function ri(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Gt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Or=!1;if(zn)try{var it={};Object.defineProperty(it,"passive",{get:function(){Or=!0}}),window.addEventListener("test",it,it),window.removeEventListener("test",it,it)}catch{Or=!1}var Ci=null,Pl=null,Mr=null;function Ul(){if(Mr)return Mr;var t,n=Pl,r=n.length,l,h="value"in Ci?Ci.value:Ci.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var p=r-t;for(l=1;l<=p&&n[r-l]===h[f-l];l++);return Mr=h.slice(t,1<l?1-l:void 0)}function Vr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Xi(){return!0}function ai(){return!1}function Xt(t){function n(r,l,h,f,p){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Xi:ai,this.isPropagationStopped=ai,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),n}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=Xt($i),Os=x({},$i,{view:0,detail:0}),zl=Xt(Os),Ms,va,Ni,Ea=x({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ni&&(Ni&&t.type==="mousemove"?(Ms=t.screenX-Ni.screenX,va=t.screenY-Ni.screenY):va=Ms=0,Ni=t),Ms)},movementY:function(t){return"movementY"in t?t.movementY:va}}),Bl=Xt(Ea),kr=x({},Ea,{dataTransfer:0}),vu=Xt(kr),Eu=x({},Os,{relatedTarget:0}),Lr=Xt(Eu),ql=x({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),bu=Xt(ql),ba=x({},$i,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tu=Xt(ba),Au=x({},$i,{data:0}),Di=Xt(Au),Su={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ru(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=wu[t])?!!n[t]:!1}function Vs(){return Ru}var cn=x({},Os,{key:function(t){if(t.key){var n=Su[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Vr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(t){return t.type==="keypress"?Vr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Cu=Xt(cn),Iu=x({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=Xt(Iu),u=x({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),m=Xt(u),E=x({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Xt(E),j=x({},Ea,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Xt(j),te=x({},$i,{newState:0,oldState:0}),Ie=Xt(te),St=[9,13,27,32],Xe=zn&&"CompositionEvent"in window,mt=null;zn&&"documentMode"in document&&(mt=document.documentMode);var Bn=zn&&"TextEvent"in window&&!mt,Oi=zn&&(!Xe||mt&&8<mt&&11>=mt),li=" ",oi=!1;function jr(t,n){switch(t){case"keyup":return St.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ta(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Aa=!1;function lb(t,n){switch(t){case"compositionend":return Ta(n);case"keypress":return n.which!==32?null:(oi=!0,li);case"textInput":return t=n.data,t===li&&oi?null:t;default:return null}}function ob(t,n){if(Aa)return t==="compositionend"||!Xe&&jr(t,n)?(t=Ul(),Mr=Pl=Ci=null,Aa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Oi&&n.locale!=="ko"?null:n.data;default:return null}}var ub={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!ub[t.type]:n==="textarea"}function Tp(t,n,r,l){Ns?Ri?Ri.push(l):Ri=[l]:Ns=l,n=_c(n,"onChange"),0<n.length&&(r=new Ii("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Hl=null,Gl=null;function cb(t){s0(t,0)}function Nu(t){var n=wn(t);if(Ir(n))return t}function Ap(t,n){if(t==="change")return n}var Sp=!1;if(zn){var qh;if(zn){var Hh="oninput"in document;if(!Hh){var xp=document.createElement("div");xp.setAttribute("oninput","return;"),Hh=typeof xp.oninput=="function"}qh=Hh}else qh=!1;Sp=qh&&(!document.documentMode||9<document.documentMode)}function wp(){Hl&&(Hl.detachEvent("onpropertychange",Rp),Gl=Hl=null)}function Rp(t){if(t.propertyName==="value"&&Nu(Gl)){var n=[];Tp(n,Gl,t,Un(t)),Ds(cb,n)}}function hb(t,n,r){t==="focusin"?(wp(),Hl=n,Gl=r,Hl.attachEvent("onpropertychange",Rp)):t==="focusout"&&wp()}function fb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nu(Gl)}function db(t,n){if(t==="click")return Nu(n)}function mb(t,n){if(t==="input"||t==="change")return Nu(n)}function pb(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Cn=typeof Object.is=="function"?Object.is:pb;function Fl(t,n){if(Cn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!ee.call(n,h)||!Cn(t[h],n[h]))return!1}return!0}function Cp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ip(t,n){var r=Cp(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Cp(r)}}function Np(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Np(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Dp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=wi(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=wi(t.document)}return n}function Gh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var gb=zn&&"documentMode"in document&&11>=document.documentMode,Sa=null,Fh=null,Yl=null,Yh=!1;function Op(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Yh||Sa==null||Sa!==wi(l)||(l=Sa,"selectionStart"in l&&Gh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yl&&Fl(Yl,l)||(Yl=l,l=_c(Fh,"onSelect"),0<l.length&&(n=new Ii("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Sa)))}function Pr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var xa={animationend:Pr("Animation","AnimationEnd"),animationiteration:Pr("Animation","AnimationIteration"),animationstart:Pr("Animation","AnimationStart"),transitionrun:Pr("Transition","TransitionRun"),transitionstart:Pr("Transition","TransitionStart"),transitioncancel:Pr("Transition","TransitionCancel"),transitionend:Pr("Transition","TransitionEnd")},Qh={},Mp={};zn&&(Mp=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Ur(t){if(Qh[t])return Qh[t];if(!xa[t])return t;var n=xa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Mp)return Qh[t]=n[r];return t}var Vp=Ur("animationend"),kp=Ur("animationiteration"),Lp=Ur("animationstart"),yb=Ur("transitionrun"),_b=Ur("transitionstart"),vb=Ur("transitioncancel"),jp=Ur("transitionend"),Pp=new Map,Kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kh.push("scrollEnd");function ui(t,n){Pp.set(t,n),Si(n,[t])}var Du=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},qn=[],wa=0,Xh=0;function Ou(){for(var t=wa,n=Xh=wa=0;n<t;){var r=qn[n];qn[n++]=null;var l=qn[n];qn[n++]=null;var h=qn[n];qn[n++]=null;var f=qn[n];if(qn[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Up(r,h,f)}}function Mu(t,n,r,l){qn[wa++]=t,qn[wa++]=n,qn[wa++]=r,qn[wa++]=l,Xh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function $h(t,n,r,l){return Mu(t,n,r,l),Vu(t)}function zr(t,n){return Mu(t,null,null,n),Vu(t)}function Up(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-At(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Vu(t){if(50<po)throw po=0,ad=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ra={};function Eb(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,n,r,l){return new Eb(t,n,r,l)}function Zh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ji(t,n){var r=t.alternate;return r===null?(r=In(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function zp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ku(t,n,r,l,h,f){var p=0;if(l=t,typeof t=="function")Zh(t)&&(p=1);else if(typeof t=="string")p=xT(t,r,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=In(31,r,n,h),t.elementType=C,t.lanes=f,t;case re:return Br(r.children,h,f,n);case Z:p=8,h|=24;break;case me:return t=In(12,r,n,h|2),t.elementType=me,t.lanes=f,t;case qe:return t=In(13,r,n,h),t.elementType=qe,t.lanes=f,t;case Me:return t=In(19,r,n,h),t.elementType=Me,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ve:p=10;break e;case be:p=9;break e;case Ge:p=11;break e;case I:p=14;break e;case w:p=16,l=null;break e}p=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=In(p,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Br(t,n,r,l){return t=In(7,t,l,n),t.lanes=r,t}function Jh(t,n,r){return t=In(6,t,null,n),t.lanes=r,t}function Bp(t){var n=In(18,null,null,0);return n.stateNode=t,n}function Wh(t,n,r){return n=In(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var qp=new WeakMap;function Hn(t,n){if(typeof t=="object"&&t!==null){var r=qp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:pi(n)},qp.set(t,n),n)}return{value:t,source:n,stack:pi(n)}}var Ca=[],Ia=0,Lu=null,Ql=0,Gn=[],Fn=0,ks=null,Mi=1,Vi="";function Wi(t,n){Ca[Ia++]=Ql,Ca[Ia++]=Lu,Lu=t,Ql=n}function Hp(t,n,r){Gn[Fn++]=Mi,Gn[Fn++]=Vi,Gn[Fn++]=ks,ks=t;var l=Mi;t=Vi;var h=32-At(l)-1;l&=~(1<<h),r+=1;var f=32-At(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Mi=1<<32-At(n)+h|r<<h|l,Vi=f+t}else Mi=1<<f|r<<h|l,Vi=t}function ef(t){t.return!==null&&(Wi(t,1),Hp(t,1,0))}function tf(t){for(;t===Lu;)Lu=Ca[--Ia],Ca[Ia]=null,Ql=Ca[--Ia],Ca[Ia]=null;for(;t===ks;)ks=Gn[--Fn],Gn[Fn]=null,Vi=Gn[--Fn],Gn[Fn]=null,Mi=Gn[--Fn],Gn[Fn]=null}function Gp(t,n){Gn[Fn++]=Mi,Gn[Fn++]=Vi,Gn[Fn++]=ks,Mi=n.id,Vi=n.overflow,ks=t}var $t=null,ht=null,He=!1,Ls=null,Yn=!1,nf=Error(a(519));function js(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kl(Hn(n,t)),nf}function Fp(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[It]=t,n[Gt]=l,r){case"dialog":Le("cancel",n),Le("close",n);break;case"iframe":case"object":case"embed":Le("load",n);break;case"video":case"audio":for(r=0;r<yo.length;r++)Le(yo[r],n);break;case"source":Le("error",n);break;case"img":case"image":case"link":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"input":Le("invalid",n),pu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Le("invalid",n);break;case"textarea":Le("invalid",n),Cs(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||o0(n.textContent,r)?(l.popover!=null&&(Le("beforetoggle",n),Le("toggle",n)),l.onScroll!=null&&Le("scroll",n),l.onScrollEnd!=null&&Le("scrollend",n),l.onClick!=null&&(n.onclick=si),n=!0):n=!1,n||js(t,!0)}function Yp(t){for($t=t.return;$t;)switch($t.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:$t=$t.return}}function Na(t){if(t!==$t)return!1;if(!He)return Yp(t),He=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||bd(t.type,t.memoizedProps)),r=!r),r&&ht&&js(t),Yp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ht=y0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ht=y0(t)}else n===27?(n=ht,Zs(t.type)?(t=wd,wd=null,ht=t):ht=n):ht=$t?Kn(t.stateNode.nextSibling):null;return!0}function qr(){ht=$t=null,He=!1}function sf(){var t=Ls;return t!==null&&(En===null?En=t:En.push.apply(En,t),Ls=null),t}function Kl(t){Ls===null?Ls=[t]:Ls.push(t)}var rf=M(null),Hr=null,es=null;function Ps(t,n,r){se(rf,n._currentValue),n._currentValue=r}function ts(t){t._currentValue=rf.current,K(rf)}function af(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function lf(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var N=0;N<n.length;N++)if(T.context===n[N]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),af(f.return,r,t),l||(p=null);break e}f=T.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),af(p,r,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Da(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var T=h.type;Cn(h.pendingProps.value,p.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ve.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(To):t=[To])}h=h.return}t!==null&&lf(n,t,r,l),n.flags|=262144}function ju(t){for(t=t.firstContext;t!==null;){if(!Cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Gr(t){Hr=t,es=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Zt(t){return Qp(Hr,t)}function Pu(t,n){return Hr===null&&Gr(t),Qp(t,n)}function Qp(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},es===null){if(t===null)throw Error(a(308));es=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else es=es.next=n;return r}var bb=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},Tb=s.unstable_scheduleCallback,Ab=s.unstable_NormalPriority,Ot={$$typeof:ve,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function of(){return{controller:new bb,data:new Map,refCount:0}}function Xl(t){t.refCount--,t.refCount===0&&Tb(Ab,function(){t.controller.abort()})}var $l=null,uf=0,Oa=0,Ma=null;function Sb(t,n){if($l===null){var r=$l=[];uf=0,Oa=fd(),Ma={status:"pending",value:void 0,then:function(l){r.push(l)}}}return uf++,n.then(Kp,Kp),n}function Kp(){if(--uf===0&&$l!==null){Ma!==null&&(Ma.status="fulfilled");var t=$l;$l=null,Oa=0,Ma=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function xb(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Xp=G.S;G.S=function(t,n){Oy=ge(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Sb(t,n),Xp!==null&&Xp(t,n)};var Fr=M(null);function cf(){var t=Fr.current;return t!==null?t:ut.pooledCache}function Uu(t,n){n===null?se(Fr,Fr.current):se(Fr,n.pool)}function $p(){var t=cf();return t===null?null:{parent:Ot._currentValue,pool:t}}var Va=Error(a(460)),hf=Error(a(474)),zu=Error(a(542)),Bu={then:function(){}};function Zp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Jp(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(si,si),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,eg(t),t;default:if(typeof n.status=="string")n.then(si,si);else{if(t=ut,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,eg(t),t}throw Qr=n,Va}}function Yr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Qr=r,Va):r}}var Qr=null;function Wp(){if(Qr===null)throw Error(a(459));var t=Qr;return Qr=null,t}function eg(t){if(t===Va||t===zu)throw Error(a(483))}var ka=null,Zl=0;function qu(t){var n=Zl;return Zl+=1,ka===null&&(ka=[]),Jp(ka,t,n)}function Jl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Hu(t,n){throw n.$$typeof===V?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function tg(t){function n(L,O){if(t){var P=L.deletions;P===null?(L.deletions=[O],L.flags|=16):P.push(O)}}function r(L,O){if(!t)return null;for(;O!==null;)n(L,O),O=O.sibling;return null}function l(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(L,O){return L=Ji(L,O),L.index=0,L.sibling=null,L}function f(L,O,P){return L.index=P,t?(P=L.alternate,P!==null?(P=P.index,P<O?(L.flags|=67108866,O):P):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function p(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,O,P,Q){return O===null||O.tag!==6?(O=Jh(P,L.mode,Q),O.return=L,O):(O=h(O,P),O.return=L,O)}function N(L,O,P,Q){var ye=P.type;return ye===re?F(L,O,P.props.children,Q,P.key):O!==null&&(O.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===w&&Yr(ye)===O.type)?(O=h(O,P.props),Jl(O,P),O.return=L,O):(O=ku(P.type,P.key,P.props,null,L.mode,Q),Jl(O,P),O.return=L,O)}function U(L,O,P,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Wh(P,L.mode,Q),O.return=L,O):(O=h(O,P.children||[]),O.return=L,O)}function F(L,O,P,Q,ye){return O===null||O.tag!==7?(O=Br(P,L.mode,Q,ye),O.return=L,O):(O=h(O,P),O.return=L,O)}function X(L,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Jh(""+O,L.mode,P),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case H:return P=ku(O.type,O.key,O.props,null,L.mode,P),Jl(P,O),P.return=L,P;case W:return O=Wh(O,L.mode,P),O.return=L,O;case w:return O=Yr(O),X(L,O,P)}if(vt(O)||k(O))return O=Br(O,L.mode,P,null),O.return=L,O;if(typeof O.then=="function")return X(L,qu(O),P);if(O.$$typeof===ve)return X(L,Pu(L,O),P);Hu(L,O)}return null}function z(L,O,P,Q){var ye=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ye!==null?null:T(L,O,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case H:return P.key===ye?N(L,O,P,Q):null;case W:return P.key===ye?U(L,O,P,Q):null;case w:return P=Yr(P),z(L,O,P,Q)}if(vt(P)||k(P))return ye!==null?null:F(L,O,P,Q,null);if(typeof P.then=="function")return z(L,O,qu(P),Q);if(P.$$typeof===ve)return z(L,O,Pu(L,P),Q);Hu(L,P)}return null}function q(L,O,P,Q,ye){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return L=L.get(P)||null,T(O,L,""+Q,ye);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return L=L.get(Q.key===null?P:Q.key)||null,N(O,L,Q,ye);case W:return L=L.get(Q.key===null?P:Q.key)||null,U(O,L,Q,ye);case w:return Q=Yr(Q),q(L,O,P,Q,ye)}if(vt(Q)||k(Q))return L=L.get(P)||null,F(O,L,Q,ye,null);if(typeof Q.then=="function")return q(L,O,P,qu(Q),ye);if(Q.$$typeof===ve)return q(L,O,P,Pu(O,Q),ye);Hu(O,Q)}return null}function oe(L,O,P,Q){for(var ye=null,Qe=null,ce=O,Oe=O=0,Pe=null;ce!==null&&Oe<P.length;Oe++){ce.index>Oe?(Pe=ce,ce=null):Pe=ce.sibling;var Ke=z(L,ce,P[Oe],Q);if(Ke===null){ce===null&&(ce=Pe);break}t&&ce&&Ke.alternate===null&&n(L,ce),O=f(Ke,O,Oe),Qe===null?ye=Ke:Qe.sibling=Ke,Qe=Ke,ce=Pe}if(Oe===P.length)return r(L,ce),He&&Wi(L,Oe),ye;if(ce===null){for(;Oe<P.length;Oe++)ce=X(L,P[Oe],Q),ce!==null&&(O=f(ce,O,Oe),Qe===null?ye=ce:Qe.sibling=ce,Qe=ce);return He&&Wi(L,Oe),ye}for(ce=l(ce);Oe<P.length;Oe++)Pe=q(ce,L,Oe,P[Oe],Q),Pe!==null&&(t&&Pe.alternate!==null&&ce.delete(Pe.key===null?Oe:Pe.key),O=f(Pe,O,Oe),Qe===null?ye=Pe:Qe.sibling=Pe,Qe=Pe);return t&&ce.forEach(function(nr){return n(L,nr)}),He&&Wi(L,Oe),ye}function Ee(L,O,P,Q){if(P==null)throw Error(a(151));for(var ye=null,Qe=null,ce=O,Oe=O=0,Pe=null,Ke=P.next();ce!==null&&!Ke.done;Oe++,Ke=P.next()){ce.index>Oe?(Pe=ce,ce=null):Pe=ce.sibling;var nr=z(L,ce,Ke.value,Q);if(nr===null){ce===null&&(ce=Pe);break}t&&ce&&nr.alternate===null&&n(L,ce),O=f(nr,O,Oe),Qe===null?ye=nr:Qe.sibling=nr,Qe=nr,ce=Pe}if(Ke.done)return r(L,ce),He&&Wi(L,Oe),ye;if(ce===null){for(;!Ke.done;Oe++,Ke=P.next())Ke=X(L,Ke.value,Q),Ke!==null&&(O=f(Ke,O,Oe),Qe===null?ye=Ke:Qe.sibling=Ke,Qe=Ke);return He&&Wi(L,Oe),ye}for(ce=l(ce);!Ke.done;Oe++,Ke=P.next())Ke=q(ce,L,Oe,Ke.value,Q),Ke!==null&&(t&&Ke.alternate!==null&&ce.delete(Ke.key===null?Oe:Ke.key),O=f(Ke,O,Oe),Qe===null?ye=Ke:Qe.sibling=Ke,Qe=Ke);return t&&ce.forEach(function(LT){return n(L,LT)}),He&&Wi(L,Oe),ye}function at(L,O,P,Q){if(typeof P=="object"&&P!==null&&P.type===re&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case H:e:{for(var ye=P.key;O!==null;){if(O.key===ye){if(ye=P.type,ye===re){if(O.tag===7){r(L,O.sibling),Q=h(O,P.props.children),Q.return=L,L=Q;break e}}else if(O.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===w&&Yr(ye)===O.type){r(L,O.sibling),Q=h(O,P.props),Jl(Q,P),Q.return=L,L=Q;break e}r(L,O);break}else n(L,O);O=O.sibling}P.type===re?(Q=Br(P.props.children,L.mode,Q,P.key),Q.return=L,L=Q):(Q=ku(P.type,P.key,P.props,null,L.mode,Q),Jl(Q,P),Q.return=L,L=Q)}return p(L);case W:e:{for(ye=P.key;O!==null;){if(O.key===ye)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){r(L,O.sibling),Q=h(O,P.children||[]),Q.return=L,L=Q;break e}else{r(L,O);break}else n(L,O);O=O.sibling}Q=Wh(P,L.mode,Q),Q.return=L,L=Q}return p(L);case w:return P=Yr(P),at(L,O,P,Q)}if(vt(P))return oe(L,O,P,Q);if(k(P)){if(ye=k(P),typeof ye!="function")throw Error(a(150));return P=ye.call(P),Ee(L,O,P,Q)}if(typeof P.then=="function")return at(L,O,qu(P),Q);if(P.$$typeof===ve)return at(L,O,Pu(L,P),Q);Hu(L,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(r(L,O.sibling),Q=h(O,P),Q.return=L,L=Q):(r(L,O),Q=Jh(P,L.mode,Q),Q.return=L,L=Q),p(L)):r(L,O)}return function(L,O,P,Q){try{Zl=0;var ye=at(L,O,P,Q);return ka=null,ye}catch(ce){if(ce===Va||ce===zu)throw ce;var Qe=In(29,ce,null,L.mode);return Qe.lanes=Q,Qe.return=L,Qe}}}var Kr=tg(!0),ng=tg(!1),Us=!1;function ff(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function df(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function zs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Bs(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Vu(t),Up(t,null,r),n}return Mu(t,l,n,r),Vu(t)}function Wl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,wl(t,r)}}function mf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var pf=!1;function eo(){if(pf){var t=Ma;if(t!==null)throw t}}function to(t,n,r,l){pf=!1;var h=t.updateQueue;Us=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var N=T,U=N.next;N.next=null,p===null?f=U:p.next=U,p=N;var F=t.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==p&&(T===null?F.firstBaseUpdate=U:T.next=U,F.lastBaseUpdate=N))}if(f!==null){var X=h.baseState;p=0,F=U=N=null,T=f;do{var z=T.lane&-536870913,q=z!==T.lane;if(q?(je&z)===z:(l&z)===z){z!==0&&z===Oa&&(pf=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var oe=t,Ee=T;z=n;var at=r;switch(Ee.tag){case 1:if(oe=Ee.payload,typeof oe=="function"){X=oe.call(at,X,z);break e}X=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=Ee.payload,z=typeof oe=="function"?oe.call(at,X,z):oe,z==null)break e;X=x({},X,z);break e;case 2:Us=!0}}z=T.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(U=F=q,N=X):F=F.next=q,p|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(N=X),h.baseState=N,h.firstBaseUpdate=U,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Ys|=p,t.lanes=p,t.memoizedState=X}}function ig(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function sg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)ig(r[t],n)}var La=M(null),Gu=M(0);function rg(t,n){t=cs,se(Gu,t),se(La,n),cs=t|n.baseLanes}function gf(){se(Gu,cs),se(La,La.current)}function yf(){cs=Gu.current,K(La),K(Gu)}var Nn=M(null),Qn=null;function qs(t){var n=t.alternate;se(xt,xt.current&1),se(Nn,t),Qn===null&&(n===null||La.current!==null||n.memoizedState!==null)&&(Qn=t)}function _f(t){se(xt,xt.current),se(Nn,t),Qn===null&&(Qn=t)}function ag(t){t.tag===22?(se(xt,xt.current),se(Nn,t),Qn===null&&(Qn=t)):Hs()}function Hs(){se(xt,xt.current),se(Nn,Nn.current)}function Dn(t){K(Nn),Qn===t&&(Qn=null),K(xt)}var xt=M(0);function Fu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Sd(r)||xd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ns=0,Ne=null,st=null,Mt=null,Yu=!1,ja=!1,Xr=!1,Qu=0,no=0,Pa=null,wb=0;function Et(){throw Error(a(321))}function vf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Cn(t[r],n[r]))return!1;return!0}function Ef(t,n,r,l,h,f){return ns=f,Ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Hg:kf,Xr=!1,f=r(l,h),Xr=!1,ja&&(f=og(n,r,l,h)),lg(t),f}function lg(t){G.H=ro;var n=st!==null&&st.next!==null;if(ns=0,Mt=st=Ne=null,Yu=!1,no=0,Pa=null,n)throw Error(a(300));t===null||Vt||(t=t.dependencies,t!==null&&ju(t)&&(Vt=!0))}function og(t,n,r,l){Ne=t;var h=0;do{if(ja&&(Pa=null),no=0,ja=!1,25<=h)throw Error(a(301));if(h+=1,Mt=st=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Gg,f=n(r,l)}while(ja);return f}function Rb(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?io(n):n,t=t.useState()[0],(st!==null?st.memoizedState:null)!==t&&(Ne.flags|=1024),n}function bf(){var t=Qu!==0;return Qu=0,t}function Tf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Af(t){if(Yu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Yu=!1}ns=0,Mt=st=Ne=null,ja=!1,no=Qu=0,Pa=null}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Ne.memoizedState=Mt=t:Mt=Mt.next=t,Mt}function wt(){if(st===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var n=Mt===null?Ne.memoizedState:Mt.next;if(n!==null)Mt=n,st=t;else{if(t===null)throw Ne.alternate===null?Error(a(467)):Error(a(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Mt===null?Ne.memoizedState=Mt=t:Mt=Mt.next=t}return Mt}function Ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function io(t){var n=no;return no+=1,Pa===null&&(Pa=[]),t=Jp(Pa,t,n),n=Ne,(Mt===null?n.memoizedState:Mt.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Hg:kf),t}function Xu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return io(t);if(t.$$typeof===ve)return Zt(t)}throw Error(a(438,String(t)))}function Sf(t){var n=null,r=Ne.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Ku(),Ne.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=S;return n.index++,r}function is(t,n){return typeof n=="function"?n(t):n}function $u(t){var n=wt();return xf(n,st,t)}function xf(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=p=null,N=null,U=n,F=!1;do{var X=U.lane&-536870913;if(X!==U.lane?(je&X)===X:(ns&X)===X){var z=U.revertLane;if(z===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),X===Oa&&(F=!0);else if((ns&z)===z){U=U.next,z===Oa&&(F=!0);continue}else X={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},N===null?(T=N=X,p=f):N=N.next=X,Ne.lanes|=z,Ys|=z;X=U.action,Xr&&r(f,X),f=U.hasEagerState?U.eagerState:r(f,X)}else z={lane:X,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},N===null?(T=N=z,p=f):N=N.next=z,Ne.lanes|=X,Ys|=X;U=U.next}while(U!==null&&U!==n);if(N===null?p=f:N.next=T,!Cn(f,t.memoizedState)&&(Vt=!0,F&&(r=Ma,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=N,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function wf(t){var n=wt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);Cn(f,n.memoizedState)||(Vt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function ug(t,n,r){var l=Ne,h=wt(),f=He;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!Cn((st||h).memoizedState,r);if(p&&(h.memoizedState=r,Vt=!0),h=h.queue,If(fg.bind(null,l,h,t),[t]),h.getSnapshot!==n||p||Mt!==null&&Mt.memoizedState.tag&1){if(l.flags|=2048,Ua(9,{destroy:void 0},hg.bind(null,l,h,r,n),null),ut===null)throw Error(a(349));f||(ns&127)!==0||cg(l,n,r)}return r}function cg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ne.updateQueue,n===null?(n=Ku(),Ne.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function hg(t,n,r,l){n.value=r,n.getSnapshot=l,dg(n)&&mg(t)}function fg(t,n,r){return r(function(){dg(n)&&mg(t)})}function dg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Cn(t,r)}catch{return!0}}function mg(t){var n=zr(t,2);n!==null&&bn(n,t,2)}function Rf(t){var n=hn();if(typeof t=="function"){var r=t;if(t=r(),Xr){jn(!0);try{r()}finally{jn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:t},n}function pg(t,n,r,l){return t.baseState=r,xf(t,st,typeof l=="function"?l:is)}function Cb(t,n,r,l,h){if(Wu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,gg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function gg(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var T=r(h,l),N=G.S;N!==null&&N(p,T),yg(t,n,T)}catch(U){Cf(t,n,U)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=r(h,l),yg(t,n,f)}catch(U){Cf(t,n,U)}}function yg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){_g(t,n,l)},function(l){return Cf(t,n,l)}):_g(t,n,r)}function _g(t,n,r){n.status="fulfilled",n.value=r,vg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,gg(t,r)))}function Cf(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,vg(n),n=n.next;while(n!==l)}t.action=null}function vg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Eg(t,n){return n}function bg(t,n){if(He){var r=ut.formState;if(r!==null){e:{var l=Ne;if(He){if(ht){t:{for(var h=ht,f=Yn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Kn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ht=Kn(h.nextSibling),l=h.data==="F!";break e}}js(l)}l=!1}l&&(n=r[0])}}return r=hn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eg,lastRenderedState:n},r.queue=l,r=zg.bind(null,Ne,l),l.dispatch=r,l=Rf(!1),f=Vf.bind(null,Ne,!1,l.queue),l=hn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=Cb.bind(null,Ne,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function Tg(t){var n=wt();return Ag(n,st,t)}function Ag(t,n,r){if(n=xf(t,n,Eg)[0],t=$u(is)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=io(n)}catch(p){throw p===Va?zu:p}else l=n;n=wt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Ne.flags|=2048,Ua(9,{destroy:void 0},Ib.bind(null,h,r),null)),[l,f,t]}function Ib(t,n){t.action=n}function Sg(t){var n=wt(),r=st;if(r!==null)return Ag(n,r,t);wt(),n=n.memoizedState,r=wt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ua(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Ne.updateQueue,n===null&&(n=Ku(),Ne.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function xg(){return wt().memoizedState}function Zu(t,n,r,l){var h=hn();Ne.flags|=t,h.memoizedState=Ua(1|n,{destroy:void 0},r,l===void 0?null:l)}function Ju(t,n,r,l){var h=wt();l=l===void 0?null:l;var f=h.memoizedState.inst;st!==null&&l!==null&&vf(l,st.memoizedState.deps)?h.memoizedState=Ua(n,f,r,l):(Ne.flags|=t,h.memoizedState=Ua(1|n,f,r,l))}function wg(t,n){Zu(8390656,8,t,n)}function If(t,n){Ju(2048,8,t,n)}function Nb(t){Ne.flags|=4;var n=Ne.updateQueue;if(n===null)n=Ku(),Ne.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Rg(t){var n=wt().memoizedState;return Nb({ref:n,nextImpl:t}),function(){if(($e&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Cg(t,n){return Ju(4,2,t,n)}function Ig(t,n){return Ju(4,4,t,n)}function Ng(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Dg(t,n,r){r=r!=null?r.concat([t]):null,Ju(4,4,Ng.bind(null,n,t),r)}function Nf(){}function Og(t,n){var r=wt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&vf(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Mg(t,n){var r=wt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&vf(n,l[1]))return l[0];if(l=t(),Xr){jn(!0);try{t()}finally{jn(!1)}}return r.memoizedState=[l,n],l}function Df(t,n,r){return r===void 0||(ns&1073741824)!==0&&(je&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Vy(),Ne.lanes|=t,Ys|=t,r)}function Vg(t,n,r,l){return Cn(r,n)?r:La.current!==null?(t=Df(t,r,l),Cn(t,n)||(Vt=!0),t):(ns&42)===0||(ns&1073741824)!==0&&(je&261930)===0?(Vt=!0,t.memoizedState=r):(t=Vy(),Ne.lanes|=t,Ys|=t,n)}function kg(t,n,r,l,h){var f=ie.p;ie.p=f!==0&&8>f?f:8;var p=G.T,T={};G.T=T,Vf(t,!1,n,r);try{var N=h(),U=G.S;if(U!==null&&U(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var F=xb(N,l);so(t,n,F,Vn(t))}else so(t,n,l,Vn(t))}catch(X){so(t,n,{then:function(){},status:"rejected",reason:X},Vn())}finally{ie.p=f,p!==null&&T.types!==null&&(p.types=T.types),G.T=p}}function Db(){}function Of(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=Lg(t).queue;kg(t,h,n,he,r===null?Db:function(){return jg(t),r(l)})}function Lg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:he},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function jg(t){var n=Lg(t);n.next===null&&(n=t.alternate.memoizedState),so(t,n.next.queue,{},Vn())}function Mf(){return Zt(To)}function Pg(){return wt().memoizedState}function Ug(){return wt().memoizedState}function Ob(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Vn();t=zs(r);var l=Bs(n,t,r);l!==null&&(bn(l,n,r),Wl(l,n,r)),n={cache:of()},t.payload=n;return}n=n.return}}function Mb(t,n,r){var l=Vn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Wu(t)?Bg(n,r):(r=$h(t,n,r,l),r!==null&&(bn(r,t,l),qg(r,n,l)))}function zg(t,n,r){var l=Vn();so(t,n,r,l)}function so(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Wu(t))Bg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,r);if(h.hasEagerState=!0,h.eagerState=T,Cn(T,p))return Mu(t,n,h,0),ut===null&&Ou(),!1}catch{}if(r=$h(t,n,h,l),r!==null)return bn(r,t,l),qg(r,n,l),!0}return!1}function Vf(t,n,r,l){if(l={lane:2,revertLane:fd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Wu(t)){if(n)throw Error(a(479))}else n=$h(t,r,l,2),n!==null&&bn(n,t,2)}function Wu(t){var n=t.alternate;return t===Ne||n!==null&&n===Ne}function Bg(t,n){ja=Yu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function qg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,wl(t,r)}}var ro={readContext:Zt,use:Xu,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et};ro.useEffectEvent=Et;var Hg={readContext:Zt,use:Xu,useCallback:function(t,n){return hn().memoizedState=[t,n===void 0?null:n],t},useContext:Zt,useEffect:wg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Zu(4194308,4,Ng.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Zu(4194308,4,t,n)},useInsertionEffect:function(t,n){Zu(4,2,t,n)},useMemo:function(t,n){var r=hn();n=n===void 0?null:n;var l=t();if(Xr){jn(!0);try{t()}finally{jn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=hn();if(r!==void 0){var h=r(n);if(Xr){jn(!0);try{r(n)}finally{jn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Mb.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var n=hn();return t={current:t},n.memoizedState=t},useState:function(t){t=Rf(t);var n=t.queue,r=zg.bind(null,Ne,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Nf,useDeferredValue:function(t,n){var r=hn();return Df(r,t,n)},useTransition:function(){var t=Rf(!1);return t=kg.bind(null,Ne,t.queue,!0,!1),hn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Ne,h=hn();if(He){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ut===null)throw Error(a(349));(je&127)!==0||cg(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,wg(fg.bind(null,l,f,t),[t]),l.flags|=2048,Ua(9,{destroy:void 0},hg.bind(null,l,f,r,n),null),r},useId:function(){var t=hn(),n=ut.identifierPrefix;if(He){var r=Vi,l=Mi;r=(l&~(1<<32-At(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Qu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=wb++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Mf,useFormState:bg,useActionState:bg,useOptimistic:function(t){var n=hn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Vf.bind(null,Ne,!0,r),r.dispatch=n,[t,n]},useMemoCache:Sf,useCacheRefresh:function(){return hn().memoizedState=Ob.bind(null,Ne)},useEffectEvent:function(t){var n=hn(),r={impl:t};return n.memoizedState=r,function(){if(($e&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},kf={readContext:Zt,use:Xu,useCallback:Og,useContext:Zt,useEffect:If,useImperativeHandle:Dg,useInsertionEffect:Cg,useLayoutEffect:Ig,useMemo:Mg,useReducer:$u,useRef:xg,useState:function(){return $u(is)},useDebugValue:Nf,useDeferredValue:function(t,n){var r=wt();return Vg(r,st.memoizedState,t,n)},useTransition:function(){var t=$u(is)[0],n=wt().memoizedState;return[typeof t=="boolean"?t:io(t),n]},useSyncExternalStore:ug,useId:Pg,useHostTransitionStatus:Mf,useFormState:Tg,useActionState:Tg,useOptimistic:function(t,n){var r=wt();return pg(r,st,t,n)},useMemoCache:Sf,useCacheRefresh:Ug};kf.useEffectEvent=Rg;var Gg={readContext:Zt,use:Xu,useCallback:Og,useContext:Zt,useEffect:If,useImperativeHandle:Dg,useInsertionEffect:Cg,useLayoutEffect:Ig,useMemo:Mg,useReducer:wf,useRef:xg,useState:function(){return wf(is)},useDebugValue:Nf,useDeferredValue:function(t,n){var r=wt();return st===null?Df(r,t,n):Vg(r,st.memoizedState,t,n)},useTransition:function(){var t=wf(is)[0],n=wt().memoizedState;return[typeof t=="boolean"?t:io(t),n]},useSyncExternalStore:ug,useId:Pg,useHostTransitionStatus:Mf,useFormState:Sg,useActionState:Sg,useOptimistic:function(t,n){var r=wt();return st!==null?pg(r,st,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Sf,useCacheRefresh:Ug};Gg.useEffectEvent=Rg;function Lf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:x({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var jf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Vn(),h=zs(l);h.payload=n,r!=null&&(h.callback=r),n=Bs(t,h,l),n!==null&&(bn(n,t,l),Wl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Vn(),h=zs(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Bs(t,h,l),n!==null&&(bn(n,t,l),Wl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Vn(),l=zs(r);l.tag=2,n!=null&&(l.callback=n),n=Bs(t,l,r),n!==null&&(bn(n,t,r),Wl(n,t,r))}};function Fg(t,n,r,l,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Fl(r,l)||!Fl(h,f):!0}function Yg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&jf.enqueueReplaceState(n,n.state,null)}function $r(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=x({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Qg(t){Du(t)}function Kg(t){console.error(t)}function Xg(t){Du(t)}function ec(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function $g(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Pf(t,n,r){return r=zs(r),r.tag=3,r.payload={element:null},r.callback=function(){ec(t,n)},r}function Zg(t){return t=zs(t),t.tag=3,t}function Jg(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){$g(n,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){$g(n,r,l),typeof h!="function"&&(Qs===null?Qs=new Set([this]):Qs.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Vb(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Da(n,r,h,!0),r=Nn.current,r!==null){switch(r.tag){case 31:case 13:return Qn===null?fc():r.alternate===null&&bt===0&&(bt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Bu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),ud(t,l,h)),!1;case 22:return r.flags|=65536,l===Bu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),ud(t,l,h)),!1}throw Error(a(435,r.tag))}return ud(t,l,h),fc(),!1}if(He)return n=Nn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==nf&&(t=Error(a(422),{cause:l}),Kl(Hn(t,r)))):(l!==nf&&(n=Error(a(423),{cause:l}),Kl(Hn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Hn(l,r),h=Pf(t.stateNode,l,h),mf(t,h),bt!==4&&(bt=2)),!1;var f=Error(a(520),{cause:l});if(f=Hn(f,r),mo===null?mo=[f]:mo.push(f),bt!==4&&(bt=2),n===null)return!0;l=Hn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Pf(r.stateNode,l,t),mf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Qs===null||!Qs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Zg(h),Jg(h,t,r,l),mf(r,h),!1}r=r.return}while(r!==null);return!1}var Uf=Error(a(461)),Vt=!1;function Jt(t,n,r,l){n.child=t===null?ng(n,null,r,l):Kr(n,t.child,r,l)}function Wg(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var p={};for(var T in l)T!=="ref"&&(p[T]=l[T])}else p=l;return Gr(n),l=Ef(t,n,r,p,f,h),T=bf(),t!==null&&!Vt?(Tf(t,n,h),ss(t,n,h)):(He&&T&&ef(n),n.flags|=1,Jt(t,n,l,h),n.child)}function ey(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!Zh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,ty(t,n,f,l,h)):(t=ku(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Qf(t,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Fl,r(p,l)&&t.ref===n.ref)return ss(t,n,h)}return n.flags|=1,t=Ji(f,l),t.ref=n.ref,t.return=n,n.child=t}function ty(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(Fl(f,l)&&t.ref===n.ref)if(Vt=!1,n.pendingProps=l=f,Qf(t,h))(t.flags&131072)!==0&&(Vt=!0);else return n.lanes=t.lanes,ss(t,n,h)}return zf(t,n,r,l,h)}function ny(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return iy(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uu(n,f!==null?f.cachePool:null),f!==null?rg(n,f):gf(),ag(n);else return l=n.lanes=536870912,iy(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Uu(n,f.cachePool),rg(n,f),Hs(),n.memoizedState=null):(t!==null&&Uu(n,null),gf(),Hs());return Jt(t,n,h,r),n.child}function ao(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function iy(t,n,r,l,h){var f=cf();return f=f===null?null:{parent:Ot._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Uu(n,null),gf(),ag(n),t!==null&&Da(t,n,l,!0),n.childLanes=h,null}function tc(t,n){return n=ic({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function sy(t,n,r){return Kr(n,t.child,null,r),t=tc(n,n.pendingProps),t.flags|=2,Dn(n),n.memoizedState=null,t}function kb(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(He){if(l.mode==="hidden")return t=tc(n,l),n.lanes=536870912,ao(null,t);if(_f(n),(t=ht)?(t=g0(t,Yn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ks!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},r=Bp(t),r.return=n,n.child=r,$t=n,ht=null)):t=null,t===null)throw js(n);return n.lanes=536870912,null}return tc(n,l)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(_f(n),h)if(n.flags&256)n.flags&=-257,n=sy(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Vt||Da(t,n,r,!1),h=(r&t.childLanes)!==0,Vt||h){if(l=ut,l!==null&&(p=Rl(l,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,zr(t,p),bn(l,t,p),Uf;fc(),n=sy(t,n,r)}else t=f.treeContext,ht=Kn(p.nextSibling),$t=n,He=!0,Ls=null,Yn=!1,t!==null&&Gp(n,t),n=tc(n,l),n.flags|=4096;return n}return t=Ji(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function nc(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function zf(t,n,r,l,h){return Gr(n),r=Ef(t,n,r,l,void 0,h),l=bf(),t!==null&&!Vt?(Tf(t,n,h),ss(t,n,h)):(He&&l&&ef(n),n.flags|=1,Jt(t,n,r,h),n.child)}function ry(t,n,r,l,h,f){return Gr(n),n.updateQueue=null,r=og(n,l,r,h),lg(t),l=bf(),t!==null&&!Vt?(Tf(t,n,f),ss(t,n,f)):(He&&l&&ef(n),n.flags|=1,Jt(t,n,r,f),n.child)}function ay(t,n,r,l,h){if(Gr(n),n.stateNode===null){var f=Ra,p=r.contextType;typeof p=="object"&&p!==null&&(f=Zt(p)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=jf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ff(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?Zt(p):Ra,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Lf(n,r,p,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&jf.enqueueReplaceState(f,f.state,null),to(n,l,f,h),eo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,N=$r(r,T);f.props=N;var U=f.context,F=r.contextType;p=Ra,typeof F=="object"&&F!==null&&(p=Zt(F));var X=r.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||U!==p)&&Yg(n,f,l,p),Us=!1;var z=n.memoizedState;f.state=z,to(n,l,f,h),eo(),U=n.memoizedState,T||z!==U||Us?(typeof X=="function"&&(Lf(n,r,X,l),U=n.memoizedState),(N=Us||Fg(n,r,N,l,z,U,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=U),f.props=l,f.state=U,f.context=p,l=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,df(t,n),p=n.memoizedProps,F=$r(r,p),f.props=F,X=n.pendingProps,z=f.context,U=r.contextType,N=Ra,typeof U=="object"&&U!==null&&(N=Zt(U)),T=r.getDerivedStateFromProps,(U=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||z!==N)&&Yg(n,f,l,N),Us=!1,z=n.memoizedState,f.state=z,to(n,l,f,h),eo();var q=n.memoizedState;p!==X||z!==q||Us||t!==null&&t.dependencies!==null&&ju(t.dependencies)?(typeof T=="function"&&(Lf(n,r,T,l),q=n.memoizedState),(F=Us||Fg(n,r,F,l,z,q,N)||t!==null&&t.dependencies!==null&&ju(t.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=N,l=F):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,nc(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Kr(n,t.child,null,h),n.child=Kr(n,null,r,h)):Jt(t,n,r,h),n.memoizedState=f.state,t=n.child):t=ss(t,n,h),t}function ly(t,n,r,l){return qr(),n.flags|=256,Jt(t,n,r,l),n.child}var Bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qf(t){return{baseLanes:t,cachePool:$p()}}function Hf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Mn),t}function oy(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(xt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(He){if(h?qs(n):Hs(),(t=ht)?(t=g0(t,Yn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ks!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},r=Bp(t),r.return=n,n.child=r,$t=n,ht=null)):t=null,t===null)throw js(n);return xd(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Hs(),h=n.mode,T=ic({mode:"hidden",children:T},h),l=Br(l,h,r,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=qf(r),l.childLanes=Hf(t,p,r),n.memoizedState=Bf,ao(null,l)):(qs(n),Gf(n,T))}var N=t.memoizedState;if(N!==null&&(T=N.dehydrated,T!==null)){if(f)n.flags&256?(qs(n),n.flags&=-257,n=Ff(t,n,r)):n.memoizedState!==null?(Hs(),n.child=t.child,n.flags|=128,n=null):(Hs(),T=l.fallback,h=n.mode,l=ic({mode:"visible",children:l.children},h),T=Br(T,h,r,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Kr(n,t.child,null,r),l=n.child,l.memoizedState=qf(r),l.childLanes=Hf(t,p,r),n.memoizedState=Bf,n=ao(null,l));else if(qs(n),xd(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var U=p.dgst;p=U,l=Error(a(419)),l.stack="",l.digest=p,Kl({value:l,source:null,stack:null}),n=Ff(t,n,r)}else if(Vt||Da(t,n,r,!1),p=(r&t.childLanes)!==0,Vt||p){if(p=ut,p!==null&&(l=Rl(p,r),l!==0&&l!==N.retryLane))throw N.retryLane=l,zr(t,l),bn(p,t,l),Uf;Sd(T)||fc(),n=Ff(t,n,r)}else Sd(T)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,ht=Kn(T.nextSibling),$t=n,He=!0,Ls=null,Yn=!1,t!==null&&Gp(n,t),n=Gf(n,l.children),n.flags|=4096);return n}return h?(Hs(),T=l.fallback,h=n.mode,N=t.child,U=N.sibling,l=Ji(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,U!==null?T=Ji(U,T):(T=Br(T,h,r,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,ao(null,l),l=n.child,T=t.child.memoizedState,T===null?T=qf(r):(h=T.cachePool,h!==null?(N=Ot._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=$p(),T={baseLanes:T.baseLanes|r,cachePool:h}),l.memoizedState=T,l.childLanes=Hf(t,p,r),n.memoizedState=Bf,ao(t.child,l)):(qs(n),r=t.child,t=r.sibling,r=Ji(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function Gf(t,n){return n=ic({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ic(t,n){return t=In(22,t,null,n),t.lanes=0,t}function Ff(t,n,r){return Kr(n,t.child,null,r),t=Gf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function uy(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),af(t.return,n,r)}function Yf(t,n,r,l,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function cy(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=xt.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,se(xt,p),Jt(t,n,l,r),l=He?Ql:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&uy(t,r,n);else if(t.tag===19)uy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Fu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Yf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Fu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Yf(n,!0,r,null,f,l);break;case"together":Yf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ss(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ys|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Da(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Ji(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Ji(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Qf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ju(t)))}function Lb(t,n,r){switch(n.tag){case 3:Tt(n,n.stateNode.containerInfo),Ps(n,Ot,t.memoizedState.cache),qr();break;case 27:case 5:Yi(n);break;case 4:Tt(n,n.stateNode.containerInfo);break;case 10:Ps(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,_f(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(qs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?oy(t,n,r):(qs(n),t=ss(t,n,r),t!==null?t.sibling:null);qs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Da(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return cy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(xt,xt.current),l)break;return null;case 22:return n.lanes=0,ny(t,n,r,n.pendingProps);case 24:Ps(n,Ot,t.memoizedState.cache)}return ss(t,n,r)}function hy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Vt=!0;else{if(!Qf(t,r)&&(n.flags&128)===0)return Vt=!1,Lb(t,n,r);Vt=(t.flags&131072)!==0}else Vt=!1,He&&(n.flags&1048576)!==0&&Hp(n,Ql,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Yr(n.elementType),n.type=t,typeof t=="function")Zh(t)?(l=$r(t,l),n.tag=1,n=ay(null,n,t,l,r)):(n.tag=0,n=zf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===Ge){n.tag=11,n=Wg(null,n,t,l,r);break e}else if(h===I){n.tag=14,n=ey(null,n,t,l,r);break e}}throw n=nt(t)||t,Error(a(306,n,""))}}return n;case 0:return zf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=$r(l,n.pendingProps),ay(t,n,l,h,r);case 3:e:{if(Tt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,df(t,n),to(n,l,null,r);var p=n.memoizedState;if(l=p.cache,Ps(n,Ot,l),l!==f.cache&&lf(n,[Ot],r,!0),eo(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ly(t,n,l,r);break e}else if(l!==h){h=Hn(Error(a(424)),n),Kl(h),n=ly(t,n,l,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ht=Kn(t.firstChild),$t=n,He=!0,Ls=null,Yn=!0,r=ng(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(qr(),l===h){n=ss(t,n,r);break e}Jt(t,n,l,r)}n=n.child}return n;case 26:return nc(t,n),t===null?(r=T0(n.type,null,n.pendingProps,null))?n.memoizedState=r:He||(r=n.type,t=n.pendingProps,l=vc(we.current).createElement(r),l[It]=n,l[Gt]=t,Wt(l,r,t),Nt(l),n.stateNode=l):n.memoizedState=T0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Yi(n),t===null&&He&&(l=n.stateNode=v0(n.type,n.pendingProps,we.current),$t=n,Yn=!0,h=ht,Zs(n.type)?(wd=h,ht=Kn(l.firstChild)):ht=h),Jt(t,n,n.pendingProps.children,r),nc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&He&&((h=l=ht)&&(l=fT(l,n.type,n.pendingProps,Yn),l!==null?(n.stateNode=l,$t=n,ht=Kn(l.firstChild),Yn=!1,h=!0):h=!1),h||js(n)),Yi(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,bd(h,f)?l=null:p!==null&&bd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=Ef(t,n,Rb,null,null,r),To._currentValue=h),nc(t,n),Jt(t,n,l,r),n.child;case 6:return t===null&&He&&((t=r=ht)&&(r=dT(r,n.pendingProps,Yn),r!==null?(n.stateNode=r,$t=n,ht=null,t=!0):t=!1),t||js(n)),null;case 13:return oy(t,n,r);case 4:return Tt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Kr(n,null,l,r):Jt(t,n,l,r),n.child;case 11:return Wg(t,n,n.type,n.pendingProps,r);case 7:return Jt(t,n,n.pendingProps,r),n.child;case 8:return Jt(t,n,n.pendingProps.children,r),n.child;case 12:return Jt(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Ps(n,n.type,l.value),Jt(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Gr(n),h=Zt(h),l=l(h),n.flags|=1,Jt(t,n,l,r),n.child;case 14:return ey(t,n,n.type,n.pendingProps,r);case 15:return ty(t,n,n.type,n.pendingProps,r);case 19:return cy(t,n,r);case 31:return kb(t,n,r);case 22:return ny(t,n,r,n.pendingProps);case 24:return Gr(n),l=Zt(Ot),t===null?(h=cf(),h===null&&(h=ut,f=of(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},ff(n),Ps(n,Ot,h)):((t.lanes&r)!==0&&(df(t,n),to(n,null,null,r),eo()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ps(n,Ot,l)):(l=f.cache,Ps(n,Ot,l),l!==h.cache&&lf(n,[Ot],r,!0))),Jt(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function rs(t){t.flags|=4}function Kf(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Py())t.flags|=8192;else throw Qr=Bu,hf}else t.flags&=-16777217}function fy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!R0(n))if(Py())t.flags|=8192;else throw Qr=Bu,hf}function sc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?cu():536870912,t.lanes|=n,Ha|=n)}function lo(t,n){if(!He)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ft(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function jb(t,n,r){var l=n.pendingProps;switch(tf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(n),null;case 1:return ft(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ts(Ot),ct(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Na(n)?rs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,sf())),ft(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(rs(n),f!==null?(ft(n),fy(n,f)):(ft(n),Kf(n,h,null,l,r))):f?f!==t.memoizedState?(rs(n),ft(n),fy(n,f)):(ft(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&rs(n),ft(n),Kf(n,h,t,l,r)),null;case 27:if(Qi(n),r=we.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&rs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ft(n),null}t=ae.current,Na(n)?Fp(n):(t=v0(h,l,r),n.stateNode=t,rs(n))}return ft(n),null;case 5:if(Qi(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&rs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ft(n),null}if(f=ae.current,Na(n))Fp(n);else{var p=vc(we.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[It]=n,f[Gt]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(Wt(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&rs(n)}}return ft(n),Kf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&rs(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=we.current,Na(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=$t,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[It]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||o0(t.nodeValue,r)),t||js(n,!0)}else t=vc(t).createTextNode(l),t[It]=n,n.stateNode=t}return ft(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=Na(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[It]=n}else qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ft(n),t=!1}else r=sf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Dn(n),n):(Dn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ft(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Na(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[It]=n}else qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ft(n),h=!1}else h=sf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Dn(n),n):(Dn(n),null)}return Dn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),sc(n,n.updateQueue),ft(n),null);case 4:return ct(),t===null&&gd(n.stateNode.containerInfo),ft(n),null;case 10:return ts(n.type),ft(n),null;case 19:if(K(xt),l=n.memoizedState,l===null)return ft(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)lo(l,!1);else{if(bt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Fu(t),f!==null){for(n.flags|=128,lo(l,!1),t=f.updateQueue,n.updateQueue=t,sc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)zp(r,t),r=r.sibling;return se(xt,xt.current&1|2),He&&Wi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&ge()>uc&&(n.flags|=128,h=!0,lo(l,!1),n.lanes=4194304)}else{if(!h)if(t=Fu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,sc(n,t),lo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!He)return ft(n),null}else 2*ge()-l.renderingStartTime>uc&&r!==536870912&&(n.flags|=128,h=!0,lo(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ge(),t.sibling=null,r=xt.current,se(xt,h?r&1|2:r&1),He&&Wi(n,l.treeForkCount),t):(ft(n),null);case 22:case 23:return Dn(n),yf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ft(n),n.subtreeFlags&6&&(n.flags|=8192)):ft(n),r=n.updateQueue,r!==null&&sc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&K(Fr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),ts(Ot),ft(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Pb(t,n){switch(tf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ts(Ot),ct(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Qi(n),null;case 31:if(n.memoizedState!==null){if(Dn(n),n.alternate===null)throw Error(a(340));qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Dn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(xt),null;case 4:return ct(),null;case 10:return ts(n.type),null;case 22:case 23:return Dn(n),yf(),t!==null&&K(Fr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ts(Ot),null;case 25:return null;default:return null}}function dy(t,n){switch(tf(n),n.tag){case 3:ts(Ot),ct();break;case 26:case 27:case 5:Qi(n);break;case 4:ct();break;case 31:n.memoizedState!==null&&Dn(n);break;case 13:Dn(n);break;case 19:K(xt);break;case 10:ts(n.type);break;case 22:case 23:Dn(n),yf(),t!==null&&K(Fr);break;case 24:ts(Ot)}}function oo(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,p=r.inst;l=f(),p.destroy=l}r=r.next}while(r!==h)}}catch(T){tt(n,n.return,T)}}function Gs(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var p=l.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,h=n;var N=r,U=T;try{U()}catch(F){tt(h,N,F)}}}l=l.next}while(l!==f)}}catch(F){tt(n,n.return,F)}}function my(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{sg(n,r)}catch(l){tt(t,t.return,l)}}}function py(t,n,r){r.props=$r(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){tt(t,n,l)}}function uo(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){tt(t,n,h)}}function ki(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){tt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){tt(t,n,h)}else r.current=null}function gy(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){tt(t,t.return,h)}}function Xf(t,n,r){try{var l=t.stateNode;aT(l,t.type,r,n),l[Gt]=n}catch(h){tt(t,t.return,h)}}function yy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Zs(t.type)||t.tag===4}function $f(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Zs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=si));else if(l!==4&&(l===27&&Zs(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Zf(t,n,r),t=t.sibling;t!==null;)Zf(t,n,r),t=t.sibling}function rc(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Zs(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(rc(t,n,r),t=t.sibling;t!==null;)rc(t,n,r),t=t.sibling}function _y(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Wt(n,l,r),n[It]=t,n[Gt]=r}catch(f){tt(t,t.return,f)}}var as=!1,kt=!1,Jf=!1,vy=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function Ub(t,n){if(t=t.containerInfo,vd=wc,t=Dp(t),Gh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var p=0,T=-1,N=-1,U=0,F=0,X=t,z=null;t:for(;;){for(var q;X!==r||h!==0&&X.nodeType!==3||(T=p+h),X!==f||l!==0&&X.nodeType!==3||(N=p+l),X.nodeType===3&&(p+=X.nodeValue.length),(q=X.firstChild)!==null;)z=X,X=q;for(;;){if(X===t)break t;if(z===r&&++U===h&&(T=p),z===f&&++F===l&&(N=p),(q=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=q}r=T===-1||N===-1?null:{start:T,end:N}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ed={focusedElem:t,selectionRange:r},wc=!1,Yt=n;Yt!==null;)if(n=Yt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Yt=t;else for(;Yt!==null;){switch(n=Yt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var oe=$r(r.type,h);t=l.getSnapshotBeforeUpdate(oe,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){tt(r,r.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Ad(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ad(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Yt=t;break}Yt=n.return}}function Ey(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:os(t,r),l&4&&oo(5,r);break;case 1:if(os(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(p){tt(r,r.return,p)}else{var h=$r(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){tt(r,r.return,p)}}l&64&&my(r),l&512&&uo(r,r.return);break;case 3:if(os(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{sg(t,n)}catch(p){tt(r,r.return,p)}}break;case 27:n===null&&l&4&&_y(r);case 26:case 5:os(t,r),n===null&&l&4&&gy(r),l&512&&uo(r,r.return);break;case 12:os(t,r);break;case 31:os(t,r),l&4&&Ay(t,r);break;case 13:os(t,r),l&4&&Sy(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=Kb.bind(null,r),mT(t,r))));break;case 22:if(l=r.memoizedState!==null||as,!l){n=n!==null&&n.memoizedState!==null||kt,h=as;var f=kt;as=l,(kt=n)&&!f?us(t,r,(r.subtreeFlags&8772)!==0):os(t,r),as=h,kt=f}break;case 30:break;default:os(t,r)}}function by(t){var n=t.alternate;n!==null&&(t.alternate=null,by(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&da(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var pt=null,yn=!1;function ls(t,n,r){for(r=r.child;r!==null;)Ty(t,n,r),r=r.sibling}function Ty(t,n,r){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(ei,r)}catch{}switch(r.tag){case 26:kt||ki(r,n),ls(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:kt||ki(r,n);var l=pt,h=yn;Zs(r.type)&&(pt=r.stateNode,yn=!1),ls(t,n,r),vo(r.stateNode),pt=l,yn=h;break;case 5:kt||ki(r,n);case 6:if(l=pt,h=yn,pt=null,ls(t,n,r),pt=l,yn=h,pt!==null)if(yn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(r.stateNode)}catch(f){tt(r,n,f)}else try{pt.removeChild(r.stateNode)}catch(f){tt(r,n,f)}break;case 18:pt!==null&&(yn?(t=pt,m0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Za(t)):m0(pt,r.stateNode));break;case 4:l=pt,h=yn,pt=r.stateNode.containerInfo,yn=!0,ls(t,n,r),pt=l,yn=h;break;case 0:case 11:case 14:case 15:Gs(2,r,n),kt||Gs(4,r,n),ls(t,n,r);break;case 1:kt||(ki(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&py(r,n,l)),ls(t,n,r);break;case 21:ls(t,n,r);break;case 22:kt=(l=kt)||r.memoizedState!==null,ls(t,n,r),kt=l;break;default:ls(t,n,r)}}function Ay(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Za(t)}catch(r){tt(n,n.return,r)}}}function Sy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Za(t)}catch(r){tt(n,n.return,r)}}function zb(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new vy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new vy),n;default:throw Error(a(435,t.tag))}}function ac(t,n){var r=zb(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=Xb.bind(null,t,l);l.then(h,h)}})}function _n(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,p=n,T=p;e:for(;T!==null;){switch(T.tag){case 27:if(Zs(T.type)){pt=T.stateNode,yn=!1;break e}break;case 5:pt=T.stateNode,yn=!1;break e;case 3:case 4:pt=T.stateNode.containerInfo,yn=!0;break e}T=T.return}if(pt===null)throw Error(a(160));Ty(f,p,h),pt=null,yn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)xy(n,t),n=n.sibling}var ci=null;function xy(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:_n(n,t),vn(t),l&4&&(Gs(3,t,t.return),oo(3,t),Gs(5,t,t.return));break;case 1:_n(n,t),vn(t),l&512&&(kt||r===null||ki(r,r.return)),l&64&&as&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=ci;if(_n(n,t),vn(t),l&512&&(kt||r===null||ki(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[bi]||f[It]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Wt(f,l,r),f[It]=t,Nt(f),l=f;break e;case"link":var p=x0("link","href",h).get(l+(r.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(T,1);break t}}f=h.createElement(l),Wt(f,l,r),h.head.appendChild(f);break;case"meta":if(p=x0("meta","content",h).get(l+(r.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(T,1);break t}}f=h.createElement(l),Wt(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[It]=t,Nt(f),l=f}t.stateNode=l}else w0(h,t.type,t.stateNode);else t.stateNode=S0(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?w0(h,t.type,t.stateNode):S0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Xf(t,t.memoizedProps,r.memoizedProps)}break;case 27:_n(n,t),vn(t),l&512&&(kt||r===null||ki(r,r.return)),r!==null&&l&4&&Xf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(_n(n,t),vn(t),l&512&&(kt||r===null||ki(r,r.return)),t.flags&32){h=t.stateNode;try{gn(h,"")}catch(oe){tt(t,t.return,oe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Xf(t,h,r!==null?r.memoizedProps:h)),l&1024&&(Jf=!0);break;case 6:if(_n(n,t),vn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(oe){tt(t,t.return,oe)}}break;case 3:if(Tc=null,h=ci,ci=Ec(n.containerInfo),_n(n,t),ci=h,vn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Za(n.containerInfo)}catch(oe){tt(t,t.return,oe)}Jf&&(Jf=!1,wy(t));break;case 4:l=ci,ci=Ec(t.stateNode.containerInfo),_n(n,t),vn(t),ci=l;break;case 12:_n(n,t),vn(t);break;case 31:_n(n,t),vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ac(t,l)));break;case 13:_n(n,t),vn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(oc=ge()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ac(t,l)));break;case 22:h=t.memoizedState!==null;var N=r!==null&&r.memoizedState!==null,U=as,F=kt;if(as=U||h,kt=F||N,_n(n,t),kt=F,as=U,vn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||N||as||kt||Zr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){N=r=n;try{if(f=N.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=N.stateNode;var X=N.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(oe){tt(N,N.return,oe)}}}else if(n.tag===6){if(r===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(oe){tt(N,N.return,oe)}}}else if(n.tag===18){if(r===null){N=n;try{var q=N.stateNode;h?p0(q,!0):p0(N.stateNode,!1)}catch(oe){tt(N,N.return,oe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,ac(t,r))));break;case 19:_n(n,t),vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ac(t,l)));break;case 30:break;case 21:break;default:_n(n,t),vn(t)}}function vn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(yy(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=$f(t);rc(t,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(gn(p,""),r.flags&=-33);var T=$f(t);rc(t,T,p);break;case 3:case 4:var N=r.stateNode.containerInfo,U=$f(t);Zf(t,U,N);break;default:throw Error(a(161))}}catch(F){tt(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function wy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;wy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function os(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ey(t,n.alternate,n),n=n.sibling}function Zr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Gs(4,n,n.return),Zr(n);break;case 1:ki(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&py(n,n.return,r),Zr(n);break;case 27:vo(n.stateNode);case 26:case 5:ki(n,n.return),Zr(n);break;case 22:n.memoizedState===null&&Zr(n);break;case 30:Zr(n);break;default:Zr(n)}t=t.sibling}}function us(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:us(h,f,r),oo(4,f);break;case 1:if(us(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){tt(l,l.return,U)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)ig(N[h],T)}catch(U){tt(l,l.return,U)}}r&&p&64&&my(f),uo(f,f.return);break;case 27:_y(f);case 26:case 5:us(h,f,r),r&&l===null&&p&4&&gy(f),uo(f,f.return);break;case 12:us(h,f,r);break;case 31:us(h,f,r),r&&p&4&&Ay(h,f);break;case 13:us(h,f,r),r&&p&4&&Sy(h,f);break;case 22:f.memoizedState===null&&us(h,f,r),uo(f,f.return);break;case 30:break;default:us(h,f,r)}n=n.sibling}}function Wf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Xl(r))}function ed(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xl(t))}function hi(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ry(t,n,r,l),n=n.sibling}function Ry(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:hi(t,n,r,l),h&2048&&oo(9,n);break;case 1:hi(t,n,r,l);break;case 3:hi(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xl(t)));break;case 12:if(h&2048){hi(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){tt(n,n.return,N)}}else hi(t,n,r,l);break;case 31:hi(t,n,r,l);break;case 13:hi(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?hi(t,n,r,l):co(t,n):f._visibility&2?hi(t,n,r,l):(f._visibility|=2,za(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Wf(p,n);break;case 24:hi(t,n,r,l),h&2048&&ed(n.alternate,n);break;default:hi(t,n,r,l)}}function za(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,T=r,N=l,U=p.flags;switch(p.tag){case 0:case 11:case 15:za(f,p,T,N,h),oo(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?za(f,p,T,N,h):co(f,p):(F._visibility|=2,za(f,p,T,N,h)),h&&U&2048&&Wf(p.alternate,p);break;case 24:za(f,p,T,N,h),h&&U&2048&&ed(p.alternate,p);break;default:za(f,p,T,N,h)}n=n.sibling}}function co(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:co(r,l),h&2048&&Wf(l.alternate,l);break;case 24:co(r,l),h&2048&&ed(l.alternate,l);break;default:co(r,l)}n=n.sibling}}var ho=8192;function Ba(t,n,r){if(t.subtreeFlags&ho)for(t=t.child;t!==null;)Cy(t,n,r),t=t.sibling}function Cy(t,n,r){switch(t.tag){case 26:Ba(t,n,r),t.flags&ho&&t.memoizedState!==null&&wT(r,ci,t.memoizedState,t.memoizedProps);break;case 5:Ba(t,n,r);break;case 3:case 4:var l=ci;ci=Ec(t.stateNode.containerInfo),Ba(t,n,r),ci=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ho,ho=16777216,Ba(t,n,r),ho=l):Ba(t,n,r));break;default:Ba(t,n,r)}}function Iy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function fo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Yt=l,Dy(l,t)}Iy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ny(t),t=t.sibling}function Ny(t){switch(t.tag){case 0:case 11:case 15:fo(t),t.flags&2048&&Gs(9,t,t.return);break;case 3:fo(t);break;case 12:fo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,lc(t)):fo(t);break;default:fo(t)}}function lc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Yt=l,Dy(l,t)}Iy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Gs(8,n,n.return),lc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,lc(n));break;default:lc(n)}t=t.sibling}}function Dy(t,n){for(;Yt!==null;){var r=Yt;switch(r.tag){case 0:case 11:case 15:Gs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Xl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Yt=l;else e:for(r=t;Yt!==null;){l=Yt;var h=l.sibling,f=l.return;if(by(l),l===r){Yt=null;break e}if(h!==null){h.return=f,Yt=h;break e}Yt=f}}}var Bb={getCacheForType:function(t){var n=Zt(Ot),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Zt(Ot).controller.signal}},qb=typeof WeakMap=="function"?WeakMap:Map,$e=0,ut=null,ke=null,je=0,et=0,On=null,Fs=!1,qa=!1,td=!1,cs=0,bt=0,Ys=0,Jr=0,nd=0,Mn=0,Ha=0,mo=null,En=null,id=!1,oc=0,Oy=0,uc=1/0,cc=null,Qs=null,zt=0,Ks=null,Ga=null,hs=0,sd=0,rd=null,My=null,po=0,ad=null;function Vn(){return($e&2)!==0&&je!==0?je&-je:G.T!==null?fd():hu()}function Vy(){if(Mn===0)if((je&536870912)===0||He){var t=xr;xr<<=1,(xr&3932160)===0&&(xr=262144),Mn=t}else Mn=536870912;return t=Nn.current,t!==null&&(t.flags|=32),Mn}function bn(t,n,r){(t===ut&&(et===2||et===9)||t.cancelPendingCommit!==null)&&(Fa(t,0),Xs(t,je,Mn,!1)),wr(t,r),(($e&2)===0||t!==ut)&&(t===ut&&(($e&2)===0&&(Jr|=r),bt===4&&Xs(t,je,Mn,!1)),Li(t))}function ky(t,n,r){if(($e&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||ti(t,n),h=l?Fb(t,n):od(t,n,!0),f=l;do{if(h===0){qa&&!l&&Xs(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!Hb(r)){h=od(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var T=t;h=mo;var N=T.current.memoizedState.isDehydrated;if(N&&(Fa(T,p).flags|=256),p=od(T,p,!1),p!==2){if(td&&!N){T.errorRecoveryDisabledLanes|=f,Jr|=f,h=4;break e}f=En,En=h,f!==null&&(En===null?En=f:En.push.apply(En,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Fa(t,0),Xs(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Xs(l,n,Mn,!Fs);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=oc+300-ge(),10<h)){if(Xs(l,n,Mn,!Fs),_i(l,0,!0)!==0)break e;hs=n,l.timeoutHandle=f0(Ly.bind(null,l,r,En,cc,id,n,Mn,Jr,Ha,Fs,f,"Throttled",-0,0),h);break e}Ly(l,r,En,cc,id,n,Mn,Jr,Ha,Fs,f,null,-0,0)}}break}while(!0);Li(t)}function Ly(t,n,r,l,h,f,p,T,N,U,F,X,z,q){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:si},Cy(n,f,X);var oe=(f&62914560)===f?oc-ge():(f&4194048)===f?Oy-ge():0;if(oe=RT(X,oe),oe!==null){hs=f,t.cancelPendingCommit=oe(Gy.bind(null,t,n,f,r,l,h,p,T,N,F,X,null,z,q)),Xs(t,f,p,!U);return}}Gy(t,n,f,r,l,h,p,T,N)}function Hb(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!Cn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Xs(t,n,r,l){n&=~nd,n&=~Jr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-At(h),p=1<<f;l[f]=-1,h&=~p}r!==0&&Rr(t,r,n)}function hc(){return($e&6)===0?(go(0),!1):!0}function ld(){if(ke!==null){if(et===0)var t=ke.return;else t=ke,es=Hr=null,Af(t),ka=null,Zl=0,t=ke;for(;t!==null;)dy(t.alternate,t),t=t.return;ke=null}}function Fa(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,uT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),hs=0,ld(),ut=t,ke=r=Ji(t.current,null),je=n,et=0,On=null,Fs=!1,qa=ti(t,n),td=!1,Ha=Mn=nd=Jr=Ys=bt=0,En=mo=null,id=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-At(l),f=1<<h;n|=t[h],l&=~f}return cs=n,Ou(),r}function jy(t,n){Ne=null,G.H=ro,n===Va||n===zu?(n=Wp(),et=3):n===hf?(n=Wp(),et=4):et=n===Uf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,On=n,ke===null&&(bt=1,ec(t,Hn(n,t.current)))}function Py(){var t=Nn.current;return t===null?!0:(je&4194048)===je?Qn===null:(je&62914560)===je||(je&536870912)!==0?t===Qn:!1}function Uy(){var t=G.H;return G.H=ro,t===null?ro:t}function zy(){var t=G.A;return G.A=Bb,t}function fc(){bt=4,Fs||(je&4194048)!==je&&Nn.current!==null||(qa=!0),(Ys&134217727)===0&&(Jr&134217727)===0||ut===null||Xs(ut,je,Mn,!1)}function od(t,n,r){var l=$e;$e|=2;var h=Uy(),f=zy();(ut!==t||je!==n)&&(cc=null,Fa(t,n)),n=!1;var p=bt;e:do try{if(et!==0&&ke!==null){var T=ke,N=On;switch(et){case 8:ld(),p=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(n=!0);var U=et;if(et=0,On=null,Ya(t,T,N,U),r&&qa){p=0;break e}break;default:U=et,et=0,On=null,Ya(t,T,N,U)}}Gb(),p=bt;break}catch(F){jy(t,F)}while(!0);return n&&t.shellSuspendCounter++,es=Hr=null,$e=l,G.H=h,G.A=f,ke===null&&(ut=null,je=0,Ou()),p}function Gb(){for(;ke!==null;)By(ke)}function Fb(t,n){var r=$e;$e|=2;var l=Uy(),h=zy();ut!==t||je!==n?(cc=null,uc=ge()+500,Fa(t,n)):qa=ti(t,n);e:do try{if(et!==0&&ke!==null){n=ke;var f=On;t:switch(et){case 1:et=0,On=null,Ya(t,n,f,1);break;case 2:case 9:if(Zp(f)){et=0,On=null,qy(n);break}n=function(){et!==2&&et!==9||ut!==t||(et=7),Li(t)},f.then(n,n);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Zp(f)?(et=0,On=null,qy(n)):(et=0,On=null,Ya(t,n,f,7));break;case 5:var p=null;switch(ke.tag){case 26:p=ke.memoizedState;case 5:case 27:var T=ke;if(p?R0(p):T.stateNode.complete){et=0,On=null;var N=T.sibling;if(N!==null)ke=N;else{var U=T.return;U!==null?(ke=U,dc(U)):ke=null}break t}}et=0,On=null,Ya(t,n,f,5);break;case 6:et=0,On=null,Ya(t,n,f,6);break;case 8:ld(),bt=6;break e;default:throw Error(a(462))}}Yb();break}catch(F){jy(t,F)}while(!0);return es=Hr=null,G.H=l,G.A=h,$e=r,ke!==null?0:(ut=null,je=0,Ou(),bt)}function Yb(){for(;ke!==null&&!pe();)By(ke)}function By(t){var n=hy(t.alternate,t,cs);t.memoizedProps=t.pendingProps,n===null?dc(t):ke=n}function qy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=ry(r,n,n.pendingProps,n.type,void 0,je);break;case 11:n=ry(r,n,n.pendingProps,n.type.render,n.ref,je);break;case 5:Af(n);default:dy(r,n),n=ke=zp(n,cs),n=hy(r,n,cs)}t.memoizedProps=t.pendingProps,n===null?dc(t):ke=n}function Ya(t,n,r,l){es=Hr=null,Af(n),ka=null,Zl=0;var h=n.return;try{if(Vb(t,h,n,r,je)){bt=1,ec(t,Hn(r,t.current)),ke=null;return}}catch(f){if(h!==null)throw ke=h,f;bt=1,ec(t,Hn(r,t.current)),ke=null;return}n.flags&32768?(He||l===1?t=!0:qa||(je&536870912)!==0?t=!1:(Fs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Nn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Hy(n,t)):dc(n)}function dc(t){var n=t;do{if((n.flags&32768)!==0){Hy(n,Fs);return}t=n.return;var r=jb(n.alternate,n,cs);if(r!==null){ke=r;return}if(n=n.sibling,n!==null){ke=n;return}ke=n=t}while(n!==null);bt===0&&(bt=5)}function Hy(t,n){do{var r=Pb(t.alternate,t);if(r!==null){r.flags&=32767,ke=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){ke=t;return}ke=t=r}while(t!==null);bt=6,ke=null}function Gy(t,n,r,l,h,f,p,T,N){t.cancelPendingCommit=null;do mc();while(zt!==0);if(($e&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Xh,zh(t,r,f,p,T,N),t===ut&&(ke=ut=null,je=0),Ga=n,Ks=t,hs=r,sd=f,rd=h,My=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,$b(un,function(){return Xy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=ie.p,ie.p=2,p=$e,$e|=4;try{Ub(t,n,r)}finally{$e=p,ie.p=h,G.T=l}}zt=1,Fy(),Yy(),Qy()}}function Fy(){if(zt===1){zt=0;var t=Ks,n=Ga,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var l=ie.p;ie.p=2;var h=$e;$e|=4;try{xy(n,t);var f=Ed,p=Dp(t.containerInfo),T=f.focusedElem,N=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&Np(T.ownerDocument.documentElement,T)){if(N!==null&&Gh(T)){var U=N.start,F=N.end;if(F===void 0&&(F=U),"selectionStart"in T)T.selectionStart=U,T.selectionEnd=Math.min(F,T.value.length);else{var X=T.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var q=z.getSelection(),oe=T.textContent.length,Ee=Math.min(N.start,oe),at=N.end===void 0?Ee:Math.min(N.end,oe);!q.extend&&Ee>at&&(p=at,at=Ee,Ee=p);var L=Ip(T,Ee),O=Ip(T,at);if(L&&O&&(q.rangeCount!==1||q.anchorNode!==L.node||q.anchorOffset!==L.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var P=X.createRange();P.setStart(L.node,L.offset),q.removeAllRanges(),Ee>at?(q.addRange(P),q.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),q.addRange(P))}}}}for(X=[],q=T;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var Q=X[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}wc=!!vd,Ed=vd=null}finally{$e=h,ie.p=l,G.T=r}}t.current=n,zt=2}}function Yy(){if(zt===2){zt=0;var t=Ks,n=Ga,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var l=ie.p;ie.p=2;var h=$e;$e|=4;try{Ey(t,n.alternate,n)}finally{$e=h,ie.p=l,G.T=r}}zt=3}}function Qy(){if(zt===4||zt===3){zt=0,Y();var t=Ks,n=Ga,r=hs,l=My;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?zt=5:(zt=0,Ga=Ks=null,Ky(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Qs=null),Ki(r),n=n.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(ei,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=ie.p,ie.p=2,G.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var T=l[p];f(T.value,{componentStack:T.stack})}}finally{G.T=n,ie.p=h}}(hs&3)!==0&&mc(),Li(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===ad?po++:(po=0,ad=t):po=0,go(0)}}function Ky(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Xl(n)))}function mc(){return Fy(),Yy(),Qy(),Xy()}function Xy(){if(zt!==5)return!1;var t=Ks,n=sd;sd=0;var r=Ki(hs),l=G.T,h=ie.p;try{ie.p=32>r?32:r,G.T=null,r=rd,rd=null;var f=Ks,p=hs;if(zt=0,Ga=Ks=null,hs=0,($e&6)!==0)throw Error(a(331));var T=$e;if($e|=4,Ny(f.current),Ry(f,f.current,p,r),$e=T,go(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(ei,f)}catch{}return!0}finally{ie.p=h,G.T=l,Ky(t,n)}}function $y(t,n,r){n=Hn(r,n),n=Pf(t.stateNode,n,2),t=Bs(t,n,2),t!==null&&(wr(t,2),Li(t))}function tt(t,n,r){if(t.tag===3)$y(t,t,r);else for(;n!==null;){if(n.tag===3){$y(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Qs===null||!Qs.has(l))){t=Hn(r,t),r=Zg(2),l=Bs(n,r,2),l!==null&&(Jg(r,l,n,t),wr(l,2),Li(l));break}}n=n.return}}function ud(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new qb;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(td=!0,h.add(r),t=Qb.bind(null,t,n,r),n.then(t,t))}function Qb(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,ut===t&&(je&r)===r&&(bt===4||bt===3&&(je&62914560)===je&&300>ge()-oc?($e&2)===0&&Fa(t,0):nd|=r,Ha===je&&(Ha=0)),Li(t)}function Zy(t,n){n===0&&(n=cu()),t=zr(t,n),t!==null&&(wr(t,n),Li(t))}function Kb(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Zy(t,r)}function Xb(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Zy(t,r)}function $b(t,n){return ne(t,n)}var pc=null,Qa=null,cd=!1,gc=!1,hd=!1,$s=0;function Li(t){t!==Qa&&t.next===null&&(Qa===null?pc=Qa=t:Qa=Qa.next=t),gc=!0,cd||(cd=!0,Jb())}function go(t,n){if(!hd&&gc){hd=!0;do for(var r=!1,l=pc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-At(42|t)+1)-1,f&=h&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,t0(l,f))}else f=je,f=_i(l,l===ut?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ti(l,f)||(r=!0,t0(l,f));l=l.next}while(r);hd=!1}}function Zb(){Jy()}function Jy(){gc=cd=!1;var t=0;$s!==0&&oT()&&(t=$s);for(var n=ge(),r=null,l=pc;l!==null;){var h=l.next,f=Wy(l,n);f===0?(l.next=null,r===null?pc=h:r.next=h,h===null&&(Qa=r)):(r=l,(t!==0||(f&3)!==0)&&(gc=!0)),l=h}zt!==0&&zt!==5||go(t),$s!==0&&($s=0)}function Wy(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-At(f),T=1<<p,N=h[p];N===-1?((T&r)===0||(T&l)!==0)&&(h[p]=Uh(T,n)):N<=n&&(t.expiredLanes|=T),f&=~T}if(n=ut,r=je,r=_i(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(et===2||et===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&fe(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||ti(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&fe(l),Ki(r)){case 2:case 8:r=Wn;break;case 32:r=un;break;case 268435456:r=xn;break;default:r=un}return l=e0.bind(null,t),r=ne(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&fe(l),t.callbackPriority=2,t.callbackNode=null,2}function e0(t,n){if(zt!==0&&zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(mc()&&t.callbackNode!==r)return null;var l=je;return l=_i(t,t===ut?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ky(t,l,n),Wy(t,ge()),t.callbackNode!=null&&t.callbackNode===r?e0.bind(null,t):null)}function t0(t,n){if(mc())return null;ky(t,n,!0)}function Jb(){cT(function(){($e&6)!==0?ne(gt,Zb):Jy()})}function fd(){if($s===0){var t=Oa;t===0&&(t=gi,gi<<=1,(gi&261888)===0&&(gi=256)),$s=t}return $s}function n0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ya(""+t)}function i0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function Wb(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=n0((h[Gt]||null).action),p=l.submitter;p&&(n=(n=p[Gt]||null)?n0(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new Ii("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($s!==0){var N=p?i0(h,p):new FormData(h);Of(r,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(T.preventDefault(),N=p?i0(h,p):new FormData(h),Of(r,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var dd=0;dd<Kh.length;dd++){var md=Kh[dd],eT=md.toLowerCase(),tT=md[0].toUpperCase()+md.slice(1);ui(eT,"on"+tT)}ui(Vp,"onAnimationEnd"),ui(kp,"onAnimationIteration"),ui(Lp,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(yb,"onTransitionRun"),ui(_b,"onTransitionStart"),ui(vb,"onTransitionCancel"),ui(jp,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yo));function s0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var T=l[p],N=T.instance,U=T.currentTarget;if(T=T.listener,N!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=U;try{f(h)}catch(F){Du(F)}h.currentTarget=null,f=N}else for(p=0;p<l.length;p++){if(T=l[p],N=T.instance,U=T.currentTarget,T=T.listener,N!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=U;try{f(h)}catch(F){Du(F)}h.currentTarget=null,f=N}}}}function Le(t,n){var r=n[fa];r===void 0&&(r=n[fa]=new Set);var l=t+"__bubble";r.has(l)||(r0(n,t,2,!1),r.add(l))}function pd(t,n,r){var l=0;n&&(l|=4),r0(r,t,l,n)}var yc="_reactListening"+Math.random().toString(36).slice(2);function gd(t){if(!t[yc]){t[yc]=!0,Cl.forEach(function(r){r!=="selectionchange"&&(nT.has(r)||pd(r,!1,t),pd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[yc]||(n[yc]=!0,pd("selectionchange",!1,n))}}function r0(t,n,r,l){switch(V0(n)){case 2:var h=NT;break;case 8:h=DT;break;default:h=Dd}r=h.bind(null,n,r,t),h=void 0,!Or||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function yd(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var T=l.stateNode.containerInfo;if(T===h)break;if(p===4)for(p=l.return;p!==null;){var N=p.tag;if((N===3||N===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;T!==null;){if(p=Ti(T),p===null)return;if(N=p.tag,N===5||N===6||N===26||N===27){l=f=p;continue e}T=T.parentNode}}l=l.return}Ds(function(){var U=f,F=Un(r),X=[];e:{var z=Pp.get(t);if(z!==void 0){var q=Ii,oe=t;switch(t){case"keypress":if(Vr(r)===0)break e;case"keydown":case"keyup":q=Cu;break;case"focusin":oe="focus",q=Lr;break;case"focusout":oe="blur",q=Lr;break;case"beforeblur":case"afterblur":q=Lr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Bl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Vp:case kp:case Lp:q=bu;break;case jp:q=A;break;case"scroll":case"scrollend":q=zl;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Zi;break;case"toggle":case"beforetoggle":q=Ie}var Ee=(n&4)!==0,at=!Ee&&(t==="scroll"||t==="scrollend"),L=Ee?z!==null?z+"Capture":null:z;Ee=[];for(var O=U,P;O!==null;){var Q=O;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||L===null||(Q=ri(O,L),Q!=null&&Ee.push(_o(O,Q,P))),at)break;O=O.return}0<Ee.length&&(z=new q(z,oe,null,r,F),X.push({event:z,listeners:Ee}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&r!==jl&&(oe=r.relatedTarget||r.fromElement)&&(Ti(oe)||oe[Ei]))break e;if((q||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,q?(oe=r.relatedTarget||r.toElement,q=U,oe=oe?Ti(oe):null,oe!==null&&(at=c(oe),Ee=oe.tag,oe!==at||Ee!==5&&Ee!==27&&Ee!==6)&&(oe=null)):(q=null,oe=U),q!==oe)){if(Ee=Bl,Q="onMouseLeave",L="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=Zi,Q="onPointerLeave",L="onPointerEnter",O="pointer"),at=q==null?z:wn(q),P=oe==null?z:wn(oe),z=new Ee(Q,O+"leave",q,r,F),z.target=at,z.relatedTarget=P,Q=null,Ti(F)===U&&(Ee=new Ee(L,O+"enter",oe,r,F),Ee.target=P,Ee.relatedTarget=at,Q=Ee),at=Q,q&&oe)t:{for(Ee=iT,L=q,O=oe,P=0,Q=L;Q;Q=Ee(Q))P++;Q=0;for(var ye=O;ye;ye=Ee(ye))Q++;for(;0<P-Q;)L=Ee(L),P--;for(;0<Q-P;)O=Ee(O),Q--;for(;P--;){if(L===O||O!==null&&L===O.alternate){Ee=L;break t}L=Ee(L),O=Ee(O)}Ee=null}else Ee=null;q!==null&&a0(X,z,q,Ee,!1),oe!==null&&at!==null&&a0(X,at,oe,Ee,!0)}}e:{if(z=U?wn(U):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Qe=Ap;else if(bp(z))if(Sp)Qe=mb;else{Qe=fb;var ce=hb}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&ga(U.elementType)&&(Qe=Ap):Qe=db;if(Qe&&(Qe=Qe(t,U))){Tp(X,Qe,r,F);break e}ce&&ce(t,z,U),t==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&Vl(z,"number",z.value)}switch(ce=U?wn(U):window,t){case"focusin":(bp(ce)||ce.contentEditable==="true")&&(Sa=ce,Fh=U,Yl=null);break;case"focusout":Yl=Fh=Sa=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,Op(X,r,F);break;case"selectionchange":if(gb)break;case"keydown":case"keyup":Op(X,r,F)}var Oe;if(Xe)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Aa?jr(t,r)&&(Pe="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Pe="onCompositionStart");Pe&&(Oi&&r.locale!=="ko"&&(Aa||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Aa&&(Oe=Ul()):(Ci=F,Pl="value"in Ci?Ci.value:Ci.textContent,Aa=!0)),ce=_c(U,Pe),0<ce.length&&(Pe=new Di(Pe,t,null,r,F),X.push({event:Pe,listeners:ce}),Oe?Pe.data=Oe:(Oe=Ta(r),Oe!==null&&(Pe.data=Oe)))),(Oe=Bn?lb(t,r):ob(t,r))&&(Pe=_c(U,"onBeforeInput"),0<Pe.length&&(ce=new Di("onBeforeInput","beforeinput",null,r,F),X.push({event:ce,listeners:Pe}),ce.data=Oe)),Wb(X,t,U,r,F)}s0(X,n)})}function _o(t,n,r){return{instance:t,listener:n,currentTarget:r}}function _c(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ri(t,r),h!=null&&l.unshift(_o(t,h,f)),h=ri(t,n),h!=null&&l.push(_o(t,h,f))),t.tag===3)return l;t=t.return}return[]}function iT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function a0(t,n,r,l,h){for(var f=n._reactName,p=[];r!==null&&r!==l;){var T=r,N=T.alternate,U=T.stateNode;if(T=T.tag,N!==null&&N===l)break;T!==5&&T!==26&&T!==27||U===null||(N=U,h?(U=ri(r,f),U!=null&&p.unshift(_o(r,U,N))):h||(U=ri(r,f),U!=null&&p.push(_o(r,U,N)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var sT=/\r\n?/g,rT=/\u0000|\uFFFD/g;function l0(t){return(typeof t=="string"?t:""+t).replace(sT,`
`).replace(rT,"")}function o0(t,n){return n=l0(n),l0(t)===n}function rt(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&gn(t,""+l);break;case"className":Rn(t,"class",l);break;case"tabIndex":Rn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Rn(t,r,l);break;case"style":Ll(t,l,f);break;case"data":if(n!=="object"){Rn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ya(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&rt(t,n,"name",h.name,h,null),rt(t,n,"formEncType",h.formEncType,h,null),rt(t,n,"formMethod",h.formMethod,h,null),rt(t,n,"formTarget",h.formTarget,h,null)):(rt(t,n,"encType",h.encType,h,null),rt(t,n,"method",h.method,h,null),rt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ya(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=si);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=ya(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Le("beforetoggle",t),Le("toggle",t),ma(t,"popover",l);break;case"xlinkActuate":Dt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Dt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Dt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Dt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Dt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Dt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ma(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=_u.get(r)||r,ma(t,r,l))}}function _d(t,n,r,l,h,f){switch(r){case"style":Ll(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"onClick":l!=null&&(t.onclick=si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Il.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Gt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):ma(t,r,l)}}}function Wt(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:rt(t,n,f,p,r,null)}}h&&rt(t,n,"srcSet",r.srcSet,r,null),l&&rt(t,n,"src",r.src,r,null);return;case"input":Le("invalid",t);var T=f=p=h=null,N=null,U=null;for(l in r)if(r.hasOwnProperty(l)){var F=r[l];if(F!=null)switch(l){case"name":h=F;break;case"type":p=F;break;case"checked":N=F;break;case"defaultChecked":U=F;break;case"value":f=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:rt(t,n,l,F,r,null)}}pu(t,f,T,N,U,p,h,!1);return;case"select":Le("invalid",t),l=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":l=T;default:rt(t,n,h,T,r,null)}n=f,r=p,t.multiple=!!l,n!=null?Rs(t,!!l,n,!1):r!=null&&Rs(t,!!l,r,!0);return;case"textarea":Le("invalid",t),f=h=l=null;for(p in r)if(r.hasOwnProperty(p)&&(T=r[p],T!=null))switch(p){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:rt(t,n,p,T,r,null)}Cs(t,l,h,f);return;case"option":for(N in r)if(r.hasOwnProperty(N)&&(l=r[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:rt(t,n,N,l,r,null)}return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(l=0;l<yo.length;l++)Le(yo[l],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in r)if(r.hasOwnProperty(U)&&(l=r[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:rt(t,n,U,l,r,null)}return;default:if(ga(n)){for(F in r)r.hasOwnProperty(F)&&(l=r[F],l!==void 0&&_d(t,n,F,l,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(l=r[T],l!=null&&rt(t,n,T,l,r,null))}function aT(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,T=null,N=null,U=null,F=null;for(q in r){var X=r[q];if(r.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":N=X;default:l.hasOwnProperty(q)||rt(t,n,q,null,l,X)}}for(var z in l){var q=l[z];if(X=r[z],l.hasOwnProperty(z)&&(q!=null||X!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":U=q;break;case"defaultChecked":F=q;break;case"value":p=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==X&&rt(t,n,z,q,l,X)}}pa(t,p,T,N,U,F,f,h);return;case"select":q=p=T=z=null;for(f in r)if(N=r[f],r.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":q=N;default:l.hasOwnProperty(f)||rt(t,n,f,null,l,N)}for(h in l)if(f=l[h],N=r[h],l.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":z=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==N&&rt(t,n,h,f,l,N)}n=T,r=p,l=q,z!=null?Rs(t,!!r,z,!1):!!l!=!!r&&(n!=null?Rs(t,!!r,n,!0):Rs(t,!!r,r?[]:"",!1));return;case"textarea":q=z=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:rt(t,n,T,null,l,h)}for(p in l)if(h=l[p],f=r[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&rt(t,n,p,h,l,f)}gu(t,z,q);return;case"option":for(var oe in r)if(z=r[oe],r.hasOwnProperty(oe)&&z!=null&&!l.hasOwnProperty(oe))switch(oe){case"selected":t.selected=!1;break;default:rt(t,n,oe,null,l,z)}for(N in l)if(z=l[N],q=r[N],l.hasOwnProperty(N)&&z!==q&&(z!=null||q!=null))switch(N){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:rt(t,n,N,z,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in r)z=r[Ee],r.hasOwnProperty(Ee)&&z!=null&&!l.hasOwnProperty(Ee)&&rt(t,n,Ee,null,l,z);for(U in l)if(z=l[U],q=r[U],l.hasOwnProperty(U)&&z!==q&&(z!=null||q!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:rt(t,n,U,z,l,q)}return;default:if(ga(n)){for(var at in r)z=r[at],r.hasOwnProperty(at)&&z!==void 0&&!l.hasOwnProperty(at)&&_d(t,n,at,void 0,l,z);for(F in l)z=l[F],q=r[F],!l.hasOwnProperty(F)||z===q||z===void 0&&q===void 0||_d(t,n,F,z,l,q);return}}for(var L in r)z=r[L],r.hasOwnProperty(L)&&z!=null&&!l.hasOwnProperty(L)&&rt(t,n,L,null,l,z);for(X in l)z=l[X],q=r[X],!l.hasOwnProperty(X)||z===q||z==null&&q==null||rt(t,n,X,z,l,q)}function u0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,p=h.initiatorType,T=h.duration;if(f&&T&&u0(p)){for(p=0,T=h.responseEnd,l+=1;l<r.length;l++){var N=r[l],U=N.startTime;if(U>T)break;var F=N.transferSize,X=N.initiatorType;F&&u0(X)&&(N=N.responseEnd,p+=F*(N<T?1:(T-U)/(N-U)))}if(--l,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var vd=null,Ed=null;function vc(t){return t.nodeType===9?t:t.ownerDocument}function c0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function bd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Td=null;function oT(){var t=window.event;return t&&t.type==="popstate"?t===Td?!1:(Td=t,!0):(Td=null,!1)}var f0=typeof setTimeout=="function"?setTimeout:void 0,uT=typeof clearTimeout=="function"?clearTimeout:void 0,d0=typeof Promise=="function"?Promise:void 0,cT=typeof queueMicrotask=="function"?queueMicrotask:typeof d0<"u"?function(t){return d0.resolve(null).then(t).catch(hT)}:f0;function hT(t){setTimeout(function(){throw t})}function Zs(t){return t==="head"}function m0(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),Za(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")vo(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,vo(r);for(var f=r.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[bi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&vo(t.ownerDocument.body);r=h}while(r);Za(n)}function p0(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function Ad(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Ad(r),da(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function fT(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[bi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Kn(t.nextSibling),t===null)break}return null}function dT(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Kn(t.nextSibling),t===null))return null;return t}function g0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Kn(t.nextSibling),t===null))return null;return t}function Sd(t){return t.data==="$?"||t.data==="$~"}function xd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function mT(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Kn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var wd=null;function y0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Kn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function _0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function v0(t,n,r){switch(n=vc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function vo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);da(t)}var Xn=new Map,E0=new Set;function Ec(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var fs=ie.d;ie.d={f:pT,r:gT,D:yT,C:_T,L:vT,m:ET,X:TT,S:bT,M:AT};function pT(){var t=fs.f(),n=hc();return t||n}function gT(t){var n=Pn(t);n!==null&&n.tag===5&&n.type==="form"?jg(n):fs.r(t)}var Ka=typeof document>"u"?null:document;function b0(t,n,r){var l=Ka;if(l&&typeof n=="string"&&n){var h=pn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),E0.has(h)||(E0.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Wt(n,"link",t),Nt(n),l.head.appendChild(n)))}}function yT(t){fs.D(t),b0("dns-prefetch",t,null)}function _T(t,n){fs.C(t,n),b0("preconnect",t,n)}function vT(t,n,r){fs.L(t,n,r);var l=Ka;if(l&&t&&n){var h='link[rel="preload"][as="'+pn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+pn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+pn(r.imageSizes)+'"]')):h+='[href="'+pn(t)+'"]';var f=h;switch(n){case"style":f=Xa(t);break;case"script":f=$a(t)}Xn.has(f)||(t=x({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Xn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Eo(f))||n==="script"&&l.querySelector(bo(f))||(n=l.createElement("link"),Wt(n,"link",t),Nt(n),l.head.appendChild(n)))}}function ET(t,n){fs.m(t,n);var r=Ka;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+pn(l)+'"][href="'+pn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=$a(t)}if(!Xn.has(f)&&(t=x({rel:"modulepreload",href:t},n),Xn.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(bo(f)))return}l=r.createElement("link"),Wt(l,"link",t),Nt(l),r.head.appendChild(l)}}}function bT(t,n,r){fs.S(t,n,r);var l=Ka;if(l&&t){var h=Ai(l).hoistableStyles,f=Xa(t);n=n||"default";var p=h.get(f);if(!p){var T={loading:0,preload:null};if(p=l.querySelector(Eo(f)))T.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Xn.get(f))&&Rd(t,r);var N=p=l.createElement("link");Nt(N),Wt(N,"link",t),N._p=new Promise(function(U,F){N.onload=U,N.onerror=F}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,bc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:T},h.set(f,p)}}}function TT(t,n){fs.X(t,n);var r=Ka;if(r&&t){var l=Ai(r).hoistableScripts,h=$a(t),f=l.get(h);f||(f=r.querySelector(bo(h)),f||(t=x({src:t,async:!0},n),(n=Xn.get(h))&&Cd(t,n),f=r.createElement("script"),Nt(f),Wt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function AT(t,n){fs.M(t,n);var r=Ka;if(r&&t){var l=Ai(r).hoistableScripts,h=$a(t),f=l.get(h);f||(f=r.querySelector(bo(h)),f||(t=x({src:t,async:!0,type:"module"},n),(n=Xn.get(h))&&Cd(t,n),f=r.createElement("script"),Nt(f),Wt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function T0(t,n,r,l){var h=(h=we.current)?Ec(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Xa(r.href),r=Ai(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Xa(r.href);var f=Ai(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(Eo(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Xn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Xn.set(t,r),f||ST(h,t,r,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=$a(r),r=Ai(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Xa(t){return'href="'+pn(t)+'"'}function Eo(t){return'link[rel="stylesheet"]['+t+"]"}function A0(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function ST(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Wt(n,"link",r),Nt(n),t.head.appendChild(n))}function $a(t){return'[src="'+pn(t)+'"]'}function bo(t){return"script[async]"+t}function S0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+pn(r.href)+'"]');if(l)return n.instance=l,Nt(l),l;var h=x({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Nt(l),Wt(l,"style",h),bc(l,r.precedence,t),n.instance=l;case"stylesheet":h=Xa(r.href);var f=t.querySelector(Eo(h));if(f)return n.state.loading|=4,n.instance=f,Nt(f),f;l=A0(r),(h=Xn.get(h))&&Rd(l,h),f=(t.ownerDocument||t).createElement("link"),Nt(f);var p=f;return p._p=new Promise(function(T,N){p.onload=T,p.onerror=N}),Wt(f,"link",l),n.state.loading|=4,bc(f,r.precedence,t),n.instance=f;case"script":return f=$a(r.src),(h=t.querySelector(bo(f)))?(n.instance=h,Nt(h),h):(l=r,(h=Xn.get(f))&&(l=x({},r),Cd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Nt(h),Wt(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,bc(l,r.precedence,t));return n.instance}function bc(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var T=l[p];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Rd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Cd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Tc=null;function x0(t,n,r){if(Tc===null){var l=new Map,h=Tc=new Map;h.set(r,l)}else h=Tc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[bi]||f[It]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var T=l.get(p);T?T.push(f):l.set(p,[f])}}return l}function w0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function xT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function R0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function wT(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Xa(l.href),f=n.querySelector(Eo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Ac.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Nt(f);return}f=n.ownerDocument||n,l=A0(l),(h=Xn.get(h))&&Rd(l,h),f=f.createElement("link"),Nt(f);var p=f;p._p=new Promise(function(T,N){p.onload=T,p.onerror=N}),Wt(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Ac.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Id=0;function RT(t,n){return t.stylesheets&&t.count===0&&xc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&xc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Id===0&&(Id=62500*lT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&xc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Id?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Sc=null;function xc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Sc=new Map,n.forEach(CT,t),Sc=null,Ac.call(t))}function CT(t,n){if(!(n.state.loading&4)){var r=Sc.get(t);if(r)var l=r.get(null);else{r=new Map,Sc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||l,f===l&&r.set(null,h),r.set(p,h),this.count++,l=Ac.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var To={$$typeof:ve,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function IT(t,n,r,l,h,f,p,T,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function C0(t,n,r,l,h,f,p,T,N,U,F,X){return t=new IT(t,n,r,p,N,U,F,X,T),n=1,f===!0&&(n|=24),f=In(3,null,null,n),t.current=f,f.stateNode=t,n=of(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},ff(f),t}function I0(t){return t?(t=Ra,t):Ra}function N0(t,n,r,l,h,f){h=I0(h),l.context===null?l.context=h:l.pendingContext=h,l=zs(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Bs(t,l,n),r!==null&&(bn(r,t,n),Wl(r,t,n))}function D0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Nd(t,n){D0(t,n),(t=t.alternate)&&D0(t,n)}function O0(t){if(t.tag===13||t.tag===31){var n=zr(t,67108864);n!==null&&bn(n,t,67108864),Nd(t,67108864)}}function M0(t){if(t.tag===13||t.tag===31){var n=Vn();n=Cr(n);var r=zr(t,n);r!==null&&bn(r,t,n),Nd(t,n)}}var wc=!0;function NT(t,n,r,l){var h=G.T;G.T=null;var f=ie.p;try{ie.p=2,Dd(t,n,r,l)}finally{ie.p=f,G.T=h}}function DT(t,n,r,l){var h=G.T;G.T=null;var f=ie.p;try{ie.p=8,Dd(t,n,r,l)}finally{ie.p=f,G.T=h}}function Dd(t,n,r,l){if(wc){var h=Od(l);if(h===null)yd(t,n,l,Rc,r),k0(t,l);else if(MT(h,t,n,r,l))l.stopPropagation();else if(k0(t,l),n&4&&-1<OT.indexOf(t)){for(;h!==null;){var f=Pn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=yi(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var N=1<<31-At(p);T.entanglements[1]|=N,p&=~N}Li(f),($e&6)===0&&(uc=ge()+500,go(0))}}break;case 31:case 13:T=zr(f,2),T!==null&&bn(T,f,2),hc(),Nd(f,2)}if(f=Od(l),f===null&&yd(t,n,l,Rc,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else yd(t,n,l,null,r)}}function Od(t){return t=Un(t),Md(t)}var Rc=null;function Md(t){if(Rc=null,t=Ti(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=g(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Rc=t,null}function V0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ue()){case gt:return 2;case Wn:return 8;case un:case Je:return 32;case xn:return 268435456;default:return 32}default:return 32}}var Vd=!1,Js=null,Ws=null,er=null,Ao=new Map,So=new Map,tr=[],OT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k0(t,n){switch(t){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":Ao.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":So.delete(n.pointerId)}}function xo(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Pn(n),n!==null&&O0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function MT(t,n,r,l,h){switch(n){case"focusin":return Js=xo(Js,t,n,r,l,h),!0;case"dragenter":return Ws=xo(Ws,t,n,r,l,h),!0;case"mouseover":return er=xo(er,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return Ao.set(f,xo(Ao.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,So.set(f,xo(So.get(f)||null,t,n,r,l,h)),!0}return!1}function L0(t){var n=Ti(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,ni(t.priority,function(){M0(r)});return}}else if(n===31){if(n=g(r),n!==null){t.blockedOn=n,ni(t.priority,function(){M0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Od(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);jl=l,r.target.dispatchEvent(l),jl=null}else return n=Pn(r),n!==null&&O0(n),t.blockedOn=r,!1;n.shift()}return!0}function j0(t,n,r){Cc(t)&&r.delete(n)}function VT(){Vd=!1,Js!==null&&Cc(Js)&&(Js=null),Ws!==null&&Cc(Ws)&&(Ws=null),er!==null&&Cc(er)&&(er=null),Ao.forEach(j0),So.forEach(j0)}function Ic(t,n){t.blockedOn===n&&(t.blockedOn=null,Vd||(Vd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,VT)))}var Nc=null;function P0(t){Nc!==t&&(Nc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Nc===t&&(Nc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Md(l||r)===null)continue;break}var f=Pn(r);f!==null&&(t.splice(n,3),n-=3,Of(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Za(t){function n(N){return Ic(N,t)}Js!==null&&Ic(Js,t),Ws!==null&&Ic(Ws,t),er!==null&&Ic(er,t),Ao.forEach(n),So.forEach(n);for(var r=0;r<tr.length;r++){var l=tr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<tr.length&&(r=tr[0],r.blockedOn===null);)L0(r),r.blockedOn===null&&tr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],p=h[Gt]||null;if(typeof f=="function")p||P0(r);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Gt]||null)T=p.formAction;else if(Md(h)!==null)continue}else T=p.action;typeof T=="function"?r[l+1]=T:(r.splice(l,3),l-=3),P0(r)}}}function U0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function kd(t){this._internalRoot=t}Dc.prototype.render=kd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Vn();N0(r,l,t,n,null,null)},Dc.prototype.unmount=kd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;N0(t.current,2,null,t,null,null),hc(),n[Ei]=null}};function Dc(t){this._internalRoot=t}Dc.prototype.unstable_scheduleHydration=function(t){if(t){var n=hu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<tr.length&&n!==0&&n<tr[r].priority;r++);tr.splice(r,0,t),r===0&&L0(t)}};var z0=e.version;if(z0!=="19.2.3")throw Error(a(527,z0,"19.2.3"));ie.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var kT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oc.isDisabled&&Oc.supportsFiber)try{ei=Oc.inject(kT),Kt=Oc}catch{}}return Ro.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=Qg,f=Kg,p=Xg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=C0(t,1,!1,null,null,r,l,null,h,f,p,U0),t[Ei]=n.current,gd(t),new kd(n)},Ro.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=Qg,p=Kg,T=Xg,N=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(N=r.formState)),n=C0(t,1,!0,n,r??null,l,h,N,f,p,T,U0),n.context=I0(null),r=n.current,l=Vn(),l=Cr(l),h=zs(l),h.callback=null,Bs(r,h,l),r=l,n.current.lanes=r,wr(n,r),Li(n),t[Ei]=n.current,gd(t),new Dc(n)},Ro.version="19.2.3",Ro}var $0;function FT(){if($0)return Pd.exports;$0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Pd.exports=GT(),Pd.exports}var YT=FT();const QT=()=>{};var Z0={};const Dv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},KT=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],g=s[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Ov={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,g=d?s[o+1]:0,y=o+2<s.length,_=y?s[o+2]:0,b=c>>2,x=(c&3)<<4|g>>4;let V=(g&15)<<2|_>>6,H=_&63;y||(H=64,d||(V=64)),a.push(i[b],i[x],i[V],i[H])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Dv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):KT(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const x=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||g==null||_==null||x==null)throw new XT;const V=c<<2|g>>4;if(a.push(V),_!==64){const H=g<<4&240|_>>2;if(a.push(H),x!==64){const W=_<<6&192|x;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class XT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $T=function(s){const e=Dv(s);return Ov.encodeByteArray(e,!0)},Zc=function(s){return $T(s).replace(/\./g,"")},Mv=function(s){try{return Ov.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ZT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const JT=()=>ZT().__FIREBASE_DEFAULTS__,WT=()=>{if(typeof process>"u"||typeof Z0>"u")return;const s=Z0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},eA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Mv(s[1]);return e&&JSON.parse(e)},yh=()=>{try{return QT()||JT()||WT()||eA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Vv=s=>yh()?.emulatorHosts?.[s],tA=s=>{const e=Vv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},kv=()=>yh()?.config,Lv=s=>yh()?.[`_${s}`];class nA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function vl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jv(s){return(await fetch(s,{credentials:"include"})).ok}function iA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Zc(JSON.stringify(i)),Zc(JSON.stringify(d)),""].join(".")}const Vo={};function sA(){const s={prod:[],emulator:[]};for(const e of Object.keys(Vo))Vo[e]?s.emulator.push(e):s.prod.push(e);return s}function rA(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let J0=!1;function Pv(s,e){if(typeof window>"u"||typeof document>"u"||!vl(window.location.host)||Vo[s]===e||Vo[s]||J0)return;Vo[s]=e;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=sA().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function y(V,H){V.setAttribute("width","24"),V.setAttribute("id",H),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{J0=!0,d()},V}function b(V,H){V.setAttribute("id",H),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function x(){const V=rA(a),H=i("text"),W=document.getElementById(H)||document.createElement("span"),re=i("learnmore"),Z=document.getElementById(re)||document.createElement("a"),me=i("preprendIcon"),be=document.getElementById(me)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const ve=V.element;g(ve),b(Z,re);const Ge=_();y(be,me),ve.append(be,W,Z,Ge),document.body.appendChild(ve)}c?(W.innerText="Preview backend disconnected.",be.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(be.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function lA(){const s=yh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function cA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hA(){const s=on();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function fA(){return!lA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dA(){try{return typeof indexedDB=="object"}catch{return!1}}function mA(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const pA="FirebaseError";class As extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=pA,Object.setPrototypeOf(this,As.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xo.prototype.create)}}class Xo{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?gA(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new As(o,g,a)}}function gA(s,e){return s.replace(yA,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const yA=/\{\$([^}]+)}/g;function _A(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function mr(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(W0(c)&&W0(d)){if(!mr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function W0(s){return s!==null&&typeof s=="object"}function $o(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function vA(s,e){const i=new EA(s,e);return i.subscribe.bind(i)}class EA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");bA(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=qd),o.error===void 0&&(o.error=qd),o.complete===void 0&&(o.complete=qd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bA(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function qd(){}function mn(s){return s&&s._delegate?s._delegate:s}class ia{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ea="[DEFAULT]";class TA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new nA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SA(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:AA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AA(s){return s===ea?void 0:s}function SA(s){return s.instantiationMode==="EAGER"}class xA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new TA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ue||(Ue={}));const wA={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},RA=Ue.INFO,CA={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},IA=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=CA[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Om{constructor(e){this.name=e,this._logLevel=RA,this._logHandler=IA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const NA=(s,e)=>e.some(i=>s instanceof i);let e_,t_;function DA(){return e_||(e_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OA(){return t_||(t_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Uv=new WeakMap,im=new WeakMap,zv=new WeakMap,Hd=new WeakMap,Mm=new WeakMap;function MA(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(ur(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Uv.set(i,s)}).catch(()=>{}),Mm.set(e,s),e}function VA(s){if(im.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});im.set(s,e)}let sm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return im.get(s);if(e==="objectStoreNames")return s.objectStoreNames||zv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ur(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function kA(s){sm=s(sm)}function LA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Gd(this),e,...i);return zv.set(a,e.sort?e.sort():[e]),ur(a)}:OA().includes(s)?function(...e){return s.apply(Gd(this),e),ur(Uv.get(this))}:function(...e){return ur(s.apply(Gd(this),e))}}function jA(s){return typeof s=="function"?LA(s):(s instanceof IDBTransaction&&VA(s),NA(s,DA())?new Proxy(s,sm):s)}function ur(s){if(s instanceof IDBRequest)return MA(s);if(Hd.has(s))return Hd.get(s);const e=jA(s);return e!==s&&(Hd.set(s,e),Mm.set(e,s)),e}const Gd=s=>Mm.get(s);function PA(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),g=ur(d);return a&&d.addEventListener("upgradeneeded",y=>{a(ur(d.result),y.oldVersion,y.newVersion,ur(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const UA=["get","getKey","getAll","getAllKeys","count"],zA=["put","add","delete","clear"],Fd=new Map;function n_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Fd.get(e))return Fd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=zA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||UA.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&y.done]))[0]};return Fd.set(e,c),c}kA(s=>({...s,get:(e,i,a)=>n_(e,i)||s.get(e,i,a),has:(e,i)=>!!n_(e,i)||s.has(e,i)}));class BA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(qA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function qA(s){return s.getComponent()?.type==="VERSION"}const rm="@firebase/app",i_="0.14.6";const ys=new Om("@firebase/app"),HA="@firebase/app-compat",GA="@firebase/analytics-compat",FA="@firebase/analytics",YA="@firebase/app-check-compat",QA="@firebase/app-check",KA="@firebase/auth",XA="@firebase/auth-compat",$A="@firebase/database",ZA="@firebase/data-connect",JA="@firebase/database-compat",WA="@firebase/functions",eS="@firebase/functions-compat",tS="@firebase/installations",nS="@firebase/installations-compat",iS="@firebase/messaging",sS="@firebase/messaging-compat",rS="@firebase/performance",aS="@firebase/performance-compat",lS="@firebase/remote-config",oS="@firebase/remote-config-compat",uS="@firebase/storage",cS="@firebase/storage-compat",hS="@firebase/firestore",fS="@firebase/ai",dS="@firebase/firestore-compat",mS="firebase",pS="12.6.0";const am="[DEFAULT]",gS={[rm]:"fire-core",[HA]:"fire-core-compat",[FA]:"fire-analytics",[GA]:"fire-analytics-compat",[QA]:"fire-app-check",[YA]:"fire-app-check-compat",[KA]:"fire-auth",[XA]:"fire-auth-compat",[$A]:"fire-rtdb",[ZA]:"fire-data-connect",[JA]:"fire-rtdb-compat",[WA]:"fire-fn",[eS]:"fire-fn-compat",[tS]:"fire-iid",[nS]:"fire-iid-compat",[iS]:"fire-fcm",[sS]:"fire-fcm-compat",[rS]:"fire-perf",[aS]:"fire-perf-compat",[lS]:"fire-rc",[oS]:"fire-rc-compat",[uS]:"fire-gcs",[cS]:"fire-gcs-compat",[hS]:"fire-fst",[dS]:"fire-fst-compat",[fS]:"fire-vertex","fire-js":"fire-js",[mS]:"fire-js-all"};const Jc=new Map,yS=new Map,lm=new Map;function s_(s,e){try{s.container.addComponent(e)}catch(i){ys.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function hl(s){const e=s.name;if(lm.has(e))return ys.debug(`There were multiple attempts to register component ${e}.`),!1;lm.set(e,s);for(const i of Jc.values())s_(i,s);for(const i of yS.values())s_(i,s);return!0}function Vm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Zn(s){return s==null?!1:s.settings!==void 0}const _S={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cr=new Xo("app","Firebase",_S);class vS{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}const El=pS;function Bv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:am,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw cr.create("bad-app-name",{appName:String(o)});if(i||(i=kv()),!i)throw cr.create("no-options");const c=Jc.get(o);if(c){if(mr(i,c.options)&&mr(a,c.config))return c;throw cr.create("duplicate-app",{appName:o})}const d=new xA(o);for(const y of lm.values())d.addComponent(y);const g=new vS(i,a,d);return Jc.set(o,g),g}function qv(s=am){const e=Jc.get(s);if(!e&&s===am&&kv())return Bv();if(!e)throw cr.create("no-app",{appName:s});return e}function hr(s,e,i){let a=gS[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ys.warn(d.join(" "));return}hl(new ia(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const ES="firebase-heartbeat-database",bS=1,zo="firebase-heartbeat-store";let Yd=null;function Hv(){return Yd||(Yd=PA(ES,bS,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(zo)}catch(i){console.warn(i)}}}}).catch(s=>{throw cr.create("idb-open",{originalErrorMessage:s.message})})),Yd}async function TS(s){try{const i=(await Hv()).transaction(zo),a=await i.objectStore(zo).get(Gv(s));return await i.done,a}catch(e){if(e instanceof As)ys.warn(e.message);else{const i=cr.create("idb-get",{originalErrorMessage:e?.message});ys.warn(i.message)}}}async function r_(s,e){try{const a=(await Hv()).transaction(zo,"readwrite");await a.objectStore(zo).put(e,Gv(s)),await a.done}catch(i){if(i instanceof As)ys.warn(i.message);else{const a=cr.create("idb-set",{originalErrorMessage:i?.message});ys.warn(a.message)}}}function Gv(s){return`${s.name}!${s.options.appId}`}const AS=1024,SS=30;class xS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new RS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=a_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>SS){const o=CS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ys.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=a_(),{heartbeatsToSend:i,unsentEntries:a}=wS(this._heartbeatsCache.heartbeats),o=Zc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ys.warn(e),""}}}function a_(){return new Date().toISOString().substring(0,10)}function wS(s,e=AS){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),l_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),l_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class RS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dA()?mA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await TS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return r_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return r_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function l_(s){return Zc(JSON.stringify({version:2,heartbeats:s})).length}function CS(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function IS(s){hl(new ia("platform-logger",e=>new BA(e),"PRIVATE")),hl(new ia("heartbeat",e=>new xS(e),"PRIVATE")),hr(rm,i_,s),hr(rm,i_,"esm2020"),hr("fire-js","")}IS("");var NS="firebase",DS="12.7.0";hr(NS,DS,"app");function Fv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OS=Fv,Yv=new Xo("auth","Firebase",Fv());const Wc=new Om("@firebase/auth");function MS(s,...e){Wc.logLevel<=Ue.WARN&&Wc.warn(`Auth (${El}): ${s}`,...e)}function zc(s,...e){Wc.logLevel<=Ue.ERROR&&Wc.error(`Auth (${El}): ${s}`,...e)}function _s(s,...e){throw km(s,...e)}function Pi(s,...e){return km(s,...e)}function Qv(s,e,i){const a={...OS(),[e]:i};return new Xo("auth","Firebase",a).create(e,{appName:s.name})}function gs(s){return Qv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function km(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Yv.create(s,...e)}function Se(s,e,...i){if(!s)throw km(e,...i)}function ms(s){const e="INTERNAL ASSERTION FAILED: "+s;throw zc(e),new Error(e)}function vs(s,e){s||ms(e)}function om(){return typeof self<"u"&&self.location?.href||""}function VS(){return o_()==="http:"||o_()==="https:"}function o_(){return typeof self<"u"&&self.location?.protocol||null}function kS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VS()||uA()||"connection"in navigator)?navigator.onLine:!0}function LS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Zo{constructor(e,i){this.shortDelay=e,this.longDelay=i,vs(i>e,"Short delay should be less than long delay!"),this.isMobile=aA()||cA()}get(){return kS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Lm(s,e){vs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Kv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const PS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],US=new Zo(3e4,6e4);function Jo(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function bl(s,e,i,a,o={}){return Xv(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const g=$o({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:y,...c};return oA()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&vl(s.emulatorConfig.host)&&(_.credentials="include"),Kv.fetch()(await $v(s,s.config.apiHost,i,g),_)})}async function Xv(s,e,i){s._canInitEmulator=!1;const a={...jS,...e};try{const o=new zS(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Mc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Mc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Mc(s,"user-disabled",d);const b=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Qv(s,b,_);_s(s,b)}}catch(o){if(o instanceof As)throw o;_s(s,"network-request-failed",{message:String(o)})}}async function jm(s,e,i,a,o={}){const c=await bl(s,e,i,a,o);return"mfaPendingCredential"in c&&_s(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function $v(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?Lm(s.config,o):`${s.config.apiScheme}://${o}`;return PS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class zS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Pi(this.auth,"network-request-failed")),US.get())})}}function Mc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Pi(s,e,a);return o.customData._tokenResponse=i,o}async function BS(s,e){return bl(s,"POST","/v1/accounts:delete",e)}async function eh(s,e){return bl(s,"POST","/v1/accounts:lookup",e)}function ko(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qS(s,e=!1){const i=mn(s),a=await i.getIdToken(e),o=Pm(a);Se(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:ko(Qd(o.auth_time)),issuedAtTime:ko(Qd(o.iat)),expirationTime:ko(Qd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Qd(s){return Number(s)*1e3}function Pm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return zc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Mv(i);return o?JSON.parse(o):(zc("Failed to decode base64 JWT payload"),null)}catch(o){return zc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function u_(s){const e=Pm(s);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Bo(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof As&&HS(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function HS({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class GS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class um{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=ko(this.lastLoginAt),this.creationTime=ko(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function th(s){const e=s.auth,i=await s.getIdToken(),a=await Bo(s,eh(e,{idToken:i}));Se(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?Zv(o.providerUserInfo):[],d=YS(s.providerData,c),g=s.isAnonymous,y=!(s.email&&o.passwordHash)&&!d?.length,_=g?y:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new um(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,b)}async function FS(s){const e=mn(s);await th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function YS(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Zv(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function QS(s,e){const i=await Xv(s,{},async()=>{const a=$o({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await $v(s,o,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:a};return s.emulatorConfig&&vl(s.emulatorConfig.host)&&(y.credentials="include"),Kv.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function KS(s,e){return bl(s,"POST","/v2/accounts:revokeToken",Jo(s,e))}class sl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):u_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const i=u_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await QS(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new sl;return a&&(Se(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Se(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Se(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sl,this.toJSON())}_performRefresh(){return ms("not implemented")}}function ir(s,e){Se(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class fi{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new GS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new um(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Bo(this,this.stsTokenManager.getToken(this.auth,e));return Se(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return qS(this,e)}reload(){return FS(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new fi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await th(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(gs(this.auth));const e=await this.getIdToken();return await Bo(this,BS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:x,emailVerified:V,isAnonymous:H,providerData:W,stsTokenManager:re}=i;Se(x&&re,e,"internal-error");const Z=sl.fromJSON(this.name,re);Se(typeof x=="string",e,"internal-error"),ir(a,e.name),ir(o,e.name),Se(typeof V=="boolean",e,"internal-error"),Se(typeof H=="boolean",e,"internal-error"),ir(c,e.name),ir(d,e.name),ir(g,e.name),ir(y,e.name),ir(_,e.name),ir(b,e.name);const me=new fi({uid:x,auth:e,email:o,emailVerified:V,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:Z,createdAt:_,lastLoginAt:b});return W&&Array.isArray(W)&&(me.providerData=W.map(be=>({...be}))),y&&(me._redirectEventId=y),me}static async _fromIdTokenResponse(e,i,a=!1){const o=new sl;o.updateFromServerResponse(i);const c=new fi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await th(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Se(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Zv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new sl;g.updateFromIdToken(a);const y=new fi({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new um(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const c_=new Map;function ps(s){vs(s instanceof Function,"Expected a class definition");let e=c_.get(s);return e?(vs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,c_.set(s,e),e)}class Jv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Jv.type="NONE";const h_=Jv;function Bc(s,e,i){return`firebase:${s}:${e}:${i}`}class rl{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Bc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Bc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await eh(this.auth,{idToken:e}).catch(()=>{});return i?fi._fromGetAccountInfoResponse(this.auth,i,e):null}return fi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new rl(ps(h_),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||ps(h_);const d=Bc(a,e.config.apiKey,e.name);let g=null;for(const _ of i)try{const b=await _._get(d);if(b){let x;if(typeof b=="string"){const V=await eh(e,{idToken:b}).catch(()=>{});if(!V)break;x=await fi._fromGetAccountInfoResponse(e,V,b)}else x=fi._fromJSON(e,b);_!==c&&(g=x),c=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new rl(c,e,a):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new rl(c,e,a))}}function f_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(n1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Wv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(s1(e))return"Blackberry";if(r1(e))return"Webos";if(e1(e))return"Safari";if((e.includes("chrome/")||t1(e))&&!e.includes("edge/"))return"Chrome";if(i1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Wv(s=on()){return/firefox\//i.test(s)}function e1(s=on()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function t1(s=on()){return/crios\//i.test(s)}function n1(s=on()){return/iemobile/i.test(s)}function i1(s=on()){return/android/i.test(s)}function s1(s=on()){return/blackberry/i.test(s)}function r1(s=on()){return/webos/i.test(s)}function Um(s=on()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function XS(s=on()){return Um(s)&&!!window.navigator?.standalone}function $S(){return hA()&&document.documentMode===10}function a1(s=on()){return Um(s)||i1(s)||r1(s)||s1(s)||/windows phone/i.test(s)||n1(s)}function l1(s,e=[]){let i;switch(s){case"Browser":i=f_(on());break;case"Worker":i=`${f_(on())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${El}/${a}`}class ZS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,g)=>{try{const y=e(c);d(y)}catch(y){g(y)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function JS(s,e={}){return bl(s,"GET","/v2/passwordPolicy",Jo(s,e))}const WS=6;class e2{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??WS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class t2{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new d_(this),this.idTokenSubscription=new d_(this),this.beforeStateQueue=new ZS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ps(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await rl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await eh(this,{idToken:e}),a=await fi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Zn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await th(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(gs(this));const i=e?mn(e):null;return i&&Se(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(gs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(gs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JS(this),i=new e2(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xo("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await KS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ps(e)||this._popupRedirectResolver;Se(i,this,"argument-error"),this.redirectPersistenceManager=await rl.create(this,[ps(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,a,o);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=l1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&MS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Wo(s){return mn(s)}class d_{constructor(e){this.auth=e,this.observer=null,this.addObserver=vA(i=>this.observer=i)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function n2(s){zm=s}function i2(s){return zm.loadJS(s)}function s2(){return zm.gapiScript}function r2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function a2(s,e){const i=Vm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(mr(c,e??{}))return o;_s(o,"already-initialized")}return i.initialize({options:e})}function l2(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ps);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function o2(s,e,i){const a=Wo(s);Se(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=o1(e),{host:d,port:g}=u2(e),y=g===null?"":`:${g}`,_={url:`${c}//${d}${y}/`},b=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Se(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Se(mr(_,a.config.emulator)&&mr(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,vl(d)?(jv(`${c}//${d}${y}`),Pv("Auth",!0)):c2()}function o1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function u2(s){const e=o1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:m_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:m_(d)}}}function m_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function c2(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class u1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ms("not implemented")}_getIdTokenResponse(e){return ms("not implemented")}_linkToIdToken(e,i){return ms("not implemented")}_getReauthenticationResolver(e){return ms("not implemented")}}async function al(s,e){return jm(s,"POST","/v1/accounts:signInWithIdp",Jo(s,e))}const h2="http://localhost";class sa extends u1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):_s("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new sa(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return al(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,al(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,al(e,i)}buildRequest(){const e={requestUri:h2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=$o(i)}return e}}class c1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class eu extends c1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class sr extends eu{constructor(){super("facebook.com")}static credential(e){return sa._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sr.credential(e.oauthAccessToken)}catch{return null}}}sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";sr.PROVIDER_ID="facebook.com";class rr extends eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return sa._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return rr.credential(i,a)}catch{return null}}}rr.GOOGLE_SIGN_IN_METHOD="google.com";rr.PROVIDER_ID="google.com";class ar extends eu{constructor(){super("github.com")}static credential(e){return sa._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.GITHUB_SIGN_IN_METHOD="github.com";ar.PROVIDER_ID="github.com";class lr extends eu{constructor(){super("twitter.com")}static credential(e,i){return sa._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return lr.credential(i,a)}catch{return null}}}lr.TWITTER_SIGN_IN_METHOD="twitter.com";lr.PROVIDER_ID="twitter.com";async function f2(s,e){return jm(s,"POST","/v1/accounts:signUp",Jo(s,e))}class Es{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await fi._fromIdTokenResponse(e,a,o),d=p_(a);return new Es({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=p_(a);return new Es({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function p_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function d2(s){if(Zn(s.app))return Promise.reject(gs(s));const e=Wo(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Es({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await f2(e,{returnSecureToken:!0}),a=await Es._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class nh extends As{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,nh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new nh(e,i,a,o)}}function h1(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?nh._fromErrorAndOperation(s,c,e,a):c})}async function m2(s,e,i=!1){const a=await Bo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Es._forOperation(s,"link",a)}async function p2(s,e,i=!1){const{auth:a}=s;if(Zn(a.app))return Promise.reject(gs(a));const o="reauthenticate";try{const c=await Bo(s,h1(a,o,e,s),i);Se(c.idToken,a,"internal-error");const d=Pm(c.idToken);Se(d,a,"internal-error");const{sub:g}=d;return Se(s.uid===g,a,"user-mismatch"),Es._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&_s(a,"user-mismatch"),c}}async function g2(s,e,i=!1){if(Zn(s.app))return Promise.reject(gs(s));const a="signIn",o=await h1(s,a,e),c=await Es._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}async function y2(s,e){return jm(s,"POST","/v1/accounts:signInWithCustomToken",Jo(s,e))}async function _2(s,e){if(Zn(s.app))return Promise.reject(gs(s));const i=Wo(s),a=await y2(i,{token:e,returnSecureToken:!0}),o=await Es._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function v2(s,e,i,a){return mn(s).onIdTokenChanged(e,i,a)}function E2(s,e,i){return mn(s).beforeAuthStateChanged(e,i)}function b2(s,e,i,a){return mn(s).onAuthStateChanged(e,i,a)}const ih="__sak";class f1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ih,"1"),this.storage.removeItem(ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const T2=1e3,A2=10;class d1 extends f1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=a1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);$S()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,A2):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},T2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}d1.type="LOCAL";const S2=d1;class m1 extends f1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}m1.type="SESSION";const p1=m1;function x2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class _h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new _h(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async _=>_(i.origin,c)),y=await x2(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];function Bm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class w2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const _=Bm("",20);o.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(x){const V=x;if(V.data.eventId===_)switch(V.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(V.data.response);break;default:clearTimeout(b),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ui(){return window}function R2(s){Ui().location.href=s}function g1(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function C2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function I2(){return navigator?.serviceWorker?.controller||null}function N2(){return g1()?self:null}const y1="firebaseLocalStorageDb",D2=1,sh="firebaseLocalStorage",_1="fbase_key";class tu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function vh(s,e){return s.transaction([sh],e?"readwrite":"readonly").objectStore(sh)}function O2(){const s=indexedDB.deleteDatabase(y1);return new tu(s).toPromise()}function cm(){const s=indexedDB.open(y1,D2);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(sh,{keyPath:_1})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(sh)?e(a):(a.close(),await O2(),e(await cm()))})})}async function g_(s,e,i){const a=vh(s,!0).put({[_1]:e,value:i});return new tu(a).toPromise()}async function M2(s,e){const i=vh(s,!1).get(e),a=await new tu(i).toPromise();return a===void 0?null:a.value}function y_(s,e){const i=vh(s,!0).delete(e);return new tu(i).toPromise()}const V2=800,k2=3;class v1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>k2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return g1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(N2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await C2(),!this.activeServiceWorker)return;this.sender=new w2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||I2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cm();return await g_(e,ih,"1"),await y_(e,ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>g_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>M2(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>y_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=vh(o,!1).getAll();return new tu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),V2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}v1.type="LOCAL";const L2=v1;new Zo(3e4,6e4);function j2(s,e){return e?ps(e):(Se(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class qm extends u1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return al(e,this._buildIdpRequest())}_linkToIdToken(e,i){return al(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return al(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function P2(s){return g2(s.auth,new qm(s),s.bypassAuthState)}function U2(s){const{auth:e,user:i}=s;return Se(i,e,"internal-error"),p2(i,new qm(s),s.bypassAuthState)}async function z2(s){const{auth:e,user:i}=s;return Se(i,e,"internal-error"),m2(i,new qm(s),s.bypassAuthState)}class E1{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return P2;case"linkViaPopup":case"linkViaRedirect":return z2;case"reauthViaPopup":case"reauthViaRedirect":return U2;default:_s(this.auth,"internal-error")}}resolve(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const B2=new Zo(2e3,1e4);class il extends E1{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,il.currentPopupAction&&il.currentPopupAction.cancel(),il.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){vs(this.filter.length===1,"Popup operations only handle one event");const e=Bm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,il.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,B2.get())};e()}}il.currentPopupAction=null;const q2="pendingRedirect",qc=new Map;class H2 extends E1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=qc.get(this.auth._key());if(!e){try{const a=await G2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}qc.set(this.auth._key(),e)}return this.bypassAuthState||qc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function G2(s,e){const i=Q2(e),a=Y2(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function F2(s,e){qc.set(s._key(),e)}function Y2(s){return ps(s._redirectPersistence)}function Q2(s){return Bc(q2,s.config.apiKey,s.name)}async function K2(s,e,i=!1){if(Zn(s.app))return Promise.reject(gs(s));const a=Wo(s),o=j2(a,e),d=await new H2(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const X2=600*1e3;class $2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Z2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!b1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Pi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=X2&&this.cachedEventUids.clear(),this.cachedEventUids.has(__(e))}saveEventToCache(e){this.cachedEventUids.add(__(e)),this.lastProcessedEventTime=Date.now()}}function __(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function b1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function Z2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return b1(s);default:return!1}}async function J2(s,e={}){return bl(s,"GET","/v1/projects",e)}const W2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ex=/^https?/;async function tx(s){if(s.config.emulator)return;const{authorizedDomains:e}=await J2(s);for(const i of e)try{if(nx(i))return}catch{}_s(s,"unauthorized-domain")}function nx(s){const e=om(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!ex.test(i))return!1;if(W2.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const ix=new Zo(3e4,6e4);function v_(){const s=Ui().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function sx(s){return new Promise((e,i)=>{function a(){v_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{v_(),i(Pi(s,"network-request-failed"))},timeout:ix.get()})}if(Ui().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ui().gapi?.load)a();else{const o=r2("iframefcb");return Ui()[o]=()=>{gapi.load?a():i(Pi(s,"network-request-failed"))},i2(`${s2()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Hc=null,e})}let Hc=null;function rx(s){return Hc=Hc||sx(s),Hc}const ax=new Zo(5e3,15e3),lx="__/auth/iframe",ox="emulator/auth/iframe",ux={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hx(s){const e=s.config;Se(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Lm(e,ox):`https://${s.config.authDomain}/${lx}`,a={apiKey:e.apiKey,appName:s.name,v:El},o=cx.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${$o(a).slice(1)}`}async function fx(s){const e=await rx(s),i=Ui().gapi;return Se(i,s,"internal-error"),e.open({where:document.body,url:hx(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ux,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Pi(s,"network-request-failed"),g=Ui().setTimeout(()=>{c(d)},ax.get());function y(){Ui().clearTimeout(g),o(a)}a.ping(y).then(y,()=>{c(d)})}))}const dx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mx=500,px=600,gx="_blank",yx="http://localhost";class E_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _x(s,e,i,a=mx,o=px){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const y={...dx,width:a.toString(),height:o.toString(),top:c,left:d},_=on().toLowerCase();i&&(g=t1(_)?gx:i),Wv(_)&&(e=e||yx,y.scrollbars="yes");const b=Object.entries(y).reduce((V,[H,W])=>`${V}${H}=${W},`,"");if(XS(_)&&g!=="_self")return vx(e||"",g),new E_(null);const x=window.open(e||"",g,b);Se(x,s,"popup-blocked");try{x.focus()}catch{}return new E_(x)}function vx(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const Ex="__/auth/handler",bx="emulator/auth/handler",Tx=encodeURIComponent("fac");async function b_(s,e,i,a,o,c){Se(s.config.authDomain,s,"auth-domain-config-required"),Se(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:El,eventId:o};if(e instanceof c1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",_A(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,x]of Object.entries({}))d[b]=x}if(e instanceof eu){const b=e.getScopes().filter(x=>x!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const y=await s._getAppCheckToken(),_=y?`#${Tx}=${encodeURIComponent(y)}`:"";return`${Ax(s)}?${$o(g).slice(1)}${_}`}function Ax({config:s}){return s.emulator?Lm(s,bx):`https://${s.authDomain}/${Ex}`}const Kd="webStorageSupport";class Sx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=p1,this._completeRedirectFn=K2,this._overrideRedirectResult=F2}async _openPopup(e,i,a,o){vs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await b_(e,i,a,om(),o);return _x(e,c,Bm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await b_(e,i,a,om(),o);return R2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(vs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await fx(e),a=new $2(e);return i.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Kd,{type:Kd},o=>{const c=o?.[0]?.[Kd];c!==void 0&&i(!!c),_s(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=tx(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return a1()||e1()||Um()}}const xx=Sx;var T_="@firebase/auth",A_="1.12.0";class wx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Rx(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Cx(s){hl(new ia("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;Se(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:l1(s)},_=new t2(a,o,c,y);return l2(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),hl(new ia("auth-internal",e=>{const i=Wo(e.getProvider("auth").getImmediate());return(a=>new wx(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),hr(T_,A_,Rx(s)),hr(T_,A_,"esm2020")}const Ix=300,Nx=Lv("authIdTokenMaxAge")||Ix;let S_=null;const Dx=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Nx)return;const o=i?.token;S_!==o&&(S_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Ox(s=qv()){const e=Vm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=a2(s,{popupRedirectResolver:xx,persistence:[L2,S2,p1]}),a=Lv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Dx(c.toString());E2(i,d,()=>d(i.currentUser)),v2(i,g=>d(g))}}const o=Vv("auth");return o&&o2(i,`http://${o}`),i}function Mx(){return document.getElementsByTagName("head")?.[0]??document}n2({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=Pi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",Mx().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Cx("Browser");var x_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fr,T1;(function(){var s;function e(I,w){function C(){}C.prototype=w.prototype,I.F=w.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(S,D,k){for(var R=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)R[nt-2]=arguments[nt];return w.prototype[D].apply(S,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,w,C){C||(C=0);const S=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)S[D]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(D=0;D<16;++D)S[D]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=I.g[0],C=I.g[1],D=I.g[2];let k=I.g[3],R;R=w+(k^C&(D^k))+S[0]+3614090360&4294967295,w=C+(R<<7&4294967295|R>>>25),R=k+(D^w&(C^D))+S[1]+3905402710&4294967295,k=w+(R<<12&4294967295|R>>>20),R=D+(C^k&(w^C))+S[2]+606105819&4294967295,D=k+(R<<17&4294967295|R>>>15),R=C+(w^D&(k^w))+S[3]+3250441966&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(k^C&(D^k))+S[4]+4118548399&4294967295,w=C+(R<<7&4294967295|R>>>25),R=k+(D^w&(C^D))+S[5]+1200080426&4294967295,k=w+(R<<12&4294967295|R>>>20),R=D+(C^k&(w^C))+S[6]+2821735955&4294967295,D=k+(R<<17&4294967295|R>>>15),R=C+(w^D&(k^w))+S[7]+4249261313&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(k^C&(D^k))+S[8]+1770035416&4294967295,w=C+(R<<7&4294967295|R>>>25),R=k+(D^w&(C^D))+S[9]+2336552879&4294967295,k=w+(R<<12&4294967295|R>>>20),R=D+(C^k&(w^C))+S[10]+4294925233&4294967295,D=k+(R<<17&4294967295|R>>>15),R=C+(w^D&(k^w))+S[11]+2304563134&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(k^C&(D^k))+S[12]+1804603682&4294967295,w=C+(R<<7&4294967295|R>>>25),R=k+(D^w&(C^D))+S[13]+4254626195&4294967295,k=w+(R<<12&4294967295|R>>>20),R=D+(C^k&(w^C))+S[14]+2792965006&4294967295,D=k+(R<<17&4294967295|R>>>15),R=C+(w^D&(k^w))+S[15]+1236535329&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(D^k&(C^D))+S[1]+4129170786&4294967295,w=C+(R<<5&4294967295|R>>>27),R=k+(C^D&(w^C))+S[6]+3225465664&4294967295,k=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(k^w))+S[11]+643717713&4294967295,D=k+(R<<14&4294967295|R>>>18),R=C+(k^w&(D^k))+S[0]+3921069994&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^k&(C^D))+S[5]+3593408605&4294967295,w=C+(R<<5&4294967295|R>>>27),R=k+(C^D&(w^C))+S[10]+38016083&4294967295,k=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(k^w))+S[15]+3634488961&4294967295,D=k+(R<<14&4294967295|R>>>18),R=C+(k^w&(D^k))+S[4]+3889429448&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^k&(C^D))+S[9]+568446438&4294967295,w=C+(R<<5&4294967295|R>>>27),R=k+(C^D&(w^C))+S[14]+3275163606&4294967295,k=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(k^w))+S[3]+4107603335&4294967295,D=k+(R<<14&4294967295|R>>>18),R=C+(k^w&(D^k))+S[8]+1163531501&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^k&(C^D))+S[13]+2850285829&4294967295,w=C+(R<<5&4294967295|R>>>27),R=k+(C^D&(w^C))+S[2]+4243563512&4294967295,k=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(k^w))+S[7]+1735328473&4294967295,D=k+(R<<14&4294967295|R>>>18),R=C+(k^w&(D^k))+S[12]+2368359562&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(C^D^k)+S[5]+4294588738&4294967295,w=C+(R<<4&4294967295|R>>>28),R=k+(w^C^D)+S[8]+2272392833&4294967295,k=w+(R<<11&4294967295|R>>>21),R=D+(k^w^C)+S[11]+1839030562&4294967295,D=k+(R<<16&4294967295|R>>>16),R=C+(D^k^w)+S[14]+4259657740&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^k)+S[1]+2763975236&4294967295,w=C+(R<<4&4294967295|R>>>28),R=k+(w^C^D)+S[4]+1272893353&4294967295,k=w+(R<<11&4294967295|R>>>21),R=D+(k^w^C)+S[7]+4139469664&4294967295,D=k+(R<<16&4294967295|R>>>16),R=C+(D^k^w)+S[10]+3200236656&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^k)+S[13]+681279174&4294967295,w=C+(R<<4&4294967295|R>>>28),R=k+(w^C^D)+S[0]+3936430074&4294967295,k=w+(R<<11&4294967295|R>>>21),R=D+(k^w^C)+S[3]+3572445317&4294967295,D=k+(R<<16&4294967295|R>>>16),R=C+(D^k^w)+S[6]+76029189&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^k)+S[9]+3654602809&4294967295,w=C+(R<<4&4294967295|R>>>28),R=k+(w^C^D)+S[12]+3873151461&4294967295,k=w+(R<<11&4294967295|R>>>21),R=D+(k^w^C)+S[15]+530742520&4294967295,D=k+(R<<16&4294967295|R>>>16),R=C+(D^k^w)+S[2]+3299628645&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(D^(C|~k))+S[0]+4096336452&4294967295,w=C+(R<<6&4294967295|R>>>26),R=k+(C^(w|~D))+S[7]+1126891415&4294967295,k=w+(R<<10&4294967295|R>>>22),R=D+(w^(k|~C))+S[14]+2878612391&4294967295,D=k+(R<<15&4294967295|R>>>17),R=C+(k^(D|~w))+S[5]+4237533241&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~k))+S[12]+1700485571&4294967295,w=C+(R<<6&4294967295|R>>>26),R=k+(C^(w|~D))+S[3]+2399980690&4294967295,k=w+(R<<10&4294967295|R>>>22),R=D+(w^(k|~C))+S[10]+4293915773&4294967295,D=k+(R<<15&4294967295|R>>>17),R=C+(k^(D|~w))+S[1]+2240044497&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~k))+S[8]+1873313359&4294967295,w=C+(R<<6&4294967295|R>>>26),R=k+(C^(w|~D))+S[15]+4264355552&4294967295,k=w+(R<<10&4294967295|R>>>22),R=D+(w^(k|~C))+S[6]+2734768916&4294967295,D=k+(R<<15&4294967295|R>>>17),R=C+(k^(D|~w))+S[13]+1309151649&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~k))+S[4]+4149444226&4294967295,w=C+(R<<6&4294967295|R>>>26),R=k+(C^(w|~D))+S[11]+3174756917&4294967295,k=w+(R<<10&4294967295|R>>>22),R=D+(w^(k|~C))+S[2]+718787259&4294967295,D=k+(R<<15&4294967295|R>>>17),R=C+(k^(D|~w))+S[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+k&4294967295}a.prototype.v=function(I,w){w===void 0&&(w=I.length);const C=w-this.blockSize,S=this.C;let D=this.h,k=0;for(;k<w;){if(D==0)for(;k<=C;)o(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<w;)if(S[D++]=I.charCodeAt(k++),D==this.blockSize){o(this,S),D=0;break}}else for(;k<w;)if(S[D++]=I[k++],D==this.blockSize){o(this,S),D=0;break}}this.h=D,this.o+=w},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,C=0;C<4;++C)for(let S=0;S<32;S+=8)I[w++]=this.g[C]>>>S&255;return I};function c(I,w){var C=g;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=w(I)}function d(I,w){this.h=w;const C=[];let S=!0;for(let D=I.length-1;D>=0;D--){const k=I[D]|0;S&&k==w||(C[D]=k,S=!1)}this.g=C}var g={};function y(I){return-128<=I&&I<128?c(I,function(w){return new d([w|0],w<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return x;if(I<0)return Z(_(-I));const w=[];let C=1;for(let S=0;I>=C;S++)w[S]=I/C|0,C*=4294967296;return new d(w,0)}function b(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return Z(b(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(w,8));let S=x;for(let k=0;k<I.length;k+=8){var D=Math.min(8,I.length-k);const R=parseInt(I.substring(k,k+D),w);D<8?(D=_(Math.pow(w,D)),S=S.j(D).add(_(R))):(S=S.j(C),S=S.add(_(R)))}return S}var x=y(0),V=y(1),H=y(16777216);s=d.prototype,s.m=function(){if(re(this))return-Z(this).m();let I=0,w=1;for(let C=0;C<this.g.length;C++){const S=this.i(C);I+=(S>=0?S:4294967296+S)*w,w*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(W(this))return"0";if(re(this))return"-"+Z(this).toString(I);const w=_(Math.pow(I,6));var C=this;let S="";for(;;){const D=Ge(C,w).g;C=me(C,D.j(w));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=D,W(C))return k+S;for(;k.length<6;)k="0"+k;S=k+S}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function W(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function re(I){return I.h==-1}s.l=function(I){return I=me(this,I),re(I)?-1:W(I)?0:1};function Z(I){const w=I.g.length,C=[];for(let S=0;S<w;S++)C[S]=~I.g[S];return new d(C,~I.h).add(V)}s.abs=function(){return re(this)?Z(this):this},s.add=function(I){const w=Math.max(this.g.length,I.g.length),C=[];let S=0;for(let D=0;D<=w;D++){let k=S+(this.i(D)&65535)+(I.i(D)&65535),R=(k>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);S=R>>>16,k&=65535,R&=65535,C[D]=R<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function me(I,w){return I.add(Z(w))}s.j=function(I){if(W(this)||W(I))return x;if(re(this))return re(I)?Z(this).j(Z(I)):Z(Z(this).j(I));if(re(I))return Z(this.j(Z(I)));if(this.l(H)<0&&I.l(H)<0)return _(this.m()*I.m());const w=this.g.length+I.g.length,C=[];for(var S=0;S<2*w;S++)C[S]=0;for(S=0;S<this.g.length;S++)for(let D=0;D<I.g.length;D++){const k=this.i(S)>>>16,R=this.i(S)&65535,nt=I.i(D)>>>16,vt=I.i(D)&65535;C[2*S+2*D]+=R*vt,be(C,2*S+2*D),C[2*S+2*D+1]+=k*vt,be(C,2*S+2*D+1),C[2*S+2*D+1]+=R*nt,be(C,2*S+2*D+1),C[2*S+2*D+2]+=k*nt,be(C,2*S+2*D+2)}for(I=0;I<w;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=w;I<2*w;I++)C[I]=0;return new d(C,0)};function be(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function ve(I,w){this.g=I,this.h=w}function Ge(I,w){if(W(w))throw Error("division by zero");if(W(I))return new ve(x,x);if(re(I))return w=Ge(Z(I),w),new ve(Z(w.g),Z(w.h));if(re(w))return w=Ge(I,Z(w)),new ve(Z(w.g),w.h);if(I.g.length>30){if(re(I)||re(w))throw Error("slowDivide_ only works with positive integers.");for(var C=V,S=w;S.l(I)<=0;)C=qe(C),S=qe(S);var D=Me(C,1),k=Me(S,1);for(S=Me(S,2),C=Me(C,2);!W(S);){var R=k.add(S);R.l(I)<=0&&(D=D.add(C),k=R),S=Me(S,1),C=Me(C,1)}return w=me(I,D.j(w)),new ve(D,w)}for(D=x;I.l(w)>=0;){for(C=Math.max(1,Math.floor(I.m()/w.m())),S=Math.ceil(Math.log(C)/Math.LN2),S=S<=48?1:Math.pow(2,S-48),k=_(C),R=k.j(w);re(R)||R.l(I)>0;)C-=S,k=_(C),R=k.j(w);W(k)&&(k=V),D=D.add(k),I=me(I,R)}return new ve(D,I)}s.B=function(I){return Ge(this,I).h},s.and=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let S=0;S<w;S++)C[S]=this.i(S)&I.i(S);return new d(C,this.h&I.h)},s.or=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let S=0;S<w;S++)C[S]=this.i(S)|I.i(S);return new d(C,this.h|I.h)},s.xor=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let S=0;S<w;S++)C[S]=this.i(S)^I.i(S);return new d(C,this.h^I.h)};function qe(I){const w=I.g.length+1,C=[];for(let S=0;S<w;S++)C[S]=I.i(S)<<1|I.i(S-1)>>>31;return new d(C,I.h)}function Me(I,w){const C=w>>5;w%=32;const S=I.g.length-C,D=[];for(let k=0;k<S;k++)D[k]=w>0?I.i(k+C)>>>w|I.i(k+C+1)<<32-w:I.i(k+C);return new d(D,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,T1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,fr=d}).apply(typeof x_<"u"?x_:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var A1,Io,S1,Gc,hm,x1,w1,R1;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var m=0;m<u.length;++m){var E=u[m];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var E=a;u=u.split(".");for(var A=0;A<u.length-1;A++){var j=u[A];if(!(j in E))break e;E=E[j]}u=u[u.length-1],A=E[u],m=m(A),m!=A&&m!=null&&e(E,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var E=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&E.push([A,m[A]]);return E}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,E){return u.call.apply(u.bind,arguments)}function _(u,m,E){return _=y,_.apply(null,arguments)}function b(u,m){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function x(u,m){function E(){}E.prototype=m.prototype,u.Z=m.prototype,u.prototype=new E,u.prototype.constructor=u,u.Ob=function(A,j,B){for(var te=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)te[Ie-2]=arguments[Ie];return m.prototype[j].apply(A,te)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const E=Array(m);for(let A=0;A<m;A++)E[A]=u[A];return E}return[]}function W(u,m){for(let A=1;A<arguments.length;A++){const j=arguments[A];var E=typeof j;if(E=E!="object"?E:j?Array.isArray(j)?"array":E:"null",E=="array"||E=="object"&&typeof j.length=="number"){E=u.length||0;const B=j.length||0;u.length=E+B;for(let te=0;te<B;te++)u[E+te]=j[te]}else u.push(j)}}class re{constructor(m,E){this.i=m,this.j=E,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function me(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class be{constructor(){this.h=this.g=null}add(m,E){const A=ve.get();A.set(m,E),this.h?this.h.next=A:this.g=A,this.h=A}}var ve=new re(()=>new Ge,u=>u.reset());class Ge{constructor(){this.next=this.g=this.h=null}set(m,E){this.h=m,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let qe,Me=!1,I=new be,w=()=>{const u=Promise.resolve(void 0);qe=()=>{u.then(C)}};function C(){for(var u;u=me();){try{u.h.call(u.g)}catch(E){Z(E)}var m=ve;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Me=!1}function S(){this.u=this.u,this.C=this.C}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};d.addEventListener("test",E,m),d.removeEventListener("test",E,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function nt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}x(nt,D),nt.prototype.init=function(u,m){const E=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(E=="mouseover"?m=u.fromElement:E=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&nt.Z.h.call(this)},nt.prototype.h=function(){nt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var vt="closure_listenable_"+(Math.random()*1e6|0),G=0;function ie(u,m,E,A,j){this.listener=u,this.proxy=null,this.src=m,this.type=E,this.capture=!!A,this.ha=j,this.key=++G,this.da=this.fa=!1}function he(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function De(u,m,E){for(const A in u)m.call(E,u[A],A,u)}function Ye(u,m){for(const E in u)m.call(void 0,u[E],E,u)}function M(u){const m={};for(const E in u)m[E]=u[E];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(u,m){let E,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(E in A)u[E]=A[E];for(let B=0;B<K.length;B++)E=K[B],Object.prototype.hasOwnProperty.call(A,E)&&(u[E]=A[E])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,m,E,A,j){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const te=we(u,m,A,j);return te>-1?(m=u[te],E||(m.fa=!1)):(m=new ie(m,this.src,B,!!A,j),m.fa=E,u.push(m)),m};function Te(u,m){const E=m.type;if(E in u.g){var A=u.g[E],j=Array.prototype.indexOf.call(A,m,void 0),B;(B=j>=0)&&Array.prototype.splice.call(A,j,1),B&&(he(m),u.g[E].length==0&&(delete u.g[E],u.h--))}}function we(u,m,E,A){for(let j=0;j<u.length;++j){const B=u[j];if(!B.da&&B.listener==m&&B.capture==!!E&&B.ha==A)return j}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),Tt={};function ct(u,m,E,A,j){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ct(u,m[B],E,A,j);return null}return E=pi(E),u&&u[vt]?u.J(m,E,g(A)?!!A.capture:!1,j):Yi(u,m,E,!1,A,j)}function Yi(u,m,E,A,j,B){if(!m)throw Error("Invalid event type");const te=g(j)?!!j.capture:!!j;let Ie=Ut(u);if(Ie||(u[Ve]=Ie=new ae(u)),E=Ie.add(m,E,A,te,B),E.proxy)return E;if(A=Qi(),E.proxy=A,A.src=u,A.listener=E,u.addEventListener)k||(j=te),j===void 0&&(j=!1),u.addEventListener(m.toString(),A,j);else if(u.attachEvent)u.attachEvent(Ln(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Qi(){function u(E){return m.call(u.src,u.listener,E)}const m=Ar;return u}function Ss(u,m,E,A,j){if(Array.isArray(m))for(var B=0;B<m.length;B++)Ss(u,m[B],E,A,j);else A=g(A)?!!A.capture:!!A,E=pi(E),u&&u[vt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],E=we(m,E,A,j),E>-1&&(he(m[E]),Array.prototype.splice.call(m,E,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Ut(u))&&(m=u.g[m.toString()],u=-1,m&&(u=we(m,E,A,j)),(E=u>-1?m[u]:null)&&xs(E))}function xs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[vt])Te(m.i,u);else{var E=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(E,A,u.capture):m.detachEvent?m.detachEvent(Ln(E),A):m.addListener&&m.removeListener&&m.removeListener(A),(E=Ut(m))?(Te(E,u),E.h==0&&(E.src=null,m[Ve]=null)):he(u)}}}function Ln(u){return u in Tt?Tt[u]:Tt[u]="on"+u}function Ar(u,m){if(u.da)u=!0;else{m=new nt(m,this);const E=u.listener,A=u.ha||u.src;u.fa&&xs(u),u=E.call(A,m)}return u}function Ut(u){return u=u[Ve],u instanceof ae?u:null}var Ht="__closure_events_fn_"+(Math.random()*1e9>>>0);function pi(u){return typeof u=="function"?u:(u[Ht]||(u[Ht]=function(m){return u.handleEvent(m)}),u[Ht])}function ee(){S.call(this),this.i=new ae(this),this.M=this,this.G=null}x(ee,S),ee.prototype[vt]=!0,ee.prototype.removeEventListener=function(u,m,E,A){Ss(this,u,m,E,A)};function ne(u,m){var E,A=u.G;if(A)for(E=[];A;A=A.G)E.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var j=m;m=new D(A,u),se(m,j)}j=!0;let B,te;if(E)for(te=E.length-1;te>=0;te--)B=m.g=E[te],j=fe(B,A,!0,m)&&j;if(B=m.g=u,j=fe(B,A,!0,m)&&j,j=fe(B,A,!1,m)&&j,E)for(te=0;te<E.length;te++)B=m.g=E[te],j=fe(B,A,!1,m)&&j}ee.prototype.N=function(){if(ee.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const E=u.g[m];for(let A=0;A<E.length;A++)he(E[A]);delete u.g[m],u.h--}}this.G=null},ee.prototype.J=function(u,m,E,A){return this.i.add(String(u),m,!1,E,A)},ee.prototype.K=function(u,m,E,A){return this.i.add(String(u),m,!0,E,A)};function fe(u,m,E,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let B=0;B<m.length;++B){const te=m[B];if(te&&!te.da&&te.capture==E){const Ie=te.listener,St=te.ha||te.src;te.fa&&Te(u.i,te),j=Ie.call(St,A)!==!1&&j}}return j&&!A.defaultPrevented}function pe(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Y(u){u.g=pe(()=>{u.g=null,u.i&&(u.i=!1,Y(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ge extends S{constructor(m,E){super(),this.m=m,this.l=E,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Y(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ue(u){S.call(this),this.h=u,this.g={}}x(ue,S);var gt=[];function Wn(u){De(u.g,function(m,E){this.g.hasOwnProperty(E)&&xs(m)},u),u.g={}}ue.prototype.N=function(){ue.Z.N.call(this),Wn(this)},ue.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var un=d.JSON.stringify,Je=d.JSON.parse,xn=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ca(){}function Sr(){}var ei={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Kt(){D.call(this,"d")}x(Kt,D);function jn(){D.call(this,"c")}x(jn,D);var At={},ou=null;function ha(){return ou=ou||new ee}At.Ia="serverreachability";function uu(u){D.call(this,At.Ia,u)}x(uu,D);function gi(u){const m=ha();ne(m,new uu(m))}At.STAT_EVENT="statevent";function xr(u,m){D.call(this,At.STAT_EVENT,u),this.stat=m}x(xr,D);function Ct(u){const m=ha();ne(m,new xr(m,u))}At.Ja="timingevent";function yi(u,m){D.call(this,At.Ja,u),this.size=m}x(yi,D);function _i(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ti(){this.g=!0}ti.prototype.ua=function(){this.g=!1};function Uh(u,m,E,A,j,B){u.info(function(){if(u.g)if(B){var te="",Ie=B.split("&");for(let Xe=0;Xe<Ie.length;Xe++){var St=Ie[Xe].split("=");if(St.length>1){const mt=St[0];St=St[1];const Bn=mt.split("_");te=Bn.length>=2&&Bn[1]=="type"?te+(mt+"="+St+"&"):te+(mt+"=redacted&")}}}else te=null;else te=B;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+m+`
`+E+`
`+te})}function cu(u,m,E,A,j,B,te){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+m+`
`+E+`
`+B+" "+te})}function vi(u,m,E,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+zh(u,E)+(A?" "+A:"")})}function wr(u,m){u.info(function(){return"TIMEOUT: "+m})}ti.prototype.info=function(){};function zh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var E=B[u];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var j=A[0];if(j!="noop"&&j!="stop"&&j!="close")for(let te=1;te<A.length;te++)A[te]=""}}}}return un(B)}catch{return m}}var Rr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Rl;function Cr(){}x(Cr,ca),Cr.prototype.g=function(){return new XMLHttpRequest},Rl=new Cr;function Ki(u){return encodeURIComponent(String(u))}function hu(u){var m=1;u=u.split(":");const E=[];for(;m>0&&u.length;)E.push(u.shift()),m--;return u.length&&E.push(u.join(":")),E}function ni(u,m,E,A){this.j=u,this.i=m,this.l=E,this.S=A||1,this.V=new ue(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ii}function ii(){this.i=null,this.g="",this.h=!1}var It={},Gt={};function Ei(u,m,E){u.M=1,u.A=Ir(Dt(m)),u.u=E,u.R=!0,fa(u,null)}function fa(u,m){u.F=Date.now(),bi(u),u.B=Dt(u.A);var E=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),ga(E.i,"t",A),u.C=0,E=u.j.L,u.h=new ii,u.g=wu(u.j,E?m:null,!u.u),u.P>0&&(u.O=new ge(_(u.Y,u,u.g),u.P)),m=u.V,E=u.g,A=u.ba;var j="readystatechange";Array.isArray(j)||(j&&(gt[0]=j.toString()),j=gt);for(let B=0;B<j.length;B++){const te=ct(E,j[B],A||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),gi(),Uh(u.i,u.v,u.B,u.l,u.S,u.u)}ni.prototype.ba=function(u){u=u.target;const m=this.O;m&&ai(u)==3?m.j():this.Y(u)},ni.prototype.Y=function(u){try{if(u==this.g)e:{const Ie=ai(this.g),St=this.g.ya(),Xe=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Xt(this.g)))){this.K||Ie!=4||St==7||(St==8||Xe<=0?gi(3):gi(2)),Ti(this);var m=this.g.ca();this.X=m;var E=Bh(this);if(this.o=m==200,cu(this.i,this.v,this.B,this.l,this.S,Ie,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var B=A;break t}}B=null}if(u=B)vi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ai(this,u);else{this.o=!1,this.m=3,Ct(12),wn(this),Pn(this);break e}}if(this.R){u=!0;let mt;for(;!this.K&&this.C<E.length;)if(mt=du(this,E),mt==Gt){Ie==4&&(this.m=4,Ct(14),u=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==It){this.m=4,Ct(15),vi(this.i,this.l,E,"[Invalid Chunk]"),u=!1;break}else vi(this.i,this.l,mt,null),Ai(this,mt);if(fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||E.length!=0||this.h.h||(this.m=1,Ct(16),u=!1),this.o=this.o&&u,!u)vi(this.i,this.l,E,"[Invalid Chunked Response]"),wn(this),Pn(this);else if(E.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),ql(te),te.P=!0,Ct(11))}}else vi(this.i,this.l,E,null),Ai(this,E);Ie==4&&wn(this),this.o&&!this.K&&(Ie==4?Tu(this.j,this):(this.o=!1,bi(this)))}else $i(this.g),m==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),wn(this),Pn(this)}}}catch{}};function Bh(u){if(!fu(u))return u.g.la();const m=Xt(u.g);if(m==="")return"";let E="";const A=m.length,j=ai(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return wn(u),Pn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<A;B++)u.h.h=!0,E+=u.h.i.decode(m[B],{stream:!(j&&B==A-1)});return m.length=0,u.h.g+=E,u.C=0,u.h.g}function fu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function du(u,m){var E=u.C,A=m.indexOf(`
`,E);return A==-1?Gt:(E=Number(m.substring(E,A)),isNaN(E)?It:(A+=1,A+E>m.length?Gt:(m=m.slice(A,A+E),u.C=A+E,m)))}ni.prototype.cancel=function(){this.K=!0,wn(this)};function bi(u){u.T=Date.now()+u.H,da(u,u.H)}function da(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=_i(_(u.aa,u),m)}function Ti(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ni.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(wr(this.i,this.B),this.M!=2&&(gi(),Ct(17)),wn(this),this.m=2,Pn(this)):da(this,this.T-u)};function Pn(u){u.j.I==0||u.K||Tu(u.j,u)}function wn(u){Ti(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Wn(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ai(u,m){try{var E=u.j;if(E.I!=0&&(E.g==u||xi(E.h,u))){if(!u.L&&xi(E.h,u)&&E.I==3){try{var A=E.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<u.F)ba(E),Ms(E);else break e;Lr(E),Ct(18)}}else E.xa=j[1],0<E.xa-E.K&&j[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=_i(_(E.Va,E),6e3));Si(E.h)<=1&&E.ta&&(E.ta=void 0)}else Di(E,11)}else if((u.L||E.g==u)&&ba(E),!R(m))for(j=E.Ba.g.parse(m),m=0;m<j.length;m++){let Xe=j[m];const mt=Xe[0];if(!(mt<=E.K))if(E.K=mt,Xe=Xe[1],E.I==2)if(Xe[0]=="c"){E.M=Xe[1],E.ba=Xe[2];const Bn=Xe[3];Bn!=null&&(E.ka=Bn,E.j.info("VER="+E.ka));const Oi=Xe[4];Oi!=null&&(E.za=Oi,E.j.info("SVER="+E.za));const li=Xe[5];li!=null&&typeof li=="number"&&li>0&&(A=1.5*li,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const oi=u.g;if(oi){const jr=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jr){var B=A.h;B.g||jr.indexOf("spdy")==-1&&jr.indexOf("quic")==-1&&jr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Nl(B,B.h),B.h=null))}if(A.G){const Ta=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ta&&(A.wa=Ta,We(A.J,A.G,Ta))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-u.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var te=u;if(A.na=xu(A,A.L?A.ba:null,A.W),te.L){Dl(A.h,te);var Ie=te,St=A.O;St&&(Ie.H=St),Ie.D&&(Ti(Ie),bi(Ie)),A.g=te}else Eu(A);E.i.length>0&&Ni(E)}else Xe[0]!="stop"&&Xe[0]!="close"||Di(E,7);else E.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Di(E,7):zl(E):Xe[0]!="noop"&&E.l&&E.l.qa(Xe),E.A=0)}}gi(4)}catch{}}var Nt=class{constructor(u,m){this.g=u,this.map=m}};function Cl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Il(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Si(u){return u.h?1:u.g?u.g.size:0}function xi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Nl(u,m){u.g?u.g.add(m):u.h=m}function Dl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Cl.prototype.cancel=function(){if(this.i=Ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ol(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const E of u.g.values())m=m.concat(E.G);return m}return H(u.i)}var mu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ma(u,m){if(u){u=u.split("&");for(let E=0;E<u.length;E++){const A=u[E].indexOf("=");let j,B=null;A>=0?(j=u[E].substring(0,A),B=u[E].substring(A+1)):j=u[E],m(j,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Rn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Rn?(this.l=u.l,Ft(this,u.j),this.o=u.o,this.g=u.g,ws(this,u.u),this.h=u.h,Ml(this,_u(u.i)),this.m=u.m):u&&(m=String(u).match(mu))?(this.l=!1,Ft(this,m[1]||"",!0),this.o=wi(m[2]||""),this.g=wi(m[3]||"",!0),ws(this,m[4]),this.h=wi(m[5]||"",!0),Ml(this,m[6]||"",!0),this.m=wi(m[7]||"")):(this.l=!1,this.i=new Cs(null,this.l))}Rn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Nr(m,pa,!0),":");var E=this.g;return(E||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Nr(m,pa,!0),"@"),u.push(Ki(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&u.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(Nr(E,E.charAt(0)=="/"?Vl:pu,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",Nr(E,gu)),u.join("")},Rn.prototype.resolve=function(u){const m=Dt(this);let E=!!u.j;E?Ft(m,u.j):E=!!u.o,E?m.o=u.o:E=!!u.g,E?m.g=u.g:E=u.u!=null;var A=u.h;if(E)ws(m,u.u);else if(E=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var j=m.h.lastIndexOf("/");j!=-1&&(A=m.h.slice(0,j+1)+A)}if(j=A,j==".."||j==".")A="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){A=j.lastIndexOf("/",0)==0,j=j.split("/");const B=[];for(let te=0;te<j.length;){const Ie=j[te++];Ie=="."?A&&te==j.length&&B.push(""):Ie==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),A&&te==j.length&&B.push("")):(B.push(Ie),A=!0)}A=B.join("/")}else A=j}return E?m.h=A:E=u.i.toString()!=="",E?Ml(m,_u(u.i)):E=!!u.m,E&&(m.m=u.m),m};function Dt(u){return new Rn(u)}function Ft(u,m,E){u.j=E?wi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ws(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ml(u,m,E){m instanceof Cs?(u.i=m,ya(u.i,u.l)):(E||(m=Nr(m,Rs)),u.i=new Cs(m,u.l))}function We(u,m,E){u.i.set(m,E)}function Ir(u){return We(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function wi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Nr(u,m,E){return typeof u=="string"?(u=encodeURI(u).replace(m,pn),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function pn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var pa=/[#\/\?@]/g,pu=/[#\?:]/g,Vl=/[#\?]/g,Rs=/[#\?@]/g,gu=/#/g;function Cs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function gn(u){u.g||(u.g=new Map,u.h=0,u.i&&ma(u.i,function(m,E){u.add(decodeURIComponent(m.replace(/\+/g," ")),E)}))}s=Cs.prototype,s.add=function(u,m){gn(this),this.i=null,u=Is(this,u);let E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(m),this.h+=1,this};function yu(u,m){gn(u),m=Is(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function kl(u,m){return gn(u),m=Is(u,m),u.g.has(m)}s.forEach=function(u,m){gn(this),this.g.forEach(function(E,A){E.forEach(function(j){u.call(m,j,A,this)},this)},this)};function Ll(u,m){gn(u);let E=[];if(typeof m=="string")kl(u,m)&&(E=E.concat(u.g.get(Is(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)E=E.concat(u[m]);return E}s.set=function(u,m){return gn(this),this.i=null,u=Is(this,u),kl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Ll(this,u),u.length>0?String(u[0]):m):m};function ga(u,m,E){yu(u,m),E.length>0&&(u.i=null,u.g.set(Is(u,m),H(E)),u.h+=E.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var E=m[A];const j=Ki(E);E=Ll(this,E);for(let B=0;B<E.length;B++){let te=j;E[B]!==""&&(te+="="+Ki(E[B])),u.push(te)}}return this.i=u.join("&")};function _u(u){const m=new Cs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Is(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ya(u,m){m&&!u.j&&(gn(u),u.i=null,u.g.forEach(function(E,A){const j=A.toLowerCase();A!=j&&(yu(this,A),ga(this,j,E))},u)),u.j=m}function si(u,m){const E=new ti;if(d.Image){const A=new Image;A.onload=b(Un,E,"TestLoadImage: loaded",!0,m,A),A.onerror=b(Un,E,"TestLoadImage: error",!1,m,A),A.onabort=b(Un,E,"TestLoadImage: abort",!1,m,A),A.ontimeout=b(Un,E,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function jl(u,m){const E=new ti,A=new AbortController,j=setTimeout(()=>{A.abort(),Un(E,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(B=>{clearTimeout(j),B.ok?Un(E,"TestPingServer: ok",!0,m):Un(E,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Un(E,"TestPingServer: error",!1,m)})}function Un(u,m,E,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(E)}catch{}}function Ns(){this.g=new xn}function Ri(u){this.i=u.Sb||null,this.h=u.ab||!1}x(Ri,ca),Ri.prototype.g=function(){return new Dr(this.i,this.h)};function Dr(u,m){ee.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Dr,ee),s=Dr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ri(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ds(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_a(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function _a(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ds(this):ri(this),this.readyState==3&&_a(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ds(this))},s.Na=function(u){this.g&&(this.response=u,Ds(this))},s.ga=function(){this.g&&Ds(this)};function Ds(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ri(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var E=m.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=m.next();return u.join(`\r
`)};function ri(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Dr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function zn(u){let m="";return De(u,function(E,A){m+=A,m+=":",m+=E,m+=`\r
`}),m}function Or(u,m,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=zn(E),typeof u=="string"?E!=null&&Ki(E):We(u,m,E))}function it(u){ee.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(it,ee);var Ci=/^https?$/i,Pl=["POST","PUT"];s=it.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Rl.g(),this.g.onreadystatechange=V(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Mr(this,B);return}if(u=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)E.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const B of A.keys())E.set(B,A.get(B));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(B=>B.toLowerCase()=="content-type"),j=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Pl,m,void 0)>=0)||A||j||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,te]of E)this.g.setRequestHeader(B,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Mr(this,B)}};function Mr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ul(u),Xi(u)}function Ul(u){u.A||(u.A=!0,ne(u,"complete"),ne(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ne(this,"complete"),ne(this,"abort"),Xi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),it.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Vr(this):this.Xa())},s.Xa=function(){Vr(this)};function Vr(u){if(u.h&&typeof c<"u"){if(u.v&&ai(u)==4)setTimeout(u.Ca.bind(u),0);else if(ne(u,"readystatechange"),ai(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var E;if(!(E=m)){var A;if(A=B===0){let te=String(u.D).match(mu)[1]||null;!te&&d.self&&d.self.location&&(te=d.self.location.protocol.slice(0,-1)),A=!Ci.test(te?te.toLowerCase():"")}E=A}if(E)ne(u,"complete"),ne(u,"success");else{u.o=6;try{var j=ai(u)>2?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.ca()+"]",Ul(u)}}finally{Xi(u)}}}}function Xi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const E=u.g;u.g=null,m||ne(u,"ready");try{E.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ai(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ai(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Je(m)}};function Xt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(u){const m={};u=(u.g&&ai(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(R(u[A]))continue;var E=hu(u[A]);const j=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const B=m[j]||[];m[j]=B,B.push(E)}Ye(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(u,m,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||m}function Os(u){this.za=0,this.i=[],this.j=new ti,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,u),this.Za=Ii("retryDelaySeedMs",1e4,u),this.Ta=Ii("forwardChannelMaxRetries",2,u),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Cl(u&&u.concurrentRequestLimit),this.Ba=new Ns,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Os.prototype,s.ka=8,s.I=1,s.connect=function(u,m,E,A){Ct(0),this.W=u,this.H=m||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=xu(this,null,this.W),Ni(this)};function zl(u){if(va(u),u.I==3){var m=u.V++,E=Dt(u.J);if(We(E,"SID",u.M),We(E,"RID",m),We(E,"TYPE","terminate"),kr(u,E),m=new ni(u,u.j,m),m.M=2,m.A=Ir(Dt(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!E&&d.Image&&(new Image().src=m.A,E=!0),E||(m.g=wu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),bi(m)}Su(u)}function Ms(u){u.g&&(ql(u),u.g.cancel(),u.g=null)}function va(u){Ms(u),u.v&&(d.clearTimeout(u.v),u.v=null),ba(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ni(u){if(!Il(u.h)&&!u.m){u.m=!0;var m=u.Ea;qe||w(),Me||(qe(),Me=!0),I.add(m,u),u.D=0}}function Ea(u,m){return Si(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=_i(_(u.Ea,u,m),Au(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const j=new ni(this,this.j,u);let B=this.o;if(this.U&&(B?(B=M(B),se(B,this.U)):B=this.U),this.u!==null||this.R||(j.J=B,B=null),this.S)e:{for(var m=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=E;break e}if(m===4096||E===this.i.length-1){m=E+1;break e}}m=1e3}else m=1e3;m=vu(this,j,m),E=Dt(this.J),We(E,"RID",u),We(E,"CVER",22),this.G&&We(E,"X-HTTP-Session-Id",this.G),kr(this,E),B&&(this.R?m="headers="+Ki(zn(B))+"&"+m:this.u&&Or(E,this.u,B)),Nl(this.h,j),this.Ra&&We(E,"TYPE","init"),this.S?(We(E,"$req",m),We(E,"SID","null"),j.U=!0,Ei(j,E,null)):Ei(j,E,m),this.I=2}}else this.I==3&&(u?Bl(this,u):this.i.length==0||Il(this.h)||Bl(this))};function Bl(u,m){var E;m?E=m.l:E=u.V++;const A=Dt(u.J);We(A,"SID",u.M),We(A,"RID",E),We(A,"AID",u.K),kr(u,A),u.u&&u.o&&Or(A,u.u,u.o),E=new ni(u,u.j,E,u.D+1),u.u===null&&(E.J=u.o),m&&(u.i=m.G.concat(u.i)),m=vu(u,E,1e3),E.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Nl(u.h,E),Ei(E,A,m)}function kr(u,m){u.H&&De(u.H,function(E,A){We(m,A,E)}),u.l&&De({},function(E,A){We(m,A,E)})}function vu(u,m,E){E=Math.min(u.i.length,E);const A=u.l?_(u.l.Ka,u.l,u):null;e:{var j=u.i;let Ie=-1;for(;;){const St=["count="+E];Ie==-1?E>0?(Ie=j[0].g,St.push("ofs="+Ie)):Ie=0:St.push("ofs="+Ie);let Xe=!0;for(let mt=0;mt<E;mt++){var B=j[mt].g;const Bn=j[mt].map;if(B-=Ie,B<0)Ie=Math.max(0,j[mt].g-100),Xe=!1;else try{B="req"+B+"_"||"";try{var te=Bn instanceof Map?Bn:Object.entries(Bn);for(const[Oi,li]of te){let oi=li;g(li)&&(oi=un(li)),St.push(B+Oi+"="+encodeURIComponent(oi))}}catch(Oi){throw St.push(B+"type="+encodeURIComponent("_badmap")),Oi}}catch{A&&A(Bn)}}if(Xe){te=St.join("&");break e}}te=void 0}return u=u.i.splice(0,E),m.G=u,te}function Eu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;qe||w(),Me||(qe(),Me=!0),I.add(m,u),u.A=0}}function Lr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=_i(_(u.Da,u),Au(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=_i(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),Ms(this),bu(this))};function ql(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function bu(u){u.g=new ni(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Dt(u.na);We(m,"RID","rpc"),We(m,"SID",u.M),We(m,"AID",u.K),We(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&We(m,"TO",u.ia),We(m,"TYPE","xmlhttp"),kr(u,m),u.u&&u.o&&Or(m,u.u,u.o),u.O&&(u.g.H=u.O);var E=u.g;u=u.ba,E.M=1,E.A=Ir(Dt(m)),E.u=null,E.R=!0,fa(E,u)}s.Va=function(){this.C!=null&&(this.C=null,Ms(this),Lr(this),Ct(19))};function ba(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Tu(u,m){var E=null;if(u.g==m){ba(u),ql(u),u.g=null;var A=2}else if(xi(u.h,m))E=m.G,Dl(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){E=m.u?m.u.length:0,m=Date.now()-m.F;var j=u.D;A=ha(),ne(A,new yi(A,E)),Ni(u)}else Eu(u);else if(j=m.m,j==3||j==0&&m.X>0||!(A==1&&Ea(u,m)||A==2&&Lr(u)))switch(E&&E.length>0&&(m=u.h,m.i=m.i.concat(E)),j){case 1:Di(u,5);break;case 4:Di(u,10);break;case 3:Di(u,6);break;default:Di(u,2)}}}function Au(u,m){let E=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(E*=2),E*m}function Di(u,m){if(u.j.info("Error code "+m),m==2){var E=_(u.bb,u),A=u.Ua;const j=!A;A=new Rn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ft(A,"https"),Ir(A),j?si(A.toString(),E):jl(A.toString(),E)}else Ct(2);u.I=0,u.l&&u.l.pa(m),Su(u),va(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function Su(u){if(u.I=0,u.ja=[],u.l){const m=Ol(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function xu(u,m,E){var A=E instanceof Rn?Dt(E):new Rn(E);if(A.g!="")m&&(A.g=m+"."+A.g),ws(A,A.u);else{var j=d.location;A=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const B=new Rn(null);A&&Ft(B,A),m&&(B.g=m),j&&ws(B,j),E&&(B.h=E),A=B}return E=u.G,m=u.wa,E&&m&&We(A,E,m),We(A,"VER",u.ka),kr(u,A),A}function wu(u,m,E){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new it(new Ri({ab:E})):new it(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ru(){}s=Ru.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Vs(){}Vs.prototype.g=function(u,m){return new cn(u,m)};function cn(u,m){ee.call(this),this.g=new Os(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Zi(this)}x(cn,ee),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){zl(this.g)},cn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.v&&(E={},E.__data__=un(u),u=E);m.i.push(new Nt(m.Ya++,u)),m.I==3&&Ni(m)},cn.prototype.N=function(){this.g.l=null,delete this.j,zl(this.g),delete this.g,cn.Z.N.call(this)};function Cu(u){Kt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const E in m){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}x(Cu,Kt);function Iu(){jn.call(this),this.status=1}x(Iu,jn);function Zi(u){this.g=u}x(Zi,Ru),Zi.prototype.ra=function(){ne(this.g,"a")},Zi.prototype.qa=function(u){ne(this.g,new Cu(u))},Zi.prototype.pa=function(u){ne(this.g,new Iu)},Zi.prototype.oa=function(){ne(this.g,"b")},Vs.prototype.createWebChannel=Vs.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,R1=function(){return new Vs},w1=function(){return ha()},x1=At,hm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Rr.NO_ERROR=0,Rr.TIMEOUT=8,Rr.HTTP_ERROR=6,Gc=Rr,wl.COMPLETE="complete",S1=wl,Sr.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",ee.prototype.listen=ee.prototype.J,Io=Sr,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,A1=it}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});const w_="@firebase/firestore",R_="4.9.3";let an=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let Tl="12.7.0";const ra=new Om("@firebase/firestore");function Wa(){return ra.logLevel}function le(s,...e){if(ra.logLevel<=Ue.DEBUG){const i=e.map(Hm);ra.debug(`Firestore (${Tl}): ${s}`,...i)}}function bs(s,...e){if(ra.logLevel<=Ue.ERROR){const i=e.map(Hm);ra.error(`Firestore (${Tl}): ${s}`,...i)}}function fl(s,...e){if(ra.logLevel<=Ue.WARN){const i=e.map(Hm);ra.warn(`Firestore (${Tl}): ${s}`,...i)}}function Hm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Ae(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,C1(s,a,i)}function C1(s,e,i){let a=`FIRESTORE (${Tl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw bs(a),new Error(a)}function Ze(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||C1(e,o,a)}function Ce(s,e){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends As{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class dr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class I1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Vx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(an.UNAUTHENTICATED)))}shutdown(){}}class kx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Lx{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ze(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new dr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},g=y=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new dr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ze(typeof a.accessToken=="string",31837,{l:a}),new I1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class jx{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Px{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new jx(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class C_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ux{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ze(this.o===void 0,3512);const a=c=>{c.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new C_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ze(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new C_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function zx(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Gm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=zx(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function ze(s,e){return s<e?-1:s>e?1:0}function fm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return Xd(o)===Xd(c)?ze(o,c):Xd(o)?1:-1}return ze(s.length,e.length)}const Bx=55296,qx=57343;function Xd(s){const e=s.charCodeAt(0);return e>=Bx&&e<=qx}function dl(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const I_="__name__";class ji{constructor(e,i,a){i===void 0?i=0:i>e.length&&Ae(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Ae(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return ji.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ji?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=ji.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return ze(e.length,i.length)}static compareSegments(e,i){const a=ji.isNumericId(e),o=ji.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?ji.extractNumericId(e).compare(ji.extractNumericId(i)):fm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fr.fromString(e.substring(4,e.length-2))}}class yt extends ji{construct(e,i,a){return new yt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new de(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new yt(i)}static emptyPath(){return new yt([])}}const Hx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends ji{construct(e,i,a){return new tn(e,i,a)}static isValidIdentifier(e){return Hx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===I_}static keyField(){return new tn([I_])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new de(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new de(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new de(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(i)}static emptyPath(){return new tn([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(yt.fromString(e))}static fromName(e){return new _e(yt.fromString(e).popFirst(5))}static empty(){return new _e(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return yt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new yt(e.slice()))}}function Gx(s,e,i){if(!i)throw new de(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Fx(s,e,i,a){if(e===!0&&a===!0)throw new de(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function N_(s){if(!_e.isDocumentKey(s))throw new de(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function N1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Fm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ae(12329,{type:typeof s})}function di(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new de(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Fm(s);throw new de(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function jt(s,e){const i={typeString:s};return e&&(i.value=e),i}function nu(s,e){if(!N1(s))throw new de(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new de(J.INVALID_ARGUMENT,i);return!0}const D_=-62135596800,O_=1e6;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*O_);return new dt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<D_)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/O_}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nu(e,dt._jsonSchema))return new dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-D_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dt._jsonSchemaVersion="firestore/timestamp/1.0",dt._jsonSchema={type:jt("string",dt._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new dt(0,0))}static max(){return new xe(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const qo=-1;function Yx(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(a===1e9?new dt(i+1,0):new dt(i,a));return new pr(o,_e.empty(),e)}function Qx(s){return new pr(s.readTime,s.key,qo)}class pr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new pr(xe.min(),_e.empty(),qo)}static max(){return new pr(xe.max(),_e.empty(),qo)}}function Kx(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=_e.comparator(s.documentKey,e.documentKey),i!==0?i:ze(s.largestBatchId,e.largestBatchId))}const Xx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $x{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Al(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==Xx)throw s;le("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,a)=>{i(e)}))}static reject(e){return new $(((i,a)=>{a(e)}))}static waitFor(e){return new $(((i,a)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(y=>a(y)))})),d=!0,c===o&&i()}))}static or(e){let i=$.resolve(!1);for(const a of e)i=i.next((o=>o?$.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new $(((a,o)=>{const c=e.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;i(e[_]).next((b=>{d[_]=b,++g,g===c&&a(d)}),(b=>o(b)))}}))}static doWhile(e,i){return new $(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function Zx(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Sl(s){return s.name==="IndexedDbTransactionError"}class Eh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Eh.ce=-1;const Ym=-1;function bh(s){return s==null}function rh(s){return s===0&&1/s==-1/0}function Jx(s){return typeof s=="number"&&Number.isInteger(s)&&!rh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const D1="";function Wx(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=M_(e)),e=ew(s.get(i),e);return M_(e)}function ew(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case D1:i+="";break;default:i+=c}}return i}function M_(s){return s+D1+""}function V_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function br(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function O1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class _t{constructor(e,i){this.comparator=e,this.root=i||en.EMPTY}insert(e,i){return new _t(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kc(this.root,e,this.comparator,!0)}}class kc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??en.RED,this.left=o??en.EMPTY,this.right=c??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new en(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return en.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new en(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new k_(this.data.getIterator())}getIteratorFrom(e){return new k_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new qt(this.comparator);return i.data=e,i}}class k_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class kn{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new kn([])}unionWith(e){let i=new qt(tn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new kn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return dl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class M1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new M1("Invalid base64 string: "+c):c}})(e);return new nn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new nn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const tw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(s){if(Ze(!!s,39018),typeof s=="string"){let e=0;const i=tw.exec(s);if(Ze(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Rt(s.seconds),nanos:Rt(s.nanos)}}function Rt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function yr(s){return typeof s=="string"?nn.fromBase64String(s):nn.fromUint8Array(s)}const V1="server_timestamp",k1="__type__",L1="__previous_value__",j1="__local_write_time__";function Qm(s){return(s?.mapValue?.fields||{})[k1]?.stringValue===V1}function Th(s){const e=s.mapValue.fields[L1];return Qm(e)?Th(e):e}function Ho(s){const e=gr(s.mapValue.fields[j1].timestampValue);return new dt(e.seconds,e.nanos)}class nw{constructor(e,i,a,o,c,d,g,y,_,b){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=b}}const ah="(default)";class Go{constructor(e,i){this.projectId=e,this.database=i||ah}static empty(){return new Go("","")}get isDefaultDatabase(){return this.database===ah}isEqual(e){return e instanceof Go&&e.projectId===this.projectId&&e.database===this.database}}const P1="__type__",iw="__max__",Lc={mapValue:{}},U1="__vector__",lh="value";function _r(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Qm(s)?4:rw(s)?9007199254740991:sw(s)?10:11:Ae(28295,{value:s})}function Gi(s,e){if(s===e)return!0;const i=_r(s);if(i!==_r(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Ho(s).isEqual(Ho(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=gr(o.timestampValue),g=gr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return yr(o.bytesValue).isEqual(yr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return Rt(o.geoPointValue.latitude)===Rt(c.geoPointValue.latitude)&&Rt(o.geoPointValue.longitude)===Rt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Rt(o.integerValue)===Rt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Rt(o.doubleValue),g=Rt(c.doubleValue);return d===g?rh(d)===rh(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return dl(s.arrayValue.values||[],e.arrayValue.values||[],Gi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(V_(d)!==V_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Gi(d[y],g[y])))return!1;return!0})(s,e);default:return Ae(52216,{left:s})}}function Fo(s,e){return(s.values||[]).find((i=>Gi(i,e)))!==void 0}function ml(s,e){if(s===e)return 0;const i=_r(s),a=_r(e);if(i!==a)return ze(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return ze(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=Rt(c.integerValue||c.doubleValue),y=Rt(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(s,e);case 3:return L_(s.timestampValue,e.timestampValue);case 4:return L_(Ho(s),Ho(e));case 5:return fm(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=yr(c),y=yr(d);return g.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const b=ze(g[_],y[_]);if(b!==0)return b}return ze(g.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=ze(Rt(c.latitude),Rt(d.latitude));return g!==0?g:ze(Rt(c.longitude),Rt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return j_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},y=d.fields||{},_=g[lh]?.arrayValue,b=y[lh]?.arrayValue,x=ze(_?.values?.length||0,b?.values?.length||0);return x!==0?x:j_(_,b)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Lc.mapValue&&d===Lc.mapValue)return 0;if(c===Lc.mapValue)return 1;if(d===Lc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=d.fields||{},b=Object.keys(_);y.sort(),b.sort();for(let x=0;x<y.length&&x<b.length;++x){const V=fm(y[x],b[x]);if(V!==0)return V;const H=ml(g[y[x]],_[b[x]]);if(H!==0)return H}return ze(y.length,b.length)})(s.mapValue,e.mapValue);default:throw Ae(23264,{he:i})}}function L_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return ze(s,e);const i=gr(s),a=gr(e),o=ze(i.seconds,a.seconds);return o!==0?o:ze(i.nanos,a.nanos)}function j_(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=ml(i[o],a[o]);if(c)return c}return ze(i.length,a.length)}function pl(s){return dm(s)}function dm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=gr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return yr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return _e.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=dm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${dm(i.fields[d])}`;return o+"}"})(s.mapValue):Ae(61005,{value:s})}function Fc(s){switch(_r(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Th(s);return e?16+Fc(e):16;case 5:return 2*s.stringValue.length;case 6:return yr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Fc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return br(a.fields,((c,d)=>{o+=c.length+Fc(d)})),o})(s.mapValue);default:throw Ae(13486,{value:s})}}function mm(s){return!!s&&"integerValue"in s}function Km(s){return!!s&&"arrayValue"in s}function P_(s){return!!s&&"nullValue"in s}function U_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Yc(s){return!!s&&"mapValue"in s}function sw(s){return(s?.mapValue?.fields||{})[P1]?.stringValue===U1}function Lo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return br(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Lo(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Lo(s.arrayValue.values[i]);return e}return{...s}}function rw(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===iw}class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Yc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lo(i)}setAll(e){let i=tn.emptyPath(),a={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=Lo(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Yc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Gi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Yc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){br(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new Sn(Lo(this.value))}}function z1(s){const e=[];return br(s.fields,((i,a)=>{const o=new tn([i]);if(Yc(a)){const c=z1(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new kn(e)}class ln{constructor(e,i,a,o,c,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new ln(e,0,xe.min(),xe.min(),xe.min(),Sn.empty(),0)}static newFoundDocument(e,i,a,o){return new ln(e,1,i,xe.min(),a,o,0)}static newNoDocument(e,i){return new ln(e,2,i,xe.min(),xe.min(),Sn.empty(),0)}static newUnknownDocument(e,i){return new ln(e,3,i,xe.min(),xe.min(),Sn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class oh{constructor(e,i){this.position=e,this.inclusive=i}}function z_(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=_e.comparator(_e.fromName(d.referenceValue),i.key):a=ml(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function B_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Gi(s.position[i],e.position[i]))return!1;return!0}class uh{constructor(e,i="asc"){this.field=e,this.dir=i}}function aw(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class B1{}class Bt extends B1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new ow(e,i,a):i==="array-contains"?new hw(e,a):i==="in"?new fw(e,a):i==="not-in"?new dw(e,a):i==="array-contains-any"?new mw(e,a):new Bt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new uw(e,a):new cw(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ml(i,this.value)):i!==null&&_r(this.value)===_r(i)&&this.matchesComparison(ml(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fi extends B1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Fi(e,i)}matches(e){return q1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function q1(s){return s.op==="and"}function H1(s){return lw(s)&&q1(s)}function lw(s){for(const e of s.filters)if(e instanceof Fi)return!1;return!0}function pm(s){if(s instanceof Bt)return s.field.canonicalString()+s.op.toString()+pl(s.value);if(H1(s))return s.filters.map((e=>pm(e))).join(",");{const e=s.filters.map((i=>pm(i))).join(",");return`${s.op}(${e})`}}function G1(s,e){return s instanceof Bt?(function(a,o){return o instanceof Bt&&a.op===o.op&&a.field.isEqual(o.field)&&Gi(a.value,o.value)})(s,e):s instanceof Fi?(function(a,o){return o instanceof Fi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&G1(d,o.filters[g])),!0):!1})(s,e):void Ae(19439)}function F1(s){return s instanceof Bt?(function(i){return`${i.field.canonicalString()} ${i.op} ${pl(i.value)}`})(s):s instanceof Fi?(function(i){return i.op.toString()+" {"+i.getFilters().map(F1).join(" ,")+"}"})(s):"Filter"}class ow extends Bt{constructor(e,i,a){super(e,i,a),this.key=_e.fromName(a.referenceValue)}matches(e){const i=_e.comparator(e.key,this.key);return this.matchesComparison(i)}}class uw extends Bt{constructor(e,i){super(e,"in",i),this.keys=Y1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class cw extends Bt{constructor(e,i){super(e,"not-in",i),this.keys=Y1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Y1(s,e){return(e.arrayValue?.values||[]).map((i=>_e.fromName(i.referenceValue)))}class hw extends Bt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Km(i)&&Fo(i.arrayValue,this.value)}}class fw extends Bt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Fo(this.value.arrayValue,i)}}class dw extends Bt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Fo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Fo(this.value.arrayValue,i)}}class mw extends Bt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Km(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Fo(this.value.arrayValue,a)))}}class pw{constructor(e,i=null,a=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function q_(s,e=null,i=[],a=[],o=null,c=null,d=null){return new pw(s,e,i,a,o,c,d)}function Xm(s){const e=Ce(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>pm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),bh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>pl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>pl(a))).join(",")),e.Te=i}return e.Te}function $m(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!aw(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!G1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!B_(s.startAt,e.startAt)&&B_(s.endAt,e.endAt)}function gm(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Ah{constructor(e,i=null,a=[],o=[],c=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gw(s,e,i,a,o,c,d,g){return new Ah(s,e,i,a,o,c,d,g)}function Sh(s){return new Ah(s)}function H_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function yw(s){return s.collectionGroup!==null}function jo(s){const e=Ce(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new qt(tn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new uh(c,a))})),i.has(tn.keyField().canonicalString())||e.Ie.push(new uh(tn.keyField(),a))}return e.Ie}function zi(s){const e=Ce(s);return e.Ee||(e.Ee=_w(e,jo(s))),e.Ee}function _w(s,e){if(s.limitType==="F")return q_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new uh(o.field,c)}));const i=s.endAt?new oh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new oh(s.startAt.position,s.startAt.inclusive):null;return q_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function ym(s,e,i){return new Ah(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function xh(s,e){return $m(zi(s),zi(e))&&s.limitType===e.limitType}function Q1(s){return`${Xm(zi(s))}|lt:${s.limitType}`}function el(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>F1(o))).join(", ")}]`),bh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>pl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>pl(o))).join(",")),`Target(${a})`})(zi(s))}; limitType=${s.limitType})`}function wh(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):_e.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of jo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,g,y){const _=z_(d,g,y);return d.inclusive?_<=0:_<0})(a.startAt,jo(a),o)||a.endAt&&!(function(d,g,y){const _=z_(d,g,y);return d.inclusive?_>=0:_>0})(a.endAt,jo(a),o))})(s,e)}function vw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function K1(s){return(e,i)=>{let a=!1;for(const o of jo(s)){const c=Ew(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function Ew(s,e,i){const a=s.field.isKeyField()?_e.comparator(e.key,i.key):(function(c,d,g){const y=d.data.field(c),_=g.data.field(c);return y!==null&&_!==null?ml(y,_):Ae(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Ae(19790,{direction:s.dir})}}class oa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){br(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return O1(this.inner)}size(){return this.innerSize}}const bw=new _t(_e.comparator);function Ts(){return bw}const X1=new _t(_e.comparator);function No(...s){let e=X1;for(const i of s)e=e.insert(i.key,i);return e}function $1(s){let e=X1;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function ta(){return Po()}function Z1(){return Po()}function Po(){return new oa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Tw=new _t(_e.comparator),Aw=new qt(_e.comparator);function Be(...s){let e=Aw;for(const i of s)e=e.add(i);return e}const Sw=new qt(ze);function xw(){return Sw}function Zm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(e)?"-0":e}}function J1(s){return{integerValue:""+s}}function ww(s,e){return Jx(e)?J1(e):Zm(s,e)}class Rh{constructor(){this._=void 0}}function Rw(s,e,i){return s instanceof ch?(function(o,c){const d={fields:{[k1]:{stringValue:V1},[j1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Qm(c)&&(c=Th(c)),c&&(d.fields[L1]=c),{mapValue:d}})(i,e):s instanceof gl?eE(s,e):s instanceof Yo?tE(s,e):(function(o,c){const d=W1(o,c),g=G_(d)+G_(o.Ae);return mm(d)&&mm(o.Ae)?J1(g):Zm(o.serializer,g)})(s,e)}function Cw(s,e,i){return s instanceof gl?eE(s,e):s instanceof Yo?tE(s,e):i}function W1(s,e){return s instanceof hh?(function(a){return mm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class ch extends Rh{}class gl extends Rh{constructor(e){super(),this.elements=e}}function eE(s,e){const i=nE(e);for(const a of s.elements)i.some((o=>Gi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Yo extends Rh{constructor(e){super(),this.elements=e}}function tE(s,e){let i=nE(e);for(const a of s.elements)i=i.filter((o=>!Gi(o,a)));return{arrayValue:{values:i}}}class hh extends Rh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function G_(s){return Rt(s.integerValue||s.doubleValue)}function nE(s){return Km(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Iw{constructor(e,i){this.field=e,this.transform=i}}function Nw(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof gl&&o instanceof gl||a instanceof Yo&&o instanceof Yo?dl(a.elements,o.elements,Gi):a instanceof hh&&o instanceof hh?Gi(a.Ae,o.Ae):a instanceof ch&&o instanceof ch})(s.transform,e.transform)}class Dw{constructor(e,i){this.version=e,this.transformResults=i}}class mi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new mi}static exists(e){return new mi(void 0,e)}static updateTime(e){return new mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Ch{}function iE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Jm(s.key,mi.none()):new iu(s.key,s.data,mi.none());{const i=s.data,a=Sn.empty();let o=new qt(tn.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Tr(s.key,a,new kn(o.toArray()),mi.none())}}function Ow(s,e,i){s instanceof iu?(function(o,c,d){const g=o.value.clone(),y=Y_(o.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof Tr?(function(o,c,d){if(!Qc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Y_(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(sE(o)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Uo(s,e,i,a){return s instanceof iu?(function(c,d,g,y){if(!Qc(c.precondition,d))return g;const _=c.value.clone(),b=Q_(c.fieldTransforms,y,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof Tr?(function(c,d,g,y){if(!Qc(c.precondition,d))return g;const _=Q_(c.fieldTransforms,y,d),b=d.data;return b.setAll(sE(c)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((x=>x.field)))})(s,e,i,a):(function(c,d,g){return Qc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function Mw(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=W1(a.transform,o||null);c!=null&&(i===null&&(i=Sn.empty()),i.set(a.field,c))}return i||null}function F_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&dl(a,o,((c,d)=>Nw(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class iu extends Ch{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Tr extends Ch{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function sE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function Y_(s,e,i){const a=new Map;Ze(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,g=e.data.field(c.field);a.set(c.field,Cw(d,g,i[o]))}return a}function Q_(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,Rw(c,d,e))}return a}class Jm extends Ch{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vw extends Ch{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kw{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&Ow(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Uo(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Uo(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=Z1();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const y=iE(d,g);y!==null&&a.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(xe.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Be())}isEqual(e){return this.batchId===e.batchId&&dl(this.mutations,e.mutations,((i,a)=>F_(i,a)))&&dl(this.baseMutations,e.baseMutations,((i,a)=>F_(i,a)))}}class Wm{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){Ze(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return Tw})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Wm(e,i,a,o)}}class Lw{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class jw{constructor(e,i){this.count=e,this.unchangedNames=i}}var Lt,Fe;function Pw(s){switch(s){case J.OK:return Ae(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ae(15467,{code:s})}}function rE(s){if(s===void 0)return bs("GRPC error has no .code"),J.UNKNOWN;switch(s){case Lt.OK:return J.OK;case Lt.CANCELLED:return J.CANCELLED;case Lt.UNKNOWN:return J.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return J.INTERNAL;case Lt.UNAVAILABLE:return J.UNAVAILABLE;case Lt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Lt.NOT_FOUND:return J.NOT_FOUND;case Lt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Lt.ABORTED:return J.ABORTED;case Lt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Lt.DATA_LOSS:return J.DATA_LOSS;default:return Ae(39323,{code:s})}}(Fe=Lt||(Lt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function Uw(){return new TextEncoder}const zw=new fr([4294967295,4294967295],0);function K_(s){const e=Uw().encode(s),i=new T1;return i.update(e),new Uint8Array(i.digest())}function X_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new fr([i,a],0),new fr([o,c],0)]}class ep{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Do(`Invalid padding: ${i}`);if(a<0)throw new Do(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Do(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Do(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=fr.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(fr.fromNumber(a)));return o.compare(zw)===1&&(o=new fr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=K_(e),[a,o]=X_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new ep(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=K_(e),[a,o]=X_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Do extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ih{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,su.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Ih(xe.min(),o,new _t(ze),Ts(),Be())}}class su{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new su(a,i,Be(),Be(),Be())}}class Kc{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class aE{constructor(e,i){this.targetId=e,this.Ce=i}}class lE{constructor(e,i,a=nn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class $_{constructor(){this.ve=0,this.Fe=Z_(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),i=Be(),a=Be();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Ae(38017,{changeType:c})}})),new su(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=Z_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Bw{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ts(),this.Je=jc(),this.He=jc(),this.Ye=new _t(ze)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(gm(c))if(a===0){const d=new _e(c.path);this.et(i,d,ln.newNoDocument(d,xe.min()))}else Ze(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=yr(a).toUint8Array()}catch(y){if(y instanceof M1)return fl("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new ep(d,o,c)}catch(y){return fl(y instanceof Do?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&gm(g.target)){const y=new _e(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,ln.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Be();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Ih(e,i,this.Ye,this.je,a);return this.je=Ts(),this.Je=jc(),this.He=jc(),this.Ye=new _t(ze),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new $_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new qt(ze),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new qt(ze),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||le("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function jc(){return new _t(_e.comparator)}function Z_(){return new _t(_e.comparator)}const qw={asc:"ASCENDING",desc:"DESCENDING"},Hw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gw={and:"AND",or:"OR"};class Fw{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function _m(s,e){return s.useProto3Json||bh(e)?e:{value:e}}function fh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Yw(s,e){return fh(s,e.toTimestamp())}function Bi(s){return Ze(!!s,49232),xe.fromTimestamp((function(i){const a=gr(i);return new dt(a.seconds,a.nanos)})(s))}function tp(s,e){return vm(s,e).canonicalString()}function vm(s,e){const i=(function(o){return new yt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function uE(s){const e=yt.fromString(s);return Ze(mE(e),10190,{key:e.toString()}),e}function Em(s,e){return tp(s.databaseId,e.path)}function $d(s,e){const i=uE(e);if(i.get(1)!==s.databaseId.projectId)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new _e(hE(i))}function cE(s,e){return tp(s.databaseId,e)}function Qw(s){const e=uE(s);return e.length===4?yt.emptyPath():hE(e)}function bm(s){return new yt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function hE(s){return Ze(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function J_(s,e,i){return{name:Em(s,e),fields:i.value.mapValue.fields}}function Kw(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ae(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,b){return _.useProto3Json?(Ze(b===void 0||typeof b=="string",58123),nn.fromBase64String(b||"")):(Ze(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),nn.fromUint8Array(b||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const b=_.code===void 0?J.UNKNOWN:rE(_.code);return new de(b,_.message||"")})(d);i=new lE(a,o,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=$d(s,a.document.name),c=Bi(a.document.updateTime),d=a.document.createTime?Bi(a.document.createTime):xe.min(),g=new Sn({mapValue:{fields:a.document.fields}}),y=ln.newFoundDocument(o,c,d,g),_=a.targetIds||[],b=a.removedTargetIds||[];i=new Kc(_,b,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=$d(s,a.document),c=a.readTime?Bi(a.readTime):xe.min(),d=ln.newNoDocument(o,c),g=a.removedTargetIds||[];i=new Kc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=$d(s,a.document),c=a.removedTargetIds||[];i=new Kc([],c,o,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new jw(o,c),g=a.targetId;i=new aE(g,d)}}return i}function Xw(s,e){let i;if(e instanceof iu)i={update:J_(s,e.key,e.value)};else if(e instanceof Jm)i={delete:Em(s,e.key)};else if(e instanceof Tr)i={update:J_(s,e.key,e.data),updateMask:sR(e.fieldMask)};else{if(!(e instanceof Vw))return Ae(16599,{Vt:e.type});i={verify:Em(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof ch)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof gl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Yo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof hh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Ae(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:Yw(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ae(27497)})(s,e.precondition)),i}function $w(s,e){return s&&s.length>0?(Ze(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Bi(o.updateTime):Bi(c);return d.isEqual(xe.min())&&(d=Bi(c)),new Dw(d,o.transformResults||[])})(i,e)))):[]}function Zw(s,e){return{documents:[cE(s,e.path)]}}function Jw(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=cE(s,o);const c=(function(_){if(_.length!==0)return dE(Fi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((b=>(function(V){return{field:tl(V.field),direction:tR(V.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=_m(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function Ww(s){let e=Qw(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Ze(a===1,65062);const b=i.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let c=[];i.where&&(c=(function(x){const V=fE(x);return V instanceof Fi&&H1(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(x){return x.map((V=>(function(W){return new uh(nl(W.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(V)))})(i.orderBy));let g=null;i.limit&&(g=(function(x){let V;return V=typeof x=="object"?x.value:x,bh(V)?null:V})(i.limit));let y=null;i.startAt&&(y=(function(x){const V=!!x.before,H=x.values||[];return new oh(H,V)})(i.startAt));let _=null;return i.endAt&&(_=(function(x){const V=!x.before,H=x.values||[];return new oh(H,V)})(i.endAt)),gw(e,o,d,c,g,"F",y,_)}function eR(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function fE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=nl(i.unaryFilter.field);return Bt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=nl(i.unaryFilter.field);return Bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=nl(i.unaryFilter.field);return Bt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=nl(i.unaryFilter.field);return Bt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Bt.create(nl(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Fi.create(i.compositeFilter.filters.map((a=>fE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(i.compositeFilter.op))})(s):Ae(30097,{filter:s})}function tR(s){return qw[s]}function nR(s){return Hw[s]}function iR(s){return Gw[s]}function tl(s){return{fieldPath:s.canonicalString()}}function nl(s){return tn.fromServerFormat(s.fieldPath)}function dE(s){return s instanceof Bt?(function(i){if(i.op==="=="){if(U_(i.value))return{unaryFilter:{field:tl(i.field),op:"IS_NAN"}};if(P_(i.value))return{unaryFilter:{field:tl(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(U_(i.value))return{unaryFilter:{field:tl(i.field),op:"IS_NOT_NAN"}};if(P_(i.value))return{unaryFilter:{field:tl(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tl(i.field),op:nR(i.op),value:i.value}}})(s):s instanceof Fi?(function(i){const a=i.getFilters().map((o=>dE(o)));return a.length===1?a[0]:{compositeFilter:{op:iR(i.op),filters:a}}})(s):Ae(54877,{filter:s})}function sR(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function mE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class or{constructor(e,i,a,o,c=xe.min(),d=xe.min(),g=nn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new or(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class rR{constructor(e){this.yt=e}}function aR(s){const e=Ww({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?ym(e,e.limit,"L"):e}class lR{constructor(){this.Cn=new oR}addToCollectionParentIndex(e,i){return this.Cn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(pr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(pr.min())}updateCollectionGroup(e,i,a){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class oR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new qt(yt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new qt(yt.comparator)).toArray()}}const W_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pE=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(pE,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class yl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new yl(0)}static cr(){return new yl(-1)}}const ev="LruGarbageCollector",uR=1048576;function tv([s,e],[i,a]){const o=ze(s,i);return o===0?ze(e,a):o}class cR{constructor(e){this.Ir=e,this.buffer=new qt(tv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();tv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class hR{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(ev,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Sl(i)?le(ev,"Ignoring IndexedDB error during garbage collection: ",i):await Al(i)}await this.Vr(3e5)}))}}class fR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(Eh.ce);const a=new cR(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(W_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),W_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,c,d,g,y,_;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,d=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(a=x,g=Date.now(),this.removeTargets(e,a,i)))).next((x=>(c=x,y=Date.now(),this.removeOrphanedDocuments(e,a)))).next((x=>(_=Date.now(),Wa()<=Ue.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${x} documents in `+(_-y)+`ms
Total Duration: ${_-b}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:x}))))}}function dR(s,e){return new fR(s,e)}class mR{constructor(){this.changes=new oa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class pR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class gR{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Uo(a.mutation,o,kn.empty(),dt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Be()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Be()){const o=ta();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=No();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=ta();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Be())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,o){let c=Ts();const d=Po(),g=(function(){return Po()})();return i.forEach(((y,_)=>{const b=a.get(_.key);o.has(_.key)&&(b===void 0||b.mutation instanceof Tr)?c=c.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),Uo(b.mutation,_,b.mutation.getFieldMask(),dt.now())):d.set(_.key,kn.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>g.set(_,new pR(b,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=Po();let o=new _t(((d,g)=>d-g)),c=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let b=a.get(y)||kn.empty();b=g.applyToLocalView(_,b),a.set(y,b);const x=(o.get(g.batchId)||Be()).add(y);o=o.insert(g.batchId,x)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,b=y.value,x=Z1();b.forEach((V=>{if(!c.has(V)){const H=iE(i.get(V),a.get(V));H!==null&&x.set(V,H),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,x))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return _e.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):yw(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):$.resolve(ta());let g=qo,y=c;return d.next((_=>$.forEach(_,((b,x)=>(g<x.largestBatchId&&(g=x.largestBatchId),c.get(b)?$.resolve():this.remoteDocumentCache.getEntry(e,b).next((V=>{y=y.insert(b,V)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,Be()))).next((b=>({batchId:g,changes:$1(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new _e(i)).next((a=>{let o=No();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=No();return this.indexManager.getCollectionParents(e,c).next((g=>$.forEach(g,(y=>{const _=(function(x,V){return new Ah(V,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((b=>{b.forEach(((x,V)=>{d=d.insert(x,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((y,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,ln.newInvalidDocument(b)))}));let g=No();return d.forEach(((y,_)=>{const b=c.get(y);b!==void 0&&Uo(b.mutation,_,kn.empty(),dt.now()),wh(i,_)&&(g=g.insert(y,_))})),g}))}}class yR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Bi(o.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:aR(o.bundledQuery),readTime:Bi(o.readTime)}})(i)),$.resolve()}}class _R{constructor(){this.overlays=new _t(_e.comparator),this.qr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ta();return $.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.St(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(e,i,a){const o=ta(),c=i.length+1,d=new _e(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&o.set(y.getKey(),y)}return $.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new _t(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let b=c.get(_.largestBatchId);b===null&&(b=ta(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const g=ta(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,b)=>g.set(_,b))),!(g.size()>=o)););return $.resolve(g)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Lw(i,a));let c=this.qr.get(i);c===void 0&&(c=Be(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class vR{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class np{constructor(){this.Qr=new qt(Qt.$r),this.Ur=new qt(Qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Qt(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Qt(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new _e(new yt([])),a=new Qt(i,e),o=new Qt(i,e+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new _e(new yt([])),a=new Qt(i,e),o=new Qt(i,e+1);let c=Be();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Qt(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Qt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return _e.comparator(e.key,i.key)||ze(e.Yr,i.Yr)}static Kr(e,i){return ze(e.Yr,i.Yr)||_e.comparator(e.key,i.key)}}class ER{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new qt(Qt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new kw(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Qt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Ym:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Qt(i,0),o=new Qt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new qt(ze);return i.forEach((o=>{const c=new Qt(o,0),d=new Qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;_e.isDocumentKey(c)||(c=c.child(""));const d=new Qt(new _e(c),0);let g=new qt(ze);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(g=g.add(y.Yr)),!0)}),d),$.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ze(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(o=>{const c=new Qt(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Qt(i,0),o=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class bR{constructor(e){this.ri=e,this.docs=(function(){return new _t(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():ln.newInvalidDocument(i))}getEntries(e,i){let a=Ts();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():ln.newInvalidDocument(o))})),$.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=Ts();const d=i.path,g=new _e(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:b}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Kx(Qx(b),a)<=0||(o.has(b.key)||wh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,a,o){Ae(9500)}ii(e,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new TR(this)}getSize(e){return $.resolve(this.size)}}class TR extends mR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class AR{constructor(e){this.persistence=e,this.si=new oa((i=>Xm(i)),$m),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new np,this.targetCount=0,this.ai=yl.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new yl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Pr(i),$.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),$.waitFor(c).next((()=>o))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(e,i){return $.resolve(this._i.containsKey(i))}}class gE{constructor(e,i){this.ui={},this.overlays={},this.ci=new Eh(0),this.li=!1,this.li=!0,this.hi=new vR,this.referenceDelegate=e(this),this.Pi=new AR(this),this.indexManager=new lR,this.remoteDocumentCache=(function(o){return new bR(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new rR(i),this.Ii=new yR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new _R,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new ER(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){le("MemoryPersistence","Starting transaction:",e);const o=new SR(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class SR extends $x{constructor(e){super(),this.currentSequenceNumber=e}}class ip{constructor(e){this.persistence=e,this.Ri=new np,this.Vi=null}static mi(e){return new ip(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const o=_e.fromPath(a);return this.gi(e,o).next((c=>{c||i.removeEntry(o,xe.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class dh{constructor(e,i){this.persistence=e,this.pi=new oa((a=>Wx(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=dR(this,i)}static mi(e,i){return new dh(e,i)}Ei(){}di(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return $.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?$.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(a++,c.removeEntry(d,xe.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Fc(e.data.value)),i}br(e,i,a){return $.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return $.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class sp{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=Be(),o=Be();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new sp(e,i.fromCache,a,o)}}class xR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class wR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return fA()?8:Zx(on())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new xR;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(Wa()<=Ue.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",el(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Wa()<=Ue.DEBUG&&le("QueryEngine","Query:",el(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Wa()<=Ue.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",el(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zi(i))):$.resolve())}ys(e,i){if(H_(i))return $.resolve(null);let a=zi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=ym(i,null,"F"),a=zi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Be(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((y=>{const _=this.Ds(i,g);return this.Cs(i,_,d,y.readTime)?this.ys(e,ym(i,null,"F")):this.vs(e,_,i,y)}))))})))))}ws(e,i,a,o){return H_(i)||o.isEqual(xe.min())?$.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?$.resolve(null):(Wa()<=Ue.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),el(i)),this.vs(e,d,i,Yx(o,qo)).next((g=>g)))}))}Ds(e,i){let a=new qt(K1(e));return i.forEach(((o,c)=>{wh(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,a){return Wa()<=Ue.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",el(i)),this.ps.getDocumentsMatchingQuery(e,i,pr.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const rp="LocalStore",RR=3e8;class CR{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new _t(ze),this.xs=new oa((c=>Xm(c)),$m),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function IR(s,e,i,a){return new CR(s,e,i,a)}async function yE(s,e){const i=Ce(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let y=Be();for(const _ of o){d.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}for(const _ of c){g.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function NR(s,e){const i=Ce(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,b){const x=_.batch,V=x.keys();let H=$.resolve();return V.forEach((W=>{H=H.next((()=>b.getEntry(y,W))).next((re=>{const Z=_.docVersions.get(W);Ze(Z!==null,48541),re.version.compareTo(Z)<0&&(x.applyToRemoteDocument(re,_),re.isValidDocument()&&(re.setReadTime(_.commitVersion),b.addEntry(re)))}))})),H.next((()=>g.mutationQueue.removeMutationBatch(y,x)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let y=Be();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function _E(s){const e=Ce(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function DR(s,e){const i=Ce(s),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((b,x)=>{const V=o.get(x);if(!V)return;g.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,x).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,x))));let H=V.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(x)!==null?H=H.withResumeToken(nn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):b.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(b.resumeToken,a)),o=o.insert(x,H),(function(re,Z,me){return re.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=RR?!0:me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0})(V,H,b)&&g.push(i.Pi.updateTargetData(c,H))}));let y=Ts(),_=Be();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(OR(c,d,e.documentUpdates).next((b=>{y=b.ks,_=b.qs}))),!a.isEqual(xe.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((x=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(b)}return $.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=o,c)))}function OR(s,e,i){let a=Be(),o=Be();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=Ts();return i.forEach(((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(xe.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):le(rp,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:o}}))}function MR(s,e){const i=Ce(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Ym),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function VR(s,e){const i=Ce(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((c=>c?(o=c,$.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new or(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function Tm(s,e,i){const a=Ce(s),o=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Sl(d))throw d;le(rp,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function nv(s,e,i){const a=Ce(s);let o=xe.min(),c=Be();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,b){const x=Ce(y),V=x.xs.get(b);return V!==void 0?$.resolve(x.Ms.get(V)):x.Pi.getTargetData(_,b)})(a,d,zi(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:xe.min(),i?c:Be()))).next((g=>(kR(a,vw(e),g),{documents:g,Qs:c})))))}function kR(s,e,i){let a=s.Os.get(e)||xe.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(e,a)}class iv{constructor(){this.activeTargetIds=xw()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LR{constructor(){this.Mo=new iv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new iv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jR{Oo(e){}shutdown(){}}const sv="ConnectivityMonitor";class rv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(sv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(sv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Pc=null;function Am(){return Pc===null?Pc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pc++,"0x"+Pc.toString(16)}const Zd="RestConnection",PR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===ah?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,c){const d=Am(),g=this.zo(e,i.toUriEncodedString());le(Zd,`Sending RPC '${e}' ${d}:`,g,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:_}=new URL(g),b=vl(_);return this.Jo(e,g,y,a,b).then((x=>(le(Zd,`Received RPC '${e}' ${d}: `,x),x)),(x=>{throw fl(Zd,`RPC '${e}' ${d} failed with error: `,x,"url: ",g,"request:",a),x}))}Ho(e,i,a,o,c,d){return this.Go(e,i,a,o,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Tl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const a=PR[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class zR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const rn="WebChannelConnection";class BR extends UR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,c){const d=Am();return new Promise(((g,y)=>{const _=new A1;_.setWithCredentials(!0),_.listenOnce(S1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Gc.NO_ERROR:const x=_.getResponseJson();le(rn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(x)),g(x);break;case Gc.TIMEOUT:le(rn,`RPC '${e}' ${d} timed out`),y(new de(J.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:const V=_.getStatus();if(le(rn,`RPC '${e}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const W=H?.error;if(W&&W.status&&W.message){const re=(function(me){const be=me.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(be)>=0?be:J.UNKNOWN})(W.status);y(new de(re,W.message))}else y(new de(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new de(J.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{le(rn,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(o);le(rn,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",b,a,15)}))}T_(e,i,a){const o=Am(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=R1(),g=w1(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const b=c.join("");le(rn,`Creating RPC '${e}' stream ${o}: ${b}`,y);const x=d.createWebChannel(b,y);this.I_(x);let V=!1,H=!1;const W=new zR({Yo:Z=>{H?le(rn,`Not sending because RPC '${e}' stream ${o} is closed:`,Z):(V||(le(rn,`Opening RPC '${e}' stream ${o} transport.`),x.open(),V=!0),le(rn,`RPC '${e}' stream ${o} sending:`,Z),x.send(Z))},Zo:()=>x.close()}),re=(Z,me,be)=>{Z.listen(me,(ve=>{try{be(ve)}catch(Ge){setTimeout((()=>{throw Ge}),0)}}))};return re(x,Io.EventType.OPEN,(()=>{H||(le(rn,`RPC '${e}' stream ${o} transport opened.`),W.o_())})),re(x,Io.EventType.CLOSE,(()=>{H||(H=!0,le(rn,`RPC '${e}' stream ${o} transport closed`),W.a_(),this.E_(x))})),re(x,Io.EventType.ERROR,(Z=>{H||(H=!0,fl(rn,`RPC '${e}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),W.a_(new de(J.UNAVAILABLE,"The operation could not be completed")))})),re(x,Io.EventType.MESSAGE,(Z=>{if(!H){const me=Z.data[0];Ze(!!me,16349);const be=me,ve=be?.error||be[0]?.error;if(ve){le(rn,`RPC '${e}' stream ${o} received error:`,ve);const Ge=ve.status;let qe=(function(w){const C=Lt[w];if(C!==void 0)return rE(C)})(Ge),Me=ve.message;qe===void 0&&(qe=J.INTERNAL,Me="Unknown error status: "+Ge+" with message "+ve.message),H=!0,W.a_(new de(qe,Me)),x.close()}else le(rn,`RPC '${e}' stream ${o} received:`,me),W.u_(me)}})),re(g,x1.STAT_EVENT,(Z=>{Z.stat===hm.PROXY?le(rn,`RPC '${e}' stream ${o} detected buffering proxy`):Z.stat===hm.NOPROXY&&le(rn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Jd(){return typeof document<"u"?document:null}function Nh(s){return new Fw(s,!0)}class vE{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const av="PersistentStream";class EE{constructor(e,i,a,o,c,d,g,y){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(bs(i.toString()),bs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new de(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(av,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(le(av,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qR extends EE{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=Kw(this.serializer,e),a=(function(c){if(!("targetChange"in c))return xe.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?xe.min():d.readTime?Bi(d.readTime):xe.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=bm(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=gm(y)?{documents:Zw(c,y)}:{query:Jw(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=oE(c,d.resumeToken);const _=_m(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(xe.min())>0){g.readTime=fh(c,d.snapshotVersion.toTimestamp());const _=_m(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const a=eR(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=bm(this.serializer),i.removeTarget=e,this.q_(i)}}class HR extends EE{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=$w(e.writeResults,e.commitTime),a=Bi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=bm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>Xw(this.serializer,a)))};this.q_(i)}}class GR{}class FR extends GR{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,vm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(J.UNKNOWN,c.toString())}))}Ho(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,vm(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new de(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class YR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bs(i),this.aa=!1):le("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const aa="RemoteStore";class QR{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ua(this)&&(le(aa,"Restarting streams for network reachability change."),await(async function(y){const _=Ce(y);_.Ea.add(4),await ru(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Dh(_)})(this))}))})),this.Ra=new YR(a,o)}}async function Dh(s){if(ua(s))for(const e of s.da)await e(!0)}async function ru(s){for(const e of s.da)await e(!1)}function bE(s,e){const i=Ce(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),up(i)?op(i):xl(i).O_()&&lp(i,e))}function ap(s,e){const i=Ce(s),a=xl(i);i.Ia.delete(e),a.O_()&&TE(i,e),i.Ia.size===0&&(a.O_()?a.L_():ua(i)&&i.Ra.set("Unknown"))}function lp(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}xl(s).Y_(e)}function TE(s,e){s.Va.Ue(e),xl(s).Z_(e)}function op(s){s.Va=new Bw({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),xl(s).start(),s.Ra.ua()}function up(s){return ua(s)&&!xl(s).x_()&&s.Ia.size>0}function ua(s){return Ce(s).Ea.size===0}function AE(s){s.Va=void 0}async function KR(s){s.Ra.set("Online")}async function XR(s){s.Ia.forEach(((e,i)=>{lp(s,e)}))}async function $R(s,e){AE(s),up(s)?(s.Ra.ha(e),op(s)):s.Ra.set("Unknown")}async function ZR(s,e,i){if(s.Ra.set("Online"),e instanceof lE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(s,e)}catch(a){le(aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await mh(s,a)}else if(e instanceof Kc?s.Va.Ze(e):e instanceof aE?s.Va.st(e):s.Va.tt(e),!i.isEqual(xe.min()))try{const a=await _E(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const b=c.Ia.get(_);b&&c.Ia.set(_,b.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const b=c.Ia.get(y);if(!b)return;c.Ia.set(y,b.withResumeToken(nn.EMPTY_BYTE_STRING,b.snapshotVersion)),TE(c,y);const x=new or(b.target,y,_,b.sequenceNumber);lp(c,x)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){le(aa,"Failed to raise snapshot:",a),await mh(s,a)}}async function mh(s,e,i){if(!Sl(e))throw e;s.Ea.add(1),await ru(s),s.Ra.set("Offline"),i||(i=()=>_E(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{le(aa,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Dh(s)}))}function SE(s,e){return e().catch((i=>mh(s,i,e)))}async function Oh(s){const e=Ce(s),i=vr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ym;for(;JR(e);)try{const o=await MR(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,WR(e,o)}catch(o){await mh(e,o)}xE(e)&&wE(e)}function JR(s){return ua(s)&&s.Ta.length<10}function WR(s,e){s.Ta.push(e);const i=vr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function xE(s){return ua(s)&&!vr(s).x_()&&s.Ta.length>0}function wE(s){vr(s).start()}async function eC(s){vr(s).ra()}async function tC(s){const e=vr(s);for(const i of s.Ta)e.ea(i.mutations)}async function nC(s,e,i){const a=s.Ta.shift(),o=Wm.from(a,e,i);await SE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Oh(s)}async function iC(s,e){e&&vr(s).X_&&await(async function(a,o){if((function(d){return Pw(d)&&d!==J.ABORTED})(o.code)){const c=a.Ta.shift();vr(a).B_(),await SE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Oh(a)}})(s,e),xE(s)&&wE(s)}async function lv(s,e){const i=Ce(s);i.asyncQueue.verifyOperationInProgress(),le(aa,"RemoteStore received new credentials");const a=ua(i);i.Ea.add(3),await ru(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Dh(i)}async function sC(s,e){const i=Ce(s);e?(i.Ea.delete(2),await Dh(i)):e||(i.Ea.add(2),await ru(i),i.Ra.set("Unknown"))}function xl(s){return s.ma||(s.ma=(function(i,a,o){const c=Ce(i);return c.sa(),new qR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:KR.bind(null,s),t_:XR.bind(null,s),r_:$R.bind(null,s),H_:ZR.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),up(s)?op(s):s.Ra.set("Unknown")):(await s.ma.stop(),AE(s))}))),s.ma}function vr(s){return s.fa||(s.fa=(function(i,a,o){const c=Ce(i);return c.sa(),new HR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:eC.bind(null,s),r_:iC.bind(null,s),ta:tC.bind(null,s),na:nC.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Oh(s)):(await s.fa.stop(),s.Ta.length>0&&(le(aa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class cp{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,g=new cp(e,i,d,o,c);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hp(s,e){if(bs("AsyncQueue",`${e}: ${s}`),Sl(s))return new de(J.UNAVAILABLE,`${e}: ${s}`);throw s}class ll{static emptySet(e){return new ll(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||_e.comparator(i.key,a.key):(i,a)=>_e.comparator(i.key,a.key),this.keyedMap=No(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ll)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ll;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class ov{constructor(){this.ga=new _t(_e.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class _l{constructor(e,i,a,o,c,d,g,y,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new _l(e,i,ll.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class rC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class aC{constructor(){this.queries=uv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Ce(i),c=o.queries;o.queries=uv(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(a)}))})(this,new de(J.ABORTED,"Firestore shutting down"))}}function uv(){return new oa((s=>Q1(s)),xh)}async function RE(s,e){const i=Ce(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new rC,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=hp(d,`Initialization of query '${el(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&fp(i)}async function CE(s,e){const i=Ce(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function lC(s,e){const i=Ce(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(a=!0);d.wa=o}}a&&fp(i)}function oC(s,e,i){const a=Ce(s),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(e)}function fp(s){s.Ca.forEach((e=>{e.next()}))}var Sm,cv;(cv=Sm||(Sm={})).Ma="default",cv.Cache="cache";class IE{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new _l(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=_l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sm.Cache}}class NE{constructor(e){this.key=e}}class DE{constructor(e){this.key=e}}class uC{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=K1(e),this.tu=new ll(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new ov,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,x)=>{const V=o.get(b),H=wh(this.query,x)?x:null,W=!!V&&this.mutatedKeys.has(V.key),re=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Z=!1;V&&H?V.data.isEqual(H.data)?W!==re&&(a.track({type:3,doc:H}),Z=!0):this.su(V,H)||(a.track({type:2,doc:H}),Z=!0,(y&&this.eu(H,y)>0||_&&this.eu(H,_)<0)&&(g=!0)):!V&&H?(a.track({type:0,doc:H}),Z=!0):V&&!H&&(a.track({type:1,doc:V}),Z=!0,(y||_)&&(g=!0)),Z&&(H?(d=d.add(H),c=re?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,x)=>(function(H,W){const re=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:Z})}};return re(H)-re(W)})(b.type,x.type)||this.eu(b.doc,x.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new _l(this.query,e.tu,c,d,e.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ov,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new DE(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new NE(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Be();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return _l.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dp="SyncEngine";class cC{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class hC{constructor(e){this.key=e,this.hu=!1}}class fC{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new oa((g=>Q1(g)),xh),this.Iu=new Map,this.Eu=new Set,this.du=new _t(_e.comparator),this.Au=new Map,this.Ru=new np,this.Vu={},this.mu=new Map,this.fu=yl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dC(s,e,i=!0){const a=jE(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await OE(a,e,i,!0),o}async function mC(s,e){const i=jE(s);await OE(i,e,!0,!1)}async function OE(s,e,i,a){const o=await VR(s.localStore,zi(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await pC(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&bE(s.remoteStore,o),g}async function pC(s,e,i,a,o){s.pu=(x,V,H)=>(async function(re,Z,me,be){let ve=Z.view.ru(me);ve.Cs&&(ve=await nv(re.localStore,Z.query,!1).then((({documents:I})=>Z.view.ru(I,ve))));const Ge=be&&be.targetChanges.get(Z.targetId),qe=be&&be.targetMismatches.get(Z.targetId)!=null,Me=Z.view.applyChanges(ve,re.isPrimaryClient,Ge,qe);return fv(re,Z.targetId,Me.au),Me.snapshot})(s,x,V,H);const c=await nv(s.localStore,e,!0),d=new uC(e,c.Qs),g=d.ru(c.documents),y=su.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),_=d.applyChanges(g,s.isPrimaryClient,y);fv(s,i,_.au);const b=new cC(e,i,d);return s.Tu.set(e,b),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function gC(s,e,i){const a=Ce(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!xh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Tm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&ap(a.remoteStore,o.targetId),xm(a,o.targetId)})).catch(Al)):(xm(a,o.targetId),await Tm(a.localStore,o.targetId,!0))}async function yC(s,e){const i=Ce(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),ap(i.remoteStore,a.targetId))}async function _C(s,e,i){const a=xC(s);try{const o=await(function(d,g){const y=Ce(d),_=dt.now(),b=g.reduce(((H,W)=>H.add(W.key)),Be());let x,V;return y.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let W=Ts(),re=Be();return y.Ns.getEntries(H,b).next((Z=>{W=Z,W.forEach(((me,be)=>{be.isValidDocument()||(re=re.add(me))}))})).next((()=>y.localDocuments.getOverlayedDocuments(H,W))).next((Z=>{x=Z;const me=[];for(const be of g){const ve=Mw(be,x.get(be.key).overlayedDocument);ve!=null&&me.push(new Tr(be.key,ve,z1(ve.value.mapValue),mi.exists(!0)))}return y.mutationQueue.addMutationBatch(H,_,me,g)})).next((Z=>{V=Z;const me=Z.applyToLocalDocumentSet(x,re);return y.documentOverlayCache.saveOverlays(H,Z.batchId,me)}))})).then((()=>({batchId:V.batchId,changes:$1(x)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new _t(ze)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await au(a,o.changes),await Oh(a.remoteStore)}catch(o){const c=hp(o,"Failed to persist write");i.reject(c)}}async function ME(s,e){const i=Ce(s);try{const a=await DR(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ze(d.hu,14607):o.removedDocuments.size>0&&(Ze(d.hu,42227),d.hu=!1))})),await au(i,a,e)}catch(a){await Al(a)}}function hv(s,e,i){const a=Ce(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const y=Ce(d);y.onlineState=g;let _=!1;y.queries.forEach(((b,x)=>{for(const V of x.Sa)V.va(g)&&(_=!0)})),_&&fp(y)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function vC(s,e,i){const a=Ce(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new _t(_e.comparator);d=d.insert(c,ln.newNoDocument(c,xe.min()));const g=Be().add(c),y=new Ih(xe.min(),new Map,new _t(ze),d,g);await ME(a,y),a.du=a.du.remove(c),a.Au.delete(e),mp(a)}else await Tm(a.localStore,e,!1).then((()=>xm(a,e,i))).catch(Al)}async function EC(s,e){const i=Ce(s),a=e.batch.batchId;try{const o=await NR(i.localStore,e);kE(i,a,null),VE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await au(i,o)}catch(o){await Al(o)}}async function bC(s,e,i){const a=Ce(s);try{const o=await(function(d,g){const y=Ce(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return y.mutationQueue.lookupMutationBatch(_,g).next((x=>(Ze(x!==null,37113),b=x.keys(),y.mutationQueue.removeMutationBatch(_,x)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,b,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>y.localDocuments.getDocuments(_,b)))}))})(a.localStore,e);kE(a,e,i),VE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await au(a,o)}catch(o){await Al(o)}}function VE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function kE(s,e,i){const a=Ce(s);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function xm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||LE(s,a)}))}function LE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(ap(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),mp(s))}function fv(s,e,i){for(const a of i)a instanceof NE?(s.Ru.addReference(a.key,e),TC(s,a)):a instanceof DE?(le(dp,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||LE(s,a.key)):Ae(19791,{wu:a})}function TC(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(le(dp,"New document in limbo: "+i),s.Eu.add(a),mp(s))}function mp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new _e(yt.fromString(e)),a=s.fu.next();s.Au.set(a,new hC(i)),s.du=s.du.insert(i,a),bE(s.remoteStore,new or(zi(Sh(i.path)),a,"TargetPurposeLimboResolution",Eh.ce))}}async function au(s,e,i){const a=Ce(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,y)=>{d.push(a.pu(y,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const b=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(_){o.push(_);const b=sp.As(y.targetId,_);c.push(b)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(y,_){const b=Ce(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>$.forEach(_,(V=>$.forEach(V.Es,(H=>b.persistence.referenceDelegate.addReference(x,V.targetId,H))).next((()=>$.forEach(V.ds,(H=>b.persistence.referenceDelegate.removeReference(x,V.targetId,H)))))))))}catch(x){if(!Sl(x))throw x;le(rp,"Failed to update sequence numbers: "+x)}for(const x of _){const V=x.targetId;if(!x.fromCache){const H=b.Ms.get(V),W=H.snapshotVersion,re=H.withLastLimboFreeSnapshotVersion(W);b.Ms=b.Ms.insert(V,re)}}})(a.localStore,c))}async function AC(s,e){const i=Ce(s);if(!i.currentUser.isEqual(e)){le(dp,"User change. New user:",e.toKey());const a=await yE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new de(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await au(i,a.Ls)}}function SC(s,e){const i=Ce(s),a=i.Au.get(e);if(a&&a.hu)return Be().add(a.key);{let o=Be();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function jE(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=ME.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vC.bind(null,e),e.Pu.H_=lC.bind(null,e.eventManager),e.Pu.yu=oC.bind(null,e.eventManager),e}function xC(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bC.bind(null,e),e}class ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return IR(this.persistence,new wR,e.initialUser,this.serializer)}Cu(e){return new gE(ip.mi,this.serializer)}Du(e){return new LR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ph.provider={build:()=>new ph};class wC extends ph{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ze(this.persistence.referenceDelegate instanceof dh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new hR(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new gE((a=>dh.mi(a,i)),this.serializer)}}class wm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>hv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=AC.bind(null,this.syncEngine),await sC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new aC})()}createDatastore(e){const i=Nh(e.databaseInfo.databaseId),a=(function(c){return new BR(c)})(e.databaseInfo);return(function(c,d,g,y){return new FR(c,d,g,y)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,g){return new QR(a,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>hv(this.syncEngine,i,0)),(function(){return rv.v()?new rv:new jR})())}createSyncEngine(e,i){return(function(o,c,d,g,y,_,b){const x=new fC(o,c,d,g,y,_);return b&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ce(i);le(aa,"RemoteStore shutting down."),a.Ea.add(5),await ru(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wm.provider={build:()=>new wm};class PE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):bs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Er="FirestoreClient";class RC{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=an.UNAUTHENTICATED,this.clientId=Gm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{le(Er,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(le(Er,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=hp(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Wd(s,e){s.asyncQueue.verifyOperationInProgress(),le(Er,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await yE(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function dv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await CC(s);le(Er,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>lv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>lv(e.remoteStore,o))),s._onlineComponents=e}async function CC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){le(Er,"Using user provided OfflineComponentProvider");try{await Wd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;fl("Error using user provided cache. Falling back to memory cache: "+i),await Wd(s,new ph)}}else le(Er,"Using default OfflineComponentProvider"),await Wd(s,new wC(void 0));return s._offlineComponents}async function UE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(le(Er,"Using user provided OnlineComponentProvider"),await dv(s,s._uninitializedComponentsProvider._online)):(le(Er,"Using default OnlineComponentProvider"),await dv(s,new wm))),s._onlineComponents}function IC(s){return UE(s).then((e=>e.syncEngine))}async function Rm(s){const e=await UE(s),i=e.eventManager;return i.onListen=dC.bind(null,e.syncEngine),i.onUnlisten=gC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=mC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=yC.bind(null,e.syncEngine),i}function NC(s,e,i={}){const a=new dr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,y,_){const b=new PE({next:V=>{b.Nu(),d.enqueueAndForget((()=>CE(c,x)));const H=V.docs.has(g);!H&&V.fromCache?_.reject(new de(J.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&V.fromCache&&y&&y.source==="server"?_.reject(new de(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(V)},error:V=>_.reject(V)}),x=new IE(Sh(g.path),b,{includeMetadataChanges:!0,qa:!0});return RE(c,x)})(await Rm(s),s.asyncQueue,e,i,a))),a.promise}function zE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const mv=new Map;const BE="firestore.googleapis.com",pv=!0;class gv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BE,this.ssl=pv}else this.host=e.host,this.ssl=e.ssl??pv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uR)throw new de(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Fx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pp{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Vx;switch(a.type){case"firstParty":return new Px(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new de(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=mv.get(i);a&&(le("ComponentProvider","Removing Datastore"),mv.delete(i),a.terminate())})(this),Promise.resolve()}}function DC(s,e,i,a={}){s=di(s,pp);const o=vl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;o&&(jv(`https://${g}`),Pv("Firestore",!0)),c.host!==BE&&c.host!==g&&fl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:o,emulatorOptions:a};if(!mr(y,d)&&(s._setSettings(y),a.mockUserToken)){let _,b;if(typeof a.mockUserToken=="string")_=a.mockUserToken,b=an.MOCK_USER;else{_=iA(a.mockUserToken,s._app?.options.projectId);const x=a.mockUserToken.sub||a.mockUserToken.user_id;if(!x)throw new de(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new an(x)}s._authCredentials=new kx(new I1(_,b))}}class Mh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Mh(this.firestore,e,this._query)}}class Pt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}toJSON(){return{type:Pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(nu(i,Pt._jsonSchema))return new Pt(e,a||null,new _e(yt.fromString(i.referencePath)))}}Pt._jsonSchemaVersion="firestore/documentReference/1.0",Pt._jsonSchema={type:jt("string",Pt._jsonSchemaVersion),referencePath:jt("string")};class Qo extends Mh{constructor(e,i,a){super(e,i,Sh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new _e(e))}withConverter(e){return new Qo(this.firestore,e,this._path)}}function fn(s,e,...i){if(s=mn(s),arguments.length===1&&(e=Gm.newId()),Gx("doc","path",e),s instanceof pp){const a=yt.fromString(e,...i);return N_(a),new Pt(s,null,new _e(a))}{if(!(s instanceof Pt||s instanceof Qo))throw new de(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(yt.fromString(e,...i));return N_(a),new Pt(s.firestore,s instanceof Qo?s.converter:null,new _e(a))}}const yv="AsyncQueue";class _v{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vE(this,"async_queue_retry"),this._c=()=>{const a=Jd();a&&le(yv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Jd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Jd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new dr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Sl(e))throw e;le(yv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,bs("INTERNAL UNHANDLED ERROR: ",vv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=cp.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ae(47125,{Pc:vv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function vv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function Ev(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class la extends pp{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new _v,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _v(e),this._firestoreClient=void 0,await e}}}function OC(s,e){const i=typeof s=="object"?s:qv(),a=typeof s=="string"?s:ah,o=Vm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=tA("firestore");c&&DC(o,...c)}return o}function gp(s){if(s._terminated)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||MC(s),s._firestoreClient}function MC(s){const e=s._freezeSettings(),i=(function(o,c,d,g){return new nw(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,zE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new RC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class Jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jn(nn.fromBase64String(e))}catch(i){throw new de(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Jn(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nu(e,Jn._jsonSchema))return Jn.fromBase64String(e.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:jt("string",Jn._jsonSchemaVersion),bytes:jt("string")};class Vh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new de(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class kh{constructor(e){this._methodName=e}}class qi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new de(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new de(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qi._jsonSchemaVersion}}static fromJSON(e){if(nu(e,qi._jsonSchema))return new qi(e.latitude,e.longitude)}}qi._jsonSchemaVersion="firestore/geoPoint/1.0",qi._jsonSchema={type:jt("string",qi._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};class Hi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nu(e,Hi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Hi(e.vectorValues);throw new de(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hi._jsonSchemaVersion="firestore/vectorValue/1.0",Hi._jsonSchema={type:jt("string",Hi._jsonSchemaVersion),vectorValues:jt("object")};const VC=/^__.*__$/;class kC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Tr(e,this.data,this.fieldMask,i,this.fieldTransforms):new iu(e,this.data,i,this.fieldTransforms)}}class qE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Tr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function HE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:s})}}class Lh{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Lh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return gh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(HE(this.Ac)&&VC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class LC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Nh(e)}Cc(e,i,a,o=!1){return new Lh({Ac:e,methodName:i,Dc:a,path:tn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function GE(s){const e=s._freezeSettings(),i=Nh(s._databaseId);return new LC(s._databaseId,!!e.ignoreUndefinedProperties,i)}function jC(s,e,i,a,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,o);_p("Data must be an object, but it was:",d,a);const g=FE(a,d);let y,_;if(c.merge)y=new kn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const x of c.mergeFields){const V=Cm(e,x,i);if(!d.contains(V))throw new de(J.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);QE(b,V)||b.push(V)}y=new kn(b),_=d.fieldTransforms.filter((x=>y.covers(x.field)))}else y=null,_=d.fieldTransforms;return new kC(new Sn(g),y,_)}class jh extends kh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jh}}function PC(s,e,i){return new Lh({Ac:3,Dc:e.settings.Dc,methodName:s._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class yp extends kh{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=PC(this,e,!0),a=this.vc.map((c=>lu(c,i))),o=new gl(a);return new Iw(e.path,o)}isEqual(e){return e instanceof yp&&mr(this.vc,e.vc)}}function UC(s,e,i,a){const o=s.Cc(1,e,i);_p("Data must be an object, but it was:",o,a);const c=[],d=Sn.empty();br(a,((y,_)=>{const b=vp(e,y,i);_=mn(_);const x=o.yc(b);if(_ instanceof jh)c.push(b);else{const V=lu(_,x);V!=null&&(c.push(b),d.set(b,V))}}));const g=new kn(c);return new qE(d,g,o.fieldTransforms)}function zC(s,e,i,a,o,c){const d=s.Cc(1,e,i),g=[Cm(e,a,i)],y=[o];if(c.length%2!=0)throw new de(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)g.push(Cm(e,c[V])),y.push(c[V+1]);const _=[],b=Sn.empty();for(let V=g.length-1;V>=0;--V)if(!QE(_,g[V])){const H=g[V];let W=y[V];W=mn(W);const re=d.yc(H);if(W instanceof jh)_.push(H);else{const Z=lu(W,re);Z!=null&&(_.push(H),b.set(H,Z))}}const x=new kn(_);return new qE(b,x,d.fieldTransforms)}function lu(s,e){if(YE(s=mn(s)))return _p("Unsupported field value:",e,s),FE(s,e);if(s instanceof kh)return(function(a,o){if(!HE(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let y=lu(g,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=mn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return ww(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=dt.fromDate(a);return{timestampValue:fh(o.serializer,c)}}if(a instanceof dt){const c=new dt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:fh(o.serializer,c)}}if(a instanceof qi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Jn)return{bytesValue:oE(o.serializer,a._byteString)};if(a instanceof Pt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:tp(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Hi)return(function(d,g){return{mapValue:{fields:{[P1]:{stringValue:U1},[lh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Zm(g.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Fm(a)}`)})(s,e)}function FE(s,e){const i={};return O1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):br(s,((a,o)=>{const c=lu(o,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function YE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof dt||s instanceof qi||s instanceof Jn||s instanceof Pt||s instanceof kh||s instanceof Hi)}function _p(s,e,i){if(!YE(i)||!N1(i)){const a=Fm(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function Cm(s,e,i){if((e=mn(e))instanceof Vh)return e._internalPath;if(typeof e=="string")return vp(s,e);throw gh("Field path arguments must be of type string or ",s,!1,void 0,i)}const BC=new RegExp("[~\\*/\\[\\]]");function vp(s,e,i){if(e.search(BC)>=0)throw gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Vh(...e.split("."))._internalPath}catch{throw gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function gh(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${o}`),y+=")"),new de(J.INVALID_ARGUMENT,g+s+y)}function QE(s,e){return s.some((i=>i.isEqual(e)))}class KE{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(XE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class qC extends KE{data(){return super.data()}}function XE(s,e){return typeof e=="string"?vp(s,e):e instanceof Vh?e._internalPath:e._delegate._internalPath}function HC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new de(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class GC{convertValue(e,i="none"){switch(_r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(yr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return br(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[lh].arrayValue?.values?.map((a=>Rt(a.doubleValue)));return new Hi(i)}convertGeoPoint(e){return new qi(Rt(e.latitude),Rt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Th(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ho(e));default:return null}}convertTimestamp(e){const i=gr(e);return new dt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=yt.fromString(e);Ze(mE(a),9688,{name:e});const o=new Go(a.get(1),a.get(3)),c=new _e(a.popFirst(5));return o.isEqual(i)||bs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function FC(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Oo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class na extends KE{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(XE("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=na._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}na._jsonSchemaVersion="firestore/documentSnapshot/1.0",na._jsonSchema={type:jt("string",na._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class Xc extends na{data(e={}){return super.data(e)}}class ol{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Oo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Xc(this._firestore,this._userDataWriter,a.key,a,new Oo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new de(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const y=new Xc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Oo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new Xc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Oo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,b=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:YC(g.type),doc:y,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ol._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function YC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:s})}}function bv(s){s=di(s,Pt);const e=di(s.firestore,la);return NC(gp(e),s._key).then((i=>ZE(e,s,i)))}ol._jsonSchemaVersion="firestore/querySnapshot/1.0",ol._jsonSchema={type:jt("string",ol._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};class $E extends GC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,i)}}function QC(s,e,i){s=di(s,Pt);const a=di(s.firestore,la),o=FC(s.converter,e);return Ep(a,[jC(GE(a),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,mi.none())])}function $n(s,e,i,...a){s=di(s,Pt);const o=di(s.firestore,la),c=GE(o);let d;return d=typeof(e=mn(e))=="string"||e instanceof Vh?zC(c,"updateDoc",s._key,e,i,a):UC(c,"updateDoc",s._key,e),Ep(o,[d.toMutation(s._key,mi.exists(!0))])}function Tv(s){return Ep(di(s.firestore,la),[new Jm(s._key,mi.none())])}function Av(s,...e){s=mn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Ev(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Ev(e[a])){const y=e[a];e[a]=y.next?.bind(y),e[a+1]=y.error?.bind(y),e[a+2]=y.complete?.bind(y)}let c,d,g;if(s instanceof Pt)d=di(s.firestore,la),g=Sh(s._key.path),c={next:y=>{e[a]&&e[a](ZE(d,s,y))},error:e[a+1],complete:e[a+2]};else{const y=di(s,Mh);d=di(y.firestore,la),g=y._query;const _=new $E(d);c={next:b=>{e[a]&&e[a](new ol(d,_,y,b))},error:e[a+1],complete:e[a+2]},HC(s._query)}return(function(_,b,x,V){const H=new PE(V),W=new IE(b,H,x);return _.asyncQueue.enqueueAndForget((async()=>RE(await Rm(_),W))),()=>{H.Nu(),_.asyncQueue.enqueueAndForget((async()=>CE(await Rm(_),W)))}})(gp(d),g,o,c)}function Ep(s,e){return(function(a,o){const c=new dr;return a.asyncQueue.enqueueAndForget((async()=>_C(await IC(a),o,c))),c.promise})(gp(s),e)}function ZE(s,e,i){const a=i.docs.get(e._key),o=new $E(s);return new na(s,o,e._key,a,new Oo(i.hasPendingWrites,i.fromCache),e.converter)}function Wr(...s){return new yp("arrayUnion",s)}(function(e,i=!0){(function(o){Tl=o})(El),hl(new ia("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new la(new Lx(a.getProvider("auth-internal")),new Ux(d,a.getProvider("app-check-internal")),(function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new de(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Go(_.options.projectId,b)})(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),hr(w_,R_,e),hr(w_,R_,"esm2020")})();const KC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),Sv=s=>{const e=XC(s);return e.charAt(0).toUpperCase()+e.slice(1)},JE=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),$C=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var ZC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const JC=lt.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...g},y)=>lt.createElement("svg",{ref:y,...ZC,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:JE("lucide",o),...!c&&!$C(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,b])=>lt.createElement(_,b)),...Array.isArray(c)?c:[c]]));const ot=(s,e)=>{const i=lt.forwardRef(({className:a,...o},c)=>lt.createElement(JC,{ref:c,iconNode:e,className:JE(`lucide-${KC(Sv(s))}`,`lucide-${s}`,a),...o}));return i.displayName=Sv(s),i};const WC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],WE=ot("arrow-right",WC);const eI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Uc=ot("book-open",eI);const tI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Mo=ot("circle-check-big",tI);const nI=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],xv=ot("crown",nI);const iI=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],sI=ot("door-open",iI);const rI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],eb=ot("file-text",rI);const aI=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],tb=ot("gift",aI);const lI=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],oI=ot("hammer",lI);const uI=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],Im=ot("hand",uI);const cI=[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]],hI=ot("handshake",cI);const fI=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],dI=ot("hash",fI);const mI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],pI=ot("history",mI);const gI=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],nb=ot("house",gI);const yI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ib=ot("info",yI);const _I=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],vI=ot("layers",_I);const EI=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],bI=ot("loader",EI);const TI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],sb=ot("log-out",TI);const AI=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],$c=ot("refresh-cw",AI);const SI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],em=ot("rotate-ccw",SI);const xI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],wv=ot("shield",xI);const wI=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],RI=ot("sparkles",wI);const CI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],II=ot("trash-2",CI);const NI=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Nm=ot("triangle-alert",NI);const DI=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Ph=ot("trophy",DI);const OI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],MI=ot("user",OI);const VI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],kI=ot("users",VI);const LI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ul=ot("x",LI);const jI=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Rv=ot("zap",jI),PI={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:b5deb05899e092116aa637"},rb=Bv(PI),tm=Ox(rb),dn=OC(rb),Tn=typeof __app_id<"u"?__app_id:"together-game",UI="23",Ja="together_game_roomId",Cv={MAGENTA:{id:"M",bg:"bg-pink-600",border:"border-pink-400",text:"text-white"},LEMON:{id:"L",bg:"bg-yellow-400",border:"border-yellow-200",text:"text-yellow-900"}},ds=[{id:"A",name:"Team Magenta",color:"text-pink-400",bg:"bg-pink-900/30",border:"border-pink-500/50",badgeBg:"bg-pink-900"},{id:"B",name:"Team Lemon",color:"text-yellow-400",bg:"bg-yellow-900/30",border:"border-yellow-500/50",badgeBg:"bg-yellow-900"},{id:"C",name:"Team Cyan",color:"text-cyan-400",bg:"bg-cyan-900/30",border:"border-cyan-500/50",badgeBg:"bg-cyan-900"}],nm=[{id:"run_3",text:"Run of 3",points:2,type:"RUN",count:3,desc:"Collect any 3 sequential cards (e.g., 5, 6, 7). Colors can be mixed."},{id:"run_4_col",text:"Run of 4 (Same Color)",points:3,type:"RUN",count:4,sameColor:!0,desc:"Collect 4 sequential cards that share the same color (all Lemon or all Magenta)."},{id:"run_5",text:"Run of 5",points:4,type:"RUN",count:5,desc:"Collect any 5 sequential cards (e.g., 2, 3, 4, 5, 6). Colors can be mixed."},{id:"run_low",text:"Low Run",points:3,type:"EXACT_SEQ",seq:[1,2,3,4],desc:"Collect the exact sequence 1, 2, 3, 4. Colors can be mixed."},{id:"run_high",text:"High Run",points:3,type:"EXACT_SEQ",seq:[5,6,7,8],desc:"Collect the exact sequence 5, 6, 7, 8. Colors can be mixed."},{id:"run_3_blue",text:"Lemon Run of 3",points:3,type:"RUN",count:3,specificColor:"L",desc:"Collect 3 sequential cards that are all Lemon."},{id:"run_odd",text:"Odd Run",points:4,type:"EXACT_SEQ",seq:[3,5,7],desc:"Collect the exact sequence 3, 5, 7. Colors can be mixed."},{id:"set_3",text:"3 of a Kind",points:2,type:"SET",count:3,desc:"Collect 3 cards of the same number. Colors can be mixed."},{id:"set_4",text:"4 of a Kind",points:4,type:"SET",count:4,desc:"Collect 4 cards of the same number. Colors can be mixed."},{id:"two_pairs",text:"Two Pairs",points:3,type:"TWO_PAIRS",desc:"Collect two pairs of numbers (e.g., two 3s and two 8s). Colors can be mixed."},{id:"full_house",text:"Full House",points:4,type:"FULL_HOUSE",desc:"Collect a Set of 3 plus a Pair (e.g., three 5s and two 8s)."},{id:"set_odd",text:"Odd Set",points:3,type:"SET_PARITY",count:3,parity:"ODD",desc:"Collect 3 cards of the same number, where that number is Odd (1, 3, 5, or 7)."},{id:"set_even",text:"Even Set",points:3,type:"SET_PARITY",count:3,parity:"EVEN",desc:"Collect 3 cards of the same number, where that number is Even (2, 4, 6, or 8)."},{id:"set_4_8s",text:"Four 8s",points:5,type:"EXACT_SET",val:8,count:4,desc:"Collect four cards showing the number 8."},{id:"pair_1s",text:"Paired 1s",points:2,type:"EXACT_SET",val:1,count:2,desc:"Collect two cards showing the number 1."},{id:"set_6s",text:"Set of 6s",points:3,type:"EXACT_SET",val:6,count:3,desc:"Collect three cards showing the number 6."},{id:"blue_odds",text:"Lemon Odds",points:4,type:"COLOR_PARITY",count:4,color:"L",parity:"ODD",desc:"Collect 4 Lemon cards that are all Odd numbers (1, 3, 5, or 7)."},{id:"mag_evens",text:"Magenta Evens",points:4,type:"COLOR_PARITY",count:4,color:"M",parity:"EVEN",desc:"Collect 4 Magenta cards that are all Even numbers (2, 4, 6, or 8)."},{id:"blue_low",text:"Lemon Low",points:3,type:"COLOR_RANGE",count:4,color:"L",max:4,desc:"Collect 4 Lemon cards with numbers 4 or lower."},{id:"mag_high",text:"Magenta High",points:3,type:"COLOR_RANGE",count:4,color:"M",min:5,desc:"Collect 4 Magenta cards with numbers 5 or higher."},{id:"odd_colors",text:"Odd Colors",points:3,type:"ODD_COLORS",desc:"Collect two Odd-numbered cards: one must be Lemon and one Magenta."},{id:"all_four_7s",text:"All Four 7s",points:5,type:"ALL_FOUR_7S",desc:"Collect four 7s: two must be Lemon and two must be Magenta."},{id:"mixed_pair",text:"Mixed Pairs",points:4,type:"MIXED_PAIRS",desc:"Collect one Pair of Lemon cards and one Pair of Magenta cards."},{id:"pure_blue",text:"Pure Lemon",points:4,type:"PURE_COLOR",count:5,color:"L",desc:"Collect any 5 Lemon cards, regardless of number."},{id:"pure_mag",text:"Pure Magenta",points:4,type:"PURE_COLOR",count:5,color:"M",desc:"Collect any 5 Magenta cards, regardless of number."},{id:"even_blues",text:"Even Lemons",points:3,type:"COLOR_PARITY",count:3,color:"L",parity:"EVEN",desc:"Collect 3 Lemon cards that are all Even numbers."},{id:"odd_magentas",text:"Odd Magentas",points:3,type:"COLOR_PARITY",count:3,color:"M",parity:"ODD",desc:"Collect 3 Magenta cards that are all Odd numbers."},{id:"sum_18_3",text:"Sum of 18",points:3,type:"SUM",count:3,target:18,desc:"Collect 3 cards that add up to exactly 18."},{id:"sum_25_4",text:"Sum of 25",points:5,type:"SUM",count:4,target:25,desc:"Collect 4 cards that add up to exactly 25."},{id:"sum_10_blue",text:"Lemon 10",points:4,type:"SUM_COLOR",count:3,target:10,color:"L",desc:"Collect 3 Lemon cards that add up to exactly 10."},{id:"sum_20_mag",text:"Magenta 20",points:5,type:"SUM_COLOR",count:3,target:20,color:"M",desc:"Collect 3 Magenta cards that add up to exactly 20."},{id:"even_sum_14",text:"Even Sum 14",points:4,type:"SUM_PARITY",count:3,target:14,parity:"EVEN",desc:"Collect 3 Even-numbered cards that add up to exactly 14."},{id:"odd_sum_15",text:"Odd Sum 15",points:4,type:"SUM_PARITY",count:3,target:15,parity:"ODD",desc:"Collect 3 Odd-numbered cards that add up to exactly 15."},{id:"doubler",text:"Doubler (Any)",points:4,type:"DOUBLER_SUM",desc:"Collect 3 cards where two of the same color add up to the number on the third card."},{id:"sum_12_tri",text:"Tri-Sum 12",points:5,type:"SUM_DIFF",count:3,target:12,desc:"Collect 3 cards with different numbers that add up to exactly 12."},{id:"four_sum_28",text:"Four Sum 28",points:6,type:"EXACT_SET",val:7,count:4,desc:"Collect four cards that add up to 28 (Requires four 7s)."},{id:"low_sum_6",text:"Low Sum 6",points:3,type:"SUM",count:3,target:6,desc:"Collect 3 cards that add up to exactly 6."},{id:"arith_pair",text:"Arithmetic Pair",points:4,type:"ARITHMETIC_PAIR",desc:"Collect a Lemon card (X) and a Magenta card (Y) where Y is exactly 3 more than X."},{id:"arith_trip",text:"Arithmetic Triple",points:3,type:"RUN",count:3,desc:"Collect any 3 sequential cards (e.g., 2, 3, 4). Colors can be mixed."},{id:"color_run_4",text:"Color Run 4",points:5,type:"COLOR_SPLIT_RUN",desc:"Collect a run of 4 cards: the lower two must be Lemon and the higher two Magenta."},{id:"odd_full_house_blue",text:"Odd Full House (L)",points:6,type:"FULL_HOUSE_COLOR_PARITY",color:"L",parity:"ODD",desc:"Collect a Full House (Set of 3 + Pair) using only Odd-numbered Lemon cards."},{id:"high_pairs",text:"High Pairs",points:5,type:"SPECIFIC_PAIRS",vals:[7,8],desc:"Collect a pair of 7s and a pair of 8s."},{id:"blue_even_run",text:"Lemon-Even Run",points:6,type:"RUN_COLOR_PARITY",color:"L",parity:"EVEN",desc:"Collect 3 Lemon cards that form an Even sequence (2, 4, 6 or 4, 6, 8)."},{id:"mag_odd_set",text:"Magenta-Odd Set",points:5,type:"SET_PARITY_COLOR",count:3,parity:"ODD",color:"M",desc:"Collect 3 Magenta cards of the same Odd number."},{id:"max_min",text:"Max/Min",points:6,type:"SPECIFIC_PAIRS",vals:[1,8],desc:"Collect a pair of 1s and a pair of 8s."},{id:"tri_color_set_3",text:"Tri-Color Set (3s)",points:4,type:"SPECIFIC_SET_MIXED",val:3,countL:2,countM:1,desc:"Collect three 3s: exactly two must be Lemon and one must be Magenta."}],ab=s=>{let e=s.length,i;for(;e!==0;)i=Math.floor(Math.random()*e),e--,[s[e],s[i]]=[s[i],s[e]];return s},zI=()=>{let s=[];for(let e=0;e<4;e++)for(let i=1;i<=8;i++)s.push({id:`M-${e}-${i}`,color:"M",value:i}),s.push({id:`L-${e}-${i}`,color:"L",value:i});return ab(s)},Iv=()=>v.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[v.jsx(hI,{size:12,className:"text-pink-600"}),v.jsx("span",{className:"text-[10px] font-black tracking-widest text-pink-600 uppercase",children:"TOGETHER"})]}),BI=(s,e)=>{if(!s||s.length===0)return!1;const i=s.map(c=>c.value).sort((c,d)=>c-d),a=s.map(c=>c.color),o=i.reduce((c,d)=>c+d,0);switch(e.type){case"RUN":if(s.length!==e.count)return!1;for(let S=0;S<i.length-1;S++)if(i[S]+1!==i[S+1])return!1;return!(e.sameColor&&!a.every(S=>S===a[0])||e.specificColor&&!a.every(S=>S===e.specificColor));case"EXACT_SEQ":return s.length!==e.seq.length?!1:i.every((S,D)=>S===e.seq[D]);case"SET":return s.length!==e.count?!1:i.every(S=>S===i[0]);case"TWO_PAIRS":return s.length!==4?!1:i[0]===i[1]&&i[2]===i[3]&&i[1]!==i[2];case"FULL_HOUSE":if(s.length!==5)return!1;const c=i.filter(S=>S===i[0]).length,d=i.filter(S=>S===i[4]).length;return c===3&&d===2||c===2&&d===3;case"SET_PARITY":return s.length!==e.count||!i.every(S=>S===i[0])?!1:e.parity==="ODD"?i[0]%2!==0:i[0]%2===0;case"EXACT_SET":return s.length!==e.count?!1:i.every(S=>S===e.val);case"COLOR_PARITY":return s.length!==e.count||!a.every(S=>S===e.color)?!1:e.parity==="ODD"?i.every(S=>S%2!==0):i.every(S=>S%2===0);case"COLOR_RANGE":return s.length!==e.count||!a.every(S=>S===e.color)?!1:e.max?i.every(S=>S<=e.max):e.min?i.every(S=>S>=e.min):!1;case"MIXED_PAIRS":if(s.length!==4)return!1;const g=s.filter(S=>S.color==="L").map(S=>S.value),y=s.filter(S=>S.color==="M").map(S=>S.value);return g.length!==2||y.length!==2?!1:g[0]===g[1]&&y[0]===y[1];case"PURE_COLOR":return s.length!==e.count?!1:a.every(S=>S===e.color);case"SUM":return s.length!==e.count?!1:o===e.target;case"SUM_COLOR":return s.length!==e.count||!a.every(S=>S===e.color)?!1:o===e.target;case"SUM_PARITY":if(s.length!==e.count||o!==e.target)return!1;const _=e.parity==="ODD";return i.every(S=>S%2!==0===_);case"SUM_DIFF":return s.length!==e.count||o!==e.target?!1:new Set(i).size===i.length;case"DOUBLER_SUM":if(s.length!==3)return!1;for(let S=0;S<3;S++){const D=s[S],k=s.filter((R,nt)=>nt!==S);if(k[0].color===k[1].color&&k[0].value+k[1].value===D.value)return!0}return!1;case"COLOR_SPLIT_RUN":if(s.length!==4)return!1;for(let S=0;S<i.length-1;S++)if(i[S]+1!==i[S+1])return!1;const b=[...s].sort((S,D)=>S.value-D.value),x=b[0].color,V=b[1].color,H=b[2].color,W=b[3].color;return x==="L"&&V==="L"&&H==="M"&&W==="M";case"SPECIFIC_PAIRS":return s.length!==4||i[0]!==i[1]||i[2]!==i[3]?!1:i[0]===e.vals[0]&&i[2]===e.vals[1];case"ODD_COLORS":return s.length!==2||i.some(S=>S%2===0)?!1:a.includes("L")&&a.includes("M");case"ALL_FOUR_7S":if(s.length!==4||!i.every(S=>S===7))return!1;const re=a.filter(S=>S==="L").length,Z=a.filter(S=>S==="M").length;return re===2&&Z===2;case"ARITHMETIC_PAIR":if(s.length!==2)return!1;const me=s.find(S=>S.color==="L"),be=s.find(S=>S.color==="M");return!me||!be?!1:be.value===me.value+3;case"FULL_HOUSE_COLOR_PARITY":if(s.length!==5||!a.every(S=>S===e.color))return!1;const ve=e.parity==="ODD";if(!i.every(S=>S%2!==0===ve))return!1;const Ge=i.filter(S=>S===i[0]).length,qe=i.filter(S=>S===i[4]).length;return Ge===3&&qe===2||Ge===2&&qe===3;case"RUN_COLOR_PARITY":if(s.length!==3||!a.every(S=>S===e.color))return!1;const Me=e.parity==="ODD";return i.every(S=>S%2!==0===Me)?i[1]===i[0]+2&&i[2]===i[1]+2:!1;case"SET_PARITY_COLOR":if(s.length!==e.count||!a.every(S=>S===e.color)||!i.every(S=>S===i[0]))return!1;const I=e.parity==="ODD";return i[0]%2!==0===I;case"SPECIFIC_SET_MIXED":if(s.length!==3||!i.every(S=>S===e.val))return!1;const w=a.filter(S=>S==="L").length,C=a.filter(S=>S==="M").length;return w===e.countL&&C===e.countM;default:return!1}},Co=()=>v.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[v.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-slate-900 via-slate-950 to-black"}),v.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-96 h-96 bg-pink-600/10 rounded-full blur-3xl animate-pulse"}),v.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-96 h-96 bg-yellow-400/10 rounded-full blur-3xl animate-pulse delay-700"})]}),qI=({event:s,onClose:e,currentUserId:i})=>{if(!s)return null;const{type:a,actorName:o,data:c,actorId:d,targetId:g}=s,y=i===g;if(i===d)return null;let b=null,x="",V=null;switch(a){case"GOAL_CHANGE":x="Goal Changed",V=v.jsx($c,{className:"text-purple-400",size:32}),b=v.jsxs("div",{className:"flex flex-col gap-4",children:[v.jsxs("div",{className:"text-center text-slate-300",children:[v.jsx("span",{className:"font-bold text-white",children:o})," changed"," ",c.goalType==="PERSONAL"?"their":"the"," ",v.jsx("span",{className:"font-bold text-purple-400",children:c.goalType==="PERSONAL"?"Personal":"Public"})," ","Goal!"]}),v.jsxs("div",{className:"flex items-center justify-center gap-4",children:[v.jsxs("div",{className:"opacity-60 scale-75 origin-right",children:[v.jsx(cl,{goal:c.oldGoal,small:!0}),v.jsx("div",{className:"text-center text-xs mt-1 text-slate-500",children:"OLD"})]}),v.jsx(WE,{className:"text-slate-500"}),v.jsxs("div",{className:"scale-90 origin-left",children:[v.jsx(cl,{goal:c.newGoal,small:!0}),v.jsx("div",{className:"text-center text-xs mt-1 text-green-400",children:"NEW"})]})]})]});break;case"GOAL_CLAIM":x="Goal Completed!",V=v.jsx(Ph,{className:"text-yellow-400",size:32}),b=v.jsxs("div",{className:"flex flex-col gap-4 items-center",children:[v.jsxs("div",{className:"text-center text-slate-300",children:[v.jsx("span",{className:"font-bold text-white",children:o})," completed"," ",c.goalType==="PERSONAL"?"their":"the"," ",v.jsx("span",{className:"font-bold text-yellow-400",children:c.goalType})," ","goal!"]}),v.jsx(cl,{goal:c.goal}),v.jsx("div",{className:"flex gap-1 justify-center bg-slate-800/50 p-2 rounded-xl mt-2",children:c.cards.map((H,W)=>v.jsx(Ko,{card:H,tiny:!0},W))})]});break;case"TRADE":y?(x="Trade Received",V=v.jsx(tb,{className:"text-blue-400",size:32}),b=v.jsxs("div",{className:"flex flex-col gap-4 items-center",children:[v.jsxs("div",{className:"text-center text-slate-300",children:[v.jsx("span",{className:"font-bold text-white",children:o})," sent you cards!"]}),v.jsx("div",{className:"flex gap-2 justify-center",children:c.cards.map((H,W)=>v.jsx(Ko,{card:H,small:!0},W))})]})):(x="Trade Occurred",V=v.jsx(Im,{className:"text-blue-400",size:32}),b=v.jsx("div",{className:"flex flex-col gap-4 items-center",children:v.jsxs("div",{className:"text-center text-slate-300 text-lg",children:[v.jsx("span",{className:"font-bold text-white",children:o})," gave"," ",v.jsxs("span",{className:"font-bold text-blue-400",children:[c.count," card",c.count>1?"s":""]})," ","to ",v.jsx("span",{className:"font-bold text-white",children:c.targetName}),"."]})}));break;default:return null}return v.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 animate-in fade-in duration-300 pointer-events-none",children:v.jsxs("div",{className:"bg-slate-900/95 border-2 border-slate-700 rounded-2xl max-w-sm w-full p-6 shadow-2xl relative pointer-events-auto transform transition-all scale-100",children:[v.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-slate-500 hover:text-white",children:v.jsx(ul,{size:24})}),v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("div",{className:"mb-4 bg-slate-800 p-3 rounded-full border border-slate-700",children:V}),v.jsx("h3",{className:"text-2xl font-black text-white mb-4",children:x}),b,v.jsx("button",{onClick:e,className:"w-full mt-6 bg-slate-800 hover:bg-slate-700 text-white font-bold py-3 rounded-xl transition-colors",children:"Dismiss"})]})]})})},Nv=({onConfirmLeave:s,onConfirmLobby:e,onCancel:i,isHost:a,inGame:o})=>v.jsx("div",{className:"fixed inset-0 z-[200] bg-black/90 flex items-center justify-center p-4 animate-in fade-in duration-200",children:v.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl max-w-sm w-full p-6 text-center shadow-2xl",children:[v.jsx(Nm,{className:"mx-auto text-red-500 mb-4",size:48}),v.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Leave Game?"}),v.jsx("p",{className:"text-slate-400 mb-6",children:o?"Leaving now will disrupt the game!":"You will be removed from the lobby."}),v.jsxs("div",{className:"flex flex-col gap-3",children:[v.jsx("button",{onClick:i,className:"bg-slate-800 hover:bg-slate-700 text-white font-bold py-3 rounded-xl transition-colors",children:"Stay (Cancel)"}),a&&o&&v.jsxs("button",{onClick:e,className:"bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl transition-colors flex items-center justify-center gap-2",children:[v.jsx(nb,{size:18})," Return Everyone to Lobby"]}),v.jsxs("button",{onClick:s,className:"bg-red-600 hover:bg-red-500 text-white font-bold py-3 rounded-xl transition-colors flex items-center justify-center gap-2",children:[v.jsx(sb,{size:18})," ",a&&o?"End Game for All":"Leave Room"]})]})]})}),HI=({goal:s,onClose:e})=>v.jsx("div",{className:"fixed inset-0 z-[100] bg-black/80 flex items-center justify-center p-4 animate-in fade-in duration-200",onClick:e,children:v.jsxs("div",{className:"bg-slate-900 border-2 border-slate-700 rounded-2xl max-w-sm w-full p-6 shadow-2xl relative",onClick:i=>i.stopPropagation(),children:[v.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-slate-500 hover:text-white",children:v.jsx(ul,{size:24})}),v.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[v.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-800 flex items-center justify-center mb-2",children:v.jsx(ib,{size:32,className:"text-pink-400"})}),v.jsx("h3",{className:"text-2xl font-black text-white",children:s.text}),v.jsx("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700 w-full",children:v.jsx("p",{className:"text-slate-300 font-medium text-lg leading-relaxed",children:s.desc||"No description available."})}),v.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[v.jsx(Ph,{className:"text-yellow-400",size:20}),v.jsxs("span",{className:"text-xl font-bold text-yellow-400",children:[s.points," Points"]})]}),v.jsx("button",{onClick:e,className:"w-full bg-slate-800 hover:bg-slate-700 text-white font-bold py-3 rounded-xl mt-4 transition-colors",children:"Got it"})]})]})}),GI=({completedGoals:s,onClose:e})=>{const i=[...s].sort((a,o)=>a.teamId.localeCompare(o.teamId));return v.jsx("div",{className:"fixed inset-0 z-[200] bg-black/95 flex items-center justify-center p-4 animate-in fade-in duration-200",children:v.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl max-w-4xl w-full max-h-[90vh] flex flex-col shadow-2xl",children:[v.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-center bg-slate-800/50 rounded-t-2xl",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"bg-indigo-600 p-2 rounded-lg",children:v.jsx(eb,{className:"text-white",size:24})}),v.jsx("h2",{className:"text-2xl font-black text-white",children:"Game Report Card"})]}),v.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-700 rounded-full transition-colors text-slate-400 hover:text-white",children:v.jsx(ul,{size:24})})]}),v.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:ds.map(a=>{const o=i.filter(c=>c.teamId===a.id);return o.length===0?null:v.jsxs("div",{className:`border-l-4 ${a.border} pl-6 py-2`,children:[v.jsx("h3",{className:`text-xl font-black mb-4 ${a.color}`,children:a.name}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map((c,d)=>v.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 border border-slate-700 flex flex-col gap-3",children:[v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsxs("div",{children:[v.jsx("div",{className:"font-bold text-white text-lg",children:c.goal.text}),v.jsxs("div",{className:"text-xs text-slate-400",children:["Completed by ",c.playerName]})]}),v.jsxs("div",{className:"bg-yellow-400/10 text-yellow-400 font-bold px-2 py-1 rounded text-xs border border-yellow-400/20",children:["+",c.points," pts"]})]}),v.jsx("div",{className:"flex gap-1 justify-center bg-slate-900/50 p-2 rounded-lg",children:c.cards.map((g,y)=>v.jsx(Ko,{card:g,tiny:!0},y))})]},d))})]},a.id)})}),v.jsx("div",{className:"p-4 border-t border-slate-800 text-center bg-slate-800/30 rounded-b-2xl",children:v.jsx("button",{onClick:e,className:"bg-white text-slate-900 font-bold px-8 py-3 rounded-xl hover:scale-105 transition-transform",children:"Close Report"})})]})})},Ko=({card:s,onClick:e,selected:i,small:a,disabled:o,tiny:c})=>{if(!s)return v.jsx("div",{className:`border-2 border-dashed border-gray-700 rounded-xl bg-gray-800/50 ${a?"w-10 h-14":"w-20 h-28"}`});const d=s.color==="M"?Cv.MAGENTA:Cv.LEMON;return c?v.jsx("div",{className:`w-6 h-8 rounded flex items-center justify-center text-xs font-black ${d.bg} ${d.text} border border-white/20 shadow-sm`,children:s.value}):v.jsxs("button",{onClick:o?void 0:e,disabled:o,className:`
        relative rounded-xl font-black flex flex-col items-center justify-center transition-all shadow-lg select-none
        ${a?"w-12 h-16 text-xl":"w-20 h-28 md:w-24 md:h-32 text-4xl md:text-5xl"}
        ${d.bg} ${d.text} ${d.border} border-b-4
        ${i?"ring-2 ring-white -translate-y-2 z-10 scale-105":""}
        ${o?"opacity-40 cursor-not-allowed grayscale-[0.3]":"hover:brightness-110 cursor-pointer active:scale-95"}
      `,children:[v.jsx("span",{children:s.value}),!a&&v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"absolute top-1 left-2 text-[10px] opacity-70",children:d.id}),v.jsx("span",{className:"absolute bottom-1 right-2 text-[10px] opacity-70 rotate-180",children:d.id})]})]})},cl=({goal:s,isPublic:e,isPersonal:i,completed:a,onClick:o,selected:c,small:d})=>v.jsxs("div",{onClick:o,className:`
      relative rounded-xl border flex flex-col items-center justify-center text-center overflow-hidden transition-all
      ${a?"bg-green-900/40 border-green-500 opacity-60":e?"bg-indigo-900/60 border-indigo-500 shadow-[0_0_15px_rgba(99,102,241,0.2)]":"bg-slate-800 border-slate-600"}
      ${c?"ring-2 ring-white scale-105 z-20":""}
      ${d?"w-24 h-16 p-1":"w-full h-full min-h-[100px] p-2 hover:bg-slate-700 cursor-pointer"}
    `,children:[e&&!d&&v.jsx("div",{className:"absolute top-0 inset-x-0 bg-indigo-600 text-[9px] font-bold text-white uppercase tracking-widest py-0.5",children:"Public Goal"}),i&&!d&&v.jsx("div",{className:"absolute top-0 inset-x-0 bg-pink-600 text-[9px] font-bold text-white uppercase tracking-widest py-0.5",children:"My Goal"}),v.jsx("div",{className:"flex-1 flex items-center justify-center px-1",children:v.jsx("p",{className:`text-white font-bold ${d?"text-[9px] leading-tight line-clamp-2":"text-xs md:text-sm leading-tight"}`,children:s?.text||"???"})}),!d&&v.jsxs("div",{className:"mt-1 flex items-center gap-1 bg-black/40 px-2 rounded-full",children:[v.jsx(Ph,{size:10,className:"text-yellow-400"}),v.jsxs("span",{className:"text-yellow-400 font-bold text-xs",children:[s?.points," pts"]})]}),a&&v.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center backdrop-blur-[1px]",children:v.jsx(Mo,{className:"text-green-500 drop-shadow-lg",size:d?20:32})})]});function FI(){const[s,e]=lt.useState(null),[i,a]=lt.useState("menu"),[o,c]=lt.useState(""),[d,g]=lt.useState(""),[y,_]=lt.useState(()=>localStorage.getItem(Ja)||""),[b,x]=lt.useState(null),[V,H]=lt.useState(""),[W,re]=lt.useState(!1),[Z,me]=lt.useState([]),[be,ve]=lt.useState(!1),[Ge,qe]=lt.useState(!1),[Me,I]=lt.useState(!1),[w,C]=lt.useState(!1),[S,D]=lt.useState(!1),[k,R]=lt.useState(null),[nt,vt]=lt.useState(null),[G,ie]=lt.useState(0),[he,De]=lt.useState(null),[Ye,M]=lt.useState(null);lt.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await _2(tm,__initial_auth_token):await d2(tm))(),b2(tm,e)},[]),lt.useEffect(()=>{const ee=Av(fn(dn,"game_hub_settings","config"),ne=>{ne.exists()&&ne.data()[UI]?.maintenance?re(!0):re(!1)});return()=>ee()},[]),lt.useEffect(()=>{if(!y||!s)return;const ee=Av(fn(dn,"artifacts",Tn,"public","data","rooms",y),ne=>{if(ne.exists()){const fe=ne.data();if(!fe.players.some(pe=>pe.id===s.uid)){_(""),localStorage.removeItem(Ja),a("menu"),H("You were removed.");return}x(fe),a(fe.status==="lobby"?"lobby":"game"),fe.lastEvent&&fe.lastEvent.id!==G&&(ie(fe.lastEvent.id),vt(fe.lastEvent))}else _(""),localStorage.removeItem(Ja),a("menu"),H("Room ended.")});return()=>ee()},[y,s,G]);const K=async()=>{if(!b||!s)return;const ee=b.players.map(ne=>ne.id===s.uid?{...ne,ready:!ne.ready}:ne);await $n(fn(dn,"artifacts",Tn,"public","data","rooms",y),{players:ee})},se=async()=>{if(!o)return H("Name required");D(!0);const ee=Math.random().toString(36).substring(2,7).toUpperCase(),ne={roomId:ee,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:o,teamId:"A",hand:[],ready:!1}],logs:[],completedGoals:[],lastEvent:null};await QC(fn(dn,"artifacts",Tn,"public","data","rooms",ee),ne),_(ee),localStorage.setItem(Ja,ee),a("lobby"),D(!1)},ae=async()=>{if(!d||!o)return H("Enter Code and Name");D(!0);const ee=fn(dn,"artifacts",Tn,"public","data","rooms",d),ne=await bv(ee);if(!ne.exists())return D(!1),H("Room not found");const fe=ne.data();if(fe.status!=="lobby")return D(!1),H("Game in progress");if(fe.players.length>=6)return D(!1),H("Room full");fe.players.length;const pe=[...fe.players,{id:s.uid,name:o,teamId:null,hand:[],ready:!1}];await $n(ee,{players:pe}),_(d),localStorage.setItem(Ja,d),D(!1)},Te=async()=>{const ee=b.players.length;if(ee!==4&&ee!==6){alert("Strictly 4 or 6 players required.");return}const ne=[...b.players],fe=ee===4?["A","B"]:["A","B","C"];ne.forEach((Je,xn)=>{ee===4?Je.teamId=xn%2===0?"A":"B":Je.teamId=xn%3===0?"A":xn%3===1?"B":"C",Je.hand=[],Je.score=0,Je.ready=!1});const pe=zI(),Y=ab([...nm,...nm,...nm]),ge=[pe.pop(),pe.pop(),pe.pop()],ue=Y.pop();ne.forEach((Je,xn)=>{const ca=xn===0?1:xn===1?2:3;for(let Sr=0;Sr<ca;Sr++)Je.hand.push(pe.pop());Je.personalGoal=Y.pop()});const gt={};fe.forEach(Je=>{gt[Je]={goals:0,points:0}});const un=ne[0].hand.length>6?"CHECK_LIMIT":"PLAYING";await $n(fn(dn,"artifacts",Tn,"public","data","rooms",y),{status:"playing",players:ne,deck:pe,market:ge,goalDeck:Y,publicGoal:ue,turnIndex:0,turnPhase:un,cardsDrawn:0,tradesPerformed:0,goalChanged:!1,teamScores:gt,completedGoals:[],lastEvent:{id:Date.now(),type:"GAME_START",actorName:"System"},logs:[{id:Date.now(),text:"Game Started! Good Luck.",type:"neutral"}]})},we=async()=>{if(!y||!s)return;const ee=fn(dn,"artifacts",Tn,"public","data","rooms",y);try{const ne=await bv(ee);if(ne.exists()){const fe=ne.data();if(fe.hostId===s.uid)await Tv(ee);else{const pe=fe.players.filter(Y=>Y.id!==s.uid);pe.length===0?await Tv(ee):await $n(ee,{players:pe})}}}catch(ne){console.error("Error leaving room",ne)}_(""),localStorage.removeItem(Ja),a("menu"),x(null),I(!1)},Ve=async()=>{if(!b||b.hostId!==s.uid)return;const ee=b.players.map(ne=>({...ne,hand:[],ready:!1,score:0,personalGoal:null}));await $n(fn(dn,"artifacts",Tn,"public","data","rooms",y),{status:"lobby",players:ee,deck:[],market:[],goalDeck:[],publicGoal:null,logs:[],teamScores:{},completedGoals:[],turnIndex:0,lastEvent:null}),I(!1)},Tt=async()=>{await Te()},ct=async ee=>{if(!b||b.hostId!==s.uid)return;const ne=b.players.filter(fe=>fe.id!==ee);await $n(fn(dn,"artifacts",Tn,"public","data","rooms",y),{players:ne})},Yi=async ee=>{const ne=b.players.findIndex(ge=>ge.id===s.uid),fe=b.players[ne],pe=fe.hand.filter(ge=>ge.id!==ee.id),Y={};Y.players=[...b.players],Y.players[ne].hand=pe,Y.deck=[ee,...b.deck],pe.length<=6&&(Y.turnPhase="PLAYING"),Y.logs=Wr({id:Date.now(),text:`${fe.name} discarded a card (Recycled).`,type:"neutral"}),await $n(fn(dn,"artifacts",Tn,"public","data","rooms",y),Y)},Qi=async ee=>{if(b.cardsDrawn>=2){alert("You have already drawn 2 cards this turn.");return}const ne=b.players.findIndex(gt=>gt.id===s.uid),fe=b.players[ne];let pe,Y={players:[...b.players],deck:[...b.deck],market:[...b.market]};ee===-1?pe=Y.deck.pop():(pe=Y.market[ee],Y.market[ee]=Y.deck.length>0?Y.deck.pop():null),Y.players[ne].hand.push(pe);const ge=b.cardsDrawn+1;Y.cardsDrawn=ge;let ue=ee===-1?"drew from deck":`took ${pe.value} from market`;Y.logs=Wr({id:Date.now(),text:`${fe.name} ${ue}.`,type:"neutral"}),await $n(fn(dn,"artifacts",Tn,"public","data","rooms",y),Y)},Ss=async ee=>{if(b.goalChanged){alert("You can only change a goal once per turn.");return}const ne=b.players.findIndex(ue=>ue.id===s.uid),fe=b.players[ne],pe={players:[...b.players],goalDeck:[...b.goalDeck],publicGoal:b.publicGoal};let Y,ge;ee==="PERSONAL"?(Y=fe.personalGoal,pe.goalDeck.unshift(Y),ge=pe.goalDeck.pop(),pe.players[ne].personalGoal=ge):(Y=b.publicGoal,pe.goalDeck.unshift(Y),ge=pe.goalDeck.pop(),pe.publicGoal=ge),pe.goalChanged=!0,pe.logs=Wr({id:Date.now(),text:`${fe.name} changed the ${ee==="PERSONAL"?"Personal":"Public"} Goal.`,type:"neutral"}),pe.lastEvent={id:Date.now(),type:"GOAL_CHANGE",actorId:s.uid,actorName:fe.name,data:{oldGoal:Y,newGoal:ge,goalType:ee}},await $n(fn(dn,"artifacts",Tn,"public","data","rooms",y),pe)},xs=async ee=>{const ne=b.players.findIndex(Je=>Je.id===s.uid),fe=b.players[ne],pe=ee==="PERSONAL"?fe.personalGoal:b.publicGoal;if(!BI(Z,pe)){alert("Invalid selection for this goal!");return}const Y={players:[...b.players],goalDeck:[...b.goalDeck],teamScores:{...b.teamScores},deck:[...b.deck]},ge=Z.map(Je=>Je.id);Y.players[ne].hand=fe.hand.filter(Je=>!ge.includes(Je.id)),Y.deck=[...Z,...Y.deck];const ue=fe.teamId;Y.teamScores[ue].goals+=1,Y.teamScores[ue].points+=pe.points;const gt={id:Date.now(),teamId:ue,playerName:fe.name,goal:pe,cards:Z,points:pe.points};Y.completedGoals=Wr(gt),ee==="PERSONAL"?Y.players[ne].personalGoal=Y.goalDeck.pop():Y.publicGoal=Y.goalDeck.pop();let Wn="success",un=`${fe.name} claimed ${pe.text} (+${pe.points}pts)!`;Y.teamScores[ue].goals>=8&&(Y.status="finished",un=`GAME OVER! ${ds.find(Je=>Je.id===ue).name} completed 8 goals!`),Y.logs=Wr({id:Date.now(),text:un,type:Wn}),Y.lastEvent={id:Date.now(),type:"GOAL_CLAIM",actorId:s.uid,actorName:fe.name,data:{goal:pe,cards:Z,goalType:ee}},me([]),await $n(fn(dn,"artifacts",Tn,"public","data","rooms",y),Y)},Ln=async ee=>{if(b.tradesPerformed>=2){alert("Max 2 cards per turn.");return}if(Z.length!==1&&Z.length!==2){alert("Select 1 or 2 cards.");return}if(b.tradesPerformed+Z.length>2){alert("Can only trade 2 total.");return}const ne=b.players.findIndex(ue=>ue.id===s.uid),fe=b.players.findIndex(ue=>ue.id===ee),pe=b.players[fe],Y={players:[...b.players]},ge=Z.map(ue=>ue.id);Y.players[ne].hand=Y.players[ne].hand.filter(ue=>!ge.includes(ue.id)),Y.players[fe].hand.push(...Z),Y.tradesPerformed=b.tradesPerformed+Z.length,Y.logs=Wr({id:Date.now(),text:`${b.players[ne].name} gave ${Z.length} card(s) to ${b.players[fe].name}.`,type:"neutral"}),Y.lastEvent={id:Date.now(),type:"TRADE",actorId:s.uid,actorName:b.players[ne].name,targetId:ee,targetName:pe.name,data:{count:Z.length,cards:Z,targetName:pe.name}},me([]),M(null),await $n(fn(dn,"artifacts",Tn,"public","data","rooms",y),Y)},Ar=async()=>{if(b.cardsDrawn<2){alert("You must draw 2 cards before passing your turn.");return}const ee=(b.turnIndex+1)%b.players.length,ne=b.players[ee],fe=ne.hand.length>6?"CHECK_LIMIT":"PLAYING";await $n(fn(dn,"artifacts",Tn,"public","data","rooms",y),{turnIndex:ee,turnPhase:fe,cardsDrawn:0,tradesPerformed:0,goalChanged:!1,logs:Wr({id:Date.now(),text:`Turn passed to ${ne.name}`,type:"neutral"})})};if(W)return v.jsx("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:v.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[v.jsx(oI,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),v.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),v.jsx("p",{className:"text-gray-400",children:"The bond is broken. Take some time to rescue your friendship."})]})});if(y&&!b&&!V)return v.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center text-white p-4",children:[v.jsx(Co,{}),v.jsxs("div",{className:"bg-slate-900/80 backdrop-blur p-8 rounded-2xl border border-slate-700 shadow-2xl flex flex-col items-center gap-4 animate-in fade-in zoom-in duration-300",children:[v.jsx(bI,{size:48,className:"text-pink-500 animate-spin"}),v.jsxs("div",{className:"text-center",children:[v.jsx("h2",{className:"text-xl font-bold",children:"Reconnecting..."}),v.jsx("p",{className:"text-slate-400 text-sm",children:"Resuming your session"})]})]})]});if(i==="menu")return v.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center p-4 relative overflow-y-auto font-sans",children:[v.jsx(Co,{}),Ge&&v.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:v.jsxs("div",{className:"bg-slate-900 max-w-3xl w-full max-h-[85vh] overflow-y-auto rounded-2xl border border-slate-700 shadow-2xl relative flex flex-col",children:[v.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-800 bg-slate-900 sticky top-0 z-10",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"bg-pink-600 p-2 rounded-xl",children:v.jsx(Uc,{className:"text-white",size:24})}),v.jsx("h2",{className:"text-3xl font-black text-white tracking-tight",children:"How to Play"})]}),v.jsx("button",{onClick:()=>qe(!1),className:"p-2 bg-slate-800 rounded-full text-slate-400 hover:text-white transition-colors border border-slate-700 hover:bg-slate-700",children:v.jsx(ul,{size:20})})]}),v.jsxs("div",{className:"p-8 space-y-10 text-slate-300",children:["[cite_start]",v.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[v.jsxs("div",{children:[v.jsxs("h3",{className:"text-2xl font-bold text-white mb-3 flex items-center gap-2",children:[v.jsx(wv,{className:"text-pink-500"})," The Basics"]}),v.jsxs("p",{className:"leading-relaxed text-lg",children:["Together is a ",v.jsx("strong",{children:"cooperative team game"}),". You are paired with the player sitting opposite you. Your goal is to complete specific patterns called"," ",v.jsx("strong",{children:"Goal Cards"})," faster than the other teams."]})]}),v.jsxs("div",{className:"bg-slate-800 p-6 rounded-2xl border border-slate-700 shadow-inner",children:[v.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[v.jsx("div",{className:"w-12 h-16 bg-pink-600 rounded-lg border-2 border-pink-400"}),v.jsx("div",{className:"w-12 h-16 bg-yellow-400 rounded-lg border-2 border-yellow-200"}),v.jsxs("div",{className:"text-sm font-bold text-slate-400",children:["The Deck has numbers ",v.jsx("strong",{children:"1-8"})," in two colors:"," ",v.jsx("span",{className:"text-pink-400",children:"Magenta"})," &"," ",v.jsx("span",{className:"text-yellow-400",children:"Lemon"}),"."]})]}),v.jsxs("div",{className:"text-xs bg-slate-900 p-3 rounded-lg text-slate-400",children:[v.jsx("strong",{children:"Winning Condition:"})," The game ends when a team claims ",v.jsx("strong",{children:"8 Goals"}),". The team with the highest score wins!"]})]})]}),v.jsx("hr",{className:"border-slate-800"}),v.jsxs("section",{children:[v.jsxs("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[v.jsx(em,{className:"text-blue-400"})," Turn Structure"]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[v.jsxs("div",{className:"bg-slate-800/50 p-5 rounded-xl border border-slate-700/50 relative overflow-hidden group hover:border-blue-500/30 transition-colors",children:[v.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 font-black text-6xl group-hover:opacity-20 transition-opacity",children:"1"}),v.jsx("h4",{className:"font-bold text-white text-lg mb-2",children:"Cleanup"}),v.jsxs("p",{className:"text-sm",children:["If you start your turn with"," ",v.jsx("strong",{children:"more than 6 cards"}),", you must discard down to 6 before doing anything else."]})]}),v.jsxs("div",{className:"bg-slate-800/50 p-5 rounded-xl border border-slate-700/50 relative overflow-hidden group hover:border-blue-500/30 transition-colors",children:[v.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 font-black text-6xl group-hover:opacity-20 transition-opacity",children:"2"}),v.jsx("h4",{className:"font-bold text-white text-lg mb-2",children:"Actions (Any Order)"}),v.jsxs("p",{className:"text-sm",children:["You can Draw, Trade, or Claim goals in any order. BUT you ",v.jsx("strong",{children:"MUST draw 2 cards"})," before passing."]})]}),v.jsxs("div",{className:"bg-slate-800/50 p-5 rounded-xl border border-slate-700/50 relative overflow-hidden group hover:border-blue-500/30 transition-colors",children:[v.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 font-black text-6xl group-hover:opacity-20 transition-opacity",children:"3"}),v.jsx("h4",{className:"font-bold text-white text-lg mb-2",children:"Pass"}),v.jsxs("p",{className:"text-sm",children:["Once you have drawn your 2 cards and finished your moves, ",v.jsx("strong",{children:"Pass"})," the turn."]})]})]})]}),v.jsx("hr",{className:"border-slate-800"}),"[cite_start]",v.jsxs("section",{children:[v.jsxs("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[v.jsx(Rv,{className:"text-yellow-400"})," Valid Actions"]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex gap-4 items-start",children:[v.jsx("div",{className:"bg-green-500/20 p-3 rounded-lg text-green-400 shrink-0",children:v.jsx(Mo,{size:24})}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-lg font-bold text-white",children:"Claim a Goal"}),v.jsxs("p",{className:"text-sm text-slate-400",children:["Select cards from your hand that match your"," ",v.jsx("strong",{children:"Personal Goal"})," or the shared"," ",v.jsx("strong",{children:"Public Goal"}),". If valid, you score points and get a new goal."]})]})]}),v.jsxs("div",{className:"flex gap-4 items-start",children:[v.jsx("div",{className:"bg-blue-500/20 p-3 rounded-lg text-blue-400 shrink-0",children:v.jsx(Im,{size:24})}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-lg font-bold text-white",children:"Trade Cards"}),v.jsxs("p",{className:"text-sm text-slate-400",children:["Give 1 or 2 cards from your hand to your partner. You cannot receive cards, only give.",v.jsx("strong",{children:"Limit:"})," Max 2 cards traded per turn."]})]})]}),v.jsxs("div",{className:"flex gap-4 items-start",children:[v.jsx("div",{className:"bg-purple-500/20 p-3 rounded-lg text-purple-400 shrink-0",children:v.jsx($c,{size:24})}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-lg font-bold text-white",children:"Cycle Goal"}),v.jsx("p",{className:"text-sm text-slate-400",children:"Once per turn, you can discard your current Personal Goal or the Public Goal and draw a new one. Use this if a goal seems impossible!"})]})]})]})]}),"[cite_start]",v.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 p-4 rounded-xl flex gap-4 items-center",children:[v.jsx("div",{className:"bg-red-500/20 p-2 rounded-full text-red-400",children:v.jsx(Nm,{size:24})}),v.jsxs("p",{className:"text-sm font-medium text-red-200",children:[v.jsx("strong",{children:"Communication Rule:"}),' You strictly cannot talk about the specific numbers or colors in your hand. You CAN say "I need high cards" or "I can help with that goal," but not "I have a Magenta 5."']})]})]}),v.jsx("div",{className:"p-6 border-t border-slate-800 bg-slate-900 sticky bottom-0 text-center",children:v.jsx("button",{onClick:()=>qe(!1),className:"bg-white text-slate-900 font-bold py-4 px-12 rounded-xl hover:scale-105 transition-transform shadow-xl",children:"Got It, Let's Play!"})})]})}),v.jsxs("div",{className:"z-10 bg-slate-900/80 backdrop-blur-xl border border-slate-700 p-8 rounded-3xl w-full max-w-md shadow-2xl flex flex-col gap-6 my-auto",children:[v.jsxs("div",{className:"text-center",children:[v.jsxs("div",{className:"flex justify-center gap-2 mb-4",children:[v.jsx("div",{className:"w-12 h-12 bg-pink-600 rounded-xl rotate-3 flex items-center justify-center shadow-lg shadow-pink-500/20",children:v.jsx(dI,{className:"text-white",size:24})}),v.jsx("div",{className:"w-12 h-12 bg-yellow-400 rounded-xl -rotate-6 flex items-center justify-center shadow-lg shadow-yellow-400/20",children:v.jsx(RI,{className:"text-yellow-900",size:24})})]}),v.jsx("h1",{className:"text-5xl font-black text-white tracking-tighter mb-1",children:"TOGETHER"}),v.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-xs",children:"UNITED WE STAND"})]}),V&&v.jsx("div",{className:"bg-red-500/20 border border-red-500/50 text-red-200 p-3 rounded-xl text-center text-sm font-bold",children:V}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-slate-400 text-xs font-bold uppercase ml-1",children:"Your Name"}),v.jsx("input",{className:"w-full bg-slate-950/50 border border-slate-700 focus:border-pink-500 p-4 rounded-xl text-white font-bold outline-none transition-all placeholder:text-slate-600",placeholder:"Enter Name",value:o,onChange:ee=>c(ee.target.value)})]}),v.jsxs("button",{onClick:se,disabled:S,className:"w-full bg-gradient-to-r from-pink-600 to-purple-600 hover:from-pink-500 hover:to-purple-500 text-white p-4 rounded-xl font-black shadow-lg shadow-pink-900/20 active:scale-95 transition-all flex items-center justify-center gap-2",children:[v.jsx(xv,{size:20})," CREATE ROOM"]}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute inset-0 flex items-center",children:v.jsx("div",{className:"w-full border-t border-slate-700"})}),v.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:v.jsx("span",{className:"bg-slate-900 px-2 text-slate-500 font-bold",children:"Or Join"})})]}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[v.jsx("input",{className:"w-full sm:flex-1 bg-slate-950/50 border border-slate-700 focus:border-yellow-400 p-4 rounded-xl text-white font-mono uppercase outline-none placeholder:text-slate-600",placeholder:"ROOM CODE",value:d,onChange:ee=>g(ee.target.value.toUpperCase())}),v.jsx("button",{onClick:ae,disabled:S,className:"w-full sm:w-auto bg-yellow-400 hover:bg-yellow-300 text-yellow-900 px-8 py-4 rounded-xl font-black shadow-lg shadow-yellow-900/20 active:scale-95 transition-all",children:"JOIN"})]})]}),v.jsxs("button",{onClick:()=>qe(!0),className:"flex items-center justify-center gap-2 text-slate-500 hover:text-white transition-colors text-sm font-bold mt-2",children:[v.jsx(Uc,{size:16})," How to Play"]})]}),v.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by Duos. A tribute game.",v.jsx("br",{}),"Developed by ",v.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",v.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-pink-500 underline hover:text-pink-600",children:"GAMEHUB"})," ","for more games."]})]});const Ut=b?.players[b.turnIndex]?.id===s?.uid,Ht=b?.players.find(ee=>ee.id===s?.uid),pi=ds.find(ee=>ee.id===Ht?.teamId);if(b?.players.find(ee=>ee.teamId===Ht?.teamId&&ee.id!==s?.uid),i==="lobby"&&b){const ee=b.hostId===s.uid,ne=b.players.length,fe=ne===4||ne===6;return v.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center p-6 text-white relative",children:[v.jsx(Co,{}),Me&&v.jsx(Nv,{onCancel:()=>I(!1),onConfirmLeave:we,onConfirmLobby:()=>{Ve(),I(!1)},isHost:ee,inGame:!1}),v.jsxs("div",{className:"z-10 w-full max-w-4xl bg-slate-900/90 backdrop-blur p-8 rounded-3xl border border-slate-700 shadow-2xl",children:[v.jsxs("div",{className:"flex justify-between items-center mb-8",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-4xl font-black tracking-tighter",children:"LOBBY"}),v.jsxs("div",{className:"flex items-center gap-2 text-slate-400 font-mono",children:["Room Code:"," ",v.jsx("span",{className:"text-yellow-400 font-bold bg-slate-800 px-2 py-1 rounded",children:b.roomId})]})]}),v.jsx("button",{onClick:()=>I(!0),className:"p-3 bg-red-500/20 hover:bg-red-500/40 text-red-200 rounded-xl transition-colors",children:v.jsx(sb,{size:24})})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8",children:[b.players.map((pe,Y)=>{const ge=ne===4?Y%2===0?"A":"B":Y%3===0?"A":Y%3===1?"B":"C",ue=ds.find(gt=>gt.id===ge);return v.jsxs("div",{className:`bg-slate-800 border-2 ${ue?ue.border:"border-slate-700"} p-4 rounded-2xl flex items-center justify-between gap-4`,children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold text-xl ${ue?ue.bg:"bg-slate-700"} ${ue?ue.color:"text-slate-400"}`,children:pe.name[0]}),v.jsxs("div",{children:[v.jsxs("div",{className:"font-bold text-lg flex items-center gap-2",children:[v.jsx(MI,{size:16,className:"text-slate-400"}),pe.name,b.hostId===pe.id&&v.jsx(xv,{size:14,className:"text-yellow-400"})]}),v.jsxs("div",{className:`text-xs font-bold uppercase flex items-center gap-2 mt-1 ${ue?ue.color:"text-slate-500"}`,children:[v.jsx(kI,{size:14}),ue?ue.name:"Waiting..."]})]})]}),ee&&pe.id!==s.uid&&v.jsx("button",{onClick:()=>ct(pe.id),className:"text-slate-600 hover:text-red-500 transition-colors",title:"Kick Player",children:v.jsx(II,{size:18})})]},pe.id)}),Array.from({length:Math.max(0,(ne<4?4:6)-ne)}).map((pe,Y)=>v.jsx("div",{className:"border-2 border-dashed border-slate-800 rounded-2xl p-4 flex items-center justify-center text-slate-700 font-bold",children:"Waiting for Player..."},Y))]}),ee?v.jsx("button",{onClick:Te,disabled:!fe,className:`w-full py-6 rounded-2xl font-black text-2xl tracking-widest shadow-xl transition-all ${fe?"bg-green-600 hover:bg-green-500 text-white hover:scale-[1.02]":"bg-slate-800 text-slate-600 cursor-not-allowed"}`,children:fe?"START GAME":`WAITING FOR ${ne<4?"4":"4 or 6"} PLAYERS`}):v.jsx("div",{className:"text-center py-8 bg-slate-900/50 rounded-2xl animate-pulse text-slate-500 font-bold",children:"Waiting for Host to start..."})]}),v.jsx(Iv,{})]})}if(i==="game"&&b){const ee=b.players[b.turnIndex],ne=b.hostId===s.uid,fe=b.players.filter(Y=>Y.id!==b.hostId).every(Y=>Y.ready);if(b.status==="finished"){const Y=Object.keys(b.teamScores).reduce((ue,gt)=>b.teamScores[ue].points>b.teamScores[gt].points?ue:gt),ge=ds.find(ue=>ue.id===Y);return v.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center p-8 text-center text-white font-sans",children:[v.jsx(Co,{}),w&&v.jsx(GI,{completedGoals:b.completedGoals||[],onClose:()=>C(!1)}),v.jsxs("div",{className:"z-10 bg-slate-900/80 backdrop-blur p-8 rounded-3xl border border-slate-700 shadow-2xl max-w-2xl w-full",children:[v.jsx(Ph,{size:80,className:"text-yellow-400 mb-6 mx-auto animate-bounce"}),v.jsxs("h1",{className:"text-6xl font-black mb-2",children:[ge.name," Wins!"]}),v.jsx("div",{className:"grid grid-cols-2 gap-8 my-8",children:ds.map(ue=>b.teamScores[ue.id]?v.jsxs("div",{className:`bg-slate-800 p-6 rounded-2xl border ${ue.border}`,children:[v.jsx("h2",{className:`text-2xl font-bold ${ue.color}`,children:ue.name}),v.jsxs("div",{className:"text-4xl font-black mt-2",children:[b.teamScores[ue.id].points," pts"]}),v.jsxs("div",{className:"text-sm text-slate-400",children:[b.teamScores[ue.id].goals," goals"]})]},ue.id):null)}),v.jsxs("button",{onClick:()=>C(!0),className:"w-full bg-slate-800 hover:bg-slate-700 text-white font-bold py-3 rounded-xl mb-8 border border-slate-600 transition-colors flex items-center justify-center gap-2",children:[v.jsx(eb,{size:20})," View Game Report Card"]}),v.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:b.players.map(ue=>v.jsxs("div",{className:`px-3 py-1 rounded-full text-sm border flex items-center gap-2 ${ue.ready?"border-green-500 bg-green-900/20 text-green-300":"border-gray-700 bg-gray-800 text-gray-400"}`,children:[ue.name," ",ue.ready&&v.jsx(Mo,{size:12})]},ue.id))}),ne?v.jsxs("div",{className:"flex gap-4",children:[v.jsxs("button",{onClick:Tt,disabled:!fe,className:`flex-1 py-3 rounded-xl font-bold text-lg flex items-center justify-center gap-2 transition-transform ${fe?"bg-green-600 hover:bg-green-500 text-white hover:scale-105":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,children:[v.jsx(em,{size:20})," Restart Game"]}),v.jsxs("button",{onClick:Ve,disabled:!fe,className:`flex-1 py-3 rounded-xl font-bold text-lg flex items-center justify-center gap-2 transition-transform ${fe?"bg-blue-600 hover:bg-blue-500 text-white hover:scale-105":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,children:[v.jsx(nb,{size:20})," Return to Lobby"]})]}):Ht.ready?v.jsx("div",{className:"text-green-400 font-bold animate-pulse border border-green-500/30 bg-green-900/10 p-4 rounded-xl",children:"Waiting for Host..."}):v.jsx("button",{onClick:K,className:"w-full py-4 bg-green-600 hover:bg-green-500 text-white rounded-xl font-bold text-lg shadow-lg hover:scale-105 transition-transform animate-pulse",children:"Ready for Next Game"})]})]})}const pe=({type:Y,goal:ge})=>v.jsxs("div",{className:"absolute inset-0 bg-slate-900/90 backdrop-blur-sm z-30 flex flex-col items-center justify-center gap-2 rounded-xl animate-in fade-in duration-200",onClick:ue=>ue.stopPropagation(),children:[v.jsxs("div",{className:"flex gap-4 items-center justify-center",children:[v.jsxs("button",{onClick:()=>{xs(Y),De(null)},disabled:Z.length===0,className:"flex flex-col items-center justify-center gap-1 group text-green-400 disabled:opacity-30 disabled:cursor-not-allowed hover:text-green-300 transition-colors",title:"Claim Goal (Select Cards First)",children:[v.jsx("div",{className:"bg-green-900/40 p-2 rounded-full border border-green-500/50 group-hover:scale-110 transition-transform",children:v.jsx(Mo,{size:20})}),v.jsx("span",{className:"text-[9px] font-black uppercase tracking-wider",children:"Done"})]}),v.jsxs("button",{onClick:()=>{Ss(Y),De(null)},disabled:b.goalChanged,className:"flex flex-col items-center justify-center gap-1 group text-purple-400 disabled:opacity-30 disabled:cursor-not-allowed hover:text-purple-300 transition-colors",title:"Cycle Goal",children:[v.jsx("div",{className:"bg-purple-900/40 p-2 rounded-full border border-purple-500/50 group-hover:scale-110 transition-transform",children:v.jsx($c,{size:20})}),v.jsx("span",{className:"text-[9px] font-black uppercase tracking-wider",children:"Change"})]})]}),v.jsxs("button",{onClick:()=>{R(ge),De(null)},className:"flex items-center gap-1 text-[10px] font-bold text-slate-400 hover:text-white transition-colors mt-1 bg-white/5 px-2 py-0.5 rounded-full",children:[v.jsx(ib,{size:10})," Details"]}),v.jsx("button",{onClick:()=>De(null),className:"absolute top-1 right-1 text-slate-500 hover:text-white p-1 hover:bg-white/10 rounded-full transition-colors",children:v.jsx(ul,{size:14})})]});return v.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col font-sans relative overflow-x-hidden overflow-y-auto text-slate-200",onClick:()=>{De(null),M(null)},children:[v.jsx(Co,{}),k&&v.jsx(HI,{goal:k,onClose:()=>R(null)}),v.jsx(qI,{event:nt,onClose:()=>vt(null),currentUserId:s.uid}),Ge&&v.jsx("div",{className:"fixed inset-0 bg-black/90 z-[150] flex items-center justify-center p-4",children:v.jsxs("div",{className:"bg-slate-900 max-w-3xl w-full max-h-[85vh] overflow-y-auto rounded-2xl border border-slate-700 shadow-2xl relative flex flex-col",children:[v.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-800 bg-slate-900 sticky top-0 z-10",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"bg-pink-600 p-2 rounded-xl",children:v.jsx(Uc,{className:"text-white",size:24})}),v.jsx("h2",{className:"text-3xl font-black text-white tracking-tight",children:"How to Play"})]}),v.jsx("button",{onClick:()=>qe(!1),className:"p-2 bg-slate-800 rounded-full text-slate-400 hover:text-white transition-colors border border-slate-700 hover:bg-slate-700",children:v.jsx(ul,{size:20})})]}),v.jsxs("div",{className:"p-8 space-y-10 text-slate-300",children:["[cite_start]",v.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[v.jsxs("div",{children:[v.jsxs("h3",{className:"text-2xl font-bold text-white mb-3 flex items-center gap-2",children:[v.jsx(wv,{className:"text-pink-500"})," The Basics"]}),v.jsxs("p",{className:"leading-relaxed text-lg",children:["Together is a ",v.jsx("strong",{children:"cooperative team game"}),". You are paired with the player sitting opposite you. Your goal is to complete specific patterns called"," ",v.jsx("strong",{children:"Goal Cards"})," faster than the other teams."]})]}),v.jsxs("div",{className:"bg-slate-800 p-6 rounded-2xl border border-slate-700 shadow-inner",children:[v.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[v.jsx("div",{className:"w-12 h-16 bg-pink-600 rounded-lg border-2 border-pink-400"}),v.jsx("div",{className:"w-12 h-16 bg-yellow-400 rounded-lg border-2 border-yellow-200"}),v.jsxs("div",{className:"text-sm font-bold text-slate-400",children:["The Deck has numbers ",v.jsx("strong",{children:"1-8"})," in two colors:"," ",v.jsx("span",{className:"text-pink-400",children:"Magenta"})," &"," ",v.jsx("span",{className:"text-yellow-400",children:"Lemon"}),"."]})]}),v.jsxs("div",{className:"text-xs bg-slate-900 p-3 rounded-lg text-slate-400",children:[v.jsx("strong",{children:"Winning Condition:"})," The game ends when a team claims ",v.jsx("strong",{children:"8 Goals"}),". The team with the highest score wins!"]})]})]}),v.jsx("hr",{className:"border-slate-800"}),v.jsxs("section",{children:[v.jsxs("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[v.jsx(em,{className:"text-blue-400"})," Turn Structure"]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[v.jsxs("div",{className:"bg-slate-800/50 p-5 rounded-xl border border-slate-700/50 relative overflow-hidden group hover:border-blue-500/30 transition-colors",children:[v.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 font-black text-6xl group-hover:opacity-20 transition-opacity",children:"1"}),v.jsx("h4",{className:"font-bold text-white text-lg mb-2",children:"Cleanup"}),v.jsxs("p",{className:"text-sm",children:["If you start your turn with"," ",v.jsx("strong",{children:"more than 6 cards"}),", you must discard down to 6 before doing anything else."]})]}),v.jsxs("div",{className:"bg-slate-800/50 p-5 rounded-xl border border-slate-700/50 relative overflow-hidden group hover:border-blue-500/30 transition-colors",children:[v.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 font-black text-6xl group-hover:opacity-20 transition-opacity",children:"2"}),v.jsx("h4",{className:"font-bold text-white text-lg mb-2",children:"Actions (Any Order)"}),v.jsxs("p",{className:"text-sm",children:["You can Draw, Trade, or Claim goals in any order. BUT you ",v.jsx("strong",{children:"MUST draw 2 cards"})," before passing."]})]}),v.jsxs("div",{className:"bg-slate-800/50 p-5 rounded-xl border border-slate-700/50 relative overflow-hidden group hover:border-blue-500/30 transition-colors",children:[v.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 font-black text-6xl group-hover:opacity-20 transition-opacity",children:"3"}),v.jsx("h4",{className:"font-bold text-white text-lg mb-2",children:"Pass"}),v.jsxs("p",{className:"text-sm",children:["Once you have drawn your 2 cards and finished your moves, ",v.jsx("strong",{children:"Pass"})," the turn."]})]})]})]}),v.jsx("hr",{className:"border-slate-800"}),"[cite_start]",v.jsxs("section",{children:[v.jsxs("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[v.jsx(Rv,{className:"text-yellow-400"})," Valid Actions"]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex gap-4 items-start",children:[v.jsx("div",{className:"bg-green-500/20 p-3 rounded-lg text-green-400 shrink-0",children:v.jsx(Mo,{size:24})}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-lg font-bold text-white",children:"Claim a Goal"}),v.jsxs("p",{className:"text-sm text-slate-400",children:["Select cards from your hand that match your"," ",v.jsx("strong",{children:"Personal Goal"})," or the shared"," ",v.jsx("strong",{children:"Public Goal"}),". If valid, you score points and get a new goal."]})]})]}),v.jsxs("div",{className:"flex gap-4 items-start",children:[v.jsx("div",{className:"bg-blue-500/20 p-3 rounded-lg text-blue-400 shrink-0",children:v.jsx(Im,{size:24})}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-lg font-bold text-white",children:"Trade Cards"}),v.jsxs("p",{className:"text-sm text-slate-400",children:["Give 1 or 2 cards from your hand to your partner. You cannot receive cards, only give.",v.jsx("strong",{children:"Limit:"})," Max 2 cards traded per turn."]})]})]}),v.jsxs("div",{className:"flex gap-4 items-start",children:[v.jsx("div",{className:"bg-purple-500/20 p-3 rounded-lg text-purple-400 shrink-0",children:v.jsx($c,{size:24})}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-lg font-bold text-white",children:"Cycle Goal"}),v.jsx("p",{className:"text-sm text-slate-400",children:"Once per turn, you can discard your current Personal Goal or the Public Goal and draw a new one. Use this if a goal seems impossible!"})]})]})]})]}),"[cite_start]",v.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 p-4 rounded-xl flex gap-4 items-center",children:[v.jsx("div",{className:"bg-red-500/20 p-2 rounded-full text-red-400",children:v.jsx(Nm,{size:24})}),v.jsxs("p",{className:"text-sm font-medium text-red-200",children:[v.jsx("strong",{children:"Communication Rule:"}),' You strictly cannot talk about the specific numbers or colors in your hand. You CAN say "I need high cards" or "I can help with that goal," but not "I have a Magenta 5."']})]})]}),v.jsx("div",{className:"p-6 border-t border-slate-800 bg-slate-900 sticky bottom-0 text-center",children:v.jsx("button",{onClick:()=>qe(!1),className:"bg-white text-slate-900 font-bold py-4 px-12 rounded-xl hover:scale-105 transition-transform shadow-xl",children:"Got It, Let's Play!"})})]})}),Me&&v.jsx(Nv,{onConfirmLeave:we,onConfirmLobby:()=>{Ve(),I(!1)},onCancel:()=>I(!1),isHost:ne,inGame:!0}),v.jsxs("div",{className:"bg-slate-900 border-b border-slate-800 p-2 md:p-4 flex items-center justify-between shadow-md z-30 sticky top-0 backdrop-blur-md bg-opacity-90",children:[v.jsx("div",{className:"flex gap-2 md:gap-4 overflow-x-auto",children:ds.map(Y=>{if(!b.teamScores[Y.id]||b.players.length===4&&Y.id==="C")return null;const ge=b.teamScores[Y.id],ue=ee.teamId===Y.id,gt=Ht?.teamId===Y.id;return v.jsxs("div",{className:`flex flex-col md:flex-row items-center gap-1 md:gap-3 px-3 py-1 rounded-lg border ${ue?Y.bg+" "+Y.border:"bg-transparent border-transparent"}`,children:[v.jsx("span",{className:`font-black text-xs md:text-sm uppercase ${Y.color}`,children:Y.name}),v.jsxs("div",{className:"flex gap-2 text-xs font-bold text-slate-400",children:[v.jsxs("span",{children:[ge.goals,"/8 Goals"]}),gt&&v.jsxs("span",{children:[ge.points," Pts"]})]})]},Y.id)})}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>qe(!0),className:"p-2 rounded-full text-slate-500 hover:bg-slate-800",title:"How to Play",children:v.jsx(Uc,{size:20})}),v.jsx("button",{onClick:()=>ve(!be),className:`p-2 rounded-full ${be?"bg-slate-800 text-white":"text-slate-500 hover:bg-slate-800"}`,children:v.jsx(pI,{size:20})}),v.jsx("button",{onClick:()=>I(!0),className:"p-2 rounded-full text-red-500 hover:bg-red-900/20",title:"Leave Game",children:v.jsx(sI,{size:20})})]})]}),be&&v.jsxs("div",{className:"fixed top-16 right-4 w-72 max-h-64 bg-slate-900/95 backdrop-blur shadow-2xl rounded-xl border border-slate-700 z-50 flex flex-col overflow-hidden",children:[v.jsx("div",{className:"bg-slate-800 p-2 text-xs font-bold text-slate-400 uppercase border-b border-slate-700",children:"Game Log"}),v.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:b.logs.slice().reverse().map(Y=>v.jsx("div",{className:`text-xs p-2 rounded ${Y.type==="success"?"bg-green-900/30 text-green-400 border border-green-900/50":"bg-slate-800 text-slate-400"}`,children:Y.text},Y.id))})]}),v.jsxs("div",{className:"flex-1 flex flex-col max-w-7xl mx-auto w-full p-2 md:p-4 gap-2 z-10",children:[v.jsx("div",{className:"overflow-x-auto pb-2 min-h-[100px]",children:v.jsx("div",{className:"flex justify-center gap-2 md:gap-4 w-fit mx-auto px-4",children:b.players.map((Y,ge)=>{if(Y.id===s.uid)return null;const ue=b.turnIndex===ge,gt=ds.find(Je=>Je.id===Y.teamId),Wn=Y.teamId===Ht.teamId,un=Ye===Y.id&&Ut&&Wn&&Z.length>0&&Z.length<=2;return v.jsxs("div",{className:`relative flex flex-col items-center min-w-[80px] transition-all ${ue?"scale-105 opacity-100":"opacity-70"}`,children:[un&&v.jsxs("button",{onClick:Je=>{Je.stopPropagation(),Ln(Y.id)},className:"absolute z-50 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-blue-600 text-white font-bold text-xs px-4 py-2 rounded-full shadow-lg hover:bg-blue-500 animate-in zoom-in duration-200 flex items-center gap-1 ring-2 ring-white",children:[v.jsx(tb,{size:14})," GIVE"]}),v.jsxs("div",{className:`relative w-10 h-10 rounded-full border-2 ${ue?"border-white ring-2 ring-blue-500":gt.border} bg-slate-800 flex items-center justify-center font-bold text-sm shadow-md cursor-pointer`,onClick:Je=>{Je.stopPropagation(),Wn&&Ut&&Z.length>0&&Z.length<=2&&M(Ye===Y.id?null:Y.id)},children:[Y.name[0],v.jsx("div",{className:`absolute -bottom-1 px-1.5 py-0.5 rounded text-[7px] font-black uppercase text-white ${gt.bg.replace("/30","")}`,children:gt.name.split(" ")[1]})]}),v.jsx("span",{className:"text-[9px] font-bold text-slate-400 mt-1 max-w-[70px] truncate",children:Y.name}),v.jsx("div",{className:"mt-1 w-20 scale-90 origin-top",children:v.jsx(cl,{goal:Y.personalGoal,small:!0,isPersonal:!0,onClick:()=>R(Y.personalGoal)})}),v.jsxs("div",{className:"mt-1 flex -space-x-1",children:[Array.from({length:Math.min(5,Y.hand.length)}).map((Je,xn)=>v.jsx("div",{className:"w-2.5 h-3 bg-slate-700 rounded border border-slate-500"},xn)),Y.hand.length>5&&v.jsx("div",{className:"w-2.5 h-3 bg-red-500 rounded border border-slate-500"})]})]},Y.id)})})}),v.jsxs("div",{className:"flex-1 bg-slate-900/50 backdrop-blur-md rounded-3xl border border-slate-800 shadow-xl p-4 flex flex-col md:flex-row items-center justify-center gap-8 md:gap-6 mb-4 md:mb-0 relative",children:[v.jsxs("div",{className:"w-full md:w-auto text-center mb-2 md:mb-0",children:[v.jsx("div",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-1",children:"Current Turn"}),v.jsx("div",{className:`text-lg font-black ${ds.find(Y=>Y.id===ee.teamId).color}`,children:Ut?"YOUR TURN":ee.name}),Ut&&v.jsx("div",{className:"text-[10px] font-bold bg-slate-800 text-blue-400 border border-blue-900/50 px-2 py-1 rounded-full mt-1 inline-block shadow-lg",children:b.turnPhase==="CHECK_LIMIT"?"Discard down to 6":b.cardsDrawn<2?`Draw ${2-b.cardsDrawn} more`:"Actions or Pass"})]}),v.jsxs("div",{className:"relative w-32 h-24 md:w-48 md:h-32 flex-shrink-0",children:[v.jsx("div",{className:"text-center text-[10px] font-bold text-slate-500 mb-1 uppercase",children:"Public Goal"}),b.publicGoal?v.jsxs(v.Fragment,{children:[v.jsx(cl,{goal:b.publicGoal,isPublic:!0,selected:he==="PUBLIC",onClick:Y=>{Y.stopPropagation(),Ut&&b.turnPhase==="PLAYING"?De(he==="PUBLIC"?null:"PUBLIC"):R(b.publicGoal)}}),he==="PUBLIC"&&v.jsx(pe,{type:"PUBLIC",goal:b.publicGoal})]}):v.jsx("div",{className:"h-full border-2 border-dashed border-slate-700 rounded-lg flex items-center justify-center text-slate-600",children:"Empty"})]}),v.jsxs("div",{className:"flex flex-col items-center gap-2 mt-2 md:mt-0",children:[v.jsx("div",{className:"flex gap-2",children:b.market.map((Y,ge)=>v.jsx(Ko,{card:Y,small:!0,disabled:!Ut||b.turnPhase==="CHECK_LIMIT"||b.cardsDrawn>=2,onClick:()=>Qi(ge)},ge))}),v.jsxs("button",{onClick:()=>Qi(-1),disabled:!Ut||b.turnPhase==="CHECK_LIMIT"||b.cardsDrawn>=2,className:"w-full h-10 bg-slate-800 border border-slate-700 rounded-xl flex items-center justify-center gap-2 text-slate-300 text-sm font-bold hover:bg-slate-700 active:scale-95 disabled:opacity-50 transition-all shadow-lg",children:[v.jsx(vI,{size:16})," Draw Blind"]})]})]}),v.jsxs("div",{className:"bg-slate-900 rounded-t-3xl shadow-[0_-10px_40px_rgba(0,0,0,0.3)] p-4 pt-14 border-t border-slate-800 relative mt-auto",children:[v.jsxs("div",{className:"absolute top-0 left-0 bg-slate-800 border-b border-r border-slate-700 rounded-br-2xl px-4 py-2 flex items-center gap-3",children:[v.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ${pi.bg} ${pi.color}`,children:Ht.name[0]}),v.jsxs("div",{children:[v.jsx("div",{className:"text-white font-bold text-sm leading-none",children:Ht.name}),v.jsx("div",{className:`text-[10px] uppercase font-black tracking-wider ${pi.color}`,children:pi.name})]})]}),Ut&&b.turnPhase==="PLAYING"&&v.jsxs("button",{onClick:Ar,disabled:b.cardsDrawn<2,className:"absolute top-4 right-4 bg-slate-700 text-white px-6 py-2 rounded-xl font-bold shadow hover:bg-slate-600 active:scale-95 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:["PASS"," ",b.cardsDrawn<2&&v.jsxs("span",{className:"text-[10px] opacity-70",children:["(Draw ",2-b.cardsDrawn," more)"]}),v.jsx(WE,{size:16})]}),v.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[v.jsx("div",{className:"relative w-28 h-24 md:w-36 md:h-32 shrink-0 self-center md:self-end mb-4 md:mb-0 flex flex-col gap-2",children:Ht.personalGoal?v.jsxs(v.Fragment,{children:[v.jsx(cl,{goal:Ht.personalGoal,isPersonal:!0,selected:he==="PERSONAL",onClick:Y=>{Y.stopPropagation(),Ut&&b.turnPhase==="PLAYING"?De(he==="PERSONAL"?null:"PERSONAL"):R(Ht.personalGoal)}}),he==="PERSONAL"&&v.jsx(pe,{type:"PERSONAL",goal:Ht.personalGoal})]}):v.jsx("div",{className:"h-full bg-slate-800 rounded-lg flex items-center justify-center text-xs text-slate-500 font-bold border-2 border-dashed border-slate-700",children:"Completed!"})}),v.jsx("div",{className:"flex-1 overflow-x-auto pb-4 pt-16 px-2 w-full min-h-[200px]",children:v.jsx("div",{className:"flex gap-2 items-end w-fit mx-auto",children:Ht.hand.sort((Y,ge)=>Y.value-ge.value).map(Y=>v.jsxs("div",{className:"relative group shrink-0 w-20 h-28 md:w-24 md:h-32",children:[Ut&&b.turnPhase==="CHECK_LIMIT"&&v.jsx("button",{onClick:()=>Yi(Y),className:"absolute -top-12 left-1/2 -translate-x-1/2 bg-red-500 text-white text-[10px] font-bold px-3 py-1.5 rounded-full opacity-100 z-50 shadow-xl animate-pulse border-2 border-slate-900",children:"DISCARD"}),v.jsx("div",{className:"w-full h-full",children:v.jsx(Ko,{card:Y,selected:Z.some(ge=>ge.id===Y.id),disabled:!Ut||b.turnPhase!=="PLAYING"&&b.turnPhase!=="CHECK_LIMIT",onClick:()=>{b.turnPhase==="PLAYING"&&(Z.some(ge=>ge.id===Y.id)?me(Z.filter(ge=>ge.id!==Y.id)):me([...Z,Y]))}})})]},Y.id))})})]})]})]}),v.jsx(Iv,{})]})}return null}YT.createRoot(document.getElementById("root")).render(v.jsx(lt.StrictMode,{children:v.jsx(FI,{})}));
