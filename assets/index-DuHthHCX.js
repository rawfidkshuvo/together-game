(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var jd={exports:{}},bo={};var B0;function Vb(){if(B0)return bo;B0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return bo.Fragment=e,bo.jsx=i,bo.jsxs=i,bo}var q0;function kb(){return q0||(q0=1,jd.exports=Vb()),jd.exports}var E=kb(),Ud={exports:{}},xe={};var H0;function Lb(){if(H0)return xe;H0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.iterator;function H(M){return M===null||typeof M!="object"?null:(M=V&&M[V]||M["@@iterator"],typeof M=="function"?M:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},se=Object.assign,$={};function fe(M,Q,ne){this.props=M,this.context=Q,this.refs=$,this.updater=ne||ee}fe.prototype.isReactComponent={},fe.prototype.setState=function(M,Q){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Q,"setState")},fe.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Ee(){}Ee.prototype=fe.prototype;function _e(M,Q,ne){this.props=M,this.context=Q,this.refs=$,this.updater=ne||ee}var Ge=_e.prototype=new Ee;Ge.constructor=_e,se(Ge,fe.prototype),Ge.isPureReactComponent=!0;var Be=Array.isArray;function Oe(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(M,Q,ne){var ae=ne.ref;return{$$typeof:s,type:M,key:Q,ref:ae!==void 0?ae:null,props:ne}}function S(M,Q){return C(M.type,Q,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function k(M){var Q={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ne){return Q[ne]})}var R=/\/+/g;function nt(M,Q){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):Q.toString(36)}function _t(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Oe,Oe):(M.status="pending",M.then(function(Q){M.status==="pending"&&(M.status="fulfilled",M.value=Q)},function(Q){M.status==="pending"&&(M.status="rejected",M.reason=Q)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,Q,ne,ae,be){var Re=typeof M;(Re==="undefined"||Re==="boolean")&&(M=null);var Me=!1;if(M===null)Me=!0;else switch(Re){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(M.$$typeof){case s:case e:Me=!0;break;case T:return Me=M._init,G(Me(M._payload),Q,ne,ae,be)}}if(Me)return be=be(M),Me=ae===""?"."+nt(M,0):ae,Be(be)?(ne="",Me!=null&&(ne=Me.replace(R,"$&/")+"/"),G(be,Q,ne,"",function(Gi){return Gi})):be!=null&&(D(be)&&(be=S(be,ne+(be.key==null||M&&M.key===be.key?"":(""+be.key).replace(R,"$&/")+"/")+Me)),Q.push(be)),1;Me=0;var vt=ae===""?".":ae+":";if(Be(M))for(var ot=0;ot<M.length;ot++)ae=M[ot],Re=vt+nt(ae,ot),Me+=G(ae,Q,ne,Re,be);else if(ot=H(M),typeof ot=="function")for(M=ot.call(M),ot=0;!(ae=M.next()).done;)ae=ae.value,Re=vt+nt(ae,ot++),Me+=G(ae,Q,ne,Re,be);else if(Re==="object"){if(typeof M.then=="function")return G(_t(M),Q,ne,ae,be);throw Q=String(M),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Me}function ie(M,Q,ne){if(M==null)return M;var ae=[],be=0;return G(M,ae,"","",function(Re){return Q.call(ne,Re,be++)}),ae}function me(M){if(M._status===-1){var Q=M._result;Q=Q(),Q.then(function(ne){(M._status===0||M._status===-1)&&(M._status=1,M._result=ne)},function(ne){(M._status===0||M._status===-1)&&(M._status=2,M._result=ne)}),M._status===-1&&(M._status=0,M._result=Q)}if(M._status===1)return M._result.default;throw M._result}var qe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ke={map:ie,forEach:function(M,Q,ne){ie(M,function(){Q.apply(this,arguments)},ne)},count:function(M){var Q=0;return ie(M,function(){Q++}),Q},toArray:function(M){return ie(M,function(Q){return Q})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return xe.Activity=x,xe.Children=Ke,xe.Component=fe,xe.Fragment=i,xe.Profiler=o,xe.PureComponent=_e,xe.StrictMode=a,xe.Suspense=y,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,xe.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},xe.cache=function(M){return function(){return M.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(M,Q,ne){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ae=se({},M.props),be=M.key;if(Q!=null)for(Re in Q.key!==void 0&&(be=""+Q.key),Q)!w.call(Q,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&Q.ref===void 0||(ae[Re]=Q[Re]);var Re=arguments.length-2;if(Re===1)ae.children=ne;else if(1<Re){for(var Me=Array(Re),vt=0;vt<Re;vt++)Me[vt]=arguments[vt+2];ae.children=Me}return C(M.type,be,ae)},xe.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},xe.createElement=function(M,Q,ne){var ae,be={},Re=null;if(Q!=null)for(ae in Q.key!==void 0&&(Re=""+Q.key),Q)w.call(Q,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(be[ae]=Q[ae]);var Me=arguments.length-2;if(Me===1)be.children=ne;else if(1<Me){for(var vt=Array(Me),ot=0;ot<Me;ot++)vt[ot]=arguments[ot+2];be.children=vt}if(M&&M.defaultProps)for(ae in Me=M.defaultProps,Me)be[ae]===void 0&&(be[ae]=Me[ae]);return C(M,Re,be)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(M){return{$$typeof:g,render:M}},xe.isValidElement=D,xe.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:me}},xe.memo=function(M,Q){return{$$typeof:_,type:M,compare:Q===void 0?null:Q}},xe.startTransition=function(M){var Q=I.T,ne={};I.T=ne;try{var ae=M(),be=I.S;be!==null&&be(ne,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Oe,qe)}catch(Re){qe(Re)}finally{Q!==null&&ne.types!==null&&(Q.types=ne.types),I.T=Q}},xe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},xe.use=function(M){return I.H.use(M)},xe.useActionState=function(M,Q,ne){return I.H.useActionState(M,Q,ne)},xe.useCallback=function(M,Q){return I.H.useCallback(M,Q)},xe.useContext=function(M){return I.H.useContext(M)},xe.useDebugValue=function(){},xe.useDeferredValue=function(M,Q){return I.H.useDeferredValue(M,Q)},xe.useEffect=function(M,Q){return I.H.useEffect(M,Q)},xe.useEffectEvent=function(M){return I.H.useEffectEvent(M)},xe.useId=function(){return I.H.useId()},xe.useImperativeHandle=function(M,Q,ne){return I.H.useImperativeHandle(M,Q,ne)},xe.useInsertionEffect=function(M,Q){return I.H.useInsertionEffect(M,Q)},xe.useLayoutEffect=function(M,Q){return I.H.useLayoutEffect(M,Q)},xe.useMemo=function(M,Q){return I.H.useMemo(M,Q)},xe.useOptimistic=function(M,Q){return I.H.useOptimistic(M,Q)},xe.useReducer=function(M,Q,ne){return I.H.useReducer(M,Q,ne)},xe.useRef=function(M){return I.H.useRef(M)},xe.useState=function(M){return I.H.useState(M)},xe.useSyncExternalStore=function(M,Q,ne){return I.H.useSyncExternalStore(M,Q,ne)},xe.useTransition=function(){return I.H.useTransition()},xe.version="19.2.3",xe}var G0;function Dm(){return G0||(G0=1,Ud.exports=Lb()),Ud.exports}var ct=Dm(),Pd={exports:{}},Ao={},zd={exports:{}},Bd={};var F0;function jb(){return F0||(F0=1,(function(s){function e(G,ie){var me=G.length;G.push(ie);e:for(;0<me;){var qe=me-1>>>1,Ke=G[qe];if(0<o(Ke,ie))G[qe]=ie,G[me]=Ke,me=qe;else break e}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var ie=G[0],me=G.pop();if(me!==ie){G[0]=me;e:for(var qe=0,Ke=G.length,M=Ke>>>1;qe<M;){var Q=2*(qe+1)-1,ne=G[Q],ae=Q+1,be=G[ae];if(0>o(ne,me))ae<Ke&&0>o(be,ne)?(G[qe]=be,G[ae]=me,qe=ae):(G[qe]=ne,G[Q]=me,qe=Q);else if(ae<Ke&&0>o(be,me))G[qe]=be,G[ae]=me,qe=ae;else break e}}return ie}function o(G,ie){var me=G.sortIndex-ie.sortIndex;return me!==0?me:G.id-ie.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var y=[],_=[],T=1,x=null,V=3,H=!1,ee=!1,se=!1,$=!1,fe=typeof setTimeout=="function"?setTimeout:null,Ee=typeof clearTimeout=="function"?clearTimeout:null,_e=typeof setImmediate<"u"?setImmediate:null;function Ge(G){for(var ie=i(_);ie!==null;){if(ie.callback===null)a(_);else if(ie.startTime<=G)a(_),ie.sortIndex=ie.expirationTime,e(y,ie);else break;ie=i(_)}}function Be(G){if(se=!1,Ge(G),!ee)if(i(y)!==null)ee=!0,Oe||(Oe=!0,k());else{var ie=i(_);ie!==null&&_t(Be,ie.startTime-G)}}var Oe=!1,I=-1,w=5,C=-1;function S(){return $?!0:!(s.unstable_now()-C<w)}function D(){if($=!1,Oe){var G=s.unstable_now();C=G;var ie=!0;try{e:{ee=!1,se&&(se=!1,Ee(I),I=-1),H=!0;var me=V;try{t:{for(Ge(G),x=i(y);x!==null&&!(x.expirationTime>G&&S());){var qe=x.callback;if(typeof qe=="function"){x.callback=null,V=x.priorityLevel;var Ke=qe(x.expirationTime<=G);if(G=s.unstable_now(),typeof Ke=="function"){x.callback=Ke,Ge(G),ie=!0;break t}x===i(y)&&a(y),Ge(G)}else a(y);x=i(y)}if(x!==null)ie=!0;else{var M=i(_);M!==null&&_t(Be,M.startTime-G),ie=!1}}break e}finally{x=null,V=me,H=!1}ie=void 0}}finally{ie?k():Oe=!1}}}var k;if(typeof _e=="function")k=function(){_e(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,nt=R.port2;R.port1.onmessage=D,k=function(){nt.postMessage(null)}}else k=function(){fe(D,0)};function _t(G,ie){I=fe(function(){G(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return V},s.unstable_next=function(G){switch(V){case 1:case 2:case 3:var ie=3;break;default:ie=V}var me=V;V=ie;try{return G()}finally{V=me}},s.unstable_requestPaint=function(){$=!0},s.unstable_runWithPriority=function(G,ie){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var me=V;V=G;try{return ie()}finally{V=me}},s.unstable_scheduleCallback=function(G,ie,me){var qe=s.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?qe+me:qe):me=qe,G){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=me+Ke,G={id:T++,callback:ie,priorityLevel:G,startTime:me,expirationTime:Ke,sortIndex:-1},me>qe?(G.sortIndex=me,e(_,G),i(y)===null&&G===i(_)&&(se?(Ee(I),I=-1):se=!0,_t(Be,me-qe))):(G.sortIndex=Ke,e(y,G),ee||H||(ee=!0,Oe||(Oe=!0,k()))),G},s.unstable_shouldYield=S,s.unstable_wrapCallback=function(G){var ie=V;return function(){var me=V;V=ie;try{return G.apply(this,arguments)}finally{V=me}}}})(Bd)),Bd}var Y0;function Ub(){return Y0||(Y0=1,zd.exports=jb()),zd.exports}var qd={exports:{}},rn={};var Q0;function Pb(){if(Q0)return rn;Q0=1;var s=Dm();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,_,T){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:y,containerInfo:_,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,rn.createPortal=function(y,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,T)},rn.flushSync=function(y){var _=d.T,T=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=T,a.d.f()}},rn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},rn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},rn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var T=_.as,x=g(T,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:x,integrity:V,fetchPriority:H}):T==="script"&&a.d.X(y,{crossOrigin:x,integrity:V,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},rn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=g(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},rn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,x=g(T,_.crossOrigin);a.d.L(y,T,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},rn.preloadModule=function(y,_){if(typeof y=="string")if(_){var T=g(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},rn.requestFormReset=function(y){a.d.r(y)},rn.unstable_batchedUpdates=function(y,_){return y(_)},rn.useFormState=function(y,_,T){return d.H.useFormState(y,_,T)},rn.useFormStatus=function(){return d.H.useHostTransitionStatus()},rn.version="19.2.3",rn}var K0;function zb(){if(K0)return qd.exports;K0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),qd.exports=Pb(),qd.exports}var X0;function Bb(){if(X0)return Ao;X0=1;var s=Ub(),e=Dm(),i=zb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),t;if(f===l)return y(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var p=!1,b=h.child;b;){if(b===r){p=!0,r=h,l=f;break}if(b===l){p=!0,l=h,r=f;break}b=b.sibling}if(!p){for(b=f.child;b;){if(b===r){p=!0,r=f,l=h;break}if(b===l){p=!0,l=f,r=h;break}b=b.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,V=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),ee=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),fe=Symbol.for("react.profiler"),Ee=Symbol.for("react.consumer"),_e=Symbol.for("react.context"),Ge=Symbol.for("react.forward_ref"),Be=Symbol.for("react.suspense"),Oe=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),S=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function nt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case se:return"Fragment";case fe:return"Profiler";case $:return"StrictMode";case Be:return"Suspense";case Oe:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ee:return"Portal";case _e:return t.displayName||"Context";case Ee:return(t._context.displayName||"Context")+".Consumer";case Ge:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:nt(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return nt(t(n))}catch{}}return null}var _t=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},qe=[],Ke=-1;function M(t){return{current:t}}function Q(t){0>Ke||(t.current=qe[Ke],qe[Ke]=null,Ke--)}function ne(t,n){Ke++,qe[Ke]=t.current,t.current=n}var ae=M(null),be=M(null),Re=M(null),Me=M(null);function vt(t,n){switch(ne(Re,n),ne(be,t),ne(ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?c0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=c0(n),t=h0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(ae),ne(ae,t)}function ot(){Q(ae),Q(be),Q(Re)}function Gi(t){t.memoizedState!==null&&ne(Me,t);var n=ae.current,r=h0(n,t.type);n!==r&&(ne(be,t),ne(ae,r))}function Ts(t){be.current===t&&(Q(ae),Q(be)),Me.current===t&&(Q(Me),_o._currentValue=me)}var nn,Ft;function cn(t){if(nn===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);nn=n&&n[1]||"",Ft=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nn+t+Ft}var bs=!1;function re(t,n){if(!t||bs)return"";bs=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var z=q}Reflect.construct(t,[],X)}else{try{X.call()}catch(q){z=q}t.call(X.prototype)}}else{try{throw Error()}catch(q){z=q}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],b=f[1];if(p&&b){var N=p.split(`
`),P=b.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===P.length)for(l=N.length-1,h=P.length-1;1<=l&&0<=h&&N[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==P[h]){var F=`
`+N[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=h);break}}}finally{bs=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?cn(r):""}function oe(t,n){switch(t.tag){case 26:case 27:case 5:return cn(t.type);case 16:return cn("Lazy");case 13:return t.child!==n&&n!==null?cn("Suspense Fallback"):cn("Suspense");case 19:return cn("SuspenseList");case 0:case 15:return re(t.type,!1);case 11:return re(t.type.render,!1);case 1:return re(t.type,!0);case 31:return cn("Activity");default:return""}}function de(t){try{var n="",r=null;do n+=oe(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var K=Object.prototype.hasOwnProperty,W=s.unstable_scheduleCallback,ge=s.unstable_cancelCallback,Ce=s.unstable_shouldYield,sn=s.unstable_requestPaint,Ze=s.unstable_now,Yt=s.unstable_getCurrentPriorityLevel,hn=s.unstable_ImmediatePriority,As=s.unstable_UserBlockingPriority,Ss=s.unstable_NormalPriority,Ph=s.unstable_LowPriority,ru=s.unstable_IdlePriority,au=s.log,lu=s.unstable_setDisableYieldValue,Wn=null,Qt=null;function jn(t){if(typeof au=="function"&&lu(t),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(Wn,t)}catch{}}var bt=Math.clz32?Math.clz32:uu,ou=Math.log,la=Math.LN2;function uu(t){return t>>>=0,t===0?32:31-(ou(t)/la|0)|0}var mi=256,br=262144,Rt=4194304;function pi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gi(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~f,l!==0?h=pi(l):(p&=b,p!==0?h=pi(p):r||(r=b&~t,r!==0&&(h=pi(r))))):(b=l&~f,b!==0?h=pi(b):p!==0?h=pi(p):r||(r=l&~t,r!==0&&(h=pi(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function ei(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function zh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cu(){var t=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),t}function yi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Ar(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Bh(t,n,r,l,h,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var b=t.entanglements,N=t.expirationTimes,P=t.hiddenUpdates;for(r=p&~r;0<r;){var F=31-bt(r),X=1<<F;b[F]=0,N[F]=-1;var z=P[F];if(z!==null)for(P[F]=null,F=0;F<z.length;F++){var q=z[F];q!==null&&(q.lane&=-536870913)}r&=~X}l!==0&&Sr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Sr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-bt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function bl(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-bt(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function Al(t,n){var r=n&-n;return r=(r&42)!==0?1:xr(r),(r&(t.suspendedLanes|n))!==0?0:r}function xr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Fi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function hu(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:V0(t.type))}function ti(t,n){var r=ie.p;try{return ie.p=t,n()}finally{ie.p=r}}var ni=Math.random().toString(36).slice(2),Ct="__reactFiber$"+ni,Bt="__reactProps$"+ni,_i="__reactContainer$"+ni,oa="__reactEvents$"+ni,qh="__reactListeners$"+ni,fu="__reactHandles$"+ni,du="__reactResources$"+ni,vi="__reactMarker$"+ni;function ua(t){delete t[Ct],delete t[Bt],delete t[oa],delete t[qh],delete t[fu]}function Ei(t){var n=t[Ct];if(n)return n;for(var r=t.parentNode;r;){if(n=r[_i]||r[Ct]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=_0(t);t!==null;){if(r=t[Ct])return r;t=_0(t)}return n}t=r,r=t.parentNode}return null}function Un(t){if(t=t[Ct]||t[_i]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Rn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ti(t){var n=t[du];return n||(n=t[du]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function It(t){t[vi]=!0}var Sl=new Set,xl={};function bi(t,n){Ai(t,n),Ai(t+"Capture",n)}function Ai(t,n){for(xl[t]=n,t=0;t<n.length;t++)Sl.add(n[t])}var wl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rl={},Cl={};function mu(t){return K.call(Cl,t)?!0:K.call(Rl,t)?!1:wl.test(t)?Cl[t]=!0:(Rl[t]=!0,!1)}function ca(t,n,r){if(mu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Cn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Nt(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Il(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function We(t){if(!t._valueTracker){var n=xs(t)?"checked":"value";t._valueTracker=Il(t,n,""+t[n])}}function wr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=xs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Si(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rr=/[\n"\\]/g;function yn(t){return t.replace(Rr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ha(t,n,r,l,h,f,p,b){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+qt(n)):t.value!==""+qt(n)&&(t.value=""+qt(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Nl(t,p,qt(n)):r!=null?Nl(t,p,qt(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+qt(b):t.removeAttribute("name")}function pu(t,n,r,l,h,f,p,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){We(t);return}r=r!=null?""+qt(r):"",n=n!=null?""+qt(n):r,b||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),We(t)}function Nl(t,n,r){n==="number"&&Si(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ws(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+qt(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function gu(t,n,r){if(n!=null&&(n=""+qt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+qt(r):""}function Rs(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(_t(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=qt(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),We(t)}function _n(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var yu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dl(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||yu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Ol(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Dl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Dl(t,f,n[f])}function fa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _u=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function da(t){return Cs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ii(){}var Ml=null;function Pn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Is=null,xi=null;function Cr(t){var n=Un(t);if(n&&(t=n.stateNode)){var r=t[Bt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ha(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+yn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[Bt]||null;if(!h)throw Error(a(90));ha(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&wr(l)}break e;case"textarea":gu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&ws(t,!!r.multiple,n,!1)}}}var ma=!1;function Ns(t,n,r){if(ma)return t(n,r);ma=!0;try{var l=t(n);return l}finally{if(ma=!1,(Is!==null||xi!==null)&&(hc(),Is&&(n=Is,t=xi,xi=Is=null,Cr(n),t)))for(n=0;n<t.length;n++)Cr(t[n])}}function si(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Bt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ir=!1;if(zn)try{var it={};Object.defineProperty(it,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",it,it),window.removeEventListener("test",it,it)}catch{Ir=!1}var wi=null,Vl=null,Nr=null;function kl(){if(Nr)return Nr;var t,n=Vl,r=n.length,l,h="value"in wi?wi.value:wi.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var p=r-t;for(l=1;l<=p&&n[r-l]===h[f-l];l++);return Nr=h.slice(t,1<l?1-l:void 0)}function Dr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Yi(){return!0}function ri(){return!1}function Kt(t){function n(r,l,h,f,p){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(r=t[b],this[b]=r?r(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Yi:ri,this.isPropagationStopped=ri,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),n}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=Kt(Qi),Ds=x({},Qi,{view:0,detail:0}),Ll=Kt(Ds),Os,pa,Ci,ga=x({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ms,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ci&&(Ci&&t.type==="mousemove"?(Os=t.screenX-Ci.screenX,pa=t.screenY-Ci.screenY):pa=Os=0,Ci=t),Os)},movementY:function(t){return"movementY"in t?t.movementY:pa}}),jl=Kt(ga),Or=x({},ga,{dataTransfer:0}),vu=Kt(Or),Eu=x({},Ds,{relatedTarget:0}),Mr=Kt(Eu),Ul=x({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Tu=Kt(Ul),ya=x({},Qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bu=Kt(ya),Au=x({},Qi,{data:0}),Ii=Kt(Au),Su={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ru(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=wu[t])?!!n[t]:!1}function Ms(){return Ru}var fn=x({},Ds,{key:function(t){if(t.key){var n=Su[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Dr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ms,charCode:function(t){return t.type==="keypress"?Dr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Dr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Cu=Kt(fn),Iu=x({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ki=Kt(Iu),u=x({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ms}),m=Kt(u),v=x({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Kt(v),j=x({},ga,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Kt(j),te=x({},Qi,{newState:0,oldState:0}),Ie=Kt(te),At=[9,13,27,32],Xe=zn&&"CompositionEvent"in window,mt=null;zn&&"documentMode"in document&&(mt=document.documentMode);var Bn=zn&&"TextEvent"in window&&!mt,Ni=zn&&(!Xe||mt&&8<mt&&11>=mt),ai=" ",li=!1;function Vr(t,n){switch(t){case"keyup":return At.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _a(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var va=!1;function sT(t,n){switch(t){case"compositionend":return _a(n);case"keypress":return n.which!==32?null:(li=!0,ai);case"textInput":return t=n.data,t===ai&&li?null:t;default:return null}}function rT(t,n){if(va)return t==="compositionend"||!Xe&&Vr(t,n)?(t=kl(),Nr=Vl=wi=null,va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ni&&n.locale!=="ko"?null:n.data;default:return null}}var aT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!aT[t.type]:n==="textarea"}function bp(t,n,r,l){Is?xi?xi.push(l):xi=[l]:Is=l,n=_c(n,"onChange"),0<n.length&&(r=new Ri("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Pl=null,zl=null;function lT(t){s0(t,0)}function Nu(t){var n=Rn(t);if(wr(n))return t}function Ap(t,n){if(t==="change")return n}var Sp=!1;if(zn){var Hh;if(zn){var Gh="oninput"in document;if(!Gh){var xp=document.createElement("div");xp.setAttribute("oninput","return;"),Gh=typeof xp.oninput=="function"}Hh=Gh}else Hh=!1;Sp=Hh&&(!document.documentMode||9<document.documentMode)}function wp(){Pl&&(Pl.detachEvent("onpropertychange",Rp),zl=Pl=null)}function Rp(t){if(t.propertyName==="value"&&Nu(zl)){var n=[];bp(n,zl,t,Pn(t)),Ns(lT,n)}}function oT(t,n,r){t==="focusin"?(wp(),Pl=n,zl=r,Pl.attachEvent("onpropertychange",Rp)):t==="focusout"&&wp()}function uT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nu(zl)}function cT(t,n){if(t==="click")return Nu(n)}function hT(t,n){if(t==="input"||t==="change")return Nu(n)}function fT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var In=typeof Object.is=="function"?Object.is:fT;function Bl(t,n){if(In(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!K.call(n,h)||!In(t[h],n[h]))return!1}return!0}function Cp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ip(t,n){var r=Cp(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Cp(r)}}function Np(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Np(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Dp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Si(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Si(t.document)}return n}function Fh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var dT=zn&&"documentMode"in document&&11>=document.documentMode,Ea=null,Yh=null,ql=null,Qh=!1;function Op(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qh||Ea==null||Ea!==Si(l)||(l=Ea,"selectionStart"in l&&Fh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ql&&Bl(ql,l)||(ql=l,l=_c(Yh,"onSelect"),0<l.length&&(n=new Ri("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ea)))}function kr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ta={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionrun:kr("Transition","TransitionRun"),transitionstart:kr("Transition","TransitionStart"),transitioncancel:kr("Transition","TransitionCancel"),transitionend:kr("Transition","TransitionEnd")},Kh={},Mp={};zn&&(Mp=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function Lr(t){if(Kh[t])return Kh[t];if(!Ta[t])return t;var n=Ta[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Mp)return Kh[t]=n[r];return t}var Vp=Lr("animationend"),kp=Lr("animationiteration"),Lp=Lr("animationstart"),mT=Lr("transitionrun"),pT=Lr("transitionstart"),gT=Lr("transitioncancel"),jp=Lr("transitionend"),Up=new Map,Xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xh.push("scrollEnd");function oi(t,n){Up.set(t,n),bi(n,[t])}var Du=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},qn=[],ba=0,$h=0;function Ou(){for(var t=ba,n=$h=ba=0;n<t;){var r=qn[n];qn[n++]=null;var l=qn[n];qn[n++]=null;var h=qn[n];qn[n++]=null;var f=qn[n];if(qn[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Pp(r,h,f)}}function Mu(t,n,r,l){qn[ba++]=t,qn[ba++]=n,qn[ba++]=r,qn[ba++]=l,$h|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Zh(t,n,r,l){return Mu(t,n,r,l),Vu(t)}function jr(t,n){return Mu(t,null,null,n),Vu(t)}function Pp(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-bt(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Vu(t){if(50<co)throw co=0,ld=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Aa={};function yT(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(t,n,r,l){return new yT(t,n,r,l)}function Jh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xi(t,n){var r=t.alternate;return r===null?(r=Nn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function zp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ku(t,n,r,l,h,f){var p=0;if(l=t,typeof t=="function")Jh(t)&&(p=1);else if(typeof t=="string")p=bb(t,r,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Nn(31,r,n,h),t.elementType=C,t.lanes=f,t;case se:return Ur(r.children,h,f,n);case $:p=8,h|=24;break;case fe:return t=Nn(12,r,n,h|2),t.elementType=fe,t.lanes=f,t;case Be:return t=Nn(13,r,n,h),t.elementType=Be,t.lanes=f,t;case Oe:return t=Nn(19,r,n,h),t.elementType=Oe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _e:p=10;break e;case Ee:p=9;break e;case Ge:p=11;break e;case I:p=14;break e;case w:p=16,l=null;break e}p=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Nn(p,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Ur(t,n,r,l){return t=Nn(7,t,l,n),t.lanes=r,t}function Wh(t,n,r){return t=Nn(6,t,null,n),t.lanes=r,t}function Bp(t){var n=Nn(18,null,null,0);return n.stateNode=t,n}function ef(t,n,r){return n=Nn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var qp=new WeakMap;function Hn(t,n){if(typeof t=="object"&&t!==null){var r=qp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:de(n)},qp.set(t,n),n)}return{value:t,source:n,stack:de(n)}}var Sa=[],xa=0,Lu=null,Hl=0,Gn=[],Fn=0,Vs=null,Di=1,Oi="";function $i(t,n){Sa[xa++]=Hl,Sa[xa++]=Lu,Lu=t,Hl=n}function Hp(t,n,r){Gn[Fn++]=Di,Gn[Fn++]=Oi,Gn[Fn++]=Vs,Vs=t;var l=Di;t=Oi;var h=32-bt(l)-1;l&=~(1<<h),r+=1;var f=32-bt(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Di=1<<32-bt(n)+h|r<<h|l,Oi=f+t}else Di=1<<f|r<<h|l,Oi=t}function tf(t){t.return!==null&&($i(t,1),Hp(t,1,0))}function nf(t){for(;t===Lu;)Lu=Sa[--xa],Sa[xa]=null,Hl=Sa[--xa],Sa[xa]=null;for(;t===Vs;)Vs=Gn[--Fn],Gn[Fn]=null,Oi=Gn[--Fn],Gn[Fn]=null,Di=Gn[--Fn],Gn[Fn]=null}function Gp(t,n){Gn[Fn++]=Di,Gn[Fn++]=Oi,Gn[Fn++]=Vs,Di=n.id,Oi=n.overflow,Vs=t}var Xt=null,ht=null,He=!1,ks=null,Yn=!1,sf=Error(a(519));function Ls(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gl(Hn(n,t)),sf}function Fp(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Ct]=t,n[Bt]=l,r){case"dialog":ke("cancel",n),ke("close",n);break;case"iframe":case"object":case"embed":ke("load",n);break;case"video":case"audio":for(r=0;r<fo.length;r++)ke(fo[r],n);break;case"source":ke("error",n);break;case"img":case"image":case"link":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"input":ke("invalid",n),pu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ke("invalid",n);break;case"textarea":ke("invalid",n),Rs(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||o0(n.textContent,r)?(l.popover!=null&&(ke("beforetoggle",n),ke("toggle",n)),l.onScroll!=null&&ke("scroll",n),l.onScrollEnd!=null&&ke("scrollend",n),l.onClick!=null&&(n.onclick=ii),n=!0):n=!1,n||Ls(t,!0)}function Yp(t){for(Xt=t.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Xt=Xt.return}}function wa(t){if(t!==Xt)return!1;if(!He)return Yp(t),He=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||bd(t.type,t.memoizedProps)),r=!r),r&&ht&&Ls(t),Yp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ht=y0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ht=y0(t)}else n===27?(n=ht,$s(t.type)?(t=Rd,Rd=null,ht=t):ht=n):ht=Xt?Kn(t.stateNode.nextSibling):null;return!0}function Pr(){ht=Xt=null,He=!1}function rf(){var t=ks;return t!==null&&(bn===null?bn=t:bn.push.apply(bn,t),ks=null),t}function Gl(t){ks===null?ks=[t]:ks.push(t)}var af=M(null),zr=null,Zi=null;function js(t,n,r){ne(af,n._currentValue),n._currentValue=r}function Ji(t){t._currentValue=af.current,Q(af)}function lf(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function of(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=h;for(var N=0;N<n.length;N++)if(b.context===n[N]){f.lanes|=r,b=f.alternate,b!==null&&(b.lanes|=r),lf(f.return,r,t),l||(p=null);break e}f=b.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),lf(p,r,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Ra(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var b=h.type;In(h.pendingProps.value,p.value)||(t!==null?t.push(b):t=[b])}}else if(h===Me.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(_o):t=[_o])}h=h.return}t!==null&&of(n,t,r,l),n.flags|=262144}function ju(t){for(t=t.firstContext;t!==null;){if(!In(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Br(t){zr=t,Zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return Qp(zr,t)}function Uu(t,n){return zr===null&&Br(t),Qp(t,n)}function Qp(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Zi===null){if(t===null)throw Error(a(308));Zi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Zi=Zi.next=n;return r}var _T=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},vT=s.unstable_scheduleCallback,ET=s.unstable_NormalPriority,Dt={$$typeof:_e,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uf(){return{controller:new _T,data:new Map,refCount:0}}function Fl(t){t.refCount--,t.refCount===0&&vT(ET,function(){t.controller.abort()})}var Yl=null,cf=0,Ca=0,Ia=null;function TT(t,n){if(Yl===null){var r=Yl=[];cf=0,Ca=dd(),Ia={status:"pending",value:void 0,then:function(l){r.push(l)}}}return cf++,n.then(Kp,Kp),n}function Kp(){if(--cf===0&&Yl!==null){Ia!==null&&(Ia.status="fulfilled");var t=Yl;Yl=null,Ca=0,Ia=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function bT(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Xp=G.S;G.S=function(t,n){Oy=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&TT(t,n),Xp!==null&&Xp(t,n)};var qr=M(null);function hf(){var t=qr.current;return t!==null?t:ut.pooledCache}function Pu(t,n){n===null?ne(qr,qr.current):ne(qr,n.pool)}function $p(){var t=hf();return t===null?null:{parent:Dt._currentValue,pool:t}}var Na=Error(a(460)),ff=Error(a(474)),zu=Error(a(542)),Bu={then:function(){}};function Zp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Jp(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ii,ii),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,eg(t),t;default:if(typeof n.status=="string")n.then(ii,ii);else{if(t=ut,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,eg(t),t}throw Gr=n,Na}}function Hr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Gr=r,Na):r}}var Gr=null;function Wp(){if(Gr===null)throw Error(a(459));var t=Gr;return Gr=null,t}function eg(t){if(t===Na||t===zu)throw Error(a(483))}var Da=null,Ql=0;function qu(t){var n=Ql;return Ql+=1,Da===null&&(Da=[]),Jp(Da,t,n)}function Kl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Hu(t,n){throw n.$$typeof===V?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function tg(t){function n(L,O){if(t){var U=L.deletions;U===null?(L.deletions=[O],L.flags|=16):U.push(O)}}function r(L,O){if(!t)return null;for(;O!==null;)n(L,O),O=O.sibling;return null}function l(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(L,O){return L=Xi(L,O),L.index=0,L.sibling=null,L}function f(L,O,U){return L.index=U,t?(U=L.alternate,U!==null?(U=U.index,U<O?(L.flags|=67108866,O):U):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function p(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function b(L,O,U,Y){return O===null||O.tag!==6?(O=Wh(U,L.mode,Y),O.return=L,O):(O=h(O,U),O.return=L,O)}function N(L,O,U,Y){var pe=U.type;return pe===se?F(L,O,U.props.children,Y,U.key):O!==null&&(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&Hr(pe)===O.type)?(O=h(O,U.props),Kl(O,U),O.return=L,O):(O=ku(U.type,U.key,U.props,null,L.mode,Y),Kl(O,U),O.return=L,O)}function P(L,O,U,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=ef(U,L.mode,Y),O.return=L,O):(O=h(O,U.children||[]),O.return=L,O)}function F(L,O,U,Y,pe){return O===null||O.tag!==7?(O=Ur(U,L.mode,Y,pe),O.return=L,O):(O=h(O,U),O.return=L,O)}function X(L,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Wh(""+O,L.mode,U),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case H:return U=ku(O.type,O.key,O.props,null,L.mode,U),Kl(U,O),U.return=L,U;case ee:return O=ef(O,L.mode,U),O.return=L,O;case w:return O=Hr(O),X(L,O,U)}if(_t(O)||k(O))return O=Ur(O,L.mode,U,null),O.return=L,O;if(typeof O.then=="function")return X(L,qu(O),U);if(O.$$typeof===_e)return X(L,Uu(L,O),U);Hu(L,O)}return null}function z(L,O,U,Y){var pe=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return pe!==null?null:b(L,O,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case H:return U.key===pe?N(L,O,U,Y):null;case ee:return U.key===pe?P(L,O,U,Y):null;case w:return U=Hr(U),z(L,O,U,Y)}if(_t(U)||k(U))return pe!==null?null:F(L,O,U,Y,null);if(typeof U.then=="function")return z(L,O,qu(U),Y);if(U.$$typeof===_e)return z(L,O,Uu(L,U),Y);Hu(L,U)}return null}function q(L,O,U,Y,pe){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return L=L.get(U)||null,b(O,L,""+Y,pe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case H:return L=L.get(Y.key===null?U:Y.key)||null,N(O,L,Y,pe);case ee:return L=L.get(Y.key===null?U:Y.key)||null,P(O,L,Y,pe);case w:return Y=Hr(Y),q(L,O,U,Y,pe)}if(_t(Y)||k(Y))return L=L.get(U)||null,F(O,L,Y,pe,null);if(typeof Y.then=="function")return q(L,O,U,qu(Y),pe);if(Y.$$typeof===_e)return q(L,O,U,Uu(O,Y),pe);Hu(O,Y)}return null}function ue(L,O,U,Y){for(var pe=null,Ye=null,ce=O,De=O=0,je=null;ce!==null&&De<U.length;De++){ce.index>De?(je=ce,ce=null):je=ce.sibling;var Qe=z(L,ce,U[De],Y);if(Qe===null){ce===null&&(ce=je);break}t&&ce&&Qe.alternate===null&&n(L,ce),O=f(Qe,O,De),Ye===null?pe=Qe:Ye.sibling=Qe,Ye=Qe,ce=je}if(De===U.length)return r(L,ce),He&&$i(L,De),pe;if(ce===null){for(;De<U.length;De++)ce=X(L,U[De],Y),ce!==null&&(O=f(ce,O,De),Ye===null?pe=ce:Ye.sibling=ce,Ye=ce);return He&&$i(L,De),pe}for(ce=l(ce);De<U.length;De++)je=q(ce,L,De,U[De],Y),je!==null&&(t&&je.alternate!==null&&ce.delete(je.key===null?De:je.key),O=f(je,O,De),Ye===null?pe=je:Ye.sibling=je,Ye=je);return t&&ce.forEach(function(tr){return n(L,tr)}),He&&$i(L,De),pe}function ve(L,O,U,Y){if(U==null)throw Error(a(151));for(var pe=null,Ye=null,ce=O,De=O=0,je=null,Qe=U.next();ce!==null&&!Qe.done;De++,Qe=U.next()){ce.index>De?(je=ce,ce=null):je=ce.sibling;var tr=z(L,ce,Qe.value,Y);if(tr===null){ce===null&&(ce=je);break}t&&ce&&tr.alternate===null&&n(L,ce),O=f(tr,O,De),Ye===null?pe=tr:Ye.sibling=tr,Ye=tr,ce=je}if(Qe.done)return r(L,ce),He&&$i(L,De),pe;if(ce===null){for(;!Qe.done;De++,Qe=U.next())Qe=X(L,Qe.value,Y),Qe!==null&&(O=f(Qe,O,De),Ye===null?pe=Qe:Ye.sibling=Qe,Ye=Qe);return He&&$i(L,De),pe}for(ce=l(ce);!Qe.done;De++,Qe=U.next())Qe=q(ce,L,De,Qe.value,Y),Qe!==null&&(t&&Qe.alternate!==null&&ce.delete(Qe.key===null?De:Qe.key),O=f(Qe,O,De),Ye===null?pe=Qe:Ye.sibling=Qe,Ye=Qe);return t&&ce.forEach(function(Mb){return n(L,Mb)}),He&&$i(L,De),pe}function at(L,O,U,Y){if(typeof U=="object"&&U!==null&&U.type===se&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case H:e:{for(var pe=U.key;O!==null;){if(O.key===pe){if(pe=U.type,pe===se){if(O.tag===7){r(L,O.sibling),Y=h(O,U.props.children),Y.return=L,L=Y;break e}}else if(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&Hr(pe)===O.type){r(L,O.sibling),Y=h(O,U.props),Kl(Y,U),Y.return=L,L=Y;break e}r(L,O);break}else n(L,O);O=O.sibling}U.type===se?(Y=Ur(U.props.children,L.mode,Y,U.key),Y.return=L,L=Y):(Y=ku(U.type,U.key,U.props,null,L.mode,Y),Kl(Y,U),Y.return=L,L=Y)}return p(L);case ee:e:{for(pe=U.key;O!==null;){if(O.key===pe)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){r(L,O.sibling),Y=h(O,U.children||[]),Y.return=L,L=Y;break e}else{r(L,O);break}else n(L,O);O=O.sibling}Y=ef(U,L.mode,Y),Y.return=L,L=Y}return p(L);case w:return U=Hr(U),at(L,O,U,Y)}if(_t(U))return ue(L,O,U,Y);if(k(U)){if(pe=k(U),typeof pe!="function")throw Error(a(150));return U=pe.call(U),ve(L,O,U,Y)}if(typeof U.then=="function")return at(L,O,qu(U),Y);if(U.$$typeof===_e)return at(L,O,Uu(L,U),Y);Hu(L,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,O!==null&&O.tag===6?(r(L,O.sibling),Y=h(O,U),Y.return=L,L=Y):(r(L,O),Y=Wh(U,L.mode,Y),Y.return=L,L=Y),p(L)):r(L,O)}return function(L,O,U,Y){try{Ql=0;var pe=at(L,O,U,Y);return Da=null,pe}catch(ce){if(ce===Na||ce===zu)throw ce;var Ye=Nn(29,ce,null,L.mode);return Ye.lanes=Y,Ye.return=L,Ye}}}var Fr=tg(!0),ng=tg(!1),Us=!1;function df(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ps(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function zs(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Vu(t),Pp(t,null,r),n}return Mu(t,l,n,r),Vu(t)}function Xl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,bl(t,r)}}function pf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var gf=!1;function $l(){if(gf){var t=Ia;if(t!==null)throw t}}function Zl(t,n,r,l){gf=!1;var h=t.updateQueue;Us=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var N=b,P=N.next;N.next=null,p===null?f=P:p.next=P,p=N;var F=t.alternate;F!==null&&(F=F.updateQueue,b=F.lastBaseUpdate,b!==p&&(b===null?F.firstBaseUpdate=P:b.next=P,F.lastBaseUpdate=N))}if(f!==null){var X=h.baseState;p=0,F=P=N=null,b=f;do{var z=b.lane&-536870913,q=z!==b.lane;if(q?(Le&z)===z:(l&z)===z){z!==0&&z===Ca&&(gf=!0),F!==null&&(F=F.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ue=t,ve=b;z=n;var at=r;switch(ve.tag){case 1:if(ue=ve.payload,typeof ue=="function"){X=ue.call(at,X,z);break e}X=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ve.payload,z=typeof ue=="function"?ue.call(at,X,z):ue,z==null)break e;X=x({},X,z);break e;case 2:Us=!0}}z=b.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:b.tag,payload:b.payload,callback:b.callback,next:null},F===null?(P=F=q,N=X):F=F.next=q,p|=z;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;q=b,b=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(N=X),h.baseState=N,h.firstBaseUpdate=P,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Fs|=p,t.lanes=p,t.memoizedState=X}}function ig(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function sg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)ig(r[t],n)}var Oa=M(null),Gu=M(0);function rg(t,n){t=ls,ne(Gu,t),ne(Oa,n),ls=t|n.baseLanes}function yf(){ne(Gu,ls),ne(Oa,Oa.current)}function _f(){ls=Gu.current,Q(Oa),Q(Gu)}var Dn=M(null),Qn=null;function Bs(t){var n=t.alternate;ne(St,St.current&1),ne(Dn,t),Qn===null&&(n===null||Oa.current!==null||n.memoizedState!==null)&&(Qn=t)}function vf(t){ne(St,St.current),ne(Dn,t),Qn===null&&(Qn=t)}function ag(t){t.tag===22?(ne(St,St.current),ne(Dn,t),Qn===null&&(Qn=t)):qs()}function qs(){ne(St,St.current),ne(Dn,Dn.current)}function On(t){Q(Dn),Qn===t&&(Qn=null),Q(St)}var St=M(0);function Fu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||xd(r)||wd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Wi=0,Ne=null,st=null,Ot=null,Yu=!1,Ma=!1,Yr=!1,Qu=0,Jl=0,Va=null,AT=0;function Et(){throw Error(a(321))}function Ef(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!In(t[r],n[r]))return!1;return!0}function Tf(t,n,r,l,h,f){return Wi=f,Ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Hg:Lf,Yr=!1,f=r(l,h),Yr=!1,Ma&&(f=og(n,r,l,h)),lg(t),f}function lg(t){G.H=to;var n=st!==null&&st.next!==null;if(Wi=0,Ot=st=Ne=null,Yu=!1,Jl=0,Va=null,n)throw Error(a(300));t===null||Mt||(t=t.dependencies,t!==null&&ju(t)&&(Mt=!0))}function og(t,n,r,l){Ne=t;var h=0;do{if(Ma&&(Va=null),Jl=0,Ma=!1,25<=h)throw Error(a(301));if(h+=1,Ot=st=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Gg,f=n(r,l)}while(Ma);return f}function ST(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?Wl(n):n,t=t.useState()[0],(st!==null?st.memoizedState:null)!==t&&(Ne.flags|=1024),n}function bf(){var t=Qu!==0;return Qu=0,t}function Af(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Sf(t){if(Yu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Yu=!1}Wi=0,Ot=st=Ne=null,Ma=!1,Jl=Qu=0,Va=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Ne.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function xt(){if(st===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var n=Ot===null?Ne.memoizedState:Ot.next;if(n!==null)Ot=n,st=t;else{if(t===null)throw Ne.alternate===null?Error(a(467)):Error(a(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Ot===null?Ne.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function Ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wl(t){var n=Jl;return Jl+=1,Va===null&&(Va=[]),t=Jp(Va,t,n),n=Ne,(Ot===null?n.memoizedState:Ot.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Hg:Lf),t}function Xu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Wl(t);if(t.$$typeof===_e)return $t(t)}throw Error(a(438,String(t)))}function xf(t){var n=null,r=Ne.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Ku(),Ne.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=S;return n.index++,r}function es(t,n){return typeof n=="function"?n(t):n}function $u(t){var n=xt();return wf(n,st,t)}function wf(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var b=p=null,N=null,P=n,F=!1;do{var X=P.lane&-536870913;if(X!==P.lane?(Le&X)===X:(Wi&X)===X){var z=P.revertLane;if(z===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),X===Ca&&(F=!0);else if((Wi&z)===z){P=P.next,z===Ca&&(F=!0);continue}else X={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},N===null?(b=N=X,p=f):N=N.next=X,Ne.lanes|=z,Fs|=z;X=P.action,Yr&&r(f,X),f=P.hasEagerState?P.eagerState:r(f,X)}else z={lane:X,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},N===null?(b=N=z,p=f):N=N.next=z,Ne.lanes|=X,Fs|=X;P=P.next}while(P!==null&&P!==n);if(N===null?p=f:N.next=b,!In(f,t.memoizedState)&&(Mt=!0,F&&(r=Ia,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=N,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Rf(t){var n=xt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);In(f,n.memoizedState)||(Mt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function ug(t,n,r){var l=Ne,h=xt(),f=He;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!In((st||h).memoizedState,r);if(p&&(h.memoizedState=r,Mt=!0),h=h.queue,Nf(fg.bind(null,l,h,t),[t]),h.getSnapshot!==n||p||Ot!==null&&Ot.memoizedState.tag&1){if(l.flags|=2048,ka(9,{destroy:void 0},hg.bind(null,l,h,r,n),null),ut===null)throw Error(a(349));f||(Wi&127)!==0||cg(l,n,r)}return r}function cg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ne.updateQueue,n===null?(n=Ku(),Ne.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function hg(t,n,r,l){n.value=r,n.getSnapshot=l,dg(n)&&mg(t)}function fg(t,n,r){return r(function(){dg(n)&&mg(t)})}function dg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!In(t,r)}catch{return!0}}function mg(t){var n=jr(t,2);n!==null&&An(n,t,2)}function Cf(t){var n=dn();if(typeof t=="function"){var r=t;if(t=r(),Yr){jn(!0);try{r()}finally{jn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:t},n}function pg(t,n,r,l){return t.baseState=r,wf(t,st,typeof l=="function"?l:es)}function xT(t,n,r,l,h){if(Wu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,gg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function gg(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var b=r(h,l),N=G.S;N!==null&&N(p,b),yg(t,n,b)}catch(P){If(t,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=r(h,l),yg(t,n,f)}catch(P){If(t,n,P)}}function yg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){_g(t,n,l)},function(l){return If(t,n,l)}):_g(t,n,r)}function _g(t,n,r){n.status="fulfilled",n.value=r,vg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,gg(t,r)))}function If(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,vg(n),n=n.next;while(n!==l)}t.action=null}function vg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Eg(t,n){return n}function Tg(t,n){if(He){var r=ut.formState;if(r!==null){e:{var l=Ne;if(He){if(ht){t:{for(var h=ht,f=Yn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Kn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ht=Kn(h.nextSibling),l=h.data==="F!";break e}}Ls(l)}l=!1}l&&(n=r[0])}}return r=dn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eg,lastRenderedState:n},r.queue=l,r=zg.bind(null,Ne,l),l.dispatch=r,l=Cf(!1),f=kf.bind(null,Ne,!1,l.queue),l=dn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=xT.bind(null,Ne,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function bg(t){var n=xt();return Ag(n,st,t)}function Ag(t,n,r){if(n=wf(t,n,Eg)[0],t=$u(es)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Wl(n)}catch(p){throw p===Na?zu:p}else l=n;n=xt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Ne.flags|=2048,ka(9,{destroy:void 0},wT.bind(null,h,r),null)),[l,f,t]}function wT(t,n){t.action=n}function Sg(t){var n=xt(),r=st;if(r!==null)return Ag(n,r,t);xt(),n=n.memoizedState,r=xt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function ka(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Ne.updateQueue,n===null&&(n=Ku(),Ne.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function xg(){return xt().memoizedState}function Zu(t,n,r,l){var h=dn();Ne.flags|=t,h.memoizedState=ka(1|n,{destroy:void 0},r,l===void 0?null:l)}function Ju(t,n,r,l){var h=xt();l=l===void 0?null:l;var f=h.memoizedState.inst;st!==null&&l!==null&&Ef(l,st.memoizedState.deps)?h.memoizedState=ka(n,f,r,l):(Ne.flags|=t,h.memoizedState=ka(1|n,f,r,l))}function wg(t,n){Zu(8390656,8,t,n)}function Nf(t,n){Ju(2048,8,t,n)}function RT(t){Ne.flags|=4;var n=Ne.updateQueue;if(n===null)n=Ku(),Ne.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Rg(t){var n=xt().memoizedState;return RT({ref:n,nextImpl:t}),function(){if(($e&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Cg(t,n){return Ju(4,2,t,n)}function Ig(t,n){return Ju(4,4,t,n)}function Ng(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Dg(t,n,r){r=r!=null?r.concat([t]):null,Ju(4,4,Ng.bind(null,n,t),r)}function Df(){}function Og(t,n){var r=xt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Ef(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Mg(t,n){var r=xt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Ef(n,l[1]))return l[0];if(l=t(),Yr){jn(!0);try{t()}finally{jn(!1)}}return r.memoizedState=[l,n],l}function Of(t,n,r){return r===void 0||(Wi&1073741824)!==0&&(Le&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Vy(),Ne.lanes|=t,Fs|=t,r)}function Vg(t,n,r,l){return In(r,n)?r:Oa.current!==null?(t=Of(t,r,l),In(t,n)||(Mt=!0),t):(Wi&42)===0||(Wi&1073741824)!==0&&(Le&261930)===0?(Mt=!0,t.memoizedState=r):(t=Vy(),Ne.lanes|=t,Fs|=t,n)}function kg(t,n,r,l,h){var f=ie.p;ie.p=f!==0&&8>f?f:8;var p=G.T,b={};G.T=b,kf(t,!1,n,r);try{var N=h(),P=G.S;if(P!==null&&P(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var F=bT(N,l);eo(t,n,F,kn(t))}else eo(t,n,l,kn(t))}catch(X){eo(t,n,{then:function(){},status:"rejected",reason:X},kn())}finally{ie.p=f,p!==null&&b.types!==null&&(p.types=b.types),G.T=p}}function CT(){}function Mf(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=Lg(t).queue;kg(t,h,n,me,r===null?CT:function(){return jg(t),r(l)})}function Lg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:me},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function jg(t){var n=Lg(t);n.next===null&&(n=t.alternate.memoizedState),eo(t,n.next.queue,{},kn())}function Vf(){return $t(_o)}function Ug(){return xt().memoizedState}function Pg(){return xt().memoizedState}function IT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=kn();t=Ps(r);var l=zs(n,t,r);l!==null&&(An(l,n,r),Xl(l,n,r)),n={cache:uf()},t.payload=n;return}n=n.return}}function NT(t,n,r){var l=kn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Wu(t)?Bg(n,r):(r=Zh(t,n,r,l),r!==null&&(An(r,t,l),qg(r,n,l)))}function zg(t,n,r){var l=kn();eo(t,n,r,l)}function eo(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Wu(t))Bg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,b=f(p,r);if(h.hasEagerState=!0,h.eagerState=b,In(b,p))return Mu(t,n,h,0),ut===null&&Ou(),!1}catch{}if(r=Zh(t,n,h,l),r!==null)return An(r,t,l),qg(r,n,l),!0}return!1}function kf(t,n,r,l){if(l={lane:2,revertLane:dd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Wu(t)){if(n)throw Error(a(479))}else n=Zh(t,r,l,2),n!==null&&An(n,t,2)}function Wu(t){var n=t.alternate;return t===Ne||n!==null&&n===Ne}function Bg(t,n){Ma=Yu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function qg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,bl(t,r)}}var to={readContext:$t,use:Xu,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et};to.useEffectEvent=Et;var Hg={readContext:$t,use:Xu,useCallback:function(t,n){return dn().memoizedState=[t,n===void 0?null:n],t},useContext:$t,useEffect:wg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Zu(4194308,4,Ng.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Zu(4194308,4,t,n)},useInsertionEffect:function(t,n){Zu(4,2,t,n)},useMemo:function(t,n){var r=dn();n=n===void 0?null:n;var l=t();if(Yr){jn(!0);try{t()}finally{jn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=dn();if(r!==void 0){var h=r(n);if(Yr){jn(!0);try{r(n)}finally{jn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=NT.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var n=dn();return t={current:t},n.memoizedState=t},useState:function(t){t=Cf(t);var n=t.queue,r=zg.bind(null,Ne,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Df,useDeferredValue:function(t,n){var r=dn();return Of(r,t,n)},useTransition:function(){var t=Cf(!1);return t=kg.bind(null,Ne,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Ne,h=dn();if(He){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ut===null)throw Error(a(349));(Le&127)!==0||cg(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,wg(fg.bind(null,l,f,t),[t]),l.flags|=2048,ka(9,{destroy:void 0},hg.bind(null,l,f,r,n),null),r},useId:function(){var t=dn(),n=ut.identifierPrefix;if(He){var r=Oi,l=Di;r=(l&~(1<<32-bt(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Qu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=AT++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Vf,useFormState:Tg,useActionState:Tg,useOptimistic:function(t){var n=dn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=kf.bind(null,Ne,!0,r),r.dispatch=n,[t,n]},useMemoCache:xf,useCacheRefresh:function(){return dn().memoizedState=IT.bind(null,Ne)},useEffectEvent:function(t){var n=dn(),r={impl:t};return n.memoizedState=r,function(){if(($e&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Lf={readContext:$t,use:Xu,useCallback:Og,useContext:$t,useEffect:Nf,useImperativeHandle:Dg,useInsertionEffect:Cg,useLayoutEffect:Ig,useMemo:Mg,useReducer:$u,useRef:xg,useState:function(){return $u(es)},useDebugValue:Df,useDeferredValue:function(t,n){var r=xt();return Vg(r,st.memoizedState,t,n)},useTransition:function(){var t=$u(es)[0],n=xt().memoizedState;return[typeof t=="boolean"?t:Wl(t),n]},useSyncExternalStore:ug,useId:Ug,useHostTransitionStatus:Vf,useFormState:bg,useActionState:bg,useOptimistic:function(t,n){var r=xt();return pg(r,st,t,n)},useMemoCache:xf,useCacheRefresh:Pg};Lf.useEffectEvent=Rg;var Gg={readContext:$t,use:Xu,useCallback:Og,useContext:$t,useEffect:Nf,useImperativeHandle:Dg,useInsertionEffect:Cg,useLayoutEffect:Ig,useMemo:Mg,useReducer:Rf,useRef:xg,useState:function(){return Rf(es)},useDebugValue:Df,useDeferredValue:function(t,n){var r=xt();return st===null?Of(r,t,n):Vg(r,st.memoizedState,t,n)},useTransition:function(){var t=Rf(es)[0],n=xt().memoizedState;return[typeof t=="boolean"?t:Wl(t),n]},useSyncExternalStore:ug,useId:Ug,useHostTransitionStatus:Vf,useFormState:Sg,useActionState:Sg,useOptimistic:function(t,n){var r=xt();return st!==null?pg(r,st,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:xf,useCacheRefresh:Pg};Gg.useEffectEvent=Rg;function jf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:x({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Uf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=kn(),h=Ps(l);h.payload=n,r!=null&&(h.callback=r),n=zs(t,h,l),n!==null&&(An(n,t,l),Xl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=kn(),h=Ps(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=zs(t,h,l),n!==null&&(An(n,t,l),Xl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=kn(),l=Ps(r);l.tag=2,n!=null&&(l.callback=n),n=zs(t,l,r),n!==null&&(An(n,t,r),Xl(n,t,r))}};function Fg(t,n,r,l,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Bl(r,l)||!Bl(h,f):!0}function Yg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Uf.enqueueReplaceState(n,n.state,null)}function Qr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=x({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Qg(t){Du(t)}function Kg(t){console.error(t)}function Xg(t){Du(t)}function ec(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function $g(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Pf(t,n,r){return r=Ps(r),r.tag=3,r.payload={element:null},r.callback=function(){ec(t,n)},r}function Zg(t){return t=Ps(t),t.tag=3,t}function Jg(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){$g(n,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){$g(n,r,l),typeof h!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function DT(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Ra(n,r,h,!0),r=Dn.current,r!==null){switch(r.tag){case 31:case 13:return Qn===null?fc():r.alternate===null&&Tt===0&&(Tt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Bu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),cd(t,l,h)),!1;case 22:return r.flags|=65536,l===Bu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),cd(t,l,h)),!1}throw Error(a(435,r.tag))}return cd(t,l,h),fc(),!1}if(He)return n=Dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==sf&&(t=Error(a(422),{cause:l}),Gl(Hn(t,r)))):(l!==sf&&(n=Error(a(423),{cause:l}),Gl(Hn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Hn(l,r),h=Pf(t.stateNode,l,h),pf(t,h),Tt!==4&&(Tt=2)),!1;var f=Error(a(520),{cause:l});if(f=Hn(f,r),uo===null?uo=[f]:uo.push(f),Tt!==4&&(Tt=2),n===null)return!0;l=Hn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Pf(r.stateNode,l,t),pf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ys===null||!Ys.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Zg(h),Jg(h,t,r,l),pf(r,h),!1}r=r.return}while(r!==null);return!1}var zf=Error(a(461)),Mt=!1;function Zt(t,n,r,l){n.child=t===null?ng(n,null,r,l):Fr(n,t.child,r,l)}function Wg(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var p={};for(var b in l)b!=="ref"&&(p[b]=l[b])}else p=l;return Br(n),l=Tf(t,n,r,p,f,h),b=bf(),t!==null&&!Mt?(Af(t,n,h),ts(t,n,h)):(He&&b&&tf(n),n.flags|=1,Zt(t,n,l,h),n.child)}function ey(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!Jh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,ty(t,n,f,l,h)):(t=ku(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Kf(t,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Bl,r(p,l)&&t.ref===n.ref)return ts(t,n,h)}return n.flags|=1,t=Xi(f,l),t.ref=n.ref,t.return=n,n.child=t}function ty(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(Bl(f,l)&&t.ref===n.ref)if(Mt=!1,n.pendingProps=l=f,Kf(t,h))(t.flags&131072)!==0&&(Mt=!0);else return n.lanes=t.lanes,ts(t,n,h)}return Bf(t,n,r,l,h)}function ny(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return iy(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Pu(n,f!==null?f.cachePool:null),f!==null?rg(n,f):yf(),ag(n);else return l=n.lanes=536870912,iy(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Pu(n,f.cachePool),rg(n,f),qs(),n.memoizedState=null):(t!==null&&Pu(n,null),yf(),qs());return Zt(t,n,h,r),n.child}function no(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function iy(t,n,r,l,h){var f=hf();return f=f===null?null:{parent:Dt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Pu(n,null),yf(),ag(n),t!==null&&Ra(t,n,l,!0),n.childLanes=h,null}function tc(t,n){return n=ic({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function sy(t,n,r){return Fr(n,t.child,null,r),t=tc(n,n.pendingProps),t.flags|=2,On(n),n.memoizedState=null,t}function OT(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(He){if(l.mode==="hidden")return t=tc(n,l),n.lanes=536870912,no(null,t);if(vf(n),(t=ht)?(t=g0(t,Yn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Vs!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},r=Bp(t),r.return=n,n.child=r,Xt=n,ht=null)):t=null,t===null)throw Ls(n);return n.lanes=536870912,null}return tc(n,l)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(vf(n),h)if(n.flags&256)n.flags&=-257,n=sy(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Mt||Ra(t,n,r,!1),h=(r&t.childLanes)!==0,Mt||h){if(l=ut,l!==null&&(p=Al(l,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,jr(t,p),An(l,t,p),zf;fc(),n=sy(t,n,r)}else t=f.treeContext,ht=Kn(p.nextSibling),Xt=n,He=!0,ks=null,Yn=!1,t!==null&&Gp(n,t),n=tc(n,l),n.flags|=4096;return n}return t=Xi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function nc(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Bf(t,n,r,l,h){return Br(n),r=Tf(t,n,r,l,void 0,h),l=bf(),t!==null&&!Mt?(Af(t,n,h),ts(t,n,h)):(He&&l&&tf(n),n.flags|=1,Zt(t,n,r,h),n.child)}function ry(t,n,r,l,h,f){return Br(n),n.updateQueue=null,r=og(n,l,r,h),lg(t),l=bf(),t!==null&&!Mt?(Af(t,n,f),ts(t,n,f)):(He&&l&&tf(n),n.flags|=1,Zt(t,n,r,f),n.child)}function ay(t,n,r,l,h){if(Br(n),n.stateNode===null){var f=Aa,p=r.contextType;typeof p=="object"&&p!==null&&(f=$t(p)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Uf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},df(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?$t(p):Aa,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(jf(n,r,p,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Uf.enqueueReplaceState(f,f.state,null),Zl(n,l,f,h),$l(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var b=n.memoizedProps,N=Qr(r,b);f.props=N;var P=f.context,F=r.contextType;p=Aa,typeof F=="object"&&F!==null&&(p=$t(F));var X=r.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||P!==p)&&Yg(n,f,l,p),Us=!1;var z=n.memoizedState;f.state=z,Zl(n,l,f,h),$l(),P=n.memoizedState,b||z!==P||Us?(typeof X=="function"&&(jf(n,r,X,l),P=n.memoizedState),(N=Us||Fg(n,r,N,l,z,P,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=p,l=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,mf(t,n),p=n.memoizedProps,F=Qr(r,p),f.props=F,X=n.pendingProps,z=f.context,P=r.contextType,N=Aa,typeof P=="object"&&P!==null&&(N=$t(P)),b=r.getDerivedStateFromProps,(P=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||z!==N)&&Yg(n,f,l,N),Us=!1,z=n.memoizedState,f.state=z,Zl(n,l,f,h),$l();var q=n.memoizedState;p!==X||z!==q||Us||t!==null&&t.dependencies!==null&&ju(t.dependencies)?(typeof b=="function"&&(jf(n,r,b,l),q=n.memoizedState),(F=Us||Fg(n,r,F,l,z,q,N)||t!==null&&t.dependencies!==null&&ju(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=N,l=F):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,nc(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Fr(n,t.child,null,h),n.child=Fr(n,null,r,h)):Zt(t,n,r,h),n.memoizedState=f.state,t=n.child):t=ts(t,n,h),t}function ly(t,n,r,l){return Pr(),n.flags|=256,Zt(t,n,r,l),n.child}var qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hf(t){return{baseLanes:t,cachePool:$p()}}function Gf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Vn),t}function oy(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(He){if(h?Bs(n):qs(),(t=ht)?(t=g0(t,Yn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Vs!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},r=Bp(t),r.return=n,n.child=r,Xt=n,ht=null)):t=null,t===null)throw Ls(n);return wd(t)?n.lanes=32:n.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(qs(),h=n.mode,b=ic({mode:"hidden",children:b},h),l=Ur(l,h,r,null),b.return=n,l.return=n,b.sibling=l,n.child=b,l=n.child,l.memoizedState=Hf(r),l.childLanes=Gf(t,p,r),n.memoizedState=qf,no(null,l)):(Bs(n),Ff(n,b))}var N=t.memoizedState;if(N!==null&&(b=N.dehydrated,b!==null)){if(f)n.flags&256?(Bs(n),n.flags&=-257,n=Yf(t,n,r)):n.memoizedState!==null?(qs(),n.child=t.child,n.flags|=128,n=null):(qs(),b=l.fallback,h=n.mode,l=ic({mode:"visible",children:l.children},h),b=Ur(b,h,r,null),b.flags|=2,l.return=n,b.return=n,l.sibling=b,n.child=l,Fr(n,t.child,null,r),l=n.child,l.memoizedState=Hf(r),l.childLanes=Gf(t,p,r),n.memoizedState=qf,n=no(null,l));else if(Bs(n),wd(b)){if(p=b.nextSibling&&b.nextSibling.dataset,p)var P=p.dgst;p=P,l=Error(a(419)),l.stack="",l.digest=p,Gl({value:l,source:null,stack:null}),n=Yf(t,n,r)}else if(Mt||Ra(t,n,r,!1),p=(r&t.childLanes)!==0,Mt||p){if(p=ut,p!==null&&(l=Al(p,r),l!==0&&l!==N.retryLane))throw N.retryLane=l,jr(t,l),An(p,t,l),zf;xd(b)||fc(),n=Yf(t,n,r)}else xd(b)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,ht=Kn(b.nextSibling),Xt=n,He=!0,ks=null,Yn=!1,t!==null&&Gp(n,t),n=Ff(n,l.children),n.flags|=4096);return n}return h?(qs(),b=l.fallback,h=n.mode,N=t.child,P=N.sibling,l=Xi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,P!==null?b=Xi(P,b):(b=Ur(b,h,r,null),b.flags|=2),b.return=n,l.return=n,l.sibling=b,n.child=l,no(null,l),l=n.child,b=t.child.memoizedState,b===null?b=Hf(r):(h=b.cachePool,h!==null?(N=Dt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=$p(),b={baseLanes:b.baseLanes|r,cachePool:h}),l.memoizedState=b,l.childLanes=Gf(t,p,r),n.memoizedState=qf,no(t.child,l)):(Bs(n),r=t.child,t=r.sibling,r=Xi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function Ff(t,n){return n=ic({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ic(t,n){return t=Nn(22,t,null,n),t.lanes=0,t}function Yf(t,n,r){return Fr(n,t.child,null,r),t=Ff(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function uy(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),lf(t.return,n,r)}function Qf(t,n,r,l,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function cy(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=St.current,b=(p&2)!==0;if(b?(p=p&1|2,n.flags|=128):p&=1,ne(St,p),Zt(t,n,l,r),l=He?Hl:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&uy(t,r,n);else if(t.tag===19)uy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Fu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Qf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Fu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Qf(n,!0,r,null,f,l);break;case"together":Qf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ts(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Fs|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Ra(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Xi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Xi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Kf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ju(t)))}function MT(t,n,r){switch(n.tag){case 3:vt(n,n.stateNode.containerInfo),js(n,Dt,t.memoizedState.cache),Pr();break;case 27:case 5:Gi(n);break;case 4:vt(n,n.stateNode.containerInfo);break;case 10:js(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,vf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Bs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?oy(t,n,r):(Bs(n),t=ts(t,n,r),t!==null?t.sibling:null);Bs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Ra(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return cy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(St,St.current),l)break;return null;case 22:return n.lanes=0,ny(t,n,r,n.pendingProps);case 24:js(n,Dt,t.memoizedState.cache)}return ts(t,n,r)}function hy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Mt=!0;else{if(!Kf(t,r)&&(n.flags&128)===0)return Mt=!1,MT(t,n,r);Mt=(t.flags&131072)!==0}else Mt=!1,He&&(n.flags&1048576)!==0&&Hp(n,Hl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Hr(n.elementType),n.type=t,typeof t=="function")Jh(t)?(l=Qr(t,l),n.tag=1,n=ay(null,n,t,l,r)):(n.tag=0,n=Bf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===Ge){n.tag=11,n=Wg(null,n,t,l,r);break e}else if(h===I){n.tag=14,n=ey(null,n,t,l,r);break e}}throw n=nt(t)||t,Error(a(306,n,""))}}return n;case 0:return Bf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Qr(l,n.pendingProps),ay(t,n,l,h,r);case 3:e:{if(vt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,mf(t,n),Zl(n,l,null,r);var p=n.memoizedState;if(l=p.cache,js(n,Dt,l),l!==f.cache&&of(n,[Dt],r,!0),$l(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ly(t,n,l,r);break e}else if(l!==h){h=Hn(Error(a(424)),n),Gl(h),n=ly(t,n,l,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ht=Kn(t.firstChild),Xt=n,He=!0,ks=null,Yn=!0,r=ng(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Pr(),l===h){n=ts(t,n,r);break e}Zt(t,n,l,r)}n=n.child}return n;case 26:return nc(t,n),t===null?(r=b0(n.type,null,n.pendingProps,null))?n.memoizedState=r:He||(r=n.type,t=n.pendingProps,l=vc(Re.current).createElement(r),l[Ct]=n,l[Bt]=t,Jt(l,r,t),It(l),n.stateNode=l):n.memoizedState=b0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Gi(n),t===null&&He&&(l=n.stateNode=v0(n.type,n.pendingProps,Re.current),Xt=n,Yn=!0,h=ht,$s(n.type)?(Rd=h,ht=Kn(l.firstChild)):ht=h),Zt(t,n,n.pendingProps.children,r),nc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&He&&((h=l=ht)&&(l=ub(l,n.type,n.pendingProps,Yn),l!==null?(n.stateNode=l,Xt=n,ht=Kn(l.firstChild),Yn=!1,h=!0):h=!1),h||Ls(n)),Gi(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,bd(h,f)?l=null:p!==null&&bd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=Tf(t,n,ST,null,null,r),_o._currentValue=h),nc(t,n),Zt(t,n,l,r),n.child;case 6:return t===null&&He&&((t=r=ht)&&(r=cb(r,n.pendingProps,Yn),r!==null?(n.stateNode=r,Xt=n,ht=null,t=!0):t=!1),t||Ls(n)),null;case 13:return oy(t,n,r);case 4:return vt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Fr(n,null,l,r):Zt(t,n,l,r),n.child;case 11:return Wg(t,n,n.type,n.pendingProps,r);case 7:return Zt(t,n,n.pendingProps,r),n.child;case 8:return Zt(t,n,n.pendingProps.children,r),n.child;case 12:return Zt(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,js(n,n.type,l.value),Zt(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Br(n),h=$t(h),l=l(h),n.flags|=1,Zt(t,n,l,r),n.child;case 14:return ey(t,n,n.type,n.pendingProps,r);case 15:return ty(t,n,n.type,n.pendingProps,r);case 19:return cy(t,n,r);case 31:return OT(t,n,r);case 22:return ny(t,n,r,n.pendingProps);case 24:return Br(n),l=$t(Dt),t===null?(h=hf(),h===null&&(h=ut,f=uf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},df(n),js(n,Dt,h)):((t.lanes&r)!==0&&(mf(t,n),Zl(n,null,null,r),$l()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),js(n,Dt,l)):(l=f.cache,js(n,Dt,l),l!==h.cache&&of(n,[Dt],r,!0))),Zt(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ns(t){t.flags|=4}function Xf(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Uy())t.flags|=8192;else throw Gr=Bu,ff}else t.flags&=-16777217}function fy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!R0(n))if(Uy())t.flags|=8192;else throw Gr=Bu,ff}function sc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?cu():536870912,t.lanes|=n,Pa|=n)}function io(t,n){if(!He)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ft(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function VT(t,n,r){var l=n.pendingProps;switch(nf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(n),null;case 1:return ft(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ji(Dt),ot(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(wa(n)?ns(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,rf())),ft(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ns(n),f!==null?(ft(n),fy(n,f)):(ft(n),Xf(n,h,null,l,r))):f?f!==t.memoizedState?(ns(n),ft(n),fy(n,f)):(ft(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&ns(n),ft(n),Xf(n,h,t,l,r)),null;case 27:if(Ts(n),r=Re.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ns(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ft(n),null}t=ae.current,wa(n)?Fp(n):(t=v0(h,l,r),n.stateNode=t,ns(n))}return ft(n),null;case 5:if(Ts(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ns(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ft(n),null}if(f=ae.current,wa(n))Fp(n);else{var p=vc(Re.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[Ct]=n,f[Bt]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(Jt(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ns(n)}}return ft(n),Xf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ns(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Re.current,wa(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=Xt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ct]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||o0(t.nodeValue,r)),t||Ls(n,!0)}else t=vc(t).createTextNode(l),t[Ct]=n,n.stateNode=t}return ft(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=wa(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Ct]=n}else Pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ft(n),t=!1}else r=rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(On(n),n):(On(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ft(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=wa(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ct]=n}else Pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ft(n),h=!1}else h=rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(On(n),n):(On(n),null)}return On(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),sc(n,n.updateQueue),ft(n),null);case 4:return ot(),t===null&&yd(n.stateNode.containerInfo),ft(n),null;case 10:return Ji(n.type),ft(n),null;case 19:if(Q(St),l=n.memoizedState,l===null)return ft(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)io(l,!1);else{if(Tt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Fu(t),f!==null){for(n.flags|=128,io(l,!1),t=f.updateQueue,n.updateQueue=t,sc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)zp(r,t),r=r.sibling;return ne(St,St.current&1|2),He&&$i(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ze()>uc&&(n.flags|=128,h=!0,io(l,!1),n.lanes=4194304)}else{if(!h)if(t=Fu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,sc(n,t),io(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!He)return ft(n),null}else 2*Ze()-l.renderingStartTime>uc&&r!==536870912&&(n.flags|=128,h=!0,io(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ze(),t.sibling=null,r=St.current,ne(St,h?r&1|2:r&1),He&&$i(n,l.treeForkCount),t):(ft(n),null);case 22:case 23:return On(n),_f(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ft(n),n.subtreeFlags&6&&(n.flags|=8192)):ft(n),r=n.updateQueue,r!==null&&sc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&Q(qr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ji(Dt),ft(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function kT(t,n){switch(nf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ji(Dt),ot(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ts(n),null;case 31:if(n.memoizedState!==null){if(On(n),n.alternate===null)throw Error(a(340));Pr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(On(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Pr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(St),null;case 4:return ot(),null;case 10:return Ji(n.type),null;case 22:case 23:return On(n),_f(),t!==null&&Q(qr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ji(Dt),null;case 25:return null;default:return null}}function dy(t,n){switch(nf(n),n.tag){case 3:Ji(Dt),ot();break;case 26:case 27:case 5:Ts(n);break;case 4:ot();break;case 31:n.memoizedState!==null&&On(n);break;case 13:On(n);break;case 19:Q(St);break;case 10:Ji(n.type);break;case 22:case 23:On(n),_f(),t!==null&&Q(qr);break;case 24:Ji(Dt)}}function so(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,p=r.inst;l=f(),p.destroy=l}r=r.next}while(r!==h)}}catch(b){tt(n,n.return,b)}}function Hs(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var p=l.inst,b=p.destroy;if(b!==void 0){p.destroy=void 0,h=n;var N=r,P=b;try{P()}catch(F){tt(h,N,F)}}}l=l.next}while(l!==f)}}catch(F){tt(n,n.return,F)}}function my(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{sg(n,r)}catch(l){tt(t,t.return,l)}}}function py(t,n,r){r.props=Qr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){tt(t,n,l)}}function ro(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){tt(t,n,h)}}function Mi(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){tt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){tt(t,n,h)}else r.current=null}function gy(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){tt(t,t.return,h)}}function $f(t,n,r){try{var l=t.stateNode;ib(l,t.type,r,n),l[Bt]=n}catch(h){tt(t,t.return,h)}}function yy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&$s(t.type)||t.tag===4}function Zf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&$s(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ii));else if(l!==4&&(l===27&&$s(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Jf(t,n,r),t=t.sibling;t!==null;)Jf(t,n,r),t=t.sibling}function rc(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&$s(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(rc(t,n,r),t=t.sibling;t!==null;)rc(t,n,r),t=t.sibling}function _y(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Jt(n,l,r),n[Ct]=t,n[Bt]=r}catch(f){tt(t,t.return,f)}}var is=!1,Vt=!1,Wf=!1,vy=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function LT(t,n){if(t=t.containerInfo,Ed=wc,t=Dp(t),Fh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var p=0,b=-1,N=-1,P=0,F=0,X=t,z=null;t:for(;;){for(var q;X!==r||h!==0&&X.nodeType!==3||(b=p+h),X!==f||l!==0&&X.nodeType!==3||(N=p+l),X.nodeType===3&&(p+=X.nodeValue.length),(q=X.firstChild)!==null;)z=X,X=q;for(;;){if(X===t)break t;if(z===r&&++P===h&&(b=p),z===f&&++F===l&&(N=p),(q=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=q}r=b===-1||N===-1?null:{start:b,end:N}}else r=null}r=r||{start:0,end:0}}else r=null;for(Td={focusedElem:t,selectionRange:r},wc=!1,Ht=n;Ht!==null;)if(n=Ht,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ht=t;else for(;Ht!==null;){switch(n=Ht,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var ue=Qr(r.type,h);t=l.getSnapshotBeforeUpdate(ue,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){tt(r,r.return,ve)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Sd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Sd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ht=t;break}Ht=n.return}}function Ey(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:rs(t,r),l&4&&so(5,r);break;case 1:if(rs(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(p){tt(r,r.return,p)}else{var h=Qr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){tt(r,r.return,p)}}l&64&&my(r),l&512&&ro(r,r.return);break;case 3:if(rs(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{sg(t,n)}catch(p){tt(r,r.return,p)}}break;case 27:n===null&&l&4&&_y(r);case 26:case 5:rs(t,r),n===null&&l&4&&gy(r),l&512&&ro(r,r.return);break;case 12:rs(t,r);break;case 31:rs(t,r),l&4&&Ay(t,r);break;case 13:rs(t,r),l&4&&Sy(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=FT.bind(null,r),hb(t,r))));break;case 22:if(l=r.memoizedState!==null||is,!l){n=n!==null&&n.memoizedState!==null||Vt,h=is;var f=Vt;is=l,(Vt=n)&&!f?as(t,r,(r.subtreeFlags&8772)!==0):rs(t,r),is=h,Vt=f}break;case 30:break;default:rs(t,r)}}function Ty(t){var n=t.alternate;n!==null&&(t.alternate=null,Ty(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ua(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var pt=null,vn=!1;function ss(t,n,r){for(r=r.child;r!==null;)by(t,n,r),r=r.sibling}function by(t,n,r){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Wn,r)}catch{}switch(r.tag){case 26:Vt||Mi(r,n),ss(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Vt||Mi(r,n);var l=pt,h=vn;$s(r.type)&&(pt=r.stateNode,vn=!1),ss(t,n,r),po(r.stateNode),pt=l,vn=h;break;case 5:Vt||Mi(r,n);case 6:if(l=pt,h=vn,pt=null,ss(t,n,r),pt=l,vn=h,pt!==null)if(vn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(r.stateNode)}catch(f){tt(r,n,f)}else try{pt.removeChild(r.stateNode)}catch(f){tt(r,n,f)}break;case 18:pt!==null&&(vn?(t=pt,m0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Qa(t)):m0(pt,r.stateNode));break;case 4:l=pt,h=vn,pt=r.stateNode.containerInfo,vn=!0,ss(t,n,r),pt=l,vn=h;break;case 0:case 11:case 14:case 15:Hs(2,r,n),Vt||Hs(4,r,n),ss(t,n,r);break;case 1:Vt||(Mi(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&py(r,n,l)),ss(t,n,r);break;case 21:ss(t,n,r);break;case 22:Vt=(l=Vt)||r.memoizedState!==null,ss(t,n,r),Vt=l;break;default:ss(t,n,r)}}function Ay(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Qa(t)}catch(r){tt(n,n.return,r)}}}function Sy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Qa(t)}catch(r){tt(n,n.return,r)}}function jT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new vy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new vy),n;default:throw Error(a(435,t.tag))}}function ac(t,n){var r=jT(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=YT.bind(null,t,l);l.then(h,h)}})}function En(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,p=n,b=p;e:for(;b!==null;){switch(b.tag){case 27:if($s(b.type)){pt=b.stateNode,vn=!1;break e}break;case 5:pt=b.stateNode,vn=!1;break e;case 3:case 4:pt=b.stateNode.containerInfo,vn=!0;break e}b=b.return}if(pt===null)throw Error(a(160));by(f,p,h),pt=null,vn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)xy(n,t),n=n.sibling}var ui=null;function xy(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:En(n,t),Tn(t),l&4&&(Hs(3,t,t.return),so(3,t),Hs(5,t,t.return));break;case 1:En(n,t),Tn(t),l&512&&(Vt||r===null||Mi(r,r.return)),l&64&&is&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=ui;if(En(n,t),Tn(t),l&512&&(Vt||r===null||Mi(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[vi]||f[Ct]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Jt(f,l,r),f[Ct]=t,It(f),l=f;break e;case"link":var p=x0("link","href",h).get(l+(r.href||""));if(p){for(var b=0;b<p.length;b++)if(f=p[b],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(b,1);break t}}f=h.createElement(l),Jt(f,l,r),h.head.appendChild(f);break;case"meta":if(p=x0("meta","content",h).get(l+(r.content||""))){for(b=0;b<p.length;b++)if(f=p[b],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(b,1);break t}}f=h.createElement(l),Jt(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Ct]=t,It(f),l=f}t.stateNode=l}else w0(h,t.type,t.stateNode);else t.stateNode=S0(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?w0(h,t.type,t.stateNode):S0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&$f(t,t.memoizedProps,r.memoizedProps)}break;case 27:En(n,t),Tn(t),l&512&&(Vt||r===null||Mi(r,r.return)),r!==null&&l&4&&$f(t,t.memoizedProps,r.memoizedProps);break;case 5:if(En(n,t),Tn(t),l&512&&(Vt||r===null||Mi(r,r.return)),t.flags&32){h=t.stateNode;try{_n(h,"")}catch(ue){tt(t,t.return,ue)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,$f(t,h,r!==null?r.memoizedProps:h)),l&1024&&(Wf=!0);break;case 6:if(En(n,t),Tn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(ue){tt(t,t.return,ue)}}break;case 3:if(bc=null,h=ui,ui=Ec(n.containerInfo),En(n,t),ui=h,Tn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Qa(n.containerInfo)}catch(ue){tt(t,t.return,ue)}Wf&&(Wf=!1,wy(t));break;case 4:l=ui,ui=Ec(t.stateNode.containerInfo),En(n,t),Tn(t),ui=l;break;case 12:En(n,t),Tn(t);break;case 31:En(n,t),Tn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ac(t,l)));break;case 13:En(n,t),Tn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(oc=Ze()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ac(t,l)));break;case 22:h=t.memoizedState!==null;var N=r!==null&&r.memoizedState!==null,P=is,F=Vt;if(is=P||h,Vt=F||N,En(n,t),Vt=F,is=P,Tn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||N||is||Vt||Kr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){N=r=n;try{if(f=N.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{b=N.stateNode;var X=N.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;b.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ue){tt(N,N.return,ue)}}}else if(n.tag===6){if(r===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(ue){tt(N,N.return,ue)}}}else if(n.tag===18){if(r===null){N=n;try{var q=N.stateNode;h?p0(q,!0):p0(N.stateNode,!1)}catch(ue){tt(N,N.return,ue)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,ac(t,r))));break;case 19:En(n,t),Tn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ac(t,l)));break;case 30:break;case 21:break;default:En(n,t),Tn(t)}}function Tn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(yy(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Zf(t);rc(t,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(_n(p,""),r.flags&=-33);var b=Zf(t);rc(t,b,p);break;case 3:case 4:var N=r.stateNode.containerInfo,P=Zf(t);Jf(t,P,N);break;default:throw Error(a(161))}}catch(F){tt(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function wy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;wy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function rs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ey(t,n.alternate,n),n=n.sibling}function Kr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Hs(4,n,n.return),Kr(n);break;case 1:Mi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&py(n,n.return,r),Kr(n);break;case 27:po(n.stateNode);case 26:case 5:Mi(n,n.return),Kr(n);break;case 22:n.memoizedState===null&&Kr(n);break;case 30:Kr(n);break;default:Kr(n)}t=t.sibling}}function as(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:as(h,f,r),so(4,f);break;case 1:if(as(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){tt(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var b=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)ig(N[h],b)}catch(P){tt(l,l.return,P)}}r&&p&64&&my(f),ro(f,f.return);break;case 27:_y(f);case 26:case 5:as(h,f,r),r&&l===null&&p&4&&gy(f),ro(f,f.return);break;case 12:as(h,f,r);break;case 31:as(h,f,r),r&&p&4&&Ay(h,f);break;case 13:as(h,f,r),r&&p&4&&Sy(h,f);break;case 22:f.memoizedState===null&&as(h,f,r),ro(f,f.return);break;case 30:break;default:as(h,f,r)}n=n.sibling}}function ed(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Fl(r))}function td(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Fl(t))}function ci(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ry(t,n,r,l),n=n.sibling}function Ry(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ci(t,n,r,l),h&2048&&so(9,n);break;case 1:ci(t,n,r,l);break;case 3:ci(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Fl(t)));break;case 12:if(h&2048){ci(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,b=f.onPostCommit;typeof b=="function"&&b(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){tt(n,n.return,N)}}else ci(t,n,r,l);break;case 31:ci(t,n,r,l);break;case 13:ci(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?ci(t,n,r,l):ao(t,n):f._visibility&2?ci(t,n,r,l):(f._visibility|=2,La(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ed(p,n);break;case 24:ci(t,n,r,l),h&2048&&td(n.alternate,n);break;default:ci(t,n,r,l)}}function La(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,b=r,N=l,P=p.flags;switch(p.tag){case 0:case 11:case 15:La(f,p,b,N,h),so(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?La(f,p,b,N,h):ao(f,p):(F._visibility|=2,La(f,p,b,N,h)),h&&P&2048&&ed(p.alternate,p);break;case 24:La(f,p,b,N,h),h&&P&2048&&td(p.alternate,p);break;default:La(f,p,b,N,h)}n=n.sibling}}function ao(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:ao(r,l),h&2048&&ed(l.alternate,l);break;case 24:ao(r,l),h&2048&&td(l.alternate,l);break;default:ao(r,l)}n=n.sibling}}var lo=8192;function ja(t,n,r){if(t.subtreeFlags&lo)for(t=t.child;t!==null;)Cy(t,n,r),t=t.sibling}function Cy(t,n,r){switch(t.tag){case 26:ja(t,n,r),t.flags&lo&&t.memoizedState!==null&&Ab(r,ui,t.memoizedState,t.memoizedProps);break;case 5:ja(t,n,r);break;case 3:case 4:var l=ui;ui=Ec(t.stateNode.containerInfo),ja(t,n,r),ui=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=lo,lo=16777216,ja(t,n,r),lo=l):ja(t,n,r));break;default:ja(t,n,r)}}function Iy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function oo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ht=l,Dy(l,t)}Iy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ny(t),t=t.sibling}function Ny(t){switch(t.tag){case 0:case 11:case 15:oo(t),t.flags&2048&&Hs(9,t,t.return);break;case 3:oo(t);break;case 12:oo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,lc(t)):oo(t);break;default:oo(t)}}function lc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ht=l,Dy(l,t)}Iy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Hs(8,n,n.return),lc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,lc(n));break;default:lc(n)}t=t.sibling}}function Dy(t,n){for(;Ht!==null;){var r=Ht;switch(r.tag){case 0:case 11:case 15:Hs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Fl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ht=l;else e:for(r=t;Ht!==null;){l=Ht;var h=l.sibling,f=l.return;if(Ty(l),l===r){Ht=null;break e}if(h!==null){h.return=f,Ht=h;break e}Ht=f}}}var UT={getCacheForType:function(t){var n=$t(Dt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return $t(Dt).controller.signal}},PT=typeof WeakMap=="function"?WeakMap:Map,$e=0,ut=null,Ve=null,Le=0,et=0,Mn=null,Gs=!1,Ua=!1,nd=!1,ls=0,Tt=0,Fs=0,Xr=0,id=0,Vn=0,Pa=0,uo=null,bn=null,sd=!1,oc=0,Oy=0,uc=1/0,cc=null,Ys=null,Ut=0,Qs=null,za=null,os=0,rd=0,ad=null,My=null,co=0,ld=null;function kn(){return($e&2)!==0&&Le!==0?Le&-Le:G.T!==null?dd():hu()}function Vy(){if(Vn===0)if((Le&536870912)===0||He){var t=br;br<<=1,(br&3932160)===0&&(br=262144),Vn=t}else Vn=536870912;return t=Dn.current,t!==null&&(t.flags|=32),Vn}function An(t,n,r){(t===ut&&(et===2||et===9)||t.cancelPendingCommit!==null)&&(Ba(t,0),Ks(t,Le,Vn,!1)),Ar(t,r),(($e&2)===0||t!==ut)&&(t===ut&&(($e&2)===0&&(Xr|=r),Tt===4&&Ks(t,Le,Vn,!1)),Vi(t))}function ky(t,n,r){if(($e&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||ei(t,n),h=l?qT(t,n):ud(t,n,!0),f=l;do{if(h===0){Ua&&!l&&Ks(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!zT(r)){h=ud(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var b=t;h=uo;var N=b.current.memoizedState.isDehydrated;if(N&&(Ba(b,p).flags|=256),p=ud(b,p,!1),p!==2){if(nd&&!N){b.errorRecoveryDisabledLanes|=f,Xr|=f,h=4;break e}f=bn,bn=h,f!==null&&(bn===null?bn=f:bn.push.apply(bn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ba(t,0),Ks(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ks(l,n,Vn,!Gs);break e;case 2:bn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=oc+300-Ze(),10<h)){if(Ks(l,n,Vn,!Gs),gi(l,0,!0)!==0)break e;os=n,l.timeoutHandle=f0(Ly.bind(null,l,r,bn,cc,sd,n,Vn,Xr,Pa,Gs,f,"Throttled",-0,0),h);break e}Ly(l,r,bn,cc,sd,n,Vn,Xr,Pa,Gs,f,null,-0,0)}}break}while(!0);Vi(t)}function Ly(t,n,r,l,h,f,p,b,N,P,F,X,z,q){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},Cy(n,f,X);var ue=(f&62914560)===f?oc-Ze():(f&4194048)===f?Oy-Ze():0;if(ue=Sb(X,ue),ue!==null){os=f,t.cancelPendingCommit=ue(Gy.bind(null,t,n,f,r,l,h,p,b,N,F,X,null,z,q)),Ks(t,f,p,!P);return}}Gy(t,n,f,r,l,h,p,b,N)}function zT(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!In(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ks(t,n,r,l){n&=~id,n&=~Xr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-bt(h),p=1<<f;l[f]=-1,h&=~p}r!==0&&Sr(t,r,n)}function hc(){return($e&6)===0?(ho(0),!1):!0}function od(){if(Ve!==null){if(et===0)var t=Ve.return;else t=Ve,Zi=zr=null,Sf(t),Da=null,Ql=0,t=Ve;for(;t!==null;)dy(t.alternate,t),t=t.return;Ve=null}}function Ba(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,ab(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),os=0,od(),ut=t,Ve=r=Xi(t.current,null),Le=n,et=0,Mn=null,Gs=!1,Ua=ei(t,n),nd=!1,Pa=Vn=id=Xr=Fs=Tt=0,bn=uo=null,sd=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-bt(l),f=1<<h;n|=t[h],l&=~f}return ls=n,Ou(),r}function jy(t,n){Ne=null,G.H=to,n===Na||n===zu?(n=Wp(),et=3):n===ff?(n=Wp(),et=4):et=n===zf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Mn=n,Ve===null&&(Tt=1,ec(t,Hn(n,t.current)))}function Uy(){var t=Dn.current;return t===null?!0:(Le&4194048)===Le?Qn===null:(Le&62914560)===Le||(Le&536870912)!==0?t===Qn:!1}function Py(){var t=G.H;return G.H=to,t===null?to:t}function zy(){var t=G.A;return G.A=UT,t}function fc(){Tt=4,Gs||(Le&4194048)!==Le&&Dn.current!==null||(Ua=!0),(Fs&134217727)===0&&(Xr&134217727)===0||ut===null||Ks(ut,Le,Vn,!1)}function ud(t,n,r){var l=$e;$e|=2;var h=Py(),f=zy();(ut!==t||Le!==n)&&(cc=null,Ba(t,n)),n=!1;var p=Tt;e:do try{if(et!==0&&Ve!==null){var b=Ve,N=Mn;switch(et){case 8:od(),p=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(n=!0);var P=et;if(et=0,Mn=null,qa(t,b,N,P),r&&Ua){p=0;break e}break;default:P=et,et=0,Mn=null,qa(t,b,N,P)}}BT(),p=Tt;break}catch(F){jy(t,F)}while(!0);return n&&t.shellSuspendCounter++,Zi=zr=null,$e=l,G.H=h,G.A=f,Ve===null&&(ut=null,Le=0,Ou()),p}function BT(){for(;Ve!==null;)By(Ve)}function qT(t,n){var r=$e;$e|=2;var l=Py(),h=zy();ut!==t||Le!==n?(cc=null,uc=Ze()+500,Ba(t,n)):Ua=ei(t,n);e:do try{if(et!==0&&Ve!==null){n=Ve;var f=Mn;t:switch(et){case 1:et=0,Mn=null,qa(t,n,f,1);break;case 2:case 9:if(Zp(f)){et=0,Mn=null,qy(n);break}n=function(){et!==2&&et!==9||ut!==t||(et=7),Vi(t)},f.then(n,n);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Zp(f)?(et=0,Mn=null,qy(n)):(et=0,Mn=null,qa(t,n,f,7));break;case 5:var p=null;switch(Ve.tag){case 26:p=Ve.memoizedState;case 5:case 27:var b=Ve;if(p?R0(p):b.stateNode.complete){et=0,Mn=null;var N=b.sibling;if(N!==null)Ve=N;else{var P=b.return;P!==null?(Ve=P,dc(P)):Ve=null}break t}}et=0,Mn=null,qa(t,n,f,5);break;case 6:et=0,Mn=null,qa(t,n,f,6);break;case 8:od(),Tt=6;break e;default:throw Error(a(462))}}HT();break}catch(F){jy(t,F)}while(!0);return Zi=zr=null,G.H=l,G.A=h,$e=r,Ve!==null?0:(ut=null,Le=0,Ou(),Tt)}function HT(){for(;Ve!==null&&!Ce();)By(Ve)}function By(t){var n=hy(t.alternate,t,ls);t.memoizedProps=t.pendingProps,n===null?dc(t):Ve=n}function qy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=ry(r,n,n.pendingProps,n.type,void 0,Le);break;case 11:n=ry(r,n,n.pendingProps,n.type.render,n.ref,Le);break;case 5:Sf(n);default:dy(r,n),n=Ve=zp(n,ls),n=hy(r,n,ls)}t.memoizedProps=t.pendingProps,n===null?dc(t):Ve=n}function qa(t,n,r,l){Zi=zr=null,Sf(n),Da=null,Ql=0;var h=n.return;try{if(DT(t,h,n,r,Le)){Tt=1,ec(t,Hn(r,t.current)),Ve=null;return}}catch(f){if(h!==null)throw Ve=h,f;Tt=1,ec(t,Hn(r,t.current)),Ve=null;return}n.flags&32768?(He||l===1?t=!0:Ua||(Le&536870912)!==0?t=!1:(Gs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Hy(n,t)):dc(n)}function dc(t){var n=t;do{if((n.flags&32768)!==0){Hy(n,Gs);return}t=n.return;var r=VT(n.alternate,n,ls);if(r!==null){Ve=r;return}if(n=n.sibling,n!==null){Ve=n;return}Ve=n=t}while(n!==null);Tt===0&&(Tt=5)}function Hy(t,n){do{var r=kT(t.alternate,t);if(r!==null){r.flags&=32767,Ve=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=r}while(t!==null);Tt=6,Ve=null}function Gy(t,n,r,l,h,f,p,b,N){t.cancelPendingCommit=null;do mc();while(Ut!==0);if(($e&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=$h,Bh(t,r,f,p,b,N),t===ut&&(Ve=ut=null,Le=0),za=n,Qs=t,os=r,rd=f,ad=h,My=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,QT(Ss,function(){return Xy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=ie.p,ie.p=2,p=$e,$e|=4;try{LT(t,n,r)}finally{$e=p,ie.p=h,G.T=l}}Ut=1,Fy(),Yy(),Qy()}}function Fy(){if(Ut===1){Ut=0;var t=Qs,n=za,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var l=ie.p;ie.p=2;var h=$e;$e|=4;try{xy(n,t);var f=Td,p=Dp(t.containerInfo),b=f.focusedElem,N=f.selectionRange;if(p!==b&&b&&b.ownerDocument&&Np(b.ownerDocument.documentElement,b)){if(N!==null&&Fh(b)){var P=N.start,F=N.end;if(F===void 0&&(F=P),"selectionStart"in b)b.selectionStart=P,b.selectionEnd=Math.min(F,b.value.length);else{var X=b.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var q=z.getSelection(),ue=b.textContent.length,ve=Math.min(N.start,ue),at=N.end===void 0?ve:Math.min(N.end,ue);!q.extend&&ve>at&&(p=at,at=ve,ve=p);var L=Ip(b,ve),O=Ip(b,at);if(L&&O&&(q.rangeCount!==1||q.anchorNode!==L.node||q.anchorOffset!==L.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var U=X.createRange();U.setStart(L.node,L.offset),q.removeAllRanges(),ve>at?(q.addRange(U),q.extend(O.node,O.offset)):(U.setEnd(O.node,O.offset),q.addRange(U))}}}}for(X=[],q=b;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<X.length;b++){var Y=X[b];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}wc=!!Ed,Td=Ed=null}finally{$e=h,ie.p=l,G.T=r}}t.current=n,Ut=2}}function Yy(){if(Ut===2){Ut=0;var t=Qs,n=za,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var l=ie.p;ie.p=2;var h=$e;$e|=4;try{Ey(t,n.alternate,n)}finally{$e=h,ie.p=l,G.T=r}}Ut=3}}function Qy(){if(Ut===4||Ut===3){Ut=0,sn();var t=Qs,n=za,r=os,l=My;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ut=5:(Ut=0,za=Qs=null,Ky(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ys=null),Fi(r),n=n.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Wn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=ie.p,ie.p=2,G.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var b=l[p];f(b.value,{componentStack:b.stack})}}finally{G.T=n,ie.p=h}}(os&3)!==0&&mc(),Vi(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===ld?co++:(co=0,ld=t):co=0,ho(0)}}function Ky(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Fl(n)))}function mc(){return Fy(),Yy(),Qy(),Xy()}function Xy(){if(Ut!==5)return!1;var t=Qs,n=rd;rd=0;var r=Fi(os),l=G.T,h=ie.p;try{ie.p=32>r?32:r,G.T=null,r=ad,ad=null;var f=Qs,p=os;if(Ut=0,za=Qs=null,os=0,($e&6)!==0)throw Error(a(331));var b=$e;if($e|=4,Ny(f.current),Ry(f,f.current,p,r),$e=b,ho(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Wn,f)}catch{}return!0}finally{ie.p=h,G.T=l,Ky(t,n)}}function $y(t,n,r){n=Hn(r,n),n=Pf(t.stateNode,n,2),t=zs(t,n,2),t!==null&&(Ar(t,2),Vi(t))}function tt(t,n,r){if(t.tag===3)$y(t,t,r);else for(;n!==null;){if(n.tag===3){$y(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ys===null||!Ys.has(l))){t=Hn(r,t),r=Zg(2),l=zs(n,r,2),l!==null&&(Jg(r,l,n,t),Ar(l,2),Vi(l));break}}n=n.return}}function cd(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new PT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(nd=!0,h.add(r),t=GT.bind(null,t,n,r),n.then(t,t))}function GT(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,ut===t&&(Le&r)===r&&(Tt===4||Tt===3&&(Le&62914560)===Le&&300>Ze()-oc?($e&2)===0&&Ba(t,0):id|=r,Pa===Le&&(Pa=0)),Vi(t)}function Zy(t,n){n===0&&(n=cu()),t=jr(t,n),t!==null&&(Ar(t,n),Vi(t))}function FT(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Zy(t,r)}function YT(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Zy(t,r)}function QT(t,n){return W(t,n)}var pc=null,Ha=null,hd=!1,gc=!1,fd=!1,Xs=0;function Vi(t){t!==Ha&&t.next===null&&(Ha===null?pc=Ha=t:Ha=Ha.next=t),gc=!0,hd||(hd=!0,XT())}function ho(t,n){if(!fd&&gc){fd=!0;do for(var r=!1,l=pc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,b=l.pingedLanes;f=(1<<31-bt(42|t)+1)-1,f&=h&~(p&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,t0(l,f))}else f=Le,f=gi(l,l===ut?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ei(l,f)||(r=!0,t0(l,f));l=l.next}while(r);fd=!1}}function KT(){Jy()}function Jy(){gc=hd=!1;var t=0;Xs!==0&&rb()&&(t=Xs);for(var n=Ze(),r=null,l=pc;l!==null;){var h=l.next,f=Wy(l,n);f===0?(l.next=null,r===null?pc=h:r.next=h,h===null&&(Ha=r)):(r=l,(t!==0||(f&3)!==0)&&(gc=!0)),l=h}Ut!==0&&Ut!==5||ho(t),Xs!==0&&(Xs=0)}function Wy(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-bt(f),b=1<<p,N=h[p];N===-1?((b&r)===0||(b&l)!==0)&&(h[p]=zh(b,n)):N<=n&&(t.expiredLanes|=b),f&=~b}if(n=ut,r=Le,r=gi(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(et===2||et===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ge(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||ei(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&ge(l),Fi(r)){case 2:case 8:r=As;break;case 32:r=Ss;break;case 268435456:r=ru;break;default:r=Ss}return l=e0.bind(null,t),r=W(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&ge(l),t.callbackPriority=2,t.callbackNode=null,2}function e0(t,n){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(mc()&&t.callbackNode!==r)return null;var l=Le;return l=gi(t,t===ut?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ky(t,l,n),Wy(t,Ze()),t.callbackNode!=null&&t.callbackNode===r?e0.bind(null,t):null)}function t0(t,n){if(mc())return null;ky(t,n,!0)}function XT(){lb(function(){($e&6)!==0?W(hn,KT):Jy()})}function dd(){if(Xs===0){var t=Ca;t===0&&(t=mi,mi<<=1,(mi&261888)===0&&(mi=256)),Xs=t}return Xs}function n0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:da(""+t)}function i0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function $T(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=n0((h[Bt]||null).action),p=l.submitter;p&&(n=(n=p[Bt]||null)?n0(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var b=new Ri("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Xs!==0){var N=p?i0(h,p):new FormData(h);Mf(r,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(b.preventDefault(),N=p?i0(h,p):new FormData(h),Mf(r,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var md=0;md<Xh.length;md++){var pd=Xh[md],ZT=pd.toLowerCase(),JT=pd[0].toUpperCase()+pd.slice(1);oi(ZT,"on"+JT)}oi(Vp,"onAnimationEnd"),oi(kp,"onAnimationIteration"),oi(Lp,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(mT,"onTransitionRun"),oi(pT,"onTransitionStart"),oi(gT,"onTransitionCancel"),oi(jp,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fo));function s0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var b=l[p],N=b.instance,P=b.currentTarget;if(b=b.listener,N!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=P;try{f(h)}catch(F){Du(F)}h.currentTarget=null,f=N}else for(p=0;p<l.length;p++){if(b=l[p],N=b.instance,P=b.currentTarget,b=b.listener,N!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=P;try{f(h)}catch(F){Du(F)}h.currentTarget=null,f=N}}}}function ke(t,n){var r=n[oa];r===void 0&&(r=n[oa]=new Set);var l=t+"__bubble";r.has(l)||(r0(n,t,2,!1),r.add(l))}function gd(t,n,r){var l=0;n&&(l|=4),r0(r,t,l,n)}var yc="_reactListening"+Math.random().toString(36).slice(2);function yd(t){if(!t[yc]){t[yc]=!0,Sl.forEach(function(r){r!=="selectionchange"&&(WT.has(r)||gd(r,!1,t),gd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[yc]||(n[yc]=!0,gd("selectionchange",!1,n))}}function r0(t,n,r,l){switch(V0(n)){case 2:var h=Rb;break;case 8:h=Cb;break;default:h=Od}r=h.bind(null,n,r,t),h=void 0,!Ir||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function _d(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var b=l.stateNode.containerInfo;if(b===h)break;if(p===4)for(p=l.return;p!==null;){var N=p.tag;if((N===3||N===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;b!==null;){if(p=Ei(b),p===null)return;if(N=p.tag,N===5||N===6||N===26||N===27){l=f=p;continue e}b=b.parentNode}}l=l.return}Ns(function(){var P=f,F=Pn(r),X=[];e:{var z=Up.get(t);if(z!==void 0){var q=Ri,ue=t;switch(t){case"keypress":if(Dr(r)===0)break e;case"keydown":case"keyup":q=Cu;break;case"focusin":ue="focus",q=Mr;break;case"focusout":ue="blur",q=Mr;break;case"beforeblur":case"afterblur":q=Mr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Vp:case kp:case Lp:q=Tu;break;case jp:q=A;break;case"scroll":case"scrollend":q=Ll;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Ki;break;case"toggle":case"beforetoggle":q=Ie}var ve=(n&4)!==0,at=!ve&&(t==="scroll"||t==="scrollend"),L=ve?z!==null?z+"Capture":null:z;ve=[];for(var O=P,U;O!==null;){var Y=O;if(U=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||U===null||L===null||(Y=si(O,L),Y!=null&&ve.push(mo(O,Y,U))),at)break;O=O.return}0<ve.length&&(z=new q(z,ue,null,r,F),X.push({event:z,listeners:ve}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&r!==Ml&&(ue=r.relatedTarget||r.fromElement)&&(Ei(ue)||ue[_i]))break e;if((q||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,q?(ue=r.relatedTarget||r.toElement,q=P,ue=ue?Ei(ue):null,ue!==null&&(at=c(ue),ve=ue.tag,ue!==at||ve!==5&&ve!==27&&ve!==6)&&(ue=null)):(q=null,ue=P),q!==ue)){if(ve=jl,Y="onMouseLeave",L="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Ki,Y="onPointerLeave",L="onPointerEnter",O="pointer"),at=q==null?z:Rn(q),U=ue==null?z:Rn(ue),z=new ve(Y,O+"leave",q,r,F),z.target=at,z.relatedTarget=U,Y=null,Ei(F)===P&&(ve=new ve(L,O+"enter",ue,r,F),ve.target=U,ve.relatedTarget=at,Y=ve),at=Y,q&&ue)t:{for(ve=eb,L=q,O=ue,U=0,Y=L;Y;Y=ve(Y))U++;Y=0;for(var pe=O;pe;pe=ve(pe))Y++;for(;0<U-Y;)L=ve(L),U--;for(;0<Y-U;)O=ve(O),Y--;for(;U--;){if(L===O||O!==null&&L===O.alternate){ve=L;break t}L=ve(L),O=ve(O)}ve=null}else ve=null;q!==null&&a0(X,z,q,ve,!1),ue!==null&&at!==null&&a0(X,at,ue,ve,!0)}}e:{if(z=P?Rn(P):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Ye=Ap;else if(Tp(z))if(Sp)Ye=hT;else{Ye=uT;var ce=oT}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&fa(P.elementType)&&(Ye=Ap):Ye=cT;if(Ye&&(Ye=Ye(t,P))){bp(X,Ye,r,F);break e}ce&&ce(t,z,P),t==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Nl(z,"number",z.value)}switch(ce=P?Rn(P):window,t){case"focusin":(Tp(ce)||ce.contentEditable==="true")&&(Ea=ce,Yh=P,ql=null);break;case"focusout":ql=Yh=Ea=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,Op(X,r,F);break;case"selectionchange":if(dT)break;case"keydown":case"keyup":Op(X,r,F)}var De;if(Xe)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else va?Vr(t,r)&&(je="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(je="onCompositionStart");je&&(Ni&&r.locale!=="ko"&&(va||je!=="onCompositionStart"?je==="onCompositionEnd"&&va&&(De=kl()):(wi=F,Vl="value"in wi?wi.value:wi.textContent,va=!0)),ce=_c(P,je),0<ce.length&&(je=new Ii(je,t,null,r,F),X.push({event:je,listeners:ce}),De?je.data=De:(De=_a(r),De!==null&&(je.data=De)))),(De=Bn?sT(t,r):rT(t,r))&&(je=_c(P,"onBeforeInput"),0<je.length&&(ce=new Ii("onBeforeInput","beforeinput",null,r,F),X.push({event:ce,listeners:je}),ce.data=De)),$T(X,t,P,r,F)}s0(X,n)})}function mo(t,n,r){return{instance:t,listener:n,currentTarget:r}}function _c(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=si(t,r),h!=null&&l.unshift(mo(t,h,f)),h=si(t,n),h!=null&&l.push(mo(t,h,f))),t.tag===3)return l;t=t.return}return[]}function eb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function a0(t,n,r,l,h){for(var f=n._reactName,p=[];r!==null&&r!==l;){var b=r,N=b.alternate,P=b.stateNode;if(b=b.tag,N!==null&&N===l)break;b!==5&&b!==26&&b!==27||P===null||(N=P,h?(P=si(r,f),P!=null&&p.unshift(mo(r,P,N))):h||(P=si(r,f),P!=null&&p.push(mo(r,P,N)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var tb=/\r\n?/g,nb=/\u0000|\uFFFD/g;function l0(t){return(typeof t=="string"?t:""+t).replace(tb,`
`).replace(nb,"")}function o0(t,n){return n=l0(n),l0(t)===n}function rt(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&_n(t,""+l);break;case"className":Cn(t,"class",l);break;case"tabIndex":Cn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(t,r,l);break;case"style":Ol(t,l,f);break;case"data":if(n!=="object"){Cn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=da(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&rt(t,n,"name",h.name,h,null),rt(t,n,"formEncType",h.formEncType,h,null),rt(t,n,"formMethod",h.formMethod,h,null),rt(t,n,"formTarget",h.formTarget,h,null)):(rt(t,n,"encType",h.encType,h,null),rt(t,n,"method",h.method,h,null),rt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=da(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=ii);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=da(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),ca(t,"popover",l);break;case"xlinkActuate":Nt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Nt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Nt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Nt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Nt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Nt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ca(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=_u.get(r)||r,ca(t,r,l))}}function vd(t,n,r,l,h,f){switch(r){case"style":Ol(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Bt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):ca(t,r,l)}}}function Jt(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:rt(t,n,f,p,r,null)}}h&&rt(t,n,"srcSet",r.srcSet,r,null),l&&rt(t,n,"src",r.src,r,null);return;case"input":ke("invalid",t);var b=f=p=h=null,N=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var F=r[l];if(F!=null)switch(l){case"name":h=F;break;case"type":p=F;break;case"checked":N=F;break;case"defaultChecked":P=F;break;case"value":f=F;break;case"defaultValue":b=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:rt(t,n,l,F,r,null)}}pu(t,f,b,N,P,p,h,!1);return;case"select":ke("invalid",t),l=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(b=r[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":p=b;break;case"multiple":l=b;default:rt(t,n,h,b,r,null)}n=f,r=p,t.multiple=!!l,n!=null?ws(t,!!l,n,!1):r!=null&&ws(t,!!l,r,!0);return;case"textarea":ke("invalid",t),f=h=l=null;for(p in r)if(r.hasOwnProperty(p)&&(b=r[p],b!=null))switch(p){case"value":l=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:rt(t,n,p,b,r,null)}Rs(t,l,h,f);return;case"option":for(N in r)if(r.hasOwnProperty(N)&&(l=r[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:rt(t,n,N,l,r,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<fo.length;l++)ke(fo[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:rt(t,n,P,l,r,null)}return;default:if(fa(n)){for(F in r)r.hasOwnProperty(F)&&(l=r[F],l!==void 0&&vd(t,n,F,l,r,void 0));return}}for(b in r)r.hasOwnProperty(b)&&(l=r[b],l!=null&&rt(t,n,b,l,r,null))}function ib(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,b=null,N=null,P=null,F=null;for(q in r){var X=r[q];if(r.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":N=X;default:l.hasOwnProperty(q)||rt(t,n,q,null,l,X)}}for(var z in l){var q=l[z];if(X=r[z],l.hasOwnProperty(z)&&(q!=null||X!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":F=q;break;case"value":p=q;break;case"defaultValue":b=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==X&&rt(t,n,z,q,l,X)}}ha(t,p,b,N,P,F,f,h);return;case"select":q=p=b=z=null;for(f in r)if(N=r[f],r.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":q=N;default:l.hasOwnProperty(f)||rt(t,n,f,null,l,N)}for(h in l)if(f=l[h],N=r[h],l.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":z=f;break;case"defaultValue":b=f;break;case"multiple":p=f;default:f!==N&&rt(t,n,h,f,l,N)}n=b,r=p,l=q,z!=null?ws(t,!!r,z,!1):!!l!=!!r&&(n!=null?ws(t,!!r,n,!0):ws(t,!!r,r?[]:"",!1));return;case"textarea":q=z=null;for(b in r)if(h=r[b],r.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:rt(t,n,b,null,l,h)}for(p in l)if(h=l[p],f=r[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&rt(t,n,p,h,l,f)}gu(t,z,q);return;case"option":for(var ue in r)if(z=r[ue],r.hasOwnProperty(ue)&&z!=null&&!l.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:rt(t,n,ue,null,l,z)}for(N in l)if(z=l[N],q=r[N],l.hasOwnProperty(N)&&z!==q&&(z!=null||q!=null))switch(N){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:rt(t,n,N,z,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in r)z=r[ve],r.hasOwnProperty(ve)&&z!=null&&!l.hasOwnProperty(ve)&&rt(t,n,ve,null,l,z);for(P in l)if(z=l[P],q=r[P],l.hasOwnProperty(P)&&z!==q&&(z!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:rt(t,n,P,z,l,q)}return;default:if(fa(n)){for(var at in r)z=r[at],r.hasOwnProperty(at)&&z!==void 0&&!l.hasOwnProperty(at)&&vd(t,n,at,void 0,l,z);for(F in l)z=l[F],q=r[F],!l.hasOwnProperty(F)||z===q||z===void 0&&q===void 0||vd(t,n,F,z,l,q);return}}for(var L in r)z=r[L],r.hasOwnProperty(L)&&z!=null&&!l.hasOwnProperty(L)&&rt(t,n,L,null,l,z);for(X in l)z=l[X],q=r[X],!l.hasOwnProperty(X)||z===q||z==null&&q==null||rt(t,n,X,z,l,q)}function u0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,p=h.initiatorType,b=h.duration;if(f&&b&&u0(p)){for(p=0,b=h.responseEnd,l+=1;l<r.length;l++){var N=r[l],P=N.startTime;if(P>b)break;var F=N.transferSize,X=N.initiatorType;F&&u0(X)&&(N=N.responseEnd,p+=F*(N<b?1:(b-P)/(N-P)))}if(--l,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ed=null,Td=null;function vc(t){return t.nodeType===9?t:t.ownerDocument}function c0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function bd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ad=null;function rb(){var t=window.event;return t&&t.type==="popstate"?t===Ad?!1:(Ad=t,!0):(Ad=null,!1)}var f0=typeof setTimeout=="function"?setTimeout:void 0,ab=typeof clearTimeout=="function"?clearTimeout:void 0,d0=typeof Promise=="function"?Promise:void 0,lb=typeof queueMicrotask=="function"?queueMicrotask:typeof d0<"u"?function(t){return d0.resolve(null).then(t).catch(ob)}:f0;function ob(t){setTimeout(function(){throw t})}function $s(t){return t==="head"}function m0(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),Qa(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")po(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,po(r);for(var f=r.firstChild;f;){var p=f.nextSibling,b=f.nodeName;f[vi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&po(t.ownerDocument.body);r=h}while(r);Qa(n)}function p0(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function Sd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Sd(r),ua(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function ub(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[vi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Kn(t.nextSibling),t===null)break}return null}function cb(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Kn(t.nextSibling),t===null))return null;return t}function g0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Kn(t.nextSibling),t===null))return null;return t}function xd(t){return t.data==="$?"||t.data==="$~"}function wd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function hb(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Kn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Rd=null;function y0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Kn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function _0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function v0(t,n,r){switch(n=vc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function po(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ua(t)}var Xn=new Map,E0=new Set;function Ec(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var us=ie.d;ie.d={f:fb,r:db,D:mb,C:pb,L:gb,m:yb,X:vb,S:_b,M:Eb};function fb(){var t=us.f(),n=hc();return t||n}function db(t){var n=Un(t);n!==null&&n.tag===5&&n.type==="form"?jg(n):us.r(t)}var Ga=typeof document>"u"?null:document;function T0(t,n,r){var l=Ga;if(l&&typeof n=="string"&&n){var h=yn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),E0.has(h)||(E0.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Jt(n,"link",t),It(n),l.head.appendChild(n)))}}function mb(t){us.D(t),T0("dns-prefetch",t,null)}function pb(t,n){us.C(t,n),T0("preconnect",t,n)}function gb(t,n,r){us.L(t,n,r);var l=Ga;if(l&&t&&n){var h='link[rel="preload"][as="'+yn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+yn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+yn(r.imageSizes)+'"]')):h+='[href="'+yn(t)+'"]';var f=h;switch(n){case"style":f=Fa(t);break;case"script":f=Ya(t)}Xn.has(f)||(t=x({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Xn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(go(f))||n==="script"&&l.querySelector(yo(f))||(n=l.createElement("link"),Jt(n,"link",t),It(n),l.head.appendChild(n)))}}function yb(t,n){us.m(t,n);var r=Ga;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+yn(l)+'"][href="'+yn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ya(t)}if(!Xn.has(f)&&(t=x({rel:"modulepreload",href:t},n),Xn.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(yo(f)))return}l=r.createElement("link"),Jt(l,"link",t),It(l),r.head.appendChild(l)}}}function _b(t,n,r){us.S(t,n,r);var l=Ga;if(l&&t){var h=Ti(l).hoistableStyles,f=Fa(t);n=n||"default";var p=h.get(f);if(!p){var b={loading:0,preload:null};if(p=l.querySelector(go(f)))b.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Xn.get(f))&&Cd(t,r);var N=p=l.createElement("link");It(N),Jt(N,"link",t),N._p=new Promise(function(P,F){N.onload=P,N.onerror=F}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Tc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:b},h.set(f,p)}}}function vb(t,n){us.X(t,n);var r=Ga;if(r&&t){var l=Ti(r).hoistableScripts,h=Ya(t),f=l.get(h);f||(f=r.querySelector(yo(h)),f||(t=x({src:t,async:!0},n),(n=Xn.get(h))&&Id(t,n),f=r.createElement("script"),It(f),Jt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Eb(t,n){us.M(t,n);var r=Ga;if(r&&t){var l=Ti(r).hoistableScripts,h=Ya(t),f=l.get(h);f||(f=r.querySelector(yo(h)),f||(t=x({src:t,async:!0,type:"module"},n),(n=Xn.get(h))&&Id(t,n),f=r.createElement("script"),It(f),Jt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function b0(t,n,r,l){var h=(h=Re.current)?Ec(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Fa(r.href),r=Ti(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Fa(r.href);var f=Ti(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(go(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Xn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Xn.set(t,r),f||Tb(h,t,r,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ya(r),r=Ti(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Fa(t){return'href="'+yn(t)+'"'}function go(t){return'link[rel="stylesheet"]['+t+"]"}function A0(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function Tb(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Jt(n,"link",r),It(n),t.head.appendChild(n))}function Ya(t){return'[src="'+yn(t)+'"]'}function yo(t){return"script[async]"+t}function S0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+yn(r.href)+'"]');if(l)return n.instance=l,It(l),l;var h=x({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),It(l),Jt(l,"style",h),Tc(l,r.precedence,t),n.instance=l;case"stylesheet":h=Fa(r.href);var f=t.querySelector(go(h));if(f)return n.state.loading|=4,n.instance=f,It(f),f;l=A0(r),(h=Xn.get(h))&&Cd(l,h),f=(t.ownerDocument||t).createElement("link"),It(f);var p=f;return p._p=new Promise(function(b,N){p.onload=b,p.onerror=N}),Jt(f,"link",l),n.state.loading|=4,Tc(f,r.precedence,t),n.instance=f;case"script":return f=Ya(r.src),(h=t.querySelector(yo(f)))?(n.instance=h,It(h),h):(l=r,(h=Xn.get(f))&&(l=x({},r),Id(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),It(h),Jt(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Tc(l,r.precedence,t));return n.instance}function Tc(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var b=l[p];if(b.dataset.precedence===n)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Cd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Id(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var bc=null;function x0(t,n,r){if(bc===null){var l=new Map,h=bc=new Map;h.set(r,l)}else h=bc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[vi]||f[Ct]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var b=l.get(p);b?b.push(f):l.set(p,[f])}}return l}function w0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function bb(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function R0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Ab(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Fa(l.href),f=n.querySelector(go(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Ac.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,It(f);return}f=n.ownerDocument||n,l=A0(l),(h=Xn.get(h))&&Cd(l,h),f=f.createElement("link"),It(f);var p=f;p._p=new Promise(function(b,N){p.onload=b,p.onerror=N}),Jt(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Ac.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Nd=0;function Sb(t,n){return t.stylesheets&&t.count===0&&xc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&xc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Nd===0&&(Nd=62500*sb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&xc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Nd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Sc=null;function xc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Sc=new Map,n.forEach(xb,t),Sc=null,Ac.call(t))}function xb(t,n){if(!(n.state.loading&4)){var r=Sc.get(t);if(r)var l=r.get(null);else{r=new Map,Sc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||l,f===l&&r.set(null,h),r.set(p,h),this.count++,l=Ac.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var _o={$$typeof:_e,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function wb(t,n,r,l,h,f,p,b,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function C0(t,n,r,l,h,f,p,b,N,P,F,X){return t=new wb(t,n,r,p,N,P,F,X,b),n=1,f===!0&&(n|=24),f=Nn(3,null,null,n),t.current=f,f.stateNode=t,n=uf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},df(f),t}function I0(t){return t?(t=Aa,t):Aa}function N0(t,n,r,l,h,f){h=I0(h),l.context===null?l.context=h:l.pendingContext=h,l=Ps(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=zs(t,l,n),r!==null&&(An(r,t,n),Xl(r,t,n))}function D0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Dd(t,n){D0(t,n),(t=t.alternate)&&D0(t,n)}function O0(t){if(t.tag===13||t.tag===31){var n=jr(t,67108864);n!==null&&An(n,t,67108864),Dd(t,67108864)}}function M0(t){if(t.tag===13||t.tag===31){var n=kn();n=xr(n);var r=jr(t,n);r!==null&&An(r,t,n),Dd(t,n)}}var wc=!0;function Rb(t,n,r,l){var h=G.T;G.T=null;var f=ie.p;try{ie.p=2,Od(t,n,r,l)}finally{ie.p=f,G.T=h}}function Cb(t,n,r,l){var h=G.T;G.T=null;var f=ie.p;try{ie.p=8,Od(t,n,r,l)}finally{ie.p=f,G.T=h}}function Od(t,n,r,l){if(wc){var h=Md(l);if(h===null)_d(t,n,l,Rc,r),k0(t,l);else if(Nb(h,t,n,r,l))l.stopPropagation();else if(k0(t,l),n&4&&-1<Ib.indexOf(t)){for(;h!==null;){var f=Un(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=pi(f.pendingLanes);if(p!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;p;){var N=1<<31-bt(p);b.entanglements[1]|=N,p&=~N}Vi(f),($e&6)===0&&(uc=Ze()+500,ho(0))}}break;case 31:case 13:b=jr(f,2),b!==null&&An(b,f,2),hc(),Dd(f,2)}if(f=Md(l),f===null&&_d(t,n,l,Rc,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else _d(t,n,l,null,r)}}function Md(t){return t=Pn(t),Vd(t)}var Rc=null;function Vd(t){if(Rc=null,t=Ei(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=g(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Rc=t,null}function V0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yt()){case hn:return 2;case As:return 8;case Ss:case Ph:return 32;case ru:return 268435456;default:return 32}default:return 32}}var kd=!1,Zs=null,Js=null,Ws=null,vo=new Map,Eo=new Map,er=[],Ib="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k0(t,n){switch(t){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":vo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eo.delete(n.pointerId)}}function To(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Un(n),n!==null&&O0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Nb(t,n,r,l,h){switch(n){case"focusin":return Zs=To(Zs,t,n,r,l,h),!0;case"dragenter":return Js=To(Js,t,n,r,l,h),!0;case"mouseover":return Ws=To(Ws,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return vo.set(f,To(vo.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Eo.set(f,To(Eo.get(f)||null,t,n,r,l,h)),!0}return!1}function L0(t){var n=Ei(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,ti(t.priority,function(){M0(r)});return}}else if(n===31){if(n=g(r),n!==null){t.blockedOn=n,ti(t.priority,function(){M0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Md(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Ml=l,r.target.dispatchEvent(l),Ml=null}else return n=Un(r),n!==null&&O0(n),t.blockedOn=r,!1;n.shift()}return!0}function j0(t,n,r){Cc(t)&&r.delete(n)}function Db(){kd=!1,Zs!==null&&Cc(Zs)&&(Zs=null),Js!==null&&Cc(Js)&&(Js=null),Ws!==null&&Cc(Ws)&&(Ws=null),vo.forEach(j0),Eo.forEach(j0)}function Ic(t,n){t.blockedOn===n&&(t.blockedOn=null,kd||(kd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Db)))}var Nc=null;function U0(t){Nc!==t&&(Nc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Nc===t&&(Nc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Vd(l||r)===null)continue;break}var f=Un(r);f!==null&&(t.splice(n,3),n-=3,Mf(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Qa(t){function n(N){return Ic(N,t)}Zs!==null&&Ic(Zs,t),Js!==null&&Ic(Js,t),Ws!==null&&Ic(Ws,t),vo.forEach(n),Eo.forEach(n);for(var r=0;r<er.length;r++){var l=er[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<er.length&&(r=er[0],r.blockedOn===null);)L0(r),r.blockedOn===null&&er.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],p=h[Bt]||null;if(typeof f=="function")p||U0(r);else if(p){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Bt]||null)b=p.formAction;else if(Vd(h)!==null)continue}else b=p.action;typeof b=="function"?r[l+1]=b:(r.splice(l,3),l-=3),U0(r)}}}function P0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ld(t){this._internalRoot=t}Dc.prototype.render=Ld.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=kn();N0(r,l,t,n,null,null)},Dc.prototype.unmount=Ld.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;N0(t.current,2,null,t,null,null),hc(),n[_i]=null}};function Dc(t){this._internalRoot=t}Dc.prototype.unstable_scheduleHydration=function(t){if(t){var n=hu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<er.length&&n!==0&&n<er[r].priority;r++);er.splice(r,0,t),r===0&&L0(t)}};var z0=e.version;if(z0!=="19.2.3")throw Error(a(527,z0,"19.2.3"));ie.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var Ob={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oc.isDisabled&&Oc.supportsFiber)try{Wn=Oc.inject(Ob),Qt=Oc}catch{}}return Ao.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=Qg,f=Kg,p=Xg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=C0(t,1,!1,null,null,r,l,null,h,f,p,P0),t[_i]=n.current,yd(t),new Ld(n)},Ao.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=Qg,p=Kg,b=Xg,N=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.formState!==void 0&&(N=r.formState)),n=C0(t,1,!0,n,r??null,l,h,N,f,p,b,P0),n.context=I0(null),r=n.current,l=kn(),l=xr(l),h=Ps(l),h.callback=null,zs(r,h,l),r=l,n.current.lanes=r,Ar(n,r),Vi(n),t[_i]=n.current,yd(t),new Dc(n)},Ao.version="19.2.3",Ao}var $0;function qb(){if($0)return Pd.exports;$0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Pd.exports=Bb(),Pd.exports}var Hb=qb();const Gb=()=>{};var Z0={};const Dv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},Fb=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],g=s[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Ov={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,g=d?s[o+1]:0,y=o+2<s.length,_=y?s[o+2]:0,T=c>>2,x=(c&3)<<4|g>>4;let V=(g&15)<<2|_>>6,H=_&63;y||(H=64,d||(V=64)),a.push(i[T],i[x],i[V],i[H])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Dv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Fb(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const x=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||g==null||_==null||x==null)throw new Yb;const V=c<<2|g>>4;if(a.push(V),_!==64){const H=g<<4&240|_>>2;if(a.push(H),x!==64){const ee=_<<6&192|x;a.push(ee)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Yb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qb=function(s){const e=Dv(s);return Ov.encodeByteArray(e,!0)},Zc=function(s){return Qb(s).replace(/\./g,"")},Mv=function(s){try{return Ov.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Kb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Xb=()=>Kb().__FIREBASE_DEFAULTS__,$b=()=>{if(typeof process>"u"||typeof Z0>"u")return;const s=Z0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Zb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Mv(s[1]);return e&&JSON.parse(e)},yh=()=>{try{return Gb()||Xb()||$b()||Zb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Vv=s=>yh()?.emulatorHosts?.[s],Jb=s=>{const e=Vv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},kv=()=>yh()?.config,Lv=s=>yh()?.[`_${s}`];class Wb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function pl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jv(s){return(await fetch(s,{credentials:"include"})).ok}function eA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Zc(JSON.stringify(i)),Zc(JSON.stringify(d)),""].join(".")}const No={};function tA(){const s={prod:[],emulator:[]};for(const e of Object.keys(No))No[e]?s.emulator.push(e):s.prod.push(e);return s}function nA(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let J0=!1;function Uv(s,e){if(typeof window>"u"||typeof document>"u"||!pl(window.location.host)||No[s]===e||No[s]||J0)return;No[s]=e;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=tA().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function y(V,H){V.setAttribute("width","24"),V.setAttribute("id",H),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{J0=!0,d()},V}function T(V,H){V.setAttribute("id",H),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function x(){const V=nA(a),H=i("text"),ee=document.getElementById(H)||document.createElement("span"),se=i("learnmore"),$=document.getElementById(se)||document.createElement("a"),fe=i("preprendIcon"),Ee=document.getElementById(fe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const _e=V.element;g(_e),T($,se);const Ge=_();y(Ee,fe),_e.append(Ee,ee,$,Ge),document.body.appendChild(_e)}c?(ee.innerText="Preview backend disconnected.",Ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ee.innerText="Preview backend running in this workspace."),ee.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function sA(){const s=yh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function lA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oA(){const s=un();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function uA(){return!sA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cA(){try{return typeof indexedDB=="object"}catch{return!1}}function hA(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const fA="FirebaseError";class Es extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=fA,Object.setPrototypeOf(this,Es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yo.prototype.create)}}class Yo{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?dA(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Es(o,g,a)}}function dA(s,e){return s.replace(mA,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const mA=/\{\$([^}]+)}/g;function pA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function dr(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(W0(c)&&W0(d)){if(!dr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function W0(s){return s!==null&&typeof s=="object"}function Qo(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function gA(s,e){const i=new yA(s,e);return i.subscribe.bind(i)}class yA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");_A(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Hd),o.error===void 0&&(o.error=Hd),o.complete===void 0&&(o.complete=Hd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _A(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Hd(){}function gn(s){return s&&s._delegate?s._delegate:s}class ea{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Zr="[DEFAULT]";class vA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new Wb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TA(e))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=Zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zr){return this.instances.has(e)}getOptions(e=Zr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:EA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Zr){return this.component?this.component.multipleInstances?e:Zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EA(s){return s===Zr?void 0:s}function TA(s){return s.instantiationMode==="EAGER"}class bA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new vA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ue||(Ue={}));const AA={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},SA=Ue.INFO,xA={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},wA=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=xA[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Om{constructor(e){this.name=e,this._logLevel=SA,this._logHandler=wA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const RA=(s,e)=>e.some(i=>s instanceof i);let e_,t_;function CA(){return e_||(e_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IA(){return t_||(t_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pv=new WeakMap,sm=new WeakMap,zv=new WeakMap,Gd=new WeakMap,Mm=new WeakMap;function NA(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(or(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Pv.set(i,s)}).catch(()=>{}),Mm.set(e,s),e}function DA(s){if(sm.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});sm.set(s,e)}let rm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return sm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||zv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return or(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function OA(s){rm=s(rm)}function MA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Fd(this),e,...i);return zv.set(a,e.sort?e.sort():[e]),or(a)}:IA().includes(s)?function(...e){return s.apply(Fd(this),e),or(Pv.get(this))}:function(...e){return or(s.apply(Fd(this),e))}}function VA(s){return typeof s=="function"?MA(s):(s instanceof IDBTransaction&&DA(s),RA(s,CA())?new Proxy(s,rm):s)}function or(s){if(s instanceof IDBRequest)return NA(s);if(Gd.has(s))return Gd.get(s);const e=VA(s);return e!==s&&(Gd.set(s,e),Mm.set(e,s)),e}const Fd=s=>Mm.get(s);function kA(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),g=or(d);return a&&d.addEventListener("upgradeneeded",y=>{a(or(d.result),y.oldVersion,y.newVersion,or(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const LA=["get","getKey","getAll","getAllKeys","count"],jA=["put","add","delete","clear"],Yd=new Map;function n_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Yd.get(e))return Yd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=jA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||LA.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&y.done]))[0]};return Yd.set(e,c),c}OA(s=>({...s,get:(e,i,a)=>n_(e,i)||s.get(e,i,a),has:(e,i)=>!!n_(e,i)||s.has(e,i)}));class UA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(PA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function PA(s){return s.getComponent()?.type==="VERSION"}const am="@firebase/app",i_="0.14.6";const ms=new Om("@firebase/app"),zA="@firebase/app-compat",BA="@firebase/analytics-compat",qA="@firebase/analytics",HA="@firebase/app-check-compat",GA="@firebase/app-check",FA="@firebase/auth",YA="@firebase/auth-compat",QA="@firebase/database",KA="@firebase/data-connect",XA="@firebase/database-compat",$A="@firebase/functions",ZA="@firebase/functions-compat",JA="@firebase/installations",WA="@firebase/installations-compat",eS="@firebase/messaging",tS="@firebase/messaging-compat",nS="@firebase/performance",iS="@firebase/performance-compat",sS="@firebase/remote-config",rS="@firebase/remote-config-compat",aS="@firebase/storage",lS="@firebase/storage-compat",oS="@firebase/firestore",uS="@firebase/ai",cS="@firebase/firestore-compat",hS="firebase",fS="12.6.0";const lm="[DEFAULT]",dS={[am]:"fire-core",[zA]:"fire-core-compat",[qA]:"fire-analytics",[BA]:"fire-analytics-compat",[GA]:"fire-app-check",[HA]:"fire-app-check-compat",[FA]:"fire-auth",[YA]:"fire-auth-compat",[QA]:"fire-rtdb",[KA]:"fire-data-connect",[XA]:"fire-rtdb-compat",[$A]:"fire-fn",[ZA]:"fire-fn-compat",[JA]:"fire-iid",[WA]:"fire-iid-compat",[eS]:"fire-fcm",[tS]:"fire-fcm-compat",[nS]:"fire-perf",[iS]:"fire-perf-compat",[sS]:"fire-rc",[rS]:"fire-rc-compat",[aS]:"fire-gcs",[lS]:"fire-gcs-compat",[oS]:"fire-fst",[cS]:"fire-fst-compat",[uS]:"fire-vertex","fire-js":"fire-js",[hS]:"fire-js-all"};const Jc=new Map,mS=new Map,om=new Map;function s_(s,e){try{s.container.addComponent(e)}catch(i){ms.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function ll(s){const e=s.name;if(om.has(e))return ms.debug(`There were multiple attempts to register component ${e}.`),!1;om.set(e,s);for(const i of Jc.values())s_(i,s);for(const i of mS.values())s_(i,s);return!0}function Vm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Zn(s){return s==null?!1:s.settings!==void 0}const pS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ur=new Yo("app","Firebase",pS);class gS{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}const gl=fS;function Bv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:lm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw ur.create("bad-app-name",{appName:String(o)});if(i||(i=kv()),!i)throw ur.create("no-options");const c=Jc.get(o);if(c){if(dr(i,c.options)&&dr(a,c.config))return c;throw ur.create("duplicate-app",{appName:o})}const d=new bA(o);for(const y of om.values())d.addComponent(y);const g=new gS(i,a,d);return Jc.set(o,g),g}function qv(s=lm){const e=Jc.get(s);if(!e&&s===lm&&kv())return Bv();if(!e)throw ur.create("no-app",{appName:s});return e}function cr(s,e,i){let a=dS[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ms.warn(d.join(" "));return}ll(new ea(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const yS="firebase-heartbeat-database",_S=1,Lo="firebase-heartbeat-store";let Qd=null;function Hv(){return Qd||(Qd=kA(yS,_S,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Lo)}catch(i){console.warn(i)}}}}).catch(s=>{throw ur.create("idb-open",{originalErrorMessage:s.message})})),Qd}async function vS(s){try{const i=(await Hv()).transaction(Lo),a=await i.objectStore(Lo).get(Gv(s));return await i.done,a}catch(e){if(e instanceof Es)ms.warn(e.message);else{const i=ur.create("idb-get",{originalErrorMessage:e?.message});ms.warn(i.message)}}}async function r_(s,e){try{const a=(await Hv()).transaction(Lo,"readwrite");await a.objectStore(Lo).put(e,Gv(s)),await a.done}catch(i){if(i instanceof Es)ms.warn(i.message);else{const a=ur.create("idb-set",{originalErrorMessage:i?.message});ms.warn(a.message)}}}function Gv(s){return`${s.name}!${s.options.appId}`}const ES=1024,TS=30;class bS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new SS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=a_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>TS){const o=xS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ms.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=a_(),{heartbeatsToSend:i,unsentEntries:a}=AS(this._heartbeatsCache.heartbeats),o=Zc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ms.warn(e),""}}}function a_(){return new Date().toISOString().substring(0,10)}function AS(s,e=ES){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),l_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),l_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class SS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cA()?hA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await vS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return r_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return r_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function l_(s){return Zc(JSON.stringify({version:2,heartbeats:s})).length}function xS(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function wS(s){ll(new ea("platform-logger",e=>new UA(e),"PRIVATE")),ll(new ea("heartbeat",e=>new bS(e),"PRIVATE")),cr(am,i_,s),cr(am,i_,"esm2020"),cr("fire-js","")}wS("");var RS="firebase",CS="12.7.0";cr(RS,CS,"app");function Fv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IS=Fv,Yv=new Yo("auth","Firebase",Fv());const Wc=new Om("@firebase/auth");function NS(s,...e){Wc.logLevel<=Ue.WARN&&Wc.warn(`Auth (${gl}): ${s}`,...e)}function zc(s,...e){Wc.logLevel<=Ue.ERROR&&Wc.error(`Auth (${gl}): ${s}`,...e)}function ps(s,...e){throw km(s,...e)}function Li(s,...e){return km(s,...e)}function Qv(s,e,i){const a={...IS(),[e]:i};return new Yo("auth","Firebase",a).create(e,{appName:s.name})}function ds(s){return Qv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function km(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Yv.create(s,...e)}function Ae(s,e,...i){if(!s)throw km(e,...i)}function hs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw zc(e),new Error(e)}function gs(s,e){s||hs(e)}function um(){return typeof self<"u"&&self.location?.href||""}function DS(){return o_()==="http:"||o_()==="https:"}function o_(){return typeof self<"u"&&self.location?.protocol||null}function OS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DS()||aA()||"connection"in navigator)?navigator.onLine:!0}function MS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Ko{constructor(e,i){this.shortDelay=e,this.longDelay=i,gs(i>e,"Short delay should be less than long delay!"),this.isMobile=iA()||lA()}get(){return OS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Lm(s,e){gs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Kv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const VS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const kS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LS=new Ko(3e4,6e4);function Xo(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function yl(s,e,i,a,o={}){return Xv(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const g=Qo({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:y,...c};return rA()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&pl(s.emulatorConfig.host)&&(_.credentials="include"),Kv.fetch()(await $v(s,s.config.apiHost,i,g),_)})}async function Xv(s,e,i){s._canInitEmulator=!1;const a={...VS,...e};try{const o=new jS(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Mc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Mc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Mc(s,"user-disabled",d);const T=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Qv(s,T,_);ps(s,T)}}catch(o){if(o instanceof Es)throw o;ps(s,"network-request-failed",{message:String(o)})}}async function jm(s,e,i,a,o={}){const c=await yl(s,e,i,a,o);return"mfaPendingCredential"in c&&ps(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function $v(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?Lm(s.config,o):`${s.config.apiScheme}://${o}`;return kS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class jS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Li(this.auth,"network-request-failed")),LS.get())})}}function Mc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Li(s,e,a);return o.customData._tokenResponse=i,o}async function US(s,e){return yl(s,"POST","/v1/accounts:delete",e)}async function eh(s,e){return yl(s,"POST","/v1/accounts:lookup",e)}function Do(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function PS(s,e=!1){const i=gn(s),a=await i.getIdToken(e),o=Um(a);Ae(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Do(Kd(o.auth_time)),issuedAtTime:Do(Kd(o.iat)),expirationTime:Do(Kd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Kd(s){return Number(s)*1e3}function Um(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return zc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Mv(i);return o?JSON.parse(o):(zc("Failed to decode base64 JWT payload"),null)}catch(o){return zc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function u_(s){const e=Um(s);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function jo(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Es&&zS(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function zS({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class BS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class cm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Do(this.lastLoginAt),this.creationTime=Do(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function th(s){const e=s.auth,i=await s.getIdToken(),a=await jo(s,eh(e,{idToken:i}));Ae(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?Zv(o.providerUserInfo):[],d=HS(s.providerData,c),g=s.isAnonymous,y=!(s.email&&o.passwordHash)&&!d?.length,_=g?y:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new cm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,T)}async function qS(s){const e=gn(s);await th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HS(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Zv(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function GS(s,e){const i=await Xv(s,{},async()=>{const a=Qo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await $v(s,o,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:a};return s.emulatorConfig&&pl(s.emulatorConfig.host)&&(y.credentials="include"),Kv.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function FS(s,e){return yl(s,"POST","/v2/accounts:revokeToken",Xo(s,e))}class tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):u_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const i=u_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await GS(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new tl;return a&&(Ae(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Ae(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Ae(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tl,this.toJSON())}_performRefresh(){return hs("not implemented")}}function nr(s,e){Ae(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class hi{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new BS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new cm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await jo(this,this.stsTokenManager.getToken(this.auth,e));return Ae(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return PS(this,e)}reload(){return qS(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new hi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await th(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(ds(this.auth));const e=await this.getIdToken();return await jo(this,US(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:x,emailVerified:V,isAnonymous:H,providerData:ee,stsTokenManager:se}=i;Ae(x&&se,e,"internal-error");const $=tl.fromJSON(this.name,se);Ae(typeof x=="string",e,"internal-error"),nr(a,e.name),nr(o,e.name),Ae(typeof V=="boolean",e,"internal-error"),Ae(typeof H=="boolean",e,"internal-error"),nr(c,e.name),nr(d,e.name),nr(g,e.name),nr(y,e.name),nr(_,e.name),nr(T,e.name);const fe=new hi({uid:x,auth:e,email:o,emailVerified:V,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:$,createdAt:_,lastLoginAt:T});return ee&&Array.isArray(ee)&&(fe.providerData=ee.map(Ee=>({...Ee}))),y&&(fe._redirectEventId=y),fe}static async _fromIdTokenResponse(e,i,a=!1){const o=new tl;o.updateFromServerResponse(i);const c=new hi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await th(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Ae(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Zv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new tl;g.updateFromIdToken(a);const y=new hi({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new cm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const c_=new Map;function fs(s){gs(s instanceof Function,"Expected a class definition");let e=c_.get(s);return e?(gs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,c_.set(s,e),e)}class Jv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Jv.type="NONE";const h_=Jv;function Bc(s,e,i){return`firebase:${s}:${e}:${i}`}class nl{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Bc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Bc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await eh(this.auth,{idToken:e}).catch(()=>{});return i?hi._fromGetAccountInfoResponse(this.auth,i,e):null}return hi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new nl(fs(h_),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||fs(h_);const d=Bc(a,e.config.apiKey,e.name);let g=null;for(const _ of i)try{const T=await _._get(d);if(T){let x;if(typeof T=="string"){const V=await eh(e,{idToken:T}).catch(()=>{});if(!V)break;x=await hi._fromGetAccountInfoResponse(e,V,T)}else x=hi._fromJSON(e,T);_!==c&&(g=x),c=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new nl(c,e,a):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new nl(c,e,a))}}function f_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(n1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Wv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(s1(e))return"Blackberry";if(r1(e))return"Webos";if(e1(e))return"Safari";if((e.includes("chrome/")||t1(e))&&!e.includes("edge/"))return"Chrome";if(i1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Wv(s=un()){return/firefox\//i.test(s)}function e1(s=un()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function t1(s=un()){return/crios\//i.test(s)}function n1(s=un()){return/iemobile/i.test(s)}function i1(s=un()){return/android/i.test(s)}function s1(s=un()){return/blackberry/i.test(s)}function r1(s=un()){return/webos/i.test(s)}function Pm(s=un()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function YS(s=un()){return Pm(s)&&!!window.navigator?.standalone}function QS(){return oA()&&document.documentMode===10}function a1(s=un()){return Pm(s)||i1(s)||r1(s)||s1(s)||/windows phone/i.test(s)||n1(s)}function l1(s,e=[]){let i;switch(s){case"Browser":i=f_(un());break;case"Worker":i=`${f_(un())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${gl}/${a}`}class KS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,g)=>{try{const y=e(c);d(y)}catch(y){g(y)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function XS(s,e={}){return yl(s,"GET","/v2/passwordPolicy",Xo(s,e))}const $S=6;class ZS{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??$S,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class JS{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new d_(this),this.idTokenSubscription=new d_(this),this.beforeStateQueue=new KS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=fs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await nl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await eh(this,{idToken:e}),a=await hi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Zn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await th(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(ds(this));const i=e?gn(e):null;return i&&Ae(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XS(this),i=new ZS(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Yo("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await FS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&fs(e)||this._popupRedirectResolver;Ae(i,this,"argument-error"),this.redirectPersistenceManager=await nl.create(this,[fs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,a,o);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=l1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&NS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function $o(s){return gn(s)}class d_{constructor(e){this.auth=e,this.observer=null,this.addObserver=gA(i=>this.observer=i)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WS(s){zm=s}function e2(s){return zm.loadJS(s)}function t2(){return zm.gapiScript}function n2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function i2(s,e){const i=Vm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(dr(c,e??{}))return o;ps(o,"already-initialized")}return i.initialize({options:e})}function s2(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(fs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function r2(s,e,i){const a=$o(s);Ae(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=o1(e),{host:d,port:g}=a2(e),y=g===null?"":`:${g}`,_={url:`${c}//${d}${y}/`},T=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Ae(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ae(dr(_,a.config.emulator)&&dr(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,pl(d)?(jv(`${c}//${d}${y}`),Uv("Auth",!0)):l2()}function o1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function a2(s){const e=o1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:m_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:m_(d)}}}function m_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function l2(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class u1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return hs("not implemented")}_getIdTokenResponse(e){return hs("not implemented")}_linkToIdToken(e,i){return hs("not implemented")}_getReauthenticationResolver(e){return hs("not implemented")}}async function il(s,e){return jm(s,"POST","/v1/accounts:signInWithIdp",Xo(s,e))}const o2="http://localhost";class ta extends u1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ps("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new ta(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return il(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,il(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,il(e,i)}buildRequest(){const e={requestUri:o2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Qo(i)}return e}}class c1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Zo extends c1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ir extends Zo{constructor(){super("facebook.com")}static credential(e){return ta._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ir.credential(e.oauthAccessToken)}catch{return null}}}ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";ir.PROVIDER_ID="facebook.com";class sr extends Zo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ta._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return sr.credential(i,a)}catch{return null}}}sr.GOOGLE_SIGN_IN_METHOD="google.com";sr.PROVIDER_ID="google.com";class rr extends Zo{constructor(){super("github.com")}static credential(e){return ta._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rr.credential(e.oauthAccessToken)}catch{return null}}}rr.GITHUB_SIGN_IN_METHOD="github.com";rr.PROVIDER_ID="github.com";class ar extends Zo{constructor(){super("twitter.com")}static credential(e,i){return ta._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return ar.credential(i,a)}catch{return null}}}ar.TWITTER_SIGN_IN_METHOD="twitter.com";ar.PROVIDER_ID="twitter.com";async function u2(s,e){return jm(s,"POST","/v1/accounts:signUp",Xo(s,e))}class ys{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await hi._fromIdTokenResponse(e,a,o),d=p_(a);return new ys({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=p_(a);return new ys({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function p_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function c2(s){if(Zn(s.app))return Promise.reject(ds(s));const e=$o(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new ys({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await u2(e,{returnSecureToken:!0}),a=await ys._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class nh extends Es{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,nh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new nh(e,i,a,o)}}function h1(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?nh._fromErrorAndOperation(s,c,e,a):c})}async function h2(s,e,i=!1){const a=await jo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return ys._forOperation(s,"link",a)}async function f2(s,e,i=!1){const{auth:a}=s;if(Zn(a.app))return Promise.reject(ds(a));const o="reauthenticate";try{const c=await jo(s,h1(a,o,e,s),i);Ae(c.idToken,a,"internal-error");const d=Um(c.idToken);Ae(d,a,"internal-error");const{sub:g}=d;return Ae(s.uid===g,a,"user-mismatch"),ys._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&ps(a,"user-mismatch"),c}}async function d2(s,e,i=!1){if(Zn(s.app))return Promise.reject(ds(s));const a="signIn",o=await h1(s,a,e),c=await ys._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}async function m2(s,e){return jm(s,"POST","/v1/accounts:signInWithCustomToken",Xo(s,e))}async function p2(s,e){if(Zn(s.app))return Promise.reject(ds(s));const i=$o(s),a=await m2(i,{token:e,returnSecureToken:!0}),o=await ys._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function g2(s,e,i,a){return gn(s).onIdTokenChanged(e,i,a)}function y2(s,e,i){return gn(s).beforeAuthStateChanged(e,i)}function _2(s,e,i,a){return gn(s).onAuthStateChanged(e,i,a)}const ih="__sak";class f1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ih,"1"),this.storage.removeItem(ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const v2=1e3,E2=10;class d1 extends f1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=a1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);QS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,E2):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},v2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}d1.type="LOCAL";const T2=d1;class m1 extends f1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}m1.type="SESSION";const p1=m1;function b2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class _h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new _h(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async _=>_(i.origin,c)),y=await b2(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];function Bm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class A2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const _=Bm("",20);o.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(x){const V=x;if(V.data.eventId===_)switch(V.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(V.data.response);break;default:clearTimeout(T),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function ji(){return window}function S2(s){ji().location.href=s}function g1(){return typeof ji().WorkerGlobalScope<"u"&&typeof ji().importScripts=="function"}async function x2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function w2(){return navigator?.serviceWorker?.controller||null}function R2(){return g1()?self:null}const y1="firebaseLocalStorageDb",C2=1,sh="firebaseLocalStorage",_1="fbase_key";class Jo{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function vh(s,e){return s.transaction([sh],e?"readwrite":"readonly").objectStore(sh)}function I2(){const s=indexedDB.deleteDatabase(y1);return new Jo(s).toPromise()}function hm(){const s=indexedDB.open(y1,C2);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(sh,{keyPath:_1})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(sh)?e(a):(a.close(),await I2(),e(await hm()))})})}async function g_(s,e,i){const a=vh(s,!0).put({[_1]:e,value:i});return new Jo(a).toPromise()}async function N2(s,e){const i=vh(s,!1).get(e),a=await new Jo(i).toPromise();return a===void 0?null:a.value}function y_(s,e){const i=vh(s,!0).delete(e);return new Jo(i).toPromise()}const D2=800,O2=3;class v1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>O2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return g1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(R2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await x2(),!this.activeServiceWorker)return;this.sender=new A2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||w2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hm();return await g_(e,ih,"1"),await y_(e,ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>g_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>N2(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>y_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=vh(o,!1).getAll();return new Jo(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),D2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}v1.type="LOCAL";const M2=v1;new Ko(3e4,6e4);function V2(s,e){return e?fs(e):(Ae(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class qm extends u1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return il(e,this._buildIdpRequest())}_linkToIdToken(e,i){return il(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return il(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function k2(s){return d2(s.auth,new qm(s),s.bypassAuthState)}function L2(s){const{auth:e,user:i}=s;return Ae(i,e,"internal-error"),f2(i,new qm(s),s.bypassAuthState)}async function j2(s){const{auth:e,user:i}=s;return Ae(i,e,"internal-error"),h2(i,new qm(s),s.bypassAuthState)}class E1{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return k2;case"linkViaPopup":case"linkViaRedirect":return j2;case"reauthViaPopup":case"reauthViaRedirect":return L2;default:ps(this.auth,"internal-error")}}resolve(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const U2=new Ko(2e3,1e4);class el extends E1{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,el.currentPopupAction&&el.currentPopupAction.cancel(),el.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){gs(this.filter.length===1,"Popup operations only handle one event");const e=Bm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,el.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,U2.get())};e()}}el.currentPopupAction=null;const P2="pendingRedirect",qc=new Map;class z2 extends E1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=qc.get(this.auth._key());if(!e){try{const a=await B2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}qc.set(this.auth._key(),e)}return this.bypassAuthState||qc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function B2(s,e){const i=G2(e),a=H2(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function q2(s,e){qc.set(s._key(),e)}function H2(s){return fs(s._redirectPersistence)}function G2(s){return Bc(P2,s.config.apiKey,s.name)}async function F2(s,e,i=!1){if(Zn(s.app))return Promise.reject(ds(s));const a=$o(s),o=V2(a,e),d=await new z2(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const Y2=600*1e3;class Q2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!K2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!T1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Li(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Y2&&this.cachedEventUids.clear(),this.cachedEventUids.has(__(e))}saveEventToCache(e){this.cachedEventUids.add(__(e)),this.lastProcessedEventTime=Date.now()}}function __(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function T1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function K2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return T1(s);default:return!1}}async function X2(s,e={}){return yl(s,"GET","/v1/projects",e)}const $2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Z2=/^https?/;async function J2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await X2(s);for(const i of e)try{if(W2(i))return}catch{}ps(s,"unauthorized-domain")}function W2(s){const e=um(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Z2.test(i))return!1;if($2.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const ex=new Ko(3e4,6e4);function v_(){const s=ji().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function tx(s){return new Promise((e,i)=>{function a(){v_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{v_(),i(Li(s,"network-request-failed"))},timeout:ex.get()})}if(ji().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ji().gapi?.load)a();else{const o=n2("iframefcb");return ji()[o]=()=>{gapi.load?a():i(Li(s,"network-request-failed"))},e2(`${t2()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Hc=null,e})}let Hc=null;function nx(s){return Hc=Hc||tx(s),Hc}const ix=new Ko(5e3,15e3),sx="__/auth/iframe",rx="emulator/auth/iframe",ax={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ox(s){const e=s.config;Ae(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Lm(e,rx):`https://${s.config.authDomain}/${sx}`,a={apiKey:e.apiKey,appName:s.name,v:gl},o=lx.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Qo(a).slice(1)}`}async function ux(s){const e=await nx(s),i=ji().gapi;return Ae(i,s,"internal-error"),e.open({where:document.body,url:ox(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ax,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Li(s,"network-request-failed"),g=ji().setTimeout(()=>{c(d)},ix.get());function y(){ji().clearTimeout(g),o(a)}a.ping(y).then(y,()=>{c(d)})}))}const cx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hx=500,fx=600,dx="_blank",mx="http://localhost";class E_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function px(s,e,i,a=hx,o=fx){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const y={...cx,width:a.toString(),height:o.toString(),top:c,left:d},_=un().toLowerCase();i&&(g=t1(_)?dx:i),Wv(_)&&(e=e||mx,y.scrollbars="yes");const T=Object.entries(y).reduce((V,[H,ee])=>`${V}${H}=${ee},`,"");if(YS(_)&&g!=="_self")return gx(e||"",g),new E_(null);const x=window.open(e||"",g,T);Ae(x,s,"popup-blocked");try{x.focus()}catch{}return new E_(x)}function gx(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const yx="__/auth/handler",_x="emulator/auth/handler",vx=encodeURIComponent("fac");async function T_(s,e,i,a,o,c){Ae(s.config.authDomain,s,"auth-domain-config-required"),Ae(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:gl,eventId:o};if(e instanceof c1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",pA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,x]of Object.entries({}))d[T]=x}if(e instanceof Zo){const T=e.getScopes().filter(x=>x!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const y=await s._getAppCheckToken(),_=y?`#${vx}=${encodeURIComponent(y)}`:"";return`${Ex(s)}?${Qo(g).slice(1)}${_}`}function Ex({config:s}){return s.emulator?Lm(s,_x):`https://${s.authDomain}/${yx}`}const Xd="webStorageSupport";class Tx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=p1,this._completeRedirectFn=F2,this._overrideRedirectResult=q2}async _openPopup(e,i,a,o){gs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await T_(e,i,a,um(),o);return px(e,c,Bm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await T_(e,i,a,um(),o);return S2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(gs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await ux(e),a=new Q2(e);return i.register("authEvent",o=>(Ae(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Xd,{type:Xd},o=>{const c=o?.[0]?.[Xd];c!==void 0&&i(!!c),ps(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=J2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return a1()||e1()||Pm()}}const bx=Tx;var b_="@firebase/auth",A_="1.12.0";class Ax{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Sx(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xx(s){ll(new ea("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;Ae(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:l1(s)},_=new JS(a,o,c,y);return s2(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),ll(new ea("auth-internal",e=>{const i=$o(e.getProvider("auth").getImmediate());return(a=>new Ax(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),cr(b_,A_,Sx(s)),cr(b_,A_,"esm2020")}const wx=300,Rx=Lv("authIdTokenMaxAge")||wx;let S_=null;const Cx=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Rx)return;const o=i?.token;S_!==o&&(S_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Ix(s=qv()){const e=Vm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=i2(s,{popupRedirectResolver:bx,persistence:[M2,T2,p1]}),a=Lv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Cx(c.toString());y2(i,d,()=>d(i.currentUser)),g2(i,g=>d(g))}}const o=Vv("auth");return o&&r2(i,`http://${o}`),i}function Nx(){return document.getElementsByTagName("head")?.[0]??document}WS({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=Li("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",Nx().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xx("Browser");var x_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hr,b1;(function(){var s;function e(I,w){function C(){}C.prototype=w.prototype,I.F=w.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(S,D,k){for(var R=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)R[nt-2]=arguments[nt];return w.prototype[D].apply(S,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,w,C){C||(C=0);const S=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)S[D]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(D=0;D<16;++D)S[D]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=I.g[0],C=I.g[1],D=I.g[2];let k=I.g[3],R;R=w+(k^C&(D^k))+S[0]+3614090360&4294967295,w=C+(R<<7&4294967295|R>>>25),R=k+(D^w&(C^D))+S[1]+3905402710&4294967295,k=w+(R<<12&4294967295|R>>>20),R=D+(C^k&(w^C))+S[2]+606105819&4294967295,D=k+(R<<17&4294967295|R>>>15),R=C+(w^D&(k^w))+S[3]+3250441966&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(k^C&(D^k))+S[4]+4118548399&4294967295,w=C+(R<<7&4294967295|R>>>25),R=k+(D^w&(C^D))+S[5]+1200080426&4294967295,k=w+(R<<12&4294967295|R>>>20),R=D+(C^k&(w^C))+S[6]+2821735955&4294967295,D=k+(R<<17&4294967295|R>>>15),R=C+(w^D&(k^w))+S[7]+4249261313&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(k^C&(D^k))+S[8]+1770035416&4294967295,w=C+(R<<7&4294967295|R>>>25),R=k+(D^w&(C^D))+S[9]+2336552879&4294967295,k=w+(R<<12&4294967295|R>>>20),R=D+(C^k&(w^C))+S[10]+4294925233&4294967295,D=k+(R<<17&4294967295|R>>>15),R=C+(w^D&(k^w))+S[11]+2304563134&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(k^C&(D^k))+S[12]+1804603682&4294967295,w=C+(R<<7&4294967295|R>>>25),R=k+(D^w&(C^D))+S[13]+4254626195&4294967295,k=w+(R<<12&4294967295|R>>>20),R=D+(C^k&(w^C))+S[14]+2792965006&4294967295,D=k+(R<<17&4294967295|R>>>15),R=C+(w^D&(k^w))+S[15]+1236535329&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(D^k&(C^D))+S[1]+4129170786&4294967295,w=C+(R<<5&4294967295|R>>>27),R=k+(C^D&(w^C))+S[6]+3225465664&4294967295,k=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(k^w))+S[11]+643717713&4294967295,D=k+(R<<14&4294967295|R>>>18),R=C+(k^w&(D^k))+S[0]+3921069994&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^k&(C^D))+S[5]+3593408605&4294967295,w=C+(R<<5&4294967295|R>>>27),R=k+(C^D&(w^C))+S[10]+38016083&4294967295,k=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(k^w))+S[15]+3634488961&4294967295,D=k+(R<<14&4294967295|R>>>18),R=C+(k^w&(D^k))+S[4]+3889429448&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^k&(C^D))+S[9]+568446438&4294967295,w=C+(R<<5&4294967295|R>>>27),R=k+(C^D&(w^C))+S[14]+3275163606&4294967295,k=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(k^w))+S[3]+4107603335&4294967295,D=k+(R<<14&4294967295|R>>>18),R=C+(k^w&(D^k))+S[8]+1163531501&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^k&(C^D))+S[13]+2850285829&4294967295,w=C+(R<<5&4294967295|R>>>27),R=k+(C^D&(w^C))+S[2]+4243563512&4294967295,k=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(k^w))+S[7]+1735328473&4294967295,D=k+(R<<14&4294967295|R>>>18),R=C+(k^w&(D^k))+S[12]+2368359562&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(C^D^k)+S[5]+4294588738&4294967295,w=C+(R<<4&4294967295|R>>>28),R=k+(w^C^D)+S[8]+2272392833&4294967295,k=w+(R<<11&4294967295|R>>>21),R=D+(k^w^C)+S[11]+1839030562&4294967295,D=k+(R<<16&4294967295|R>>>16),R=C+(D^k^w)+S[14]+4259657740&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^k)+S[1]+2763975236&4294967295,w=C+(R<<4&4294967295|R>>>28),R=k+(w^C^D)+S[4]+1272893353&4294967295,k=w+(R<<11&4294967295|R>>>21),R=D+(k^w^C)+S[7]+4139469664&4294967295,D=k+(R<<16&4294967295|R>>>16),R=C+(D^k^w)+S[10]+3200236656&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^k)+S[13]+681279174&4294967295,w=C+(R<<4&4294967295|R>>>28),R=k+(w^C^D)+S[0]+3936430074&4294967295,k=w+(R<<11&4294967295|R>>>21),R=D+(k^w^C)+S[3]+3572445317&4294967295,D=k+(R<<16&4294967295|R>>>16),R=C+(D^k^w)+S[6]+76029189&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^k)+S[9]+3654602809&4294967295,w=C+(R<<4&4294967295|R>>>28),R=k+(w^C^D)+S[12]+3873151461&4294967295,k=w+(R<<11&4294967295|R>>>21),R=D+(k^w^C)+S[15]+530742520&4294967295,D=k+(R<<16&4294967295|R>>>16),R=C+(D^k^w)+S[2]+3299628645&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(D^(C|~k))+S[0]+4096336452&4294967295,w=C+(R<<6&4294967295|R>>>26),R=k+(C^(w|~D))+S[7]+1126891415&4294967295,k=w+(R<<10&4294967295|R>>>22),R=D+(w^(k|~C))+S[14]+2878612391&4294967295,D=k+(R<<15&4294967295|R>>>17),R=C+(k^(D|~w))+S[5]+4237533241&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~k))+S[12]+1700485571&4294967295,w=C+(R<<6&4294967295|R>>>26),R=k+(C^(w|~D))+S[3]+2399980690&4294967295,k=w+(R<<10&4294967295|R>>>22),R=D+(w^(k|~C))+S[10]+4293915773&4294967295,D=k+(R<<15&4294967295|R>>>17),R=C+(k^(D|~w))+S[1]+2240044497&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~k))+S[8]+1873313359&4294967295,w=C+(R<<6&4294967295|R>>>26),R=k+(C^(w|~D))+S[15]+4264355552&4294967295,k=w+(R<<10&4294967295|R>>>22),R=D+(w^(k|~C))+S[6]+2734768916&4294967295,D=k+(R<<15&4294967295|R>>>17),R=C+(k^(D|~w))+S[13]+1309151649&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~k))+S[4]+4149444226&4294967295,w=C+(R<<6&4294967295|R>>>26),R=k+(C^(w|~D))+S[11]+3174756917&4294967295,k=w+(R<<10&4294967295|R>>>22),R=D+(w^(k|~C))+S[2]+718787259&4294967295,D=k+(R<<15&4294967295|R>>>17),R=C+(k^(D|~w))+S[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+k&4294967295}a.prototype.v=function(I,w){w===void 0&&(w=I.length);const C=w-this.blockSize,S=this.C;let D=this.h,k=0;for(;k<w;){if(D==0)for(;k<=C;)o(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<w;)if(S[D++]=I.charCodeAt(k++),D==this.blockSize){o(this,S),D=0;break}}else for(;k<w;)if(S[D++]=I[k++],D==this.blockSize){o(this,S),D=0;break}}this.h=D,this.o+=w},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,C=0;C<4;++C)for(let S=0;S<32;S+=8)I[w++]=this.g[C]>>>S&255;return I};function c(I,w){var C=g;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=w(I)}function d(I,w){this.h=w;const C=[];let S=!0;for(let D=I.length-1;D>=0;D--){const k=I[D]|0;S&&k==w||(C[D]=k,S=!1)}this.g=C}var g={};function y(I){return-128<=I&&I<128?c(I,function(w){return new d([w|0],w<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return x;if(I<0)return $(_(-I));const w=[];let C=1;for(let S=0;I>=C;S++)w[S]=I/C|0,C*=4294967296;return new d(w,0)}function T(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return $(T(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(w,8));let S=x;for(let k=0;k<I.length;k+=8){var D=Math.min(8,I.length-k);const R=parseInt(I.substring(k,k+D),w);D<8?(D=_(Math.pow(w,D)),S=S.j(D).add(_(R))):(S=S.j(C),S=S.add(_(R)))}return S}var x=y(0),V=y(1),H=y(16777216);s=d.prototype,s.m=function(){if(se(this))return-$(this).m();let I=0,w=1;for(let C=0;C<this.g.length;C++){const S=this.i(C);I+=(S>=0?S:4294967296+S)*w,w*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(ee(this))return"0";if(se(this))return"-"+$(this).toString(I);const w=_(Math.pow(I,6));var C=this;let S="";for(;;){const D=Ge(C,w).g;C=fe(C,D.j(w));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=D,ee(C))return k+S;for(;k.length<6;)k="0"+k;S=k+S}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function ee(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function se(I){return I.h==-1}s.l=function(I){return I=fe(this,I),se(I)?-1:ee(I)?0:1};function $(I){const w=I.g.length,C=[];for(let S=0;S<w;S++)C[S]=~I.g[S];return new d(C,~I.h).add(V)}s.abs=function(){return se(this)?$(this):this},s.add=function(I){const w=Math.max(this.g.length,I.g.length),C=[];let S=0;for(let D=0;D<=w;D++){let k=S+(this.i(D)&65535)+(I.i(D)&65535),R=(k>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);S=R>>>16,k&=65535,R&=65535,C[D]=R<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function fe(I,w){return I.add($(w))}s.j=function(I){if(ee(this)||ee(I))return x;if(se(this))return se(I)?$(this).j($(I)):$($(this).j(I));if(se(I))return $(this.j($(I)));if(this.l(H)<0&&I.l(H)<0)return _(this.m()*I.m());const w=this.g.length+I.g.length,C=[];for(var S=0;S<2*w;S++)C[S]=0;for(S=0;S<this.g.length;S++)for(let D=0;D<I.g.length;D++){const k=this.i(S)>>>16,R=this.i(S)&65535,nt=I.i(D)>>>16,_t=I.i(D)&65535;C[2*S+2*D]+=R*_t,Ee(C,2*S+2*D),C[2*S+2*D+1]+=k*_t,Ee(C,2*S+2*D+1),C[2*S+2*D+1]+=R*nt,Ee(C,2*S+2*D+1),C[2*S+2*D+2]+=k*nt,Ee(C,2*S+2*D+2)}for(I=0;I<w;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=w;I<2*w;I++)C[I]=0;return new d(C,0)};function Ee(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function _e(I,w){this.g=I,this.h=w}function Ge(I,w){if(ee(w))throw Error("division by zero");if(ee(I))return new _e(x,x);if(se(I))return w=Ge($(I),w),new _e($(w.g),$(w.h));if(se(w))return w=Ge(I,$(w)),new _e($(w.g),w.h);if(I.g.length>30){if(se(I)||se(w))throw Error("slowDivide_ only works with positive integers.");for(var C=V,S=w;S.l(I)<=0;)C=Be(C),S=Be(S);var D=Oe(C,1),k=Oe(S,1);for(S=Oe(S,2),C=Oe(C,2);!ee(S);){var R=k.add(S);R.l(I)<=0&&(D=D.add(C),k=R),S=Oe(S,1),C=Oe(C,1)}return w=fe(I,D.j(w)),new _e(D,w)}for(D=x;I.l(w)>=0;){for(C=Math.max(1,Math.floor(I.m()/w.m())),S=Math.ceil(Math.log(C)/Math.LN2),S=S<=48?1:Math.pow(2,S-48),k=_(C),R=k.j(w);se(R)||R.l(I)>0;)C-=S,k=_(C),R=k.j(w);ee(k)&&(k=V),D=D.add(k),I=fe(I,R)}return new _e(D,I)}s.B=function(I){return Ge(this,I).h},s.and=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let S=0;S<w;S++)C[S]=this.i(S)&I.i(S);return new d(C,this.h&I.h)},s.or=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let S=0;S<w;S++)C[S]=this.i(S)|I.i(S);return new d(C,this.h|I.h)},s.xor=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let S=0;S<w;S++)C[S]=this.i(S)^I.i(S);return new d(C,this.h^I.h)};function Be(I){const w=I.g.length+1,C=[];for(let S=0;S<w;S++)C[S]=I.i(S)<<1|I.i(S-1)>>>31;return new d(C,I.h)}function Oe(I,w){const C=w>>5;w%=32;const S=I.g.length-C,D=[];for(let k=0;k<S;k++)D[k]=w>0?I.i(k+C)>>>w|I.i(k+C+1)<<32-w:I.i(k+C);return new d(D,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,b1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,hr=d}).apply(typeof x_<"u"?x_:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var A1,xo,S1,Gc,fm,x1,w1,R1;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var A=0;A<u.length-1;A++){var j=u[A];if(!(j in v))break e;v=v[j]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function x(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,j,B){for(var te=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)te[Ie-2]=arguments[Ie];return m.prototype[j].apply(A,te)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function ee(u,m){for(let A=1;A<arguments.length;A++){const j=arguments[A];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=u.length||0;const B=j.length||0;u.length=v+B;for(let te=0;te<B;te++)u[v+te]=j[te]}else u.push(j)}}class se{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function fe(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ee{constructor(){this.h=this.g=null}add(m,v){const A=_e.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var _e=new se(()=>new Ge,u=>u.reset());class Ge{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Be,Oe=!1,I=new Ee,w=()=>{const u=Promise.resolve(void 0);Be=()=>{u.then(C)}};function C(){for(var u;u=fe();){try{u.h.call(u.g)}catch(v){$(v)}var m=_e;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Oe=!1}function S(){this.u=this.u,this.C=this.C}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function nt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}x(nt,D),nt.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&nt.Z.h.call(this)},nt.prototype.h=function(){nt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var _t="closure_listenable_"+(Math.random()*1e6|0),G=0;function ie(u,m,v,A,j){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=j,this.key=++G,this.da=this.fa=!1}function me(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function qe(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function Ke(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(u,m){let v,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(v in A)u[v]=A[v];for(let B=0;B<Q.length;B++)v=Q[B],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,m,v,A,j){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const te=Re(u,m,A,j);return te>-1?(m=u[te],v||(m.fa=!1)):(m=new ie(m,this.src,B,!!A,j),m.fa=v,u.push(m)),m};function be(u,m){const v=m.type;if(v in u.g){var A=u.g[v],j=Array.prototype.indexOf.call(A,m,void 0),B;(B=j>=0)&&Array.prototype.splice.call(A,j,1),B&&(me(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Re(u,m,v,A){for(let j=0;j<u.length;++j){const B=u[j];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==A)return j}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),vt={};function ot(u,m,v,A,j){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ot(u,m[B],v,A,j);return null}return v=de(v),u&&u[_t]?u.J(m,v,g(A)?!!A.capture:!1,j):Gi(u,m,v,!1,A,j)}function Gi(u,m,v,A,j,B){if(!m)throw Error("Invalid event type");const te=g(j)?!!j.capture:!!j;let Ie=re(u);if(Ie||(u[Me]=Ie=new ae(u)),v=Ie.add(m,v,A,te,B),v.proxy)return v;if(A=Ts(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)k||(j=te),j===void 0&&(j=!1),u.addEventListener(m.toString(),A,j);else if(u.attachEvent)u.attachEvent(cn(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ts(){function u(v){return m.call(u.src,u.listener,v)}const m=bs;return u}function nn(u,m,v,A,j){if(Array.isArray(m))for(var B=0;B<m.length;B++)nn(u,m[B],v,A,j);else A=g(A)?!!A.capture:!!A,v=de(v),u&&u[_t]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Re(m,v,A,j),v>-1&&(me(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=re(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Re(m,v,A,j)),(v=u>-1?m[u]:null)&&Ft(v))}function Ft(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[_t])be(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(cn(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=re(m))?(be(v,u),v.h==0&&(v.src=null,m[Me]=null)):me(u)}}}function cn(u){return u in vt?vt[u]:vt[u]="on"+u}function bs(u,m){if(u.da)u=!0;else{m=new nt(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&Ft(u),u=v.call(A,m)}return u}function re(u){return u=u[Me],u instanceof ae?u:null}var oe="__closure_events_fn_"+(Math.random()*1e9>>>0);function de(u){return typeof u=="function"?u:(u[oe]||(u[oe]=function(m){return u.handleEvent(m)}),u[oe])}function K(){S.call(this),this.i=new ae(this),this.M=this,this.G=null}x(K,S),K.prototype[_t]=!0,K.prototype.removeEventListener=function(u,m,v,A){nn(this,u,m,v,A)};function W(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var j=m;m=new D(A,u),ne(m,j)}j=!0;let B,te;if(v)for(te=v.length-1;te>=0;te--)B=m.g=v[te],j=ge(B,A,!0,m)&&j;if(B=m.g=u,j=ge(B,A,!0,m)&&j,j=ge(B,A,!1,m)&&j,v)for(te=0;te<v.length;te++)B=m.g=v[te],j=ge(B,A,!1,m)&&j}K.prototype.N=function(){if(K.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)me(v[A]);delete u.g[m],u.h--}}this.G=null},K.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},K.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function ge(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let B=0;B<m.length;++B){const te=m[B];if(te&&!te.da&&te.capture==v){const Ie=te.listener,At=te.ha||te.src;te.fa&&be(u.i,te),j=Ie.call(At,A)!==!1&&j}}return j&&!A.defaultPrevented}function Ce(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function sn(u){u.g=Ce(()=>{u.g=null,u.i&&(u.i=!1,sn(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ze extends S{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:sn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yt(u){S.call(this),this.h=u,this.g={}}x(Yt,S);var hn=[];function As(u){qe(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ft(m)},u),u.g={}}Yt.prototype.N=function(){Yt.Z.N.call(this),As(this)},Yt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ss=d.JSON.stringify,Ph=d.JSON.parse,ru=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function au(){}function lu(){}var Wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qt(){D.call(this,"d")}x(Qt,D);function jn(){D.call(this,"c")}x(jn,D);var bt={},ou=null;function la(){return ou=ou||new K}bt.Ia="serverreachability";function uu(u){D.call(this,bt.Ia,u)}x(uu,D);function mi(u){const m=la();W(m,new uu(m))}bt.STAT_EVENT="statevent";function br(u,m){D.call(this,bt.STAT_EVENT,u),this.stat=m}x(br,D);function Rt(u){const m=la();W(m,new br(m,u))}bt.Ja="timingevent";function pi(u,m){D.call(this,bt.Ja,u),this.size=m}x(pi,D);function gi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ei(){this.g=!0}ei.prototype.ua=function(){this.g=!1};function zh(u,m,v,A,j,B){u.info(function(){if(u.g)if(B){var te="",Ie=B.split("&");for(let Xe=0;Xe<Ie.length;Xe++){var At=Ie[Xe].split("=");if(At.length>1){const mt=At[0];At=At[1];const Bn=mt.split("_");te=Bn.length>=2&&Bn[1]=="type"?te+(mt+"="+At+"&"):te+(mt+"=redacted&")}}}else te=null;else te=B;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+m+`
`+v+`
`+te})}function cu(u,m,v,A,j,B,te){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+m+`
`+v+`
`+B+" "+te})}function yi(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Bh(u,v)+(A?" "+A:"")})}function Ar(u,m){u.info(function(){return"TIMEOUT: "+m})}ei.prototype.info=function(){};function Bh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var j=A[0];if(j!="noop"&&j!="stop"&&j!="close")for(let te=1;te<A.length;te++)A[te]=""}}}}return Ss(B)}catch{return m}}var Sr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Al;function xr(){}x(xr,au),xr.prototype.g=function(){return new XMLHttpRequest},Al=new xr;function Fi(u){return encodeURIComponent(String(u))}function hu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ti(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new Yt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var Ct={},Bt={};function _i(u,m,v){u.M=1,u.A=wr(Nt(m)),u.u=v,u.R=!0,oa(u,null)}function oa(u,m){u.F=Date.now(),vi(u),u.B=Nt(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),fa(v.i,"t",A),u.C=0,v=u.j.L,u.h=new ni,u.g=wu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Ze(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var j="readystatechange";Array.isArray(j)||(j&&(hn[0]=j.toString()),j=hn);for(let B=0;B<j.length;B++){const te=ot(v,j[B],A||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),mi(),zh(u.i,u.v,u.B,u.l,u.S,u.u)}ti.prototype.ba=function(u){u=u.target;const m=this.O;m&&ri(u)==3?m.j():this.Y(u)},ti.prototype.Y=function(u){try{if(u==this.g)e:{const Ie=ri(this.g),At=this.g.ya(),Xe=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||Ie!=4||At==7||(At==8||Xe<=0?mi(3):mi(2)),Ei(this);var m=this.g.ca();this.X=m;var v=qh(this);if(this.o=m==200,cu(this.i,this.v,this.B,this.l,this.S,Ie,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var B=A;break t}}B=null}if(u=B)yi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ti(this,u);else{this.o=!1,this.m=3,Rt(12),Rn(this),Un(this);break e}}if(this.R){u=!0;let mt;for(;!this.K&&this.C<v.length;)if(mt=du(this,v),mt==Bt){Ie==4&&(this.m=4,Rt(14),u=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==Ct){this.m=4,Rt(15),yi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else yi(this.i,this.l,mt,null),Ti(this,mt);if(fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||v.length!=0||this.h.h||(this.m=1,Rt(16),u=!1),this.o=this.o&&u,!u)yi(this.i,this.l,v,"[Invalid Chunked Response]"),Rn(this),Un(this);else if(v.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Ul(te),te.P=!0,Rt(11))}}else yi(this.i,this.l,v,null),Ti(this,v);Ie==4&&Rn(this),this.o&&!this.K&&(Ie==4?bu(this.j,this):(this.o=!1,vi(this)))}else Qi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),Rn(this),Un(this)}}}catch{}};function qh(u){if(!fu(u))return u.g.la();const m=Kt(u.g);if(m==="")return"";let v="";const A=m.length,j=ri(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Rn(u),Un(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<A;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(j&&B==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function fu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function du(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?Bt:(v=Number(m.substring(v,A)),isNaN(v)?Ct:(A+=1,A+v>m.length?Bt:(m=m.slice(A,A+v),u.C=A+v,m)))}ti.prototype.cancel=function(){this.K=!0,Rn(this)};function vi(u){u.T=Date.now()+u.H,ua(u,u.H)}function ua(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=gi(_(u.aa,u),m)}function Ei(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ti.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ar(this.i,this.B),this.M!=2&&(mi(),Rt(17)),Rn(this),this.m=2,Un(this)):ua(this,this.T-u)};function Un(u){u.j.I==0||u.K||bu(u.j,u)}function Rn(u){Ei(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,As(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ti(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ai(v.h,u))){if(!u.L&&Ai(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ya(v),Os(v);else break e;Mr(v),Rt(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=gi(_(v.Va,v),6e3));bi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ii(v,11)}else if((u.L||v.g==u)&&ya(v),!R(m))for(j=v.Ba.g.parse(m),m=0;m<j.length;m++){let Xe=j[m];const mt=Xe[0];if(!(mt<=v.K))if(v.K=mt,Xe=Xe[1],v.I==2)if(Xe[0]=="c"){v.M=Xe[1],v.ba=Xe[2];const Bn=Xe[3];Bn!=null&&(v.ka=Bn,v.j.info("VER="+v.ka));const Ni=Xe[4];Ni!=null&&(v.za=Ni,v.j.info("SVER="+v.za));const ai=Xe[5];ai!=null&&typeof ai=="number"&&ai>0&&(A=1.5*ai,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const li=u.g;if(li){const Vr=li.g?li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vr){var B=A.h;B.g||Vr.indexOf("spdy")==-1&&Vr.indexOf("quic")==-1&&Vr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(wl(B,B.h),B.h=null))}if(A.G){const _a=li.g?li.g.getResponseHeader("X-HTTP-Session-Id"):null;_a&&(A.wa=_a,We(A.J,A.G,_a))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var te=u;if(A.na=xu(A,A.L?A.ba:null,A.W),te.L){Rl(A.h,te);var Ie=te,At=A.O;At&&(Ie.H=At),Ie.D&&(Ei(Ie),vi(Ie)),A.g=te}else Eu(A);v.i.length>0&&Ci(v)}else Xe[0]!="stop"&&Xe[0]!="close"||Ii(v,7);else v.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Ii(v,7):Ll(v):Xe[0]!="noop"&&v.l&&v.l.qa(Xe),v.A=0)}}mi(4)}catch{}}var It=class{constructor(u,m){this.g=u,this.map=m}};function Sl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function bi(u){return u.h?1:u.g?u.g.size:0}function Ai(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function wl(u,m){u.g?u.g.add(m):u.h=m}function Rl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Sl.prototype.cancel=function(){if(this.i=Cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Cl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var mu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ca(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let j,B=null;A>=0?(j=u[v].substring(0,A),B=u[v].substring(A+1)):j=u[v],m(j,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Cn?(this.l=u.l,qt(this,u.j),this.o=u.o,this.g=u.g,xs(this,u.u),this.h=u.h,Il(this,_u(u.i)),this.m=u.m):u&&(m=String(u).match(mu))?(this.l=!1,qt(this,m[1]||"",!0),this.o=Si(m[2]||""),this.g=Si(m[3]||"",!0),xs(this,m[4]),this.h=Si(m[5]||"",!0),Il(this,m[6]||"",!0),this.m=Si(m[7]||"")):(this.l=!1,this.i=new Rs(null,this.l))}Cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Rr(m,ha,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Rr(m,ha,!0),"@"),u.push(Fi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Rr(v,v.charAt(0)=="/"?Nl:pu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Rr(v,gu)),u.join("")},Cn.prototype.resolve=function(u){const m=Nt(this);let v=!!u.j;v?qt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)xs(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var j=m.h.lastIndexOf("/");j!=-1&&(A=m.h.slice(0,j+1)+A)}if(j=A,j==".."||j==".")A="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){A=j.lastIndexOf("/",0)==0,j=j.split("/");const B=[];for(let te=0;te<j.length;){const Ie=j[te++];Ie=="."?A&&te==j.length&&B.push(""):Ie==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),A&&te==j.length&&B.push("")):(B.push(Ie),A=!0)}A=B.join("/")}else A=j}return v?m.h=A:v=u.i.toString()!=="",v?Il(m,_u(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Nt(u){return new Cn(u)}function qt(u,m,v){u.j=v?Si(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function xs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Il(u,m,v){m instanceof Rs?(u.i=m,da(u.i,u.l)):(v||(m=Rr(m,ws)),u.i=new Rs(m,u.l))}function We(u,m,v){u.i.set(m,v)}function wr(u){return We(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Si(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Rr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,yn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function yn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ha=/[#\/\?@]/g,pu=/[#\?:]/g,Nl=/[#\?]/g,ws=/[#\?@]/g,gu=/#/g;function Rs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&ca(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Rs.prototype,s.add=function(u,m){_n(this),this.i=null,u=Cs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function yu(u,m){_n(u),m=Cs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Dl(u,m){return _n(u),m=Cs(u,m),u.g.has(m)}s.forEach=function(u,m){_n(this),this.g.forEach(function(v,A){v.forEach(function(j){u.call(m,j,A,this)},this)},this)};function Ol(u,m){_n(u);let v=[];if(typeof m=="string")Dl(u,m)&&(v=v.concat(u.g.get(Cs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return _n(this),this.i=null,u=Cs(this,u),Dl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Ol(this,u),u.length>0?String(u[0]):m):m};function fa(u,m,v){yu(u,m),v.length>0&&(u.i=null,u.g.set(Cs(u,m),H(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const j=Fi(v);v=Ol(this,v);for(let B=0;B<v.length;B++){let te=j;v[B]!==""&&(te+="="+Fi(v[B])),u.push(te)}}return this.i=u.join("&")};function _u(u){const m=new Rs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Cs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function da(u,m){m&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(v,A){const j=A.toLowerCase();A!=j&&(yu(this,A),fa(this,j,v))},u)),u.j=m}function ii(u,m){const v=new ei;if(d.Image){const A=new Image;A.onload=T(Pn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=T(Pn,v,"TestLoadImage: error",!1,m,A),A.onabort=T(Pn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(Pn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Ml(u,m){const v=new ei,A=new AbortController,j=setTimeout(()=>{A.abort(),Pn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(B=>{clearTimeout(j),B.ok?Pn(v,"TestPingServer: ok",!0,m):Pn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Pn(v,"TestPingServer: error",!1,m)})}function Pn(u,m,v,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(v)}catch{}}function Is(){this.g=new ru}function xi(u){this.i=u.Sb||null,this.h=u.ab||!1}x(xi,au),xi.prototype.g=function(){return new Cr(this.i,this.h)};function Cr(u,m){K.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Cr,K),s=Cr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,si(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ns(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ma(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ma(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ns(this):si(this),this.readyState==3&&ma(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ns(this))},s.Na=function(u){this.g&&(this.response=u,Ns(this))},s.ga=function(){this.g&&Ns(this)};function Ns(u){u.readyState=4,u.l=null,u.j=null,u.B=null,si(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function si(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function zn(u){let m="";return qe(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Ir(u,m,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=zn(v),typeof u=="string"?v!=null&&Fi(v):We(u,m,v))}function it(u){K.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(it,K);var wi=/^https?$/i,Vl=["POST","PUT"];s=it.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Al.g(),this.g.onreadystatechange=V(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Nr(this,B);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)v.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const B of A.keys())v.set(B,A.get(B));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),j=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Vl,m,void 0)>=0)||A||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,te]of v)this.g.setRequestHeader(B,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Nr(this,B)}};function Nr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,kl(u),Yi(u)}function kl(u){u.A||(u.A=!0,W(u,"complete"),W(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,W(this,"complete"),W(this,"abort"),Yi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yi(this,!0)),it.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Dr(this):this.Xa())},s.Xa=function(){Dr(this)};function Dr(u){if(u.h&&typeof c<"u"){if(u.v&&ri(u)==4)setTimeout(u.Ca.bind(u),0);else if(W(u,"readystatechange"),ri(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var A;if(A=B===0){let te=String(u.D).match(mu)[1]||null;!te&&d.self&&d.self.location&&(te=d.self.location.protocol.slice(0,-1)),A=!wi.test(te?te.toLowerCase():"")}v=A}if(v)W(u,"complete"),W(u,"success");else{u.o=6;try{var j=ri(u)>2?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.ca()+"]",kl(u)}}finally{Yi(u)}}}}function Yi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||W(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ri(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ri(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ph(m)}};function Kt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Qi(u){const m={};u=(u.g&&ri(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(R(u[A]))continue;var v=hu(u[A]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[j]||[];m[j]=B,B.push(v)}Ke(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ds(u){this.za=0,this.i=[],this.j=new ei,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ri("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ri("baseRetryDelayMs",5e3,u),this.Za=Ri("retryDelaySeedMs",1e4,u),this.Ta=Ri("forwardChannelMaxRetries",2,u),this.va=Ri("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Sl(u&&u.concurrentRequestLimit),this.Ba=new Is,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ds.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,A){Rt(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=xu(this,null,this.W),Ci(this)};function Ll(u){if(pa(u),u.I==3){var m=u.V++,v=Nt(u.J);if(We(v,"SID",u.M),We(v,"RID",m),We(v,"TYPE","terminate"),Or(u,v),m=new ti(u,u.j,m),m.M=2,m.A=wr(Nt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=wu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),vi(m)}Su(u)}function Os(u){u.g&&(Ul(u),u.g.cancel(),u.g=null)}function pa(u){Os(u),u.v&&(d.clearTimeout(u.v),u.v=null),ya(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ci(u){if(!xl(u.h)&&!u.m){u.m=!0;var m=u.Ea;Be||w(),Oe||(Be(),Oe=!0),I.add(m,u),u.D=0}}function ga(u,m){return bi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=gi(_(u.Ea,u,m),Au(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const j=new ti(this,this.j,u);let B=this.o;if(this.U&&(B?(B=M(B),ne(B,this.U)):B=this.U),this.u!==null||this.R||(j.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=vu(this,j,m),v=Nt(this.J),We(v,"RID",u),We(v,"CVER",22),this.G&&We(v,"X-HTTP-Session-Id",this.G),Or(this,v),B&&(this.R?m="headers="+Fi(zn(B))+"&"+m:this.u&&Ir(v,this.u,B)),wl(this.h,j),this.Ra&&We(v,"TYPE","init"),this.S?(We(v,"$req",m),We(v,"SID","null"),j.U=!0,_i(j,v,null)):_i(j,v,m),this.I=2}}else this.I==3&&(u?jl(this,u):this.i.length==0||xl(this.h)||jl(this))};function jl(u,m){var v;m?v=m.l:v=u.V++;const A=Nt(u.J);We(A,"SID",u.M),We(A,"RID",v),We(A,"AID",u.K),Or(u,A),u.u&&u.o&&Ir(A,u.u,u.o),v=new ti(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=vu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),wl(u.h,v),_i(v,A,m)}function Or(u,m){u.H&&qe(u.H,function(v,A){We(m,A,v)}),u.l&&qe({},function(v,A){We(m,A,v)})}function vu(u,m,v){v=Math.min(u.i.length,v);const A=u.l?_(u.l.Ka,u.l,u):null;e:{var j=u.i;let Ie=-1;for(;;){const At=["count="+v];Ie==-1?v>0?(Ie=j[0].g,At.push("ofs="+Ie)):Ie=0:At.push("ofs="+Ie);let Xe=!0;for(let mt=0;mt<v;mt++){var B=j[mt].g;const Bn=j[mt].map;if(B-=Ie,B<0)Ie=Math.max(0,j[mt].g-100),Xe=!1;else try{B="req"+B+"_"||"";try{var te=Bn instanceof Map?Bn:Object.entries(Bn);for(const[Ni,ai]of te){let li=ai;g(ai)&&(li=Ss(ai)),At.push(B+Ni+"="+encodeURIComponent(li))}}catch(Ni){throw At.push(B+"type="+encodeURIComponent("_badmap")),Ni}}catch{A&&A(Bn)}}if(Xe){te=At.join("&");break e}}te=void 0}return u=u.i.splice(0,v),m.G=u,te}function Eu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Be||w(),Oe||(Be(),Oe=!0),I.add(m,u),u.A=0}}function Mr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=gi(_(u.Da,u),Au(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Tu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=gi(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),Os(this),Tu(this))};function Ul(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Tu(u){u.g=new ti(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Nt(u.na);We(m,"RID","rpc"),We(m,"SID",u.M),We(m,"AID",u.K),We(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&We(m,"TO",u.ia),We(m,"TYPE","xmlhttp"),Or(u,m),u.u&&u.o&&Ir(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=wr(Nt(m)),v.u=null,v.R=!0,oa(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Os(this),Mr(this),Rt(19))};function ya(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function bu(u,m){var v=null;if(u.g==m){ya(u),Ul(u),u.g=null;var A=2}else if(Ai(u.h,m))v=m.G,Rl(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var j=u.D;A=la(),W(A,new pi(A,v)),Ci(u)}else Eu(u);else if(j=m.m,j==3||j==0&&m.X>0||!(A==1&&ga(u,m)||A==2&&Mr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),j){case 1:Ii(u,5);break;case 4:Ii(u,10);break;case 3:Ii(u,6);break;default:Ii(u,2)}}}function Au(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ii(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),A=u.Ua;const j=!A;A=new Cn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||qt(A,"https"),wr(A),j?ii(A.toString(),v):Ml(A.toString(),v)}else Rt(2);u.I=0,u.l&&u.l.pa(m),Su(u),pa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function Su(u){if(u.I=0,u.ja=[],u.l){const m=Cl(u.h);(m.length!=0||u.i.length!=0)&&(ee(u.ja,m),ee(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function xu(u,m,v){var A=v instanceof Cn?Nt(v):new Cn(v);if(A.g!="")m&&(A.g=m+"."+A.g),xs(A,A.u);else{var j=d.location;A=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const B=new Cn(null);A&&qt(B,A),m&&(B.g=m),j&&xs(B,j),v&&(B.h=v),A=B}return v=u.G,m=u.wa,v&&m&&We(A,v,m),We(A,"VER",u.ka),Or(u,A),A}function wu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new it(new xi({ab:v})):new it(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ru(){}s=Ru.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ms(){}Ms.prototype.g=function(u,m){return new fn(u,m)};function fn(u,m){K.call(this),this.g=new Ds(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ki(this)}x(fn,K),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Ll(this.g)},fn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Ss(u),u=v);m.i.push(new It(m.Ya++,u)),m.I==3&&Ci(m)},fn.prototype.N=function(){this.g.l=null,delete this.j,Ll(this.g),delete this.g,fn.Z.N.call(this)};function Cu(u){Qt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}x(Cu,Qt);function Iu(){jn.call(this),this.status=1}x(Iu,jn);function Ki(u){this.g=u}x(Ki,Ru),Ki.prototype.ra=function(){W(this.g,"a")},Ki.prototype.qa=function(u){W(this.g,new Cu(u))},Ki.prototype.pa=function(u){W(this.g,new Iu)},Ki.prototype.oa=function(){W(this.g,"b")},Ms.prototype.createWebChannel=Ms.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,R1=function(){return new Ms},w1=function(){return la()},x1=bt,fm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Sr.NO_ERROR=0,Sr.TIMEOUT=8,Sr.HTTP_ERROR=6,Gc=Sr,bl.COMPLETE="complete",S1=bl,lu.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",K.prototype.listen=K.prototype.J,xo=lu,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,A1=it}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});const w_="@firebase/firestore",R_="4.9.3";let ln=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let _l="12.7.0";const na=new Om("@firebase/firestore");function Xa(){return na.logLevel}function le(s,...e){if(na.logLevel<=Ue.DEBUG){const i=e.map(Hm);na.debug(`Firestore (${_l}): ${s}`,...i)}}function _s(s,...e){if(na.logLevel<=Ue.ERROR){const i=e.map(Hm);na.error(`Firestore (${_l}): ${s}`,...i)}}function ol(s,...e){if(na.logLevel<=Ue.WARN){const i=e.map(Hm);na.warn(`Firestore (${_l}): ${s}`,...i)}}function Hm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Te(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,C1(s,a,i)}function C1(s,e,i){let a=`FIRESTORE (${_l}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw _s(a),new Error(a)}function Je(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||C1(e,o,a)}function we(s,e){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Es{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class I1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Dx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(ln.UNAUTHENTICATED)))}shutdown(){}}class Ox{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Mx{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Je(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new fr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},g=y=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new fr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Je(typeof a.accessToken=="string",31837,{l:a}),new I1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class Vx{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kx{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Vx(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class C_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Lx{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Je(this.o===void 0,3512);const a=c=>{c.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new C_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Je(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new C_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function jx(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Gm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=jx(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function Pe(s,e){return s<e?-1:s>e?1:0}function dm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return $d(o)===$d(c)?Pe(o,c):$d(o)?1:-1}return Pe(s.length,e.length)}const Ux=55296,Px=57343;function $d(s){const e=s.charCodeAt(0);return e>=Ux&&e<=Px}function ul(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const I_="__name__";class ki{constructor(e,i,a){i===void 0?i=0:i>e.length&&Te(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Te(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return ki.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ki?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=ki.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Pe(e.length,i.length)}static compareSegments(e,i){const a=ki.isNumericId(e),o=ki.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?ki.extractNumericId(e).compare(ki.extractNumericId(i)):dm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hr.fromString(e.substring(4,e.length-2))}}class gt extends ki{construct(e,i,a){return new gt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new he(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new gt(i)}static emptyPath(){return new gt([])}}const zx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends ki{construct(e,i,a){return new en(e,i,a)}static isValidIdentifier(e){return zx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===I_}static keyField(){return new en([I_])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new he(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new he(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new he(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(i)}static emptyPath(){return new en([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(gt.fromString(e))}static fromName(e){return new ye(gt.fromString(e).popFirst(5))}static empty(){return new ye(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return gt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new gt(e.slice()))}}function Bx(s,e,i){if(!i)throw new he(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function qx(s,e,i,a){if(e===!0&&a===!0)throw new he(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function N_(s){if(!ye.isDocumentKey(s))throw new he(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function N1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Fm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Te(12329,{type:typeof s})}function fi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new he(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Fm(s);throw new he(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Lt(s,e){const i={typeString:s};return e&&(i.value=e),i}function Wo(s,e){if(!N1(s))throw new he(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new he(J.INVALID_ARGUMENT,i);return!0}const D_=-62135596800,O_=1e6;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*O_);return new dt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<D_)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/O_}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wo(e,dt._jsonSchema))return new dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-D_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dt._jsonSchemaVersion="firestore/timestamp/1.0",dt._jsonSchema={type:Lt("string",dt._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new dt(0,0))}static max(){return new Se(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Uo=-1;function Hx(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(a===1e9?new dt(i+1,0):new dt(i,a));return new mr(o,ye.empty(),e)}function Gx(s){return new mr(s.readTime,s.key,Uo)}class mr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new mr(Se.min(),ye.empty(),Uo)}static max(){return new mr(Se.max(),ye.empty(),Uo)}}function Fx(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ye.comparator(s.documentKey,e.documentKey),i!==0?i:Pe(s.largestBatchId,e.largestBatchId))}const Yx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function vl(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==Yx)throw s;le("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,a)=>{i(e)}))}static reject(e){return new Z(((i,a)=>{a(e)}))}static waitFor(e){return new Z(((i,a)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(y=>a(y)))})),d=!0,c===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const a of e)i=i.next((o=>o?Z.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new Z(((a,o)=>{const c=e.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;i(e[_]).next((T=>{d[_]=T,++g,g===c&&a(d)}),(T=>o(T)))}}))}static doWhile(e,i){return new Z(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function Kx(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function El(s){return s.name==="IndexedDbTransactionError"}class Eh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Eh.ce=-1;const Ym=-1;function Th(s){return s==null}function rh(s){return s===0&&1/s==-1/0}function Xx(s){return typeof s=="number"&&Number.isInteger(s)&&!rh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const D1="";function $x(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=M_(e)),e=Zx(s.get(i),e);return M_(e)}function Zx(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case D1:i+="";break;default:i+=c}}return i}function M_(s){return s+D1+""}function V_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Er(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function O1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class yt{constructor(e,i){this.comparator=e,this.root=i||Wt.EMPTY}insert(e,i){return new yt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kc(this.root,e,this.comparator,!0)}}class kc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??Wt.RED,this.left=o??Wt.EMPTY,this.right=c??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new Wt(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Wt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new Wt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new k_(this.data.getIterator())}getIteratorFrom(e){return new k_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new zt(this.comparator);return i.data=e,i}}class k_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ln{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Ln([])}unionWith(e){let i=new zt(en.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Ln(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ul(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class M1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new M1("Invalid base64 string: "+c):c}})(e);return new tn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new tn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const Jx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pr(s){if(Je(!!s,39018),typeof s=="string"){let e=0;const i=Jx.exec(s);if(Je(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:wt(s.seconds),nanos:wt(s.nanos)}}function wt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function gr(s){return typeof s=="string"?tn.fromBase64String(s):tn.fromUint8Array(s)}const V1="server_timestamp",k1="__type__",L1="__previous_value__",j1="__local_write_time__";function Qm(s){return(s?.mapValue?.fields||{})[k1]?.stringValue===V1}function bh(s){const e=s.mapValue.fields[L1];return Qm(e)?bh(e):e}function Po(s){const e=pr(s.mapValue.fields[j1].timestampValue);return new dt(e.seconds,e.nanos)}class Wx{constructor(e,i,a,o,c,d,g,y,_,T){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=T}}const ah="(default)";class zo{constructor(e,i){this.projectId=e,this.database=i||ah}static empty(){return new zo("","")}get isDefaultDatabase(){return this.database===ah}isEqual(e){return e instanceof zo&&e.projectId===this.projectId&&e.database===this.database}}const U1="__type__",ew="__max__",Lc={mapValue:{}},P1="__vector__",lh="value";function yr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Qm(s)?4:nw(s)?9007199254740991:tw(s)?10:11:Te(28295,{value:s})}function qi(s,e){if(s===e)return!0;const i=yr(s);if(i!==yr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Po(s).isEqual(Po(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=pr(o.timestampValue),g=pr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return gr(o.bytesValue).isEqual(gr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return wt(o.geoPointValue.latitude)===wt(c.geoPointValue.latitude)&&wt(o.geoPointValue.longitude)===wt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return wt(o.integerValue)===wt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=wt(o.doubleValue),g=wt(c.doubleValue);return d===g?rh(d)===rh(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return ul(s.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(V_(d)!==V_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!qi(d[y],g[y])))return!1;return!0})(s,e);default:return Te(52216,{left:s})}}function Bo(s,e){return(s.values||[]).find((i=>qi(i,e)))!==void 0}function cl(s,e){if(s===e)return 0;const i=yr(s),a=yr(e);if(i!==a)return Pe(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=wt(c.integerValue||c.doubleValue),y=wt(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(s,e);case 3:return L_(s.timestampValue,e.timestampValue);case 4:return L_(Po(s),Po(e));case 5:return dm(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=gr(c),y=gr(d);return g.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const T=Pe(g[_],y[_]);if(T!==0)return T}return Pe(g.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Pe(wt(c.latitude),wt(d.latitude));return g!==0?g:Pe(wt(c.longitude),wt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return j_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},y=d.fields||{},_=g[lh]?.arrayValue,T=y[lh]?.arrayValue,x=Pe(_?.values?.length||0,T?.values?.length||0);return x!==0?x:j_(_,T)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Lc.mapValue&&d===Lc.mapValue)return 0;if(c===Lc.mapValue)return 1;if(d===Lc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=d.fields||{},T=Object.keys(_);y.sort(),T.sort();for(let x=0;x<y.length&&x<T.length;++x){const V=dm(y[x],T[x]);if(V!==0)return V;const H=cl(g[y[x]],_[T[x]]);if(H!==0)return H}return Pe(y.length,T.length)})(s.mapValue,e.mapValue);default:throw Te(23264,{he:i})}}function L_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Pe(s,e);const i=pr(s),a=pr(e),o=Pe(i.seconds,a.seconds);return o!==0?o:Pe(i.nanos,a.nanos)}function j_(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=cl(i[o],a[o]);if(c)return c}return Pe(i.length,a.length)}function hl(s){return mm(s)}function mm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=pr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return gr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ye.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=mm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${mm(i.fields[d])}`;return o+"}"})(s.mapValue):Te(61005,{value:s})}function Fc(s){switch(yr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bh(s);return e?16+Fc(e):16;case 5:return 2*s.stringValue.length;case 6:return gr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Fc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return Er(a.fields,((c,d)=>{o+=c.length+Fc(d)})),o})(s.mapValue);default:throw Te(13486,{value:s})}}function pm(s){return!!s&&"integerValue"in s}function Km(s){return!!s&&"arrayValue"in s}function U_(s){return!!s&&"nullValue"in s}function P_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Yc(s){return!!s&&"mapValue"in s}function tw(s){return(s?.mapValue?.fields||{})[U1]?.stringValue===P1}function Oo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Er(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Oo(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Oo(s.arrayValue.values[i]);return e}return{...s}}function nw(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===ew}class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Yc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oo(i)}setAll(e){let i=en.emptyPath(),a={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=Oo(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Yc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Yc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Er(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new wn(Oo(this.value))}}function z1(s){const e=[];return Er(s.fields,((i,a)=>{const o=new en([i]);if(Yc(a)){const c=z1(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Ln(e)}class on{constructor(e,i,a,o,c,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new on(e,0,Se.min(),Se.min(),Se.min(),wn.empty(),0)}static newFoundDocument(e,i,a,o){return new on(e,1,i,Se.min(),a,o,0)}static newNoDocument(e,i){return new on(e,2,i,Se.min(),Se.min(),wn.empty(),0)}static newUnknownDocument(e,i){return new on(e,3,i,Se.min(),Se.min(),wn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class oh{constructor(e,i){this.position=e,this.inclusive=i}}function z_(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=ye.comparator(ye.fromName(d.referenceValue),i.key):a=cl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function B_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!qi(s.position[i],e.position[i]))return!1;return!0}class uh{constructor(e,i="asc"){this.field=e,this.dir=i}}function iw(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class B1{}class Pt extends B1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new rw(e,i,a):i==="array-contains"?new ow(e,a):i==="in"?new uw(e,a):i==="not-in"?new cw(e,a):i==="array-contains-any"?new hw(e,a):new Pt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new aw(e,a):new lw(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(cl(i,this.value)):i!==null&&yr(this.value)===yr(i)&&this.matchesComparison(cl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hi extends B1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Hi(e,i)}matches(e){return q1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function q1(s){return s.op==="and"}function H1(s){return sw(s)&&q1(s)}function sw(s){for(const e of s.filters)if(e instanceof Hi)return!1;return!0}function gm(s){if(s instanceof Pt)return s.field.canonicalString()+s.op.toString()+hl(s.value);if(H1(s))return s.filters.map((e=>gm(e))).join(",");{const e=s.filters.map((i=>gm(i))).join(",");return`${s.op}(${e})`}}function G1(s,e){return s instanceof Pt?(function(a,o){return o instanceof Pt&&a.op===o.op&&a.field.isEqual(o.field)&&qi(a.value,o.value)})(s,e):s instanceof Hi?(function(a,o){return o instanceof Hi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&G1(d,o.filters[g])),!0):!1})(s,e):void Te(19439)}function F1(s){return s instanceof Pt?(function(i){return`${i.field.canonicalString()} ${i.op} ${hl(i.value)}`})(s):s instanceof Hi?(function(i){return i.op.toString()+" {"+i.getFilters().map(F1).join(" ,")+"}"})(s):"Filter"}class rw extends Pt{constructor(e,i,a){super(e,i,a),this.key=ye.fromName(a.referenceValue)}matches(e){const i=ye.comparator(e.key,this.key);return this.matchesComparison(i)}}class aw extends Pt{constructor(e,i){super(e,"in",i),this.keys=Y1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class lw extends Pt{constructor(e,i){super(e,"not-in",i),this.keys=Y1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Y1(s,e){return(e.arrayValue?.values||[]).map((i=>ye.fromName(i.referenceValue)))}class ow extends Pt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Km(i)&&Bo(i.arrayValue,this.value)}}class uw extends Pt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Bo(this.value.arrayValue,i)}}class cw extends Pt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Bo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Bo(this.value.arrayValue,i)}}class hw extends Pt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Km(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Bo(this.value.arrayValue,a)))}}class fw{constructor(e,i=null,a=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function q_(s,e=null,i=[],a=[],o=null,c=null,d=null){return new fw(s,e,i,a,o,c,d)}function Xm(s){const e=we(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>gm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Th(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>hl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>hl(a))).join(",")),e.Te=i}return e.Te}function $m(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!iw(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!G1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!B_(s.startAt,e.startAt)&&B_(s.endAt,e.endAt)}function ym(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Ah{constructor(e,i=null,a=[],o=[],c=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dw(s,e,i,a,o,c,d,g){return new Ah(s,e,i,a,o,c,d,g)}function Sh(s){return new Ah(s)}function H_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function mw(s){return s.collectionGroup!==null}function Mo(s){const e=we(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new zt(en.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new uh(c,a))})),i.has(en.keyField().canonicalString())||e.Ie.push(new uh(en.keyField(),a))}return e.Ie}function Ui(s){const e=we(s);return e.Ee||(e.Ee=pw(e,Mo(s))),e.Ee}function pw(s,e){if(s.limitType==="F")return q_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new uh(o.field,c)}));const i=s.endAt?new oh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new oh(s.startAt.position,s.startAt.inclusive):null;return q_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function _m(s,e,i){return new Ah(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function xh(s,e){return $m(Ui(s),Ui(e))&&s.limitType===e.limitType}function Q1(s){return`${Xm(Ui(s))}|lt:${s.limitType}`}function $a(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>F1(o))).join(", ")}]`),Th(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>hl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>hl(o))).join(",")),`Target(${a})`})(Ui(s))}; limitType=${s.limitType})`}function wh(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ye.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of Mo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,g,y){const _=z_(d,g,y);return d.inclusive?_<=0:_<0})(a.startAt,Mo(a),o)||a.endAt&&!(function(d,g,y){const _=z_(d,g,y);return d.inclusive?_>=0:_>0})(a.endAt,Mo(a),o))})(s,e)}function gw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function K1(s){return(e,i)=>{let a=!1;for(const o of Mo(s)){const c=yw(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function yw(s,e,i){const a=s.field.isKeyField()?ye.comparator(e.key,i.key):(function(c,d,g){const y=d.data.field(c),_=g.data.field(c);return y!==null&&_!==null?cl(y,_):Te(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Te(19790,{direction:s.dir})}}class ra{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Er(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return O1(this.inner)}size(){return this.innerSize}}const _w=new yt(ye.comparator);function vs(){return _w}const X1=new yt(ye.comparator);function wo(...s){let e=X1;for(const i of s)e=e.insert(i.key,i);return e}function $1(s){let e=X1;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Jr(){return Vo()}function Z1(){return Vo()}function Vo(){return new ra((s=>s.toString()),((s,e)=>s.isEqual(e)))}const vw=new yt(ye.comparator),Ew=new zt(ye.comparator);function ze(...s){let e=Ew;for(const i of s)e=e.add(i);return e}const Tw=new zt(Pe);function bw(){return Tw}function Zm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(e)?"-0":e}}function J1(s){return{integerValue:""+s}}function Aw(s,e){return Xx(e)?J1(e):Zm(s,e)}class Rh{constructor(){this._=void 0}}function Sw(s,e,i){return s instanceof ch?(function(o,c){const d={fields:{[k1]:{stringValue:V1},[j1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Qm(c)&&(c=bh(c)),c&&(d.fields[L1]=c),{mapValue:d}})(i,e):s instanceof fl?eE(s,e):s instanceof qo?tE(s,e):(function(o,c){const d=W1(o,c),g=G_(d)+G_(o.Ae);return pm(d)&&pm(o.Ae)?J1(g):Zm(o.serializer,g)})(s,e)}function xw(s,e,i){return s instanceof fl?eE(s,e):s instanceof qo?tE(s,e):i}function W1(s,e){return s instanceof hh?(function(a){return pm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class ch extends Rh{}class fl extends Rh{constructor(e){super(),this.elements=e}}function eE(s,e){const i=nE(e);for(const a of s.elements)i.some((o=>qi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class qo extends Rh{constructor(e){super(),this.elements=e}}function tE(s,e){let i=nE(e);for(const a of s.elements)i=i.filter((o=>!qi(o,a)));return{arrayValue:{values:i}}}class hh extends Rh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function G_(s){return wt(s.integerValue||s.doubleValue)}function nE(s){return Km(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class ww{constructor(e,i){this.field=e,this.transform=i}}function Rw(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof fl&&o instanceof fl||a instanceof qo&&o instanceof qo?ul(a.elements,o.elements,qi):a instanceof hh&&o instanceof hh?qi(a.Ae,o.Ae):a instanceof ch&&o instanceof ch})(s.transform,e.transform)}class Cw{constructor(e,i){this.version=e,this.transformResults=i}}class di{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new di}static exists(e){return new di(void 0,e)}static updateTime(e){return new di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Ch{}function iE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Jm(s.key,di.none()):new eu(s.key,s.data,di.none());{const i=s.data,a=wn.empty();let o=new zt(en.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Tr(s.key,a,new Ln(o.toArray()),di.none())}}function Iw(s,e,i){s instanceof eu?(function(o,c,d){const g=o.value.clone(),y=Y_(o.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof Tr?(function(o,c,d){if(!Qc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Y_(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(sE(o)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function ko(s,e,i,a){return s instanceof eu?(function(c,d,g,y){if(!Qc(c.precondition,d))return g;const _=c.value.clone(),T=Q_(c.fieldTransforms,y,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof Tr?(function(c,d,g,y){if(!Qc(c.precondition,d))return g;const _=Q_(c.fieldTransforms,y,d),T=d.data;return T.setAll(sE(c)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((x=>x.field)))})(s,e,i,a):(function(c,d,g){return Qc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function Nw(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=W1(a.transform,o||null);c!=null&&(i===null&&(i=wn.empty()),i.set(a.field,c))}return i||null}function F_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&ul(a,o,((c,d)=>Rw(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class eu extends Ch{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Tr extends Ch{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function sE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function Y_(s,e,i){const a=new Map;Je(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,g=e.data.field(c.field);a.set(c.field,xw(d,g,i[o]))}return a}function Q_(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,Sw(c,d,e))}return a}class Jm extends Ch{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Dw extends Ch{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ow{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&Iw(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=ko(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=ko(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=Z1();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const y=iE(d,g);y!==null&&a.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Se.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),ze())}isEqual(e){return this.batchId===e.batchId&&ul(this.mutations,e.mutations,((i,a)=>F_(i,a)))&&ul(this.baseMutations,e.baseMutations,((i,a)=>F_(i,a)))}}class Wm{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){Je(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return vw})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Wm(e,i,a,o)}}class Mw{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Vw{constructor(e,i){this.count=e,this.unchangedNames=i}}var kt,Fe;function kw(s){switch(s){case J.OK:return Te(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Te(15467,{code:s})}}function rE(s){if(s===void 0)return _s("GRPC error has no .code"),J.UNKNOWN;switch(s){case kt.OK:return J.OK;case kt.CANCELLED:return J.CANCELLED;case kt.UNKNOWN:return J.UNKNOWN;case kt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case kt.INTERNAL:return J.INTERNAL;case kt.UNAVAILABLE:return J.UNAVAILABLE;case kt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case kt.NOT_FOUND:return J.NOT_FOUND;case kt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case kt.ABORTED:return J.ABORTED;case kt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case kt.DATA_LOSS:return J.DATA_LOSS;default:return Te(39323,{code:s})}}(Fe=kt||(kt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function Lw(){return new TextEncoder}const jw=new hr([4294967295,4294967295],0);function K_(s){const e=Lw().encode(s),i=new b1;return i.update(e),new Uint8Array(i.digest())}function X_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new hr([i,a],0),new hr([o,c],0)]}class ep{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Ro(`Invalid padding: ${i}`);if(a<0)throw new Ro(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Ro(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Ro(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=hr.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(hr.fromNumber(a)));return o.compare(jw)===1&&(o=new hr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=K_(e),[a,o]=X_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new ep(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=K_(e),[a,o]=X_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Ro extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ih{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,tu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Ih(Se.min(),o,new yt(Pe),vs(),ze())}}class tu{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new tu(a,i,ze(),ze(),ze())}}class Kc{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class aE{constructor(e,i){this.targetId=e,this.Ce=i}}class lE{constructor(e,i,a=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class $_{constructor(){this.ve=0,this.Fe=Z_(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),i=ze(),a=ze();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Te(38017,{changeType:c})}})),new tu(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=Z_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Uw{constructor(e){this.Ge=e,this.ze=new Map,this.je=vs(),this.Je=jc(),this.He=jc(),this.Ye=new yt(Pe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(ym(c))if(a===0){const d=new ye(c.path);this.et(i,d,on.newNoDocument(d,Se.min()))}else Je(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=gr(a).toUint8Array()}catch(y){if(y instanceof M1)return ol("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new ep(d,o,c)}catch(y){return ol(y instanceof Ro?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&ym(g.target)){const y=new ye(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,on.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=ze();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Ih(e,i,this.Ye,this.je,a);return this.je=vs(),this.Je=jc(),this.He=jc(),this.Ye=new yt(Pe),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new $_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new zt(Pe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new zt(Pe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||le("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function jc(){return new yt(ye.comparator)}function Z_(){return new yt(ye.comparator)}const Pw={asc:"ASCENDING",desc:"DESCENDING"},zw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bw={and:"AND",or:"OR"};class qw{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function vm(s,e){return s.useProto3Json||Th(e)?e:{value:e}}function fh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Hw(s,e){return fh(s,e.toTimestamp())}function Pi(s){return Je(!!s,49232),Se.fromTimestamp((function(i){const a=pr(i);return new dt(a.seconds,a.nanos)})(s))}function tp(s,e){return Em(s,e).canonicalString()}function Em(s,e){const i=(function(o){return new gt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function uE(s){const e=gt.fromString(s);return Je(mE(e),10190,{key:e.toString()}),e}function Tm(s,e){return tp(s.databaseId,e.path)}function Zd(s,e){const i=uE(e);if(i.get(1)!==s.databaseId.projectId)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ye(hE(i))}function cE(s,e){return tp(s.databaseId,e)}function Gw(s){const e=uE(s);return e.length===4?gt.emptyPath():hE(e)}function bm(s){return new gt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function hE(s){return Je(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function J_(s,e,i){return{name:Tm(s,e),fields:i.value.mapValue.fields}}function Fw(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Te(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,T){return _.useProto3Json?(Je(T===void 0||typeof T=="string",58123),tn.fromBase64String(T||"")):(Je(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),tn.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const T=_.code===void 0?J.UNKNOWN:rE(_.code);return new he(T,_.message||"")})(d);i=new lE(a,o,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Zd(s,a.document.name),c=Pi(a.document.updateTime),d=a.document.createTime?Pi(a.document.createTime):Se.min(),g=new wn({mapValue:{fields:a.document.fields}}),y=on.newFoundDocument(o,c,d,g),_=a.targetIds||[],T=a.removedTargetIds||[];i=new Kc(_,T,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Zd(s,a.document),c=a.readTime?Pi(a.readTime):Se.min(),d=on.newNoDocument(o,c),g=a.removedTargetIds||[];i=new Kc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Zd(s,a.document),c=a.removedTargetIds||[];i=new Kc([],c,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new Vw(o,c),g=a.targetId;i=new aE(g,d)}}return i}function Yw(s,e){let i;if(e instanceof eu)i={update:J_(s,e.key,e.value)};else if(e instanceof Jm)i={delete:Tm(s,e.key)};else if(e instanceof Tr)i={update:J_(s,e.key,e.data),updateMask:tR(e.fieldMask)};else{if(!(e instanceof Dw))return Te(16599,{Vt:e.type});i={verify:Tm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof ch)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof fl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof qo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof hh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Te(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:Hw(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te(27497)})(s,e.precondition)),i}function Qw(s,e){return s&&s.length>0?(Je(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Pi(o.updateTime):Pi(c);return d.isEqual(Se.min())&&(d=Pi(c)),new Cw(d,o.transformResults||[])})(i,e)))):[]}function Kw(s,e){return{documents:[cE(s,e.path)]}}function Xw(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=cE(s,o);const c=(function(_){if(_.length!==0)return dE(Hi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((T=>(function(V){return{field:Za(V.field),direction:Jw(V.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=vm(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function $w(s){let e=Gw(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Je(a===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let c=[];i.where&&(c=(function(x){const V=fE(x);return V instanceof Hi&&H1(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(x){return x.map((V=>(function(ee){return new uh(Ja(ee.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ee.direction))})(V)))})(i.orderBy));let g=null;i.limit&&(g=(function(x){let V;return V=typeof x=="object"?x.value:x,Th(V)?null:V})(i.limit));let y=null;i.startAt&&(y=(function(x){const V=!!x.before,H=x.values||[];return new oh(H,V)})(i.startAt));let _=null;return i.endAt&&(_=(function(x){const V=!x.before,H=x.values||[];return new oh(H,V)})(i.endAt)),dw(e,o,d,c,g,"F",y,_)}function Zw(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function fE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ja(i.unaryFilter.field);return Pt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Ja(i.unaryFilter.field);return Pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ja(i.unaryFilter.field);return Pt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ja(i.unaryFilter.field);return Pt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Pt.create(Ja(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Hi.create(i.compositeFilter.filters.map((a=>fE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(i.compositeFilter.op))})(s):Te(30097,{filter:s})}function Jw(s){return Pw[s]}function Ww(s){return zw[s]}function eR(s){return Bw[s]}function Za(s){return{fieldPath:s.canonicalString()}}function Ja(s){return en.fromServerFormat(s.fieldPath)}function dE(s){return s instanceof Pt?(function(i){if(i.op==="=="){if(P_(i.value))return{unaryFilter:{field:Za(i.field),op:"IS_NAN"}};if(U_(i.value))return{unaryFilter:{field:Za(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(P_(i.value))return{unaryFilter:{field:Za(i.field),op:"IS_NOT_NAN"}};if(U_(i.value))return{unaryFilter:{field:Za(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(i.field),op:Ww(i.op),value:i.value}}})(s):s instanceof Hi?(function(i){const a=i.getFilters().map((o=>dE(o)));return a.length===1?a[0]:{compositeFilter:{op:eR(i.op),filters:a}}})(s):Te(54877,{filter:s})}function tR(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function mE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class lr{constructor(e,i,a,o,c=Se.min(),d=Se.min(),g=tn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new lr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class nR{constructor(e){this.yt=e}}function iR(s){const e=$w({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?_m(e,e.limit,"L"):e}class sR{constructor(){this.Cn=new rR}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(mr.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(mr.min())}updateCollectionGroup(e,i,a){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class rR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new zt(gt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new zt(gt.comparator)).toArray()}}const W_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pE=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(pE,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);class dl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new dl(0)}static cr(){return new dl(-1)}}const ev="LruGarbageCollector",aR=1048576;function tv([s,e],[i,a]){const o=Pe(s,i);return o===0?Pe(e,a):o}class lR{constructor(e){this.Ir=e,this.buffer=new zt(tv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();tv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class oR{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(ev,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){El(i)?le(ev,"Ignoring IndexedDB error during garbage collection: ",i):await vl(i)}await this.Vr(3e5)}))}}class uR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(Eh.ce);const a=new lR(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(W_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),W_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,c,d,g,y,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,d=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(a=x,g=Date.now(),this.removeTargets(e,a,i)))).next((x=>(c=x,y=Date.now(),this.removeOrphanedDocuments(e,a)))).next((x=>(_=Date.now(),Xa()<=Ue.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${x} documents in `+(_-y)+`ms
Total Duration: ${_-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:x}))))}}function cR(s,e){return new uR(s,e)}class hR{constructor(){this.changes=new ra((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class fR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class dR{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&ko(a.mutation,o,Ln.empty(),dt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,ze()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=ze()){const o=Jr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=wo();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=Jr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,ze())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,o){let c=vs();const d=Vo(),g=(function(){return Vo()})();return i.forEach(((y,_)=>{const T=a.get(_.key);o.has(_.key)&&(T===void 0||T.mutation instanceof Tr)?c=c.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),ko(T.mutation,_,T.mutation.getFieldMask(),dt.now())):d.set(_.key,Ln.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,T)=>d.set(_,T))),i.forEach(((_,T)=>g.set(_,new fR(T,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=Vo();let o=new yt(((d,g)=>d-g)),c=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let T=a.get(y)||Ln.empty();T=g.applyToLocalView(_,T),a.set(y,T);const x=(o.get(g.batchId)||ze()).add(y);o=o.insert(g.batchId,x)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,T=y.value,x=Z1();T.forEach((V=>{if(!c.has(V)){const H=iE(i.get(V),a.get(V));H!==null&&x.set(V,H),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,x))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return ye.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):mw(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):Z.resolve(Jr());let g=Uo,y=c;return d.next((_=>Z.forEach(_,((T,x)=>(g<x.largestBatchId&&(g=x.largestBatchId),c.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(e,T).next((V=>{y=y.insert(T,V)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,ze()))).next((T=>({batchId:g,changes:$1(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ye(i)).next((a=>{let o=wo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=wo();return this.indexManager.getCollectionParents(e,c).next((g=>Z.forEach(g,(y=>{const _=(function(x,V){return new Ah(V,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((T=>{T.forEach(((x,V)=>{d=d.insert(x,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((y,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,on.newInvalidDocument(T)))}));let g=wo();return d.forEach(((y,_)=>{const T=c.get(y);T!==void 0&&ko(T.mutation,_,Ln.empty(),dt.now()),wh(i,_)&&(g=g.insert(y,_))})),g}))}}class mR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Pi(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:iR(o.bundledQuery),readTime:Pi(o.readTime)}})(i)),Z.resolve()}}class pR{constructor(){this.overlays=new yt(ye.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Jr();return Z.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.St(e,i,c)})),Z.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(e,i,a){const o=Jr(),c=i.length+1,d=new ye(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&o.set(y.getKey(),y)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new yt(((_,T)=>_-T));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let T=c.get(_.largestBatchId);T===null&&(T=Jr(),c=c.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const g=Jr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,T)=>g.set(_,T))),!(g.size()>=o)););return Z.resolve(g)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Mw(i,a));let c=this.qr.get(i);c===void 0&&(c=ze(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class gR{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class np{constructor(){this.Qr=new zt(Gt.$r),this.Ur=new zt(Gt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Gt(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Gt(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new ye(new gt([])),a=new Gt(i,e),o=new Gt(i,e+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ye(new gt([])),a=new Gt(i,e),o=new Gt(i,e+1);let c=ze();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Gt(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Gt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ye.comparator(e.key,i.key)||Pe(e.Yr,i.Yr)}static Kr(e,i){return Pe(e.Yr,i.Yr)||ye.comparator(e.key,i.key)}}class yR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new zt(Gt.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Ow(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Gt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Ym:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Gt(i,0),o=new Gt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new zt(Pe);return i.forEach((o=>{const c=new Gt(o,0),d=new Gt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;ye.isDocumentKey(c)||(c=c.child(""));const d=new Gt(new ye(c),0);let g=new zt(Pe);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(g=g.add(y.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Je(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(o=>{const c=new Gt(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Gt(i,0),o=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class _R{constructor(e){this.ri=e,this.docs=(function(){return new yt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():on.newInvalidDocument(i))}getEntries(e,i){let a=vs();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():on.newInvalidDocument(o))})),Z.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=vs();const d=i.path,g=new ye(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:T}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Fx(Gx(T),a)<=0||(o.has(T.key)||wh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,i,a,o){Te(9500)}ii(e,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new vR(this)}getSize(e){return Z.resolve(this.size)}}class vR extends hR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class ER{constructor(e){this.persistence=e,this.si=new ra((i=>Xm(i)),$m),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new np,this.targetCount=0,this.ai=dl.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new dl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),Z.waitFor(c).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class gE{constructor(e,i){this.ui={},this.overlays={},this.ci=new Eh(0),this.li=!1,this.li=!0,this.hi=new gR,this.referenceDelegate=e(this),this.Pi=new ER(this),this.indexManager=new sR,this.remoteDocumentCache=(function(o){return new _R(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new nR(i),this.Ii=new mR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new pR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new yR(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){le("MemoryPersistence","Starting transaction:",e);const o=new TR(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class TR extends Qx{constructor(e){super(),this.currentSequenceNumber=e}}class ip{constructor(e){this.persistence=e,this.Ri=new np,this.Vi=null}static mi(e){return new ip(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const o=ye.fromPath(a);return this.gi(e,o).next((c=>{c||i.removeEntry(o,Se.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class dh{constructor(e,i){this.persistence=e,this.pi=new ra((a=>$x(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=cR(this,i)}static mi(e,i){return new dh(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?Z.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(a++,c.removeEntry(d,Se.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Fc(e.data.value)),i}br(e,i,a){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class sp{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=ze(),o=ze();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new sp(e,i.fromCache,a,o)}}class bR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class AR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return uA()?8:Kx(un())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new bR;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(Xa()<=Ue.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",$a(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Xa()<=Ue.DEBUG&&le("QueryEngine","Query:",$a(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Xa()<=Ue.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",$a(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ui(i))):Z.resolve())}ys(e,i){if(H_(i))return Z.resolve(null);let a=Ui(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=_m(i,null,"F"),a=Ui(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=ze(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((y=>{const _=this.Ds(i,g);return this.Cs(i,_,d,y.readTime)?this.ys(e,_m(i,null,"F")):this.vs(e,_,i,y)}))))})))))}ws(e,i,a,o){return H_(i)||o.isEqual(Se.min())?Z.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?Z.resolve(null):(Xa()<=Ue.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),$a(i)),this.vs(e,d,i,Hx(o,Uo)).next((g=>g)))}))}Ds(e,i){let a=new zt(K1(e));return i.forEach(((o,c)=>{wh(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,a){return Xa()<=Ue.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",$a(i)),this.ps.getDocumentsMatchingQuery(e,i,mr.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const rp="LocalStore",SR=3e8;class xR{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new yt(Pe),this.xs=new ra((c=>Xm(c)),$m),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function wR(s,e,i,a){return new xR(s,e,i,a)}async function yE(s,e){const i=we(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let y=ze();for(const _ of o){d.push(_.batchId);for(const T of _.mutations)y=y.add(T.key)}for(const _ of c){g.push(_.batchId);for(const T of _.mutations)y=y.add(T.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function RR(s,e){const i=we(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,T){const x=_.batch,V=x.keys();let H=Z.resolve();return V.forEach((ee=>{H=H.next((()=>T.getEntry(y,ee))).next((se=>{const $=_.docVersions.get(ee);Je($!==null,48541),se.version.compareTo($)<0&&(x.applyToRemoteDocument(se,_),se.isValidDocument()&&(se.setReadTime(_.commitVersion),T.addEntry(se)))}))})),H.next((()=>g.mutationQueue.removeMutationBatch(y,x)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let y=ze();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function _E(s){const e=we(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function CR(s,e){const i=we(s),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((T,x)=>{const V=o.get(x);if(!V)return;g.push(i.Pi.removeMatchingKeys(c,T.removedDocuments,x).next((()=>i.Pi.addMatchingKeys(c,T.addedDocuments,x))));let H=V.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(x)!==null?H=H.withResumeToken(tn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):T.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(T.resumeToken,a)),o=o.insert(x,H),(function(se,$,fe){return se.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=SR?!0:fe.addedDocuments.size+fe.modifiedDocuments.size+fe.removedDocuments.size>0})(V,H,T)&&g.push(i.Pi.updateTargetData(c,H))}));let y=vs(),_=ze();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),g.push(IR(c,d,e.documentUpdates).next((T=>{y=T.ks,_=T.qs}))),!a.isEqual(Se.min())){const T=i.Pi.getLastRemoteSnapshotVersion(c).next((x=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(T)}return Z.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=o,c)))}function IR(s,e,i){let a=ze(),o=ze();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=vs();return i.forEach(((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(Se.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):le(rp,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:o}}))}function NR(s,e){const i=we(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Ym),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function DR(s,e){const i=we(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((c=>c?(o=c,Z.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new lr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function Am(s,e,i){const a=we(s),o=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!El(d))throw d;le(rp,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function nv(s,e,i){const a=we(s);let o=Se.min(),c=ze();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,T){const x=we(y),V=x.xs.get(T);return V!==void 0?Z.resolve(x.Ms.get(V)):x.Pi.getTargetData(_,T)})(a,d,Ui(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:Se.min(),i?c:ze()))).next((g=>(OR(a,gw(e),g),{documents:g,Qs:c})))))}function OR(s,e,i){let a=s.Os.get(e)||Se.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(e,a)}class iv{constructor(){this.activeTargetIds=bw()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MR{constructor(){this.Mo=new iv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new iv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class VR{Oo(e){}shutdown(){}}const sv="ConnectivityMonitor";class rv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(sv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(sv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Uc=null;function Sm(){return Uc===null?Uc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Uc++,"0x"+Uc.toString(16)}const Jd="RestConnection",kR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===ah?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,c){const d=Sm(),g=this.zo(e,i.toUriEncodedString());le(Jd,`Sending RPC '${e}' ${d}:`,g,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:_}=new URL(g),T=pl(_);return this.Jo(e,g,y,a,T).then((x=>(le(Jd,`Received RPC '${e}' ${d}: `,x),x)),(x=>{throw ol(Jd,`RPC '${e}' ${d} failed with error: `,x,"url: ",g,"request:",a),x}))}Ho(e,i,a,o,c,d){return this.Go(e,i,a,o,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_l})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const a=kR[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class jR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const an="WebChannelConnection";class UR extends LR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,c){const d=Sm();return new Promise(((g,y)=>{const _=new A1;_.setWithCredentials(!0),_.listenOnce(S1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Gc.NO_ERROR:const x=_.getResponseJson();le(an,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(x)),g(x);break;case Gc.TIMEOUT:le(an,`RPC '${e}' ${d} timed out`),y(new he(J.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:const V=_.getStatus();if(le(an,`RPC '${e}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const ee=H?.error;if(ee&&ee.status&&ee.message){const se=(function(fe){const Ee=fe.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Ee)>=0?Ee:J.UNKNOWN})(ee.status);y(new he(se,ee.message))}else y(new he(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new he(J.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{le(an,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(o);le(an,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",T,a,15)}))}T_(e,i,a){const o=Sm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=R1(),g=w1(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const T=c.join("");le(an,`Creating RPC '${e}' stream ${o}: ${T}`,y);const x=d.createWebChannel(T,y);this.I_(x);let V=!1,H=!1;const ee=new jR({Yo:$=>{H?le(an,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(V||(le(an,`Opening RPC '${e}' stream ${o} transport.`),x.open(),V=!0),le(an,`RPC '${e}' stream ${o} sending:`,$),x.send($))},Zo:()=>x.close()}),se=($,fe,Ee)=>{$.listen(fe,(_e=>{try{Ee(_e)}catch(Ge){setTimeout((()=>{throw Ge}),0)}}))};return se(x,xo.EventType.OPEN,(()=>{H||(le(an,`RPC '${e}' stream ${o} transport opened.`),ee.o_())})),se(x,xo.EventType.CLOSE,(()=>{H||(H=!0,le(an,`RPC '${e}' stream ${o} transport closed`),ee.a_(),this.E_(x))})),se(x,xo.EventType.ERROR,($=>{H||(H=!0,ol(an,`RPC '${e}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),ee.a_(new he(J.UNAVAILABLE,"The operation could not be completed")))})),se(x,xo.EventType.MESSAGE,($=>{if(!H){const fe=$.data[0];Je(!!fe,16349);const Ee=fe,_e=Ee?.error||Ee[0]?.error;if(_e){le(an,`RPC '${e}' stream ${o} received error:`,_e);const Ge=_e.status;let Be=(function(w){const C=kt[w];if(C!==void 0)return rE(C)})(Ge),Oe=_e.message;Be===void 0&&(Be=J.INTERNAL,Oe="Unknown error status: "+Ge+" with message "+_e.message),H=!0,ee.a_(new he(Be,Oe)),x.close()}else le(an,`RPC '${e}' stream ${o} received:`,fe),ee.u_(fe)}})),se(g,x1.STAT_EVENT,($=>{$.stat===fm.PROXY?le(an,`RPC '${e}' stream ${o} detected buffering proxy`):$.stat===fm.NOPROXY&&le(an,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{ee.__()}),0),ee}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Wd(){return typeof document<"u"?document:null}function Nh(s){return new qw(s,!0)}class vE{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const av="PersistentStream";class EE{constructor(e,i,a,o,c,d,g,y){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(_s(i.toString()),_s("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new he(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(av,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(le(av,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class PR extends EE{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=Fw(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Se.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Se.min():d.readTime?Pi(d.readTime):Se.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=bm(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=ym(y)?{documents:Kw(c,y)}:{query:Xw(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=oE(c,d.resumeToken);const _=vm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Se.min())>0){g.readTime=fh(c,d.snapshotVersion.toTimestamp());const _=vm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const a=Zw(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=bm(this.serializer),i.removeTarget=e,this.q_(i)}}class zR extends EE{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Qw(e.writeResults,e.commitTime),a=Pi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=bm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>Yw(this.serializer,a)))};this.q_(i)}}class BR{}class qR extends BR{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Em(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(J.UNKNOWN,c.toString())}))}Ho(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,Em(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new he(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class HR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_s(i),this.aa=!1):le("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ia="RemoteStore";class GR{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{aa(this)&&(le(ia,"Restarting streams for network reachability change."),await(async function(y){const _=we(y);_.Ea.add(4),await nu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Dh(_)})(this))}))})),this.Ra=new HR(a,o)}}async function Dh(s){if(aa(s))for(const e of s.da)await e(!0)}async function nu(s){for(const e of s.da)await e(!1)}function TE(s,e){const i=we(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),up(i)?op(i):Tl(i).O_()&&lp(i,e))}function ap(s,e){const i=we(s),a=Tl(i);i.Ia.delete(e),a.O_()&&bE(i,e),i.Ia.size===0&&(a.O_()?a.L_():aa(i)&&i.Ra.set("Unknown"))}function lp(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Tl(s).Y_(e)}function bE(s,e){s.Va.Ue(e),Tl(s).Z_(e)}function op(s){s.Va=new Uw({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Tl(s).start(),s.Ra.ua()}function up(s){return aa(s)&&!Tl(s).x_()&&s.Ia.size>0}function aa(s){return we(s).Ea.size===0}function AE(s){s.Va=void 0}async function FR(s){s.Ra.set("Online")}async function YR(s){s.Ia.forEach(((e,i)=>{lp(s,e)}))}async function QR(s,e){AE(s),up(s)?(s.Ra.ha(e),op(s)):s.Ra.set("Unknown")}async function KR(s,e,i){if(s.Ra.set("Online"),e instanceof lE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(s,e)}catch(a){le(ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await mh(s,a)}else if(e instanceof Kc?s.Va.Ze(e):e instanceof aE?s.Va.st(e):s.Va.tt(e),!i.isEqual(Se.min()))try{const a=await _E(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const T=c.Ia.get(_);T&&c.Ia.set(_,T.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const T=c.Ia.get(y);if(!T)return;c.Ia.set(y,T.withResumeToken(tn.EMPTY_BYTE_STRING,T.snapshotVersion)),bE(c,y);const x=new lr(T.target,y,_,T.sequenceNumber);lp(c,x)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){le(ia,"Failed to raise snapshot:",a),await mh(s,a)}}async function mh(s,e,i){if(!El(e))throw e;s.Ea.add(1),await nu(s),s.Ra.set("Offline"),i||(i=()=>_E(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{le(ia,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Dh(s)}))}function SE(s,e){return e().catch((i=>mh(s,i,e)))}async function Oh(s){const e=we(s),i=_r(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ym;for(;XR(e);)try{const o=await NR(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,$R(e,o)}catch(o){await mh(e,o)}xE(e)&&wE(e)}function XR(s){return aa(s)&&s.Ta.length<10}function $R(s,e){s.Ta.push(e);const i=_r(s);i.O_()&&i.X_&&i.ea(e.mutations)}function xE(s){return aa(s)&&!_r(s).x_()&&s.Ta.length>0}function wE(s){_r(s).start()}async function ZR(s){_r(s).ra()}async function JR(s){const e=_r(s);for(const i of s.Ta)e.ea(i.mutations)}async function WR(s,e,i){const a=s.Ta.shift(),o=Wm.from(a,e,i);await SE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Oh(s)}async function eC(s,e){e&&_r(s).X_&&await(async function(a,o){if((function(d){return kw(d)&&d!==J.ABORTED})(o.code)){const c=a.Ta.shift();_r(a).B_(),await SE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Oh(a)}})(s,e),xE(s)&&wE(s)}async function lv(s,e){const i=we(s);i.asyncQueue.verifyOperationInProgress(),le(ia,"RemoteStore received new credentials");const a=aa(i);i.Ea.add(3),await nu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Dh(i)}async function tC(s,e){const i=we(s);e?(i.Ea.delete(2),await Dh(i)):e||(i.Ea.add(2),await nu(i),i.Ra.set("Unknown"))}function Tl(s){return s.ma||(s.ma=(function(i,a,o){const c=we(i);return c.sa(),new PR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:FR.bind(null,s),t_:YR.bind(null,s),r_:QR.bind(null,s),H_:KR.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),up(s)?op(s):s.Ra.set("Unknown")):(await s.ma.stop(),AE(s))}))),s.ma}function _r(s){return s.fa||(s.fa=(function(i,a,o){const c=we(i);return c.sa(),new zR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:ZR.bind(null,s),r_:eC.bind(null,s),ta:JR.bind(null,s),na:WR.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Oh(s)):(await s.fa.stop(),s.Ta.length>0&&(le(ia,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class cp{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,g=new cp(e,i,d,o,c);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hp(s,e){if(_s("AsyncQueue",`${e}: ${s}`),El(s))return new he(J.UNAVAILABLE,`${e}: ${s}`);throw s}class sl{static emptySet(e){return new sl(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ye.comparator(i.key,a.key):(i,a)=>ye.comparator(i.key,a.key),this.keyedMap=wo(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof sl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new sl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class ov{constructor(){this.ga=new yt(ye.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class ml{constructor(e,i,a,o,c,d,g,y,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new ml(e,i,sl.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class nC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class iC{constructor(){this.queries=uv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=we(i),c=o.queries;o.queries=uv(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(a)}))})(this,new he(J.ABORTED,"Firestore shutting down"))}}function uv(){return new ra((s=>Q1(s)),xh)}async function RE(s,e){const i=we(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new nC,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=hp(d,`Initialization of query '${$a(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&fp(i)}async function CE(s,e){const i=we(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function sC(s,e){const i=we(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(a=!0);d.wa=o}}a&&fp(i)}function rC(s,e,i){const a=we(s),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(e)}function fp(s){s.Ca.forEach((e=>{e.next()}))}var xm,cv;(cv=xm||(xm={})).Ma="default",cv.Cache="cache";class IE{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new ml(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==xm.Cache}}class NE{constructor(e){this.key=e}}class DE{constructor(e){this.key=e}}class aC{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=K1(e),this.tu=new sl(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new ov,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,x)=>{const V=o.get(T),H=wh(this.query,x)?x:null,ee=!!V&&this.mutatedKeys.has(V.key),se=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let $=!1;V&&H?V.data.isEqual(H.data)?ee!==se&&(a.track({type:3,doc:H}),$=!0):this.su(V,H)||(a.track({type:2,doc:H}),$=!0,(y&&this.eu(H,y)>0||_&&this.eu(H,_)<0)&&(g=!0)):!V&&H?(a.track({type:0,doc:H}),$=!0):V&&!H&&(a.track({type:1,doc:V}),$=!0,(y||_)&&(g=!0)),$&&(H?(d=d.add(H),c=se?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),a.track({type:1,doc:T})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,x)=>(function(H,ee){const se=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:$})}};return se(H)-se(ee)})(T.type,x.type)||this.eu(T.doc,x.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new ml(this.query,e.tu,c,d,e.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ov,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new DE(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new NE(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=ze();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return ml.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dp="SyncEngine";class lC{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class oC{constructor(e){this.key=e,this.hu=!1}}class uC{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ra((g=>Q1(g)),xh),this.Iu=new Map,this.Eu=new Set,this.du=new yt(ye.comparator),this.Au=new Map,this.Ru=new np,this.Vu={},this.mu=new Map,this.fu=dl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cC(s,e,i=!0){const a=jE(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await OE(a,e,i,!0),o}async function hC(s,e){const i=jE(s);await OE(i,e,!0,!1)}async function OE(s,e,i,a){const o=await DR(s.localStore,Ui(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await fC(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&TE(s.remoteStore,o),g}async function fC(s,e,i,a,o){s.pu=(x,V,H)=>(async function(se,$,fe,Ee){let _e=$.view.ru(fe);_e.Cs&&(_e=await nv(se.localStore,$.query,!1).then((({documents:I})=>$.view.ru(I,_e))));const Ge=Ee&&Ee.targetChanges.get($.targetId),Be=Ee&&Ee.targetMismatches.get($.targetId)!=null,Oe=$.view.applyChanges(_e,se.isPrimaryClient,Ge,Be);return fv(se,$.targetId,Oe.au),Oe.snapshot})(s,x,V,H);const c=await nv(s.localStore,e,!0),d=new aC(e,c.Qs),g=d.ru(c.documents),y=tu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),_=d.applyChanges(g,s.isPrimaryClient,y);fv(s,i,_.au);const T=new lC(e,i,d);return s.Tu.set(e,T),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function dC(s,e,i){const a=we(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!xh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Am(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&ap(a.remoteStore,o.targetId),wm(a,o.targetId)})).catch(vl)):(wm(a,o.targetId),await Am(a.localStore,o.targetId,!0))}async function mC(s,e){const i=we(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),ap(i.remoteStore,a.targetId))}async function pC(s,e,i){const a=bC(s);try{const o=await(function(d,g){const y=we(d),_=dt.now(),T=g.reduce(((H,ee)=>H.add(ee.key)),ze());let x,V;return y.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let ee=vs(),se=ze();return y.Ns.getEntries(H,T).next(($=>{ee=$,ee.forEach(((fe,Ee)=>{Ee.isValidDocument()||(se=se.add(fe))}))})).next((()=>y.localDocuments.getOverlayedDocuments(H,ee))).next(($=>{x=$;const fe=[];for(const Ee of g){const _e=Nw(Ee,x.get(Ee.key).overlayedDocument);_e!=null&&fe.push(new Tr(Ee.key,_e,z1(_e.value.mapValue),di.exists(!0)))}return y.mutationQueue.addMutationBatch(H,_,fe,g)})).next(($=>{V=$;const fe=$.applyToLocalDocumentSet(x,se);return y.documentOverlayCache.saveOverlays(H,$.batchId,fe)}))})).then((()=>({batchId:V.batchId,changes:$1(x)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new yt(Pe)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await iu(a,o.changes),await Oh(a.remoteStore)}catch(o){const c=hp(o,"Failed to persist write");i.reject(c)}}async function ME(s,e){const i=we(s);try{const a=await CR(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Je(d.hu,14607):o.removedDocuments.size>0&&(Je(d.hu,42227),d.hu=!1))})),await iu(i,a,e)}catch(a){await vl(a)}}function hv(s,e,i){const a=we(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const y=we(d);y.onlineState=g;let _=!1;y.queries.forEach(((T,x)=>{for(const V of x.Sa)V.va(g)&&(_=!0)})),_&&fp(y)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function gC(s,e,i){const a=we(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new yt(ye.comparator);d=d.insert(c,on.newNoDocument(c,Se.min()));const g=ze().add(c),y=new Ih(Se.min(),new Map,new yt(Pe),d,g);await ME(a,y),a.du=a.du.remove(c),a.Au.delete(e),mp(a)}else await Am(a.localStore,e,!1).then((()=>wm(a,e,i))).catch(vl)}async function yC(s,e){const i=we(s),a=e.batch.batchId;try{const o=await RR(i.localStore,e);kE(i,a,null),VE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await iu(i,o)}catch(o){await vl(o)}}async function _C(s,e,i){const a=we(s);try{const o=await(function(d,g){const y=we(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return y.mutationQueue.lookupMutationBatch(_,g).next((x=>(Je(x!==null,37113),T=x.keys(),y.mutationQueue.removeMutationBatch(_,x)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,T,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>y.localDocuments.getDocuments(_,T)))}))})(a.localStore,e);kE(a,e,i),VE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await iu(a,o)}catch(o){await vl(o)}}function VE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function kE(s,e,i){const a=we(s);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function wm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||LE(s,a)}))}function LE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(ap(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),mp(s))}function fv(s,e,i){for(const a of i)a instanceof NE?(s.Ru.addReference(a.key,e),vC(s,a)):a instanceof DE?(le(dp,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||LE(s,a.key)):Te(19791,{wu:a})}function vC(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(le(dp,"New document in limbo: "+i),s.Eu.add(a),mp(s))}function mp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ye(gt.fromString(e)),a=s.fu.next();s.Au.set(a,new oC(i)),s.du=s.du.insert(i,a),TE(s.remoteStore,new lr(Ui(Sh(i.path)),a,"TargetPurposeLimboResolution",Eh.ce))}}async function iu(s,e,i){const a=we(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,y)=>{d.push(a.pu(y,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const T=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(_){o.push(_);const T=sp.As(y.targetId,_);c.push(T)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(y,_){const T=we(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>Z.forEach(_,(V=>Z.forEach(V.Es,(H=>T.persistence.referenceDelegate.addReference(x,V.targetId,H))).next((()=>Z.forEach(V.ds,(H=>T.persistence.referenceDelegate.removeReference(x,V.targetId,H)))))))))}catch(x){if(!El(x))throw x;le(rp,"Failed to update sequence numbers: "+x)}for(const x of _){const V=x.targetId;if(!x.fromCache){const H=T.Ms.get(V),ee=H.snapshotVersion,se=H.withLastLimboFreeSnapshotVersion(ee);T.Ms=T.Ms.insert(V,se)}}})(a.localStore,c))}async function EC(s,e){const i=we(s);if(!i.currentUser.isEqual(e)){le(dp,"User change. New user:",e.toKey());const a=await yE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new he(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await iu(i,a.Ls)}}function TC(s,e){const i=we(s),a=i.Au.get(e);if(a&&a.hu)return ze().add(a.key);{let o=ze();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function jE(s){const e=we(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=ME.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gC.bind(null,e),e.Pu.H_=sC.bind(null,e.eventManager),e.Pu.yu=rC.bind(null,e.eventManager),e}function bC(s){const e=we(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_C.bind(null,e),e}class ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return wR(this.persistence,new AR,e.initialUser,this.serializer)}Cu(e){return new gE(ip.mi,this.serializer)}Du(e){return new MR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ph.provider={build:()=>new ph};class AC extends ph{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Je(this.persistence.referenceDelegate instanceof dh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new oR(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new gE((a=>dh.mi(a,i)),this.serializer)}}class Rm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>hv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=EC.bind(null,this.syncEngine),await tC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new iC})()}createDatastore(e){const i=Nh(e.databaseInfo.databaseId),a=(function(c){return new UR(c)})(e.databaseInfo);return(function(c,d,g,y){return new qR(c,d,g,y)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,g){return new GR(a,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>hv(this.syncEngine,i,0)),(function(){return rv.v()?new rv:new VR})())}createSyncEngine(e,i){return(function(o,c,d,g,y,_,T){const x=new uC(o,c,d,g,y,_);return T&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=we(i);le(ia,"RemoteStore shutting down."),a.Ea.add(5),await nu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rm.provider={build:()=>new Rm};class UE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_s("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const vr="FirestoreClient";class SC{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=ln.UNAUTHENTICATED,this.clientId=Gm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{le(vr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(le(vr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=hp(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function em(s,e){s.asyncQueue.verifyOperationInProgress(),le(vr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await yE(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function dv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await xC(s);le(vr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>lv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>lv(e.remoteStore,o))),s._onlineComponents=e}async function xC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){le(vr,"Using user provided OfflineComponentProvider");try{await em(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;ol("Error using user provided cache. Falling back to memory cache: "+i),await em(s,new ph)}}else le(vr,"Using default OfflineComponentProvider"),await em(s,new AC(void 0));return s._offlineComponents}async function PE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(le(vr,"Using user provided OnlineComponentProvider"),await dv(s,s._uninitializedComponentsProvider._online)):(le(vr,"Using default OnlineComponentProvider"),await dv(s,new Rm))),s._onlineComponents}function wC(s){return PE(s).then((e=>e.syncEngine))}async function Cm(s){const e=await PE(s),i=e.eventManager;return i.onListen=cC.bind(null,e.syncEngine),i.onUnlisten=dC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=hC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=mC.bind(null,e.syncEngine),i}function RC(s,e,i={}){const a=new fr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,y,_){const T=new UE({next:V=>{T.Nu(),d.enqueueAndForget((()=>CE(c,x)));const H=V.docs.has(g);!H&&V.fromCache?_.reject(new he(J.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&V.fromCache&&y&&y.source==="server"?_.reject(new he(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(V)},error:V=>_.reject(V)}),x=new IE(Sh(g.path),T,{includeMetadataChanges:!0,qa:!0});return RE(c,x)})(await Cm(s),s.asyncQueue,e,i,a))),a.promise}function zE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const mv=new Map;const BE="firestore.googleapis.com",pv=!0;class gv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BE,this.ssl=pv}else this.host=e.host,this.ssl=e.ssl??pv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aR)throw new he(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pp{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Dx;switch(a.type){case"firstParty":return new kx(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new he(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=mv.get(i);a&&(le("ComponentProvider","Removing Datastore"),mv.delete(i),a.terminate())})(this),Promise.resolve()}}function CC(s,e,i,a={}){s=fi(s,pp);const o=pl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;o&&(jv(`https://${g}`),Uv("Firestore",!0)),c.host!==BE&&c.host!==g&&ol("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:o,emulatorOptions:a};if(!dr(y,d)&&(s._setSettings(y),a.mockUserToken)){let _,T;if(typeof a.mockUserToken=="string")_=a.mockUserToken,T=ln.MOCK_USER;else{_=eA(a.mockUserToken,s._app?.options.projectId);const x=a.mockUserToken.sub||a.mockUserToken.user_id;if(!x)throw new he(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new ln(x)}s._authCredentials=new Ox(new I1(_,T))}}class Mh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Mh(this.firestore,e,this._query)}}class jt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}toJSON(){return{type:jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Wo(i,jt._jsonSchema))return new jt(e,a||null,new ye(gt.fromString(i.referencePath)))}}jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:Lt("string",jt._jsonSchemaVersion),referencePath:Lt("string")};class Ho extends Mh{constructor(e,i,a){super(e,i,Sh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new ye(e))}withConverter(e){return new Ho(this.firestore,e,this._path)}}function mn(s,e,...i){if(s=gn(s),arguments.length===1&&(e=Gm.newId()),Bx("doc","path",e),s instanceof pp){const a=gt.fromString(e,...i);return N_(a),new jt(s,null,new ye(a))}{if(!(s instanceof jt||s instanceof Ho))throw new he(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(gt.fromString(e,...i));return N_(a),new jt(s.firestore,s instanceof Ho?s.converter:null,new ye(a))}}const yv="AsyncQueue";class _v{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vE(this,"async_queue_retry"),this._c=()=>{const a=Wd();a&&le(yv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Wd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Wd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new fr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!El(e))throw e;le(yv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,_s("INTERNAL UNHANDLED ERROR: ",vv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=cp.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:vv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function vv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function Ev(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class sa extends pp{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new _v,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _v(e),this._firestoreClient=void 0,await e}}}function IC(s,e){const i=typeof s=="object"?s:qv(),a=typeof s=="string"?s:ah,o=Vm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=Jb("firestore");c&&CC(o,...c)}return o}function gp(s){if(s._terminated)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||NC(s),s._firestoreClient}function NC(s){const e=s._freezeSettings(),i=(function(o,c,d,g){return new Wx(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,zE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new SC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class Jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jn(tn.fromBase64String(e))}catch(i){throw new he(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Jn(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wo(e,Jn._jsonSchema))return Jn.fromBase64String(e.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:Lt("string",Jn._jsonSchemaVersion),bytes:Lt("string")};class Vh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new he(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class kh{constructor(e){this._methodName=e}}class zi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new he(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new he(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(e){if(Wo(e,zi._jsonSchema))return new zi(e.latitude,e.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:Lt("string",zi._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};class Bi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wo(e,Bi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Bi(e.vectorValues);throw new he(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:Lt("string",Bi._jsonSchemaVersion),vectorValues:Lt("object")};const DC=/^__.*__$/;class OC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Tr(e,this.data,this.fieldMask,i,this.fieldTransforms):new eu(e,this.data,i,this.fieldTransforms)}}class qE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Tr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function HE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:s})}}class Lh{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Lh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return gh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(HE(this.Ac)&&DC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class MC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Nh(e)}Cc(e,i,a,o=!1){return new Lh({Ac:e,methodName:i,Dc:a,path:en.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function GE(s){const e=s._freezeSettings(),i=Nh(s._databaseId);return new MC(s._databaseId,!!e.ignoreUndefinedProperties,i)}function VC(s,e,i,a,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,o);_p("Data must be an object, but it was:",d,a);const g=FE(a,d);let y,_;if(c.merge)y=new Ln(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const x of c.mergeFields){const V=Im(e,x,i);if(!d.contains(V))throw new he(J.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);QE(T,V)||T.push(V)}y=new Ln(T),_=d.fieldTransforms.filter((x=>y.covers(x.field)))}else y=null,_=d.fieldTransforms;return new OC(new wn(g),y,_)}class jh extends kh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jh}}function kC(s,e,i){return new Lh({Ac:3,Dc:e.settings.Dc,methodName:s._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class yp extends kh{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=kC(this,e,!0),a=this.vc.map((c=>su(c,i))),o=new fl(a);return new ww(e.path,o)}isEqual(e){return e instanceof yp&&dr(this.vc,e.vc)}}function LC(s,e,i,a){const o=s.Cc(1,e,i);_p("Data must be an object, but it was:",o,a);const c=[],d=wn.empty();Er(a,((y,_)=>{const T=vp(e,y,i);_=gn(_);const x=o.yc(T);if(_ instanceof jh)c.push(T);else{const V=su(_,x);V!=null&&(c.push(T),d.set(T,V))}}));const g=new Ln(c);return new qE(d,g,o.fieldTransforms)}function jC(s,e,i,a,o,c){const d=s.Cc(1,e,i),g=[Im(e,a,i)],y=[o];if(c.length%2!=0)throw new he(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)g.push(Im(e,c[V])),y.push(c[V+1]);const _=[],T=wn.empty();for(let V=g.length-1;V>=0;--V)if(!QE(_,g[V])){const H=g[V];let ee=y[V];ee=gn(ee);const se=d.yc(H);if(ee instanceof jh)_.push(H);else{const $=su(ee,se);$!=null&&(_.push(H),T.set(H,$))}}const x=new Ln(_);return new qE(T,x,d.fieldTransforms)}function su(s,e){if(YE(s=gn(s)))return _p("Unsupported field value:",e,s),FE(s,e);if(s instanceof kh)return(function(a,o){if(!HE(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let y=su(g,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=gn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Aw(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=dt.fromDate(a);return{timestampValue:fh(o.serializer,c)}}if(a instanceof dt){const c=new dt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:fh(o.serializer,c)}}if(a instanceof zi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Jn)return{bytesValue:oE(o.serializer,a._byteString)};if(a instanceof jt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:tp(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Bi)return(function(d,g){return{mapValue:{fields:{[U1]:{stringValue:P1},[lh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Zm(g.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Fm(a)}`)})(s,e)}function FE(s,e){const i={};return O1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Er(s,((a,o)=>{const c=su(o,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function YE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof dt||s instanceof zi||s instanceof Jn||s instanceof jt||s instanceof kh||s instanceof Bi)}function _p(s,e,i){if(!YE(i)||!N1(i)){const a=Fm(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function Im(s,e,i){if((e=gn(e))instanceof Vh)return e._internalPath;if(typeof e=="string")return vp(s,e);throw gh("Field path arguments must be of type string or ",s,!1,void 0,i)}const UC=new RegExp("[~\\*/\\[\\]]");function vp(s,e,i){if(e.search(UC)>=0)throw gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Vh(...e.split("."))._internalPath}catch{throw gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function gh(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${o}`),y+=")"),new he(J.INVALID_ARGUMENT,g+s+y)}function QE(s,e){return s.some((i=>i.isEqual(e)))}class KE{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(XE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class PC extends KE{data(){return super.data()}}function XE(s,e){return typeof e=="string"?vp(s,e):e instanceof Vh?e._internalPath:e._delegate._internalPath}function zC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new he(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BC{convertValue(e,i="none"){switch(yr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Er(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[lh].arrayValue?.values?.map((a=>wt(a.doubleValue)));return new Bi(i)}convertGeoPoint(e){return new zi(wt(e.latitude),wt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=bh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Po(e));default:return null}}convertTimestamp(e){const i=pr(e);return new dt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=gt.fromString(e);Je(mE(a),9688,{name:e});const o=new zo(a.get(1),a.get(3)),c=new ye(a.popFirst(5));return o.isEqual(i)||_s(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function qC(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Co{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wr extends KE{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(XE("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Wr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Wr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wr._jsonSchema={type:Lt("string",Wr._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Xc extends Wr{data(e={}){return super.data(e)}}class rl{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Co(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Xc(this._firestore,this._userDataWriter,a.key,a,new Co(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new he(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const y=new Xc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Co(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new Xc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Co(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,T=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:HC(g.type),doc:y,oldIndex:_,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=rl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function HC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:s})}}function Tv(s){s=fi(s,jt);const e=fi(s.firestore,sa);return RC(gp(e),s._key).then((i=>ZE(e,s,i)))}rl._jsonSchemaVersion="firestore/querySnapshot/1.0",rl._jsonSchema={type:Lt("string",rl._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class $E extends BC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,i)}}function GC(s,e,i){s=fi(s,jt);const a=fi(s.firestore,sa),o=qC(s.converter,e);return Ep(a,[VC(GE(a),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,di.none())])}function $n(s,e,i,...a){s=fi(s,jt);const o=fi(s.firestore,sa),c=GE(o);let d;return d=typeof(e=gn(e))=="string"||e instanceof Vh?jC(c,"updateDoc",s._key,e,i,a):LC(c,"updateDoc",s._key,e),Ep(o,[d.toMutation(s._key,di.exists(!0))])}function bv(s){return Ep(fi(s.firestore,sa),[new Jm(s._key,di.none())])}function Av(s,...e){s=gn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Ev(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Ev(e[a])){const y=e[a];e[a]=y.next?.bind(y),e[a+1]=y.error?.bind(y),e[a+2]=y.complete?.bind(y)}let c,d,g;if(s instanceof jt)d=fi(s.firestore,sa),g=Sh(s._key.path),c={next:y=>{e[a]&&e[a](ZE(d,s,y))},error:e[a+1],complete:e[a+2]};else{const y=fi(s,Mh);d=fi(y.firestore,sa),g=y._query;const _=new $E(d);c={next:T=>{e[a]&&e[a](new rl(d,_,y,T))},error:e[a+1],complete:e[a+2]},zC(s._query)}return(function(_,T,x,V){const H=new UE(V),ee=new IE(T,H,x);return _.asyncQueue.enqueueAndForget((async()=>RE(await Cm(_),ee))),()=>{H.Nu(),_.asyncQueue.enqueueAndForget((async()=>CE(await Cm(_),ee)))}})(gp(d),g,o,c)}function Ep(s,e){return(function(a,o){const c=new fr;return a.asyncQueue.enqueueAndForget((async()=>pC(await wC(a),o,c))),c.promise})(gp(s),e)}function ZE(s,e,i){const a=i.docs.get(e._key),o=new $E(s);return new Wr(s,o,e._key,a,new Co(i.hasPendingWrites,i.fromCache),e.converter)}function $r(...s){return new yp("arrayUnion",s)}(function(e,i=!0){(function(o){_l=o})(gl),ll(new ea("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new sa(new Mx(a.getProvider("auth-internal")),new Lx(d,a.getProvider("app-check-internal")),(function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new he(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zo(_.options.projectId,T)})(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),cr(w_,R_,e),cr(w_,R_,"esm2020")})();const FC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),Sv=s=>{const e=YC(s);return e.charAt(0).toUpperCase()+e.slice(1)},JE=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),QC=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var KC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const XC=ct.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...g},y)=>ct.createElement("svg",{ref:y,...KC,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:JE("lucide",o),...!c&&!QC(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,T])=>ct.createElement(_,T)),...Array.isArray(c)?c:[c]]));const lt=(s,e)=>{const i=ct.forwardRef(({className:a,...o},c)=>ct.createElement(XC,{ref:c,iconNode:e,className:JE(`lucide-${FC(Sv(s))}`,`lucide-${s}`,a),...o}));return i.displayName=Sv(s),i};const $C=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ZC=lt("arrow-right",$C);const JC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Pc=lt("book-open",JC);const WC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Wa=lt("circle-check-big",WC);const eI=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],xv=lt("crown",eI);const tI=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],nI=lt("door-open",tI);const iI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],WE=lt("file-text",iI);const sI=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],rI=lt("gift",sI);const aI=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],lI=lt("hammer",aI);const oI=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],$c=lt("hand",oI);const uI=[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]],cI=lt("handshake",uI);const hI=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],fI=lt("hash",hI);const dI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],mI=lt("history",dI);const pI=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],eT=lt("house",pI);const gI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],yI=lt("info",gI);const _I=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],vI=lt("layers",_I);const EI=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],TI=lt("loader",EI);const bI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],tT=lt("log-out",bI);const AI=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Io=lt("refresh-cw",AI);const SI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],tm=lt("rotate-ccw",SI);const xI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],wv=lt("shield",xI);const wI=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],RI=lt("sparkles",wI);const CI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],II=lt("trash-2",CI);const NI=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Nm=lt("triangle-alert",NI);const DI=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Uh=lt("trophy",DI);const OI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],MI=lt("user",OI);const VI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],kI=lt("users",VI);const LI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Go=lt("x",LI);const jI=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Rv=lt("zap",jI),UI={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:b5deb05899e092116aa637"},nT=Bv(UI),nm=Ix(nT),pn=IC(nT),Sn=typeof __app_id<"u"?__app_id:"together-game",PI="23",Ka="together_game_roomId",Cv={MAGENTA:{id:"M",bg:"bg-pink-600",border:"border-pink-400",text:"text-white"},LEMON:{id:"L",bg:"bg-yellow-400",border:"border-yellow-200",text:"text-yellow-900"}},cs=[{id:"A",name:"Team Magenta",color:"text-pink-400",bg:"bg-pink-900/30",border:"border-pink-500/50",badgeBg:"bg-pink-900"},{id:"B",name:"Team Lemon",color:"text-yellow-400",bg:"bg-yellow-900/30",border:"border-yellow-500/50",badgeBg:"bg-yellow-900"},{id:"C",name:"Team Cyan",color:"text-cyan-400",bg:"bg-cyan-900/30",border:"border-cyan-500/50",badgeBg:"bg-cyan-900"}],im=[{id:"run_3",text:"Run of 3",points:2,type:"RUN",count:3,desc:"Three cards of sequential rank (e.g., 5, 6, 7), any color."},{id:"run_4_col",text:"Run of 4 (Same Color)",points:3,type:"RUN",count:4,sameColor:!0,desc:"Four sequential cards, all Lemon or all Magenta."},{id:"run_5",text:"Run of 5",points:4,type:"RUN",count:5,desc:"Five cards of sequential rank (e.g., 1, 2, 3, 4, 5), any color."},{id:"run_low",text:"Low Run",points:3,type:"EXACT_SEQ",seq:[1,2,3,4],desc:"The sequence 1, 2, 3, 4, any color."},{id:"run_high",text:"High Run",points:3,type:"EXACT_SEQ",seq:[5,6,7,8],desc:"The sequence 5, 6, 7, 8, any color."},{id:"run_3_blue",text:"Lemon Run of 3",points:3,type:"RUN",count:3,specificColor:"L",desc:"Three consecutive Lemon cards."},{id:"run_odd",text:"Odd Run",points:4,type:"EXACT_SEQ",seq:[3,5,7],desc:"The sequence 3, 5, 7, any color."},{id:"set_3",text:"3 of a Kind",points:2,type:"SET",count:3,desc:"Three cards of the same rank, any color."},{id:"set_4",text:"4 of a Kind",points:4,type:"SET",count:4,desc:"Four cards of the same rank, any color."},{id:"two_pairs",text:"Two Pairs",points:3,type:"TWO_PAIRS",desc:"Two sets of cards with matching ranks (e.g., two 3s and two 8s), any color."},{id:"full_house",text:"Full House",points:4,type:"FULL_HOUSE",desc:"A Set of 3 and a Pair (e.g., three 5s and two 8s), any color."},{id:"set_odd",text:"Odd Set",points:3,type:"SET_PARITY",count:3,parity:"ODD",desc:"Three cards of the same odd rank (1, 3, 5, or 7)."},{id:"set_even",text:"Even Set",points:3,type:"SET_PARITY",count:3,parity:"EVEN",desc:"Three cards of the same even rank (2, 4, 6, or 8)."},{id:"set_4_8s",text:"Four 8s",points:5,type:"EXACT_SET",val:8,count:4,desc:"Four cards all with the rank 8."},{id:"pair_1s",text:"Paired 1s",points:2,type:"EXACT_SET",val:1,count:2,desc:"A Pair of rank 1 cards."},{id:"set_6s",text:"Set of 6s",points:3,type:"EXACT_SET",val:6,count:3,desc:"Three cards all with the rank 6."},{id:"blue_odds",text:"Lemon Odds",points:4,type:"COLOR_PARITY",count:4,color:"L",parity:"ODD",desc:"Four Lemon cards, all with odd ranks (1, 3, 5, or 7)."},{id:"mag_evens",text:"Magenta Evens",points:4,type:"COLOR_PARITY",count:4,color:"M",parity:"EVEN",desc:"Four Magenta cards, all with even ranks (2, 4, 6, or 8)."},{id:"blue_low",text:"Lemon Low",points:3,type:"COLOR_RANGE",count:4,color:"L",max:4,desc:"Four Lemon cards, all rank 4 or lower (1, 2, 3, 4)."},{id:"mag_high",text:"Magenta High",points:3,type:"COLOR_RANGE",count:4,color:"M",min:5,desc:"Four Magenta cards, all rank 5 or higher (5, 6, 7, 8)."},{id:"odd_colors",text:"Odd Colors",points:3,type:"ODD_COLORS",desc:"Two Odd-ranked cards, one Lemon and one Magenta."},{id:"all_four_7s",text:"All Four 7s",points:5,type:"ALL_FOUR_7S",desc:"Four cards all with the rank 7, one of each color type (2 Lemon, 2 Magenta)."},{id:"mixed_pair",text:"Mixed Pairs",points:4,type:"MIXED_PAIRS",desc:"A Lemon pair and a Magenta pair (e.g., L-5, L-5, M-2, M-2)."},{id:"pure_blue",text:"Pure Lemon",points:4,type:"PURE_COLOR",count:5,color:"L",desc:"Five cards, all Lemon, any rank."},{id:"pure_mag",text:"Pure Magenta",points:4,type:"PURE_COLOR",count:5,color:"M",desc:"Five cards, all Magenta, any rank."},{id:"even_blues",text:"Even Lemons",points:3,type:"COLOR_PARITY",count:3,color:"L",parity:"EVEN",desc:"Three Lemon cards, all with even rank."},{id:"odd_magentas",text:"Odd Magentas",points:3,type:"COLOR_PARITY",count:3,color:"M",parity:"ODD",desc:"Three Magenta cards, all with odd rank."},{id:"sum_18_3",text:"Sum of 18",points:3,type:"SUM",count:3,target:18,desc:"Three cards whose ranks sum exactly to 18 (e.g., 4, 6, 8)."},{id:"sum_25_4",text:"Sum of 25",points:5,type:"SUM",count:4,target:25,desc:"Four cards whose ranks sum exactly to 25."},{id:"sum_10_blue",text:"Lemon 10",points:4,type:"SUM_COLOR",count:3,target:10,color:"L",desc:"Three Lemon cards whose ranks sum exactly to 10."},{id:"sum_20_mag",text:"Magenta 20",points:5,type:"SUM_COLOR",count:3,target:20,color:"M",desc:"Three Magenta cards whose ranks sum exactly to 20."},{id:"even_sum_14",text:"Even Sum 14",points:4,type:"SUM_PARITY",count:3,target:14,parity:"EVEN",desc:"Three even-ranked cards that sum to 14 (e.g., 2, 4, 8)."},{id:"odd_sum_15",text:"Odd Sum 15",points:4,type:"SUM_PARITY",count:3,target:15,parity:"ODD",desc:"Three odd-ranked cards that sum to 15 (e.g., 3, 5, 7)."},{id:"doubler",text:"Doubler (Any)",points:4,type:"DOUBLER_SUM",desc:"Three cards: Two of the same color sum to the rank of the third card."},{id:"sum_12_tri",text:"Tri-Sum 12",points:5,type:"SUM_DIFF",count:3,target:12,desc:"Three cards of different ranks that all sum to 12."},{id:"four_sum_28",text:"Four Sum 28",points:6,type:"EXACT_SET",val:7,count:4,desc:"Four cards all with rank 7 (Sum of 28)."},{id:"low_sum_6",text:"Low Sum 6",points:3,type:"SUM",count:3,target:6,desc:"Three cards whose ranks sum exactly to 6 (e.g., 1+2+3)."},{id:"arith_pair",text:"Arithmetic Pair",points:4,type:"ARITHMETIC_PAIR",desc:"A Lemon X and a Magenta Y where Y = X+3."},{id:"arith_trip",text:"Arithmetic Triple",points:3,type:"RUN",count:3,desc:"Three cards with ranks X, X+1, and X+2."},{id:"color_run_4",text:"Color Run 4",points:5,type:"COLOR_SPLIT_RUN",desc:"A Run of 4, where the first two are Lemon and the next two are Magenta."},{id:"odd_full_house_blue",text:"Odd Full House (L)",points:6,type:"FULL_HOUSE_COLOR_PARITY",color:"L",parity:"ODD",desc:"A Full House where all 5 cards are Lemon and have an odd rank."},{id:"high_pairs",text:"High Pairs",points:5,type:"SPECIFIC_PAIRS",vals:[7,8],desc:"A pair of 7s and a pair of 8s, any color."},{id:"blue_even_run",text:"Lemon-Even Run",points:6,type:"RUN_COLOR_PARITY",color:"L",parity:"EVEN",desc:"Three Lemon cards with sequential even ranks (2, 4, 6 or 4, 6, 8)."},{id:"mag_odd_set",text:"Magenta-Odd Set",points:5,type:"SET_PARITY_COLOR",count:3,parity:"ODD",color:"M",desc:"Three odd-ranked cards, all Magenta."},{id:"max_min",text:"Max/Min",points:6,type:"SPECIFIC_PAIRS",vals:[1,8],desc:"A pair of 1s and a pair of 8s, any color."},{id:"tri_color_set_3",text:"Tri-Color Set (3s)",points:4,type:"SPECIFIC_SET_MIXED",val:3,countL:2,countM:1,desc:"Three cards of rank 3, two Lemon and one Magenta."}],iT=s=>{let e=s.length,i;for(;e!==0;)i=Math.floor(Math.random()*e),e--,[s[e],s[i]]=[s[i],s[e]];return s},zI=()=>{let s=[];for(let e=0;e<4;e++)for(let i=1;i<=8;i++)s.push({id:`M-${e}-${i}`,color:"M",value:i}),s.push({id:`L-${e}-${i}`,color:"L",value:i});return iT(s)},Iv=()=>E.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[E.jsx(cI,{size:12,className:"text-pink-600"}),E.jsx("span",{className:"text-[10px] font-black tracking-widest text-pink-600 uppercase",children:"TOGETHER"})]}),BI=(s,e)=>{if(!s||s.length===0)return!1;const i=s.map(c=>c.value).sort((c,d)=>c-d),a=s.map(c=>c.color),o=i.reduce((c,d)=>c+d,0);switch(e.type){case"RUN":if(s.length!==e.count)return!1;for(let S=0;S<i.length-1;S++)if(i[S]+1!==i[S+1])return!1;return!(e.sameColor&&!a.every(S=>S===a[0])||e.specificColor&&!a.every(S=>S===e.specificColor));case"EXACT_SEQ":return s.length!==e.seq.length?!1:i.every((S,D)=>S===e.seq[D]);case"SET":return s.length!==e.count?!1:i.every(S=>S===i[0]);case"TWO_PAIRS":return s.length!==4?!1:i[0]===i[1]&&i[2]===i[3]&&i[1]!==i[2];case"FULL_HOUSE":if(s.length!==5)return!1;const c=i.filter(S=>S===i[0]).length,d=i.filter(S=>S===i[4]).length;return c===3&&d===2||c===2&&d===3;case"SET_PARITY":return s.length!==e.count||!i.every(S=>S===i[0])?!1:e.parity==="ODD"?i[0]%2!==0:i[0]%2===0;case"EXACT_SET":return s.length!==e.count?!1:i.every(S=>S===e.val);case"COLOR_PARITY":return s.length!==e.count||!a.every(S=>S===e.color)?!1:e.parity==="ODD"?i.every(S=>S%2!==0):i.every(S=>S%2===0);case"COLOR_RANGE":return s.length!==e.count||!a.every(S=>S===e.color)?!1:e.max?i.every(S=>S<=e.max):e.min?i.every(S=>S>=e.min):!1;case"MIXED_PAIRS":if(s.length!==4)return!1;const g=s.filter(S=>S.color==="L").map(S=>S.value),y=s.filter(S=>S.color==="M").map(S=>S.value);return g.length!==2||y.length!==2?!1:g[0]===g[1]&&y[0]===y[1];case"PURE_COLOR":return s.length!==e.count?!1:a.every(S=>S===e.color);case"SUM":return s.length!==e.count?!1:o===e.target;case"SUM_COLOR":return s.length!==e.count||!a.every(S=>S===e.color)?!1:o===e.target;case"SUM_PARITY":if(s.length!==e.count||o!==e.target)return!1;const _=e.parity==="ODD";return i.every(S=>S%2!==0===_);case"SUM_DIFF":return s.length!==e.count||o!==e.target?!1:new Set(i).size===i.length;case"DOUBLER_SUM":if(s.length!==3)return!1;for(let S=0;S<3;S++){const D=s[S],k=s.filter((R,nt)=>nt!==S);if(k[0].color===k[1].color&&k[0].value+k[1].value===D.value)return!0}return!1;case"COLOR_SPLIT_RUN":if(s.length!==4)return!1;for(let S=0;S<i.length-1;S++)if(i[S]+1!==i[S+1])return!1;const T=[...s].sort((S,D)=>S.value-D.value),x=T[0].color,V=T[1].color,H=T[2].color,ee=T[3].color;return x==="L"&&V==="L"&&H==="M"&&ee==="M";case"SPECIFIC_PAIRS":return s.length!==4||i[0]!==i[1]||i[2]!==i[3]?!1:i[0]===e.vals[0]&&i[2]===e.vals[1];case"ODD_COLORS":return s.length!==2||i.some(S=>S%2===0)?!1:a.includes("L")&&a.includes("M");case"ALL_FOUR_7S":if(s.length!==4||!i.every(S=>S===7))return!1;const se=a.filter(S=>S==="L").length,$=a.filter(S=>S==="M").length;return se===2&&$===2;case"ARITHMETIC_PAIR":if(s.length!==2)return!1;const fe=s.find(S=>S.color==="L"),Ee=s.find(S=>S.color==="M");return!fe||!Ee?!1:Ee.value===fe.value+3;case"FULL_HOUSE_COLOR_PARITY":if(s.length!==5||!a.every(S=>S===e.color))return!1;const _e=e.parity==="ODD";if(!i.every(S=>S%2!==0===_e))return!1;const Ge=i.filter(S=>S===i[0]).length,Be=i.filter(S=>S===i[4]).length;return Ge===3&&Be===2||Ge===2&&Be===3;case"RUN_COLOR_PARITY":if(s.length!==3||!a.every(S=>S===e.color))return!1;const Oe=e.parity==="ODD";return i.every(S=>S%2!==0===Oe)?i[1]===i[0]+2&&i[2]===i[1]+2:!1;case"SET_PARITY_COLOR":if(s.length!==e.count||!a.every(S=>S===e.color)||!i.every(S=>S===i[0]))return!1;const I=e.parity==="ODD";return i[0]%2!==0===I;case"SPECIFIC_SET_MIXED":if(s.length!==3||!i.every(S=>S===e.val))return!1;const w=a.filter(S=>S==="L").length,C=a.filter(S=>S==="M").length;return w===e.countL&&C===e.countM;default:return!1}},So=()=>E.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[E.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-slate-900 via-slate-950 to-black"}),E.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-96 h-96 bg-pink-600/10 rounded-full blur-3xl animate-pulse"}),E.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-96 h-96 bg-yellow-400/10 rounded-full blur-3xl animate-pulse delay-700"})]}),qI=({event:s,onClose:e,currentUserId:i})=>{if(!s)return null;const{type:a,actorName:o,data:c,actorId:d,targetId:g}=s,y=i===g;if(i===d)return null;let T=null,x="",V=null;switch(a){case"GOAL_CHANGE":x="Goal Changed",V=E.jsx(Io,{className:"text-purple-400",size:32}),T=E.jsxs("div",{className:"flex flex-col gap-4",children:[E.jsxs("div",{className:"text-center text-slate-300",children:[E.jsx("span",{className:"font-bold text-white",children:o})," changed"," ",c.goalType==="PERSONAL"?"their":"the"," ",E.jsx("span",{className:"font-bold text-purple-400",children:c.goalType==="PERSONAL"?"Personal":"Public"})," ","Goal!"]}),E.jsxs("div",{className:"flex items-center justify-center gap-4",children:[E.jsxs("div",{className:"opacity-60 scale-75 origin-right",children:[E.jsx(al,{goal:c.oldGoal,small:!0}),E.jsx("div",{className:"text-center text-xs mt-1 text-slate-500",children:"OLD"})]}),E.jsx(ZC,{className:"text-slate-500"}),E.jsxs("div",{className:"scale-90 origin-left",children:[E.jsx(al,{goal:c.newGoal,small:!0}),E.jsx("div",{className:"text-center text-xs mt-1 text-green-400",children:"NEW"})]})]})]});break;case"GOAL_CLAIM":x="Goal Completed!",V=E.jsx(Uh,{className:"text-yellow-400",size:32}),T=E.jsxs("div",{className:"flex flex-col gap-4 items-center",children:[E.jsxs("div",{className:"text-center text-slate-300",children:[E.jsx("span",{className:"font-bold text-white",children:o})," completed"," ",c.goalType==="PERSONAL"?"their":"the"," ",E.jsx("span",{className:"font-bold text-yellow-400",children:c.goalType})," ","goal!"]}),E.jsx(al,{goal:c.goal}),E.jsx("div",{className:"flex gap-1 justify-center bg-slate-800/50 p-2 rounded-xl mt-2",children:c.cards.map((H,ee)=>E.jsx(Fo,{card:H,tiny:!0},ee))})]});break;case"TRADE":y?(x="Trade Received",V=E.jsx(rI,{className:"text-blue-400",size:32}),T=E.jsxs("div",{className:"flex flex-col gap-4 items-center",children:[E.jsxs("div",{className:"text-center text-slate-300",children:[E.jsx("span",{className:"font-bold text-white",children:o})," sent you cards!"]}),E.jsx("div",{className:"flex gap-2 justify-center",children:c.cards.map((H,ee)=>E.jsx(Fo,{card:H,small:!0},ee))})]})):(x="Trade Occurred",V=E.jsx($c,{className:"text-blue-400",size:32}),T=E.jsx("div",{className:"flex flex-col gap-4 items-center",children:E.jsxs("div",{className:"text-center text-slate-300 text-lg",children:[E.jsx("span",{className:"font-bold text-white",children:o})," gave"," ",E.jsxs("span",{className:"font-bold text-blue-400",children:[c.count," card",c.count>1?"s":""]})," ","to ",E.jsx("span",{className:"font-bold text-white",children:c.targetName}),"."]})}));break;default:return null}return E.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 animate-in fade-in duration-300 pointer-events-none",children:E.jsxs("div",{className:"bg-slate-900/95 border-2 border-slate-700 rounded-2xl max-w-sm w-full p-6 shadow-2xl relative pointer-events-auto transform transition-all scale-100",children:[E.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-slate-500 hover:text-white",children:E.jsx(Go,{size:24})}),E.jsxs("div",{className:"flex flex-col items-center",children:[E.jsx("div",{className:"mb-4 bg-slate-800 p-3 rounded-full border border-slate-700",children:V}),E.jsx("h3",{className:"text-2xl font-black text-white mb-4",children:x}),T,E.jsx("button",{onClick:e,className:"w-full mt-6 bg-slate-800 hover:bg-slate-700 text-white font-bold py-3 rounded-xl transition-colors",children:"Dismiss"})]})]})})},Nv=({onConfirmLeave:s,onConfirmLobby:e,onCancel:i,isHost:a,inGame:o})=>E.jsx("div",{className:"fixed inset-0 z-[200] bg-black/90 flex items-center justify-center p-4 animate-in fade-in duration-200",children:E.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl max-w-sm w-full p-6 text-center shadow-2xl",children:[E.jsx(Nm,{className:"mx-auto text-red-500 mb-4",size:48}),E.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Leave Game?"}),E.jsx("p",{className:"text-slate-400 mb-6",children:o?"Leaving now will disrupt the game!":"You will be removed from the lobby."}),E.jsxs("div",{className:"flex flex-col gap-3",children:[E.jsx("button",{onClick:i,className:"bg-slate-800 hover:bg-slate-700 text-white font-bold py-3 rounded-xl transition-colors",children:"Stay (Cancel)"}),a&&o&&E.jsxs("button",{onClick:e,className:"bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl transition-colors flex items-center justify-center gap-2",children:[E.jsx(eT,{size:18})," Return Everyone to Lobby"]}),E.jsxs("button",{onClick:s,className:"bg-red-600 hover:bg-red-500 text-white font-bold py-3 rounded-xl transition-colors flex items-center justify-center gap-2",children:[E.jsx(tT,{size:18})," ",a&&o?"End Game for All":"Leave Room"]})]})]})}),HI=({goal:s,onClose:e})=>E.jsx("div",{className:"fixed inset-0 z-[100] bg-black/80 flex items-center justify-center p-4 animate-in fade-in duration-200",onClick:e,children:E.jsxs("div",{className:"bg-slate-900 border-2 border-slate-700 rounded-2xl max-w-sm w-full p-6 shadow-2xl relative",onClick:i=>i.stopPropagation(),children:[E.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-slate-500 hover:text-white",children:E.jsx(Go,{size:24})}),E.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[E.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-800 flex items-center justify-center mb-2",children:E.jsx(yI,{size:32,className:"text-pink-400"})}),E.jsx("h3",{className:"text-2xl font-black text-white",children:s.text}),E.jsx("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700 w-full",children:E.jsx("p",{className:"text-slate-300 font-medium text-lg leading-relaxed",children:s.desc||"No description available."})}),E.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[E.jsx(Uh,{className:"text-yellow-400",size:20}),E.jsxs("span",{className:"text-xl font-bold text-yellow-400",children:[s.points," Points"]})]}),E.jsx("button",{onClick:e,className:"w-full bg-slate-800 hover:bg-slate-700 text-white font-bold py-3 rounded-xl mt-4 transition-colors",children:"Got it"})]})]})}),GI=({completedGoals:s,onClose:e})=>{const i=[...s].sort((a,o)=>a.teamId.localeCompare(o.teamId));return E.jsx("div",{className:"fixed inset-0 z-[200] bg-black/95 flex items-center justify-center p-4 animate-in fade-in duration-200",children:E.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl max-w-4xl w-full max-h-[90vh] flex flex-col shadow-2xl",children:[E.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-center bg-slate-800/50 rounded-t-2xl",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"bg-indigo-600 p-2 rounded-lg",children:E.jsx(WE,{className:"text-white",size:24})}),E.jsx("h2",{className:"text-2xl font-black text-white",children:"Game Report Card"})]}),E.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-700 rounded-full transition-colors text-slate-400 hover:text-white",children:E.jsx(Go,{size:24})})]}),E.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:cs.map(a=>{const o=i.filter(c=>c.teamId===a.id);return o.length===0?null:E.jsxs("div",{className:`border-l-4 ${a.border} pl-6 py-2`,children:[E.jsx("h3",{className:`text-xl font-black mb-4 ${a.color}`,children:a.name}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map((c,d)=>E.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 border border-slate-700 flex flex-col gap-3",children:[E.jsxs("div",{className:"flex justify-between items-start",children:[E.jsxs("div",{children:[E.jsx("div",{className:"font-bold text-white text-lg",children:c.goal.text}),E.jsxs("div",{className:"text-xs text-slate-400",children:["Completed by ",c.playerName]})]}),E.jsxs("div",{className:"bg-yellow-400/10 text-yellow-400 font-bold px-2 py-1 rounded text-xs border border-yellow-400/20",children:["+",c.points," pts"]})]}),E.jsx("div",{className:"flex gap-1 justify-center bg-slate-900/50 p-2 rounded-lg",children:c.cards.map((g,y)=>E.jsx(Fo,{card:g,tiny:!0},y))})]},d))})]},a.id)})}),E.jsx("div",{className:"p-4 border-t border-slate-800 text-center bg-slate-800/30 rounded-b-2xl",children:E.jsx("button",{onClick:e,className:"bg-white text-slate-900 font-bold px-8 py-3 rounded-xl hover:scale-105 transition-transform",children:"Close Report"})})]})})},Fo=({card:s,onClick:e,selected:i,small:a,disabled:o,tiny:c})=>{if(!s)return E.jsx("div",{className:`border-2 border-dashed border-gray-700 rounded-xl bg-gray-800/50 ${a?"w-10 h-14":"w-20 h-28"}`});const d=s.color==="M"?Cv.MAGENTA:Cv.LEMON;return c?E.jsx("div",{className:`w-6 h-8 rounded flex items-center justify-center text-xs font-black ${d.bg} ${d.text} border border-white/20 shadow-sm`,children:s.value}):E.jsxs("button",{onClick:o?void 0:e,disabled:o,className:`
        relative rounded-xl font-black flex flex-col items-center justify-center transition-all shadow-lg select-none
        ${a?"w-12 h-16 text-xl":"w-20 h-28 md:w-24 md:h-32 text-4xl md:text-5xl"}
        ${d.bg} ${d.text} ${d.border} border-b-4
        ${i?"ring-2 ring-white -translate-y-2 z-10 scale-105":""}
        ${o?"opacity-40 cursor-not-allowed grayscale-[0.3]":"hover:brightness-110 cursor-pointer active:scale-95"}
      `,children:[E.jsx("span",{children:s.value}),!a&&E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"absolute top-1 left-2 text-[10px] opacity-70",children:d.id}),E.jsx("span",{className:"absolute bottom-1 right-2 text-[10px] opacity-70 rotate-180",children:d.id})]})]})},al=({goal:s,isPublic:e,isPersonal:i,completed:a,onClick:o,selected:c,small:d})=>E.jsxs("div",{onClick:o,className:`
      relative rounded-xl border flex flex-col items-center justify-center text-center overflow-hidden transition-all
      ${a?"bg-green-900/40 border-green-500 opacity-60":e?"bg-indigo-900/60 border-indigo-500 shadow-[0_0_15px_rgba(99,102,241,0.2)]":"bg-slate-800 border-slate-600"}
      ${c?"ring-2 ring-white scale-105 z-20":""}
      ${d?"w-24 h-16 p-1":"w-full h-full min-h-[100px] p-2 hover:bg-slate-700 cursor-pointer"}
    `,children:[e&&!d&&E.jsx("div",{className:"absolute top-0 inset-x-0 bg-indigo-600 text-[9px] font-bold text-white uppercase tracking-widest py-0.5",children:"Public Goal"}),i&&!d&&E.jsx("div",{className:"absolute top-0 inset-x-0 bg-pink-600 text-[9px] font-bold text-white uppercase tracking-widest py-0.5",children:"My Goal"}),E.jsx("div",{className:"flex-1 flex items-center justify-center px-1",children:E.jsx("p",{className:`text-white font-bold ${d?"text-[9px] leading-tight line-clamp-2":"text-xs md:text-sm leading-tight"}`,children:s?.text||"???"})}),!d&&E.jsxs("div",{className:"mt-1 flex items-center gap-1 bg-black/40 px-2 rounded-full",children:[E.jsx(Uh,{size:10,className:"text-yellow-400"}),E.jsxs("span",{className:"text-yellow-400 font-bold text-xs",children:[s?.points," pts"]})]}),a&&E.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center backdrop-blur-[1px]",children:E.jsx(Wa,{className:"text-green-500 drop-shadow-lg",size:d?20:32})})]});function FI(){const[s,e]=ct.useState(null),[i,a]=ct.useState("menu"),[o,c]=ct.useState(""),[d,g]=ct.useState(""),[y,_]=ct.useState(()=>localStorage.getItem(Ka)||""),[T,x]=ct.useState(null),[V,H]=ct.useState(""),[ee,se]=ct.useState(!1),[$,fe]=ct.useState([]),[Ee,_e]=ct.useState(!1),[Ge,Be]=ct.useState(!1),[Oe,I]=ct.useState(!1),[w,C]=ct.useState(!1),[S,D]=ct.useState(!1),[k,R]=ct.useState(null),[nt,_t]=ct.useState(null),[G,ie]=ct.useState(0);ct.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await p2(nm,__initial_auth_token):await c2(nm))(),_2(nm,e)},[]),ct.useEffect(()=>{const re=Av(mn(pn,"game_hub_settings","config"),oe=>{oe.exists()&&oe.data()[PI]?.maintenance?se(!0):se(!1)});return()=>re()},[]),ct.useEffect(()=>{if(!y||!s)return;const re=Av(mn(pn,"artifacts",Sn,"public","data","rooms",y),oe=>{if(oe.exists()){const de=oe.data();if(!de.players.some(K=>K.id===s.uid)){_(""),localStorage.removeItem(Ka),a("menu"),H("You were removed.");return}x(de),a(de.status==="lobby"?"lobby":"game"),de.lastEvent&&de.lastEvent.id!==G&&(ie(de.lastEvent.id),_t(de.lastEvent))}else _(""),localStorage.removeItem(Ka),a("menu"),H("Room ended.")});return()=>re()},[y,s,G]);const me=async()=>{if(!T||!s)return;const re=T.players.map(oe=>oe.id===s.uid?{...oe,ready:!oe.ready}:oe);await $n(mn(pn,"artifacts",Sn,"public","data","rooms",y),{players:re})},qe=async()=>{if(!o)return H("Name required");D(!0);const re=Math.random().toString(36).substring(2,7).toUpperCase(),oe={roomId:re,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:o,teamId:"A",hand:[],ready:!1}],logs:[],completedGoals:[],lastEvent:null};await GC(mn(pn,"artifacts",Sn,"public","data","rooms",re),oe),_(re),localStorage.setItem(Ka,re),a("lobby"),D(!1)},Ke=async()=>{if(!d||!o)return H("Enter Code and Name");D(!0);const re=mn(pn,"artifacts",Sn,"public","data","rooms",d),oe=await Tv(re);if(!oe.exists())return D(!1),H("Room not found");const de=oe.data();if(de.status!=="lobby")return D(!1),H("Game in progress");if(de.players.length>=6)return D(!1),H("Room full");de.players.length;const K=[...de.players,{id:s.uid,name:o,teamId:null,hand:[],ready:!1}];await $n(re,{players:K}),_(d),localStorage.setItem(Ka,d),D(!1)},M=async()=>{const re=T.players.length;if(re!==4&&re!==6){alert("Strictly 4 or 6 players required.");return}const oe=[...T.players],de=re===4?["A","B"]:["A","B","C"];oe.forEach((Ze,Yt)=>{re===4?Ze.teamId=Yt%2===0?"A":"B":Ze.teamId=Yt%3===0?"A":Yt%3===1?"B":"C",Ze.hand=[],Ze.score=0,Ze.ready=!1});const K=zI(),W=iT([...im,...im,...im]),ge=[K.pop(),K.pop(),K.pop()],Ce=W.pop();oe.forEach((Ze,Yt)=>{const hn=Yt===0?1:Yt===1?2:3;for(let As=0;As<hn;As++)Ze.hand.push(K.pop());Ze.personalGoal=W.pop()});const sn={};de.forEach(Ze=>{sn[Ze]={goals:0,points:0}}),await $n(mn(pn,"artifacts",Sn,"public","data","rooms",y),{status:"playing",players:oe,deck:K,market:ge,goalDeck:W,publicGoal:Ce,turnIndex:0,turnPhase:oe[0].hand.length>6?"CHECK_LIMIT":"DRAW",cardsDrawn:0,tradesPerformed:0,goalChanged:!1,teamScores:sn,completedGoals:[],lastEvent:{id:Date.now(),type:"GAME_START",actorName:"System"},logs:[{id:Date.now(),text:"Game Started! Good Luck.",type:"neutral"}]})},Q=async()=>{if(!y||!s)return;const re=mn(pn,"artifacts",Sn,"public","data","rooms",y);try{const oe=await Tv(re);if(oe.exists()){const de=oe.data();if(de.hostId===s.uid)await bv(re);else{const K=de.players.filter(W=>W.id!==s.uid);K.length===0?await bv(re):await $n(re,{players:K})}}}catch(oe){console.error("Error leaving room",oe)}_(""),localStorage.removeItem(Ka),a("menu"),x(null),I(!1)},ne=async()=>{if(!T||T.hostId!==s.uid)return;const re=T.players.map(oe=>({...oe,hand:[],ready:!1,score:0,personalGoal:null}));await $n(mn(pn,"artifacts",Sn,"public","data","rooms",y),{status:"lobby",players:re,deck:[],market:[],goalDeck:[],publicGoal:null,logs:[],teamScores:{},completedGoals:[],turnIndex:0,lastEvent:null}),I(!1)},ae=async()=>{await M()},be=async re=>{if(!T||T.hostId!==s.uid)return;const oe=T.players.filter(de=>de.id!==re);await $n(mn(pn,"artifacts",Sn,"public","data","rooms",y),{players:oe})},Re=async re=>{const oe=T.players.findIndex(ge=>ge.id===s.uid),de=T.players[oe],K=de.hand.filter(ge=>ge.id!==re.id),W={};W.players=[...T.players],W.players[oe].hand=K,W.deck=[re,...T.deck],K.length<=6&&(W.turnPhase="DRAW"),W.logs=$r({id:Date.now(),text:`${de.name} discarded a card (Recycled).`,type:"neutral"}),await $n(mn(pn,"artifacts",Sn,"public","data","rooms",y),W)},Me=async re=>{if(T.cardsDrawn>=2)return;const oe=T.players.findIndex(sn=>sn.id===s.uid),de=T.players[oe];let K,W={players:[...T.players],deck:[...T.deck],market:[...T.market]};re===-1?K=W.deck.pop():(K=W.market[re],W.market[re]=W.deck.length>0?W.deck.pop():null),W.players[oe].hand.push(K);const ge=T.cardsDrawn+1;W.cardsDrawn=ge;let Ce=re===-1?"drew from deck":`took ${K.value} from market`;W.logs=$r({id:Date.now(),text:`${de.name} ${Ce}.`,type:"neutral"}),ge>=2&&(W.turnPhase="ACTION"),await $n(mn(pn,"artifacts",Sn,"public","data","rooms",y),W)},vt=async re=>{if(T.goalChanged){alert("You can only change a goal once per turn.");return}const oe=T.players.findIndex(Ce=>Ce.id===s.uid),de=T.players[oe],K={players:[...T.players],goalDeck:[...T.goalDeck],publicGoal:T.publicGoal};let W,ge;re==="PERSONAL"?(W=de.personalGoal,K.goalDeck.unshift(W),ge=K.goalDeck.pop(),K.players[oe].personalGoal=ge):(W=T.publicGoal,K.goalDeck.unshift(W),ge=K.goalDeck.pop(),K.publicGoal=ge),K.goalChanged=!0,K.logs=$r({id:Date.now(),text:`${de.name} changed the ${re==="PERSONAL"?"Personal":"Public"} Goal.`,type:"neutral"}),K.lastEvent={id:Date.now(),type:"GOAL_CHANGE",actorId:s.uid,actorName:de.name,data:{oldGoal:W,newGoal:ge,goalType:re}},await $n(mn(pn,"artifacts",Sn,"public","data","rooms",y),K)},ot=async re=>{const oe=T.players.findIndex(hn=>hn.id===s.uid),de=T.players[oe],K=re==="PERSONAL"?de.personalGoal:T.publicGoal;if(!BI($,K)){alert("Invalid selection for this goal!");return}const W={players:[...T.players],goalDeck:[...T.goalDeck],teamScores:{...T.teamScores},deck:[...T.deck]},ge=$.map(hn=>hn.id);W.players[oe].hand=de.hand.filter(hn=>!ge.includes(hn.id)),W.deck=[...$,...W.deck];const Ce=de.teamId;W.teamScores[Ce].goals+=1,W.teamScores[Ce].points+=K.points;const sn={id:Date.now(),teamId:Ce,playerName:de.name,goal:K,cards:$,points:K.points};W.completedGoals=$r(sn),re==="PERSONAL"?W.players[oe].personalGoal=W.goalDeck.pop():W.publicGoal=W.goalDeck.pop();let Ze="success",Yt=`${de.name} claimed ${K.text} (+${K.points}pts)!`;W.teamScores[Ce].goals>=8&&(W.status="finished",Yt=`GAME OVER! ${cs.find(hn=>hn.id===Ce).name} completed 8 goals!`),W.logs=$r({id:Date.now(),text:Yt,type:Ze}),W.lastEvent={id:Date.now(),type:"GOAL_CLAIM",actorId:s.uid,actorName:de.name,data:{goal:K,cards:$,goalType:re}},fe([]),await $n(mn(pn,"artifacts",Sn,"public","data","rooms",y),W)},Gi=async re=>{if(T.tradesPerformed>=2){alert("Max 2 cards per turn.");return}if($.length!==1&&$.length!==2){alert("Select 1 or 2 cards.");return}if(T.tradesPerformed+$.length>2){alert("Can only trade 2 total.");return}const oe=T.players.findIndex(Ce=>Ce.id===s.uid),de=T.players.findIndex(Ce=>Ce.id===re),K=T.players[de],W={players:[...T.players]},ge=$.map(Ce=>Ce.id);W.players[oe].hand=W.players[oe].hand.filter(Ce=>!ge.includes(Ce.id)),W.players[de].hand.push(...$),W.tradesPerformed=T.tradesPerformed+$.length,W.logs=$r({id:Date.now(),text:`${T.players[oe].name} gave ${$.length} card(s) to ${T.players[de].name}.`,type:"neutral"}),W.lastEvent={id:Date.now(),type:"TRADE",actorId:s.uid,actorName:T.players[oe].name,targetId:re,targetName:K.name,data:{count:$.length,cards:$,targetName:K.name}},fe([]),await $n(mn(pn,"artifacts",Sn,"public","data","rooms",y),W)},Ts=async()=>{const re=(T.turnIndex+1)%T.players.length,oe=T.players[re],de=oe.hand.length>6?"CHECK_LIMIT":"DRAW";await $n(mn(pn,"artifacts",Sn,"public","data","rooms",y),{turnIndex:re,turnPhase:de,cardsDrawn:0,tradesPerformed:0,goalChanged:!1,logs:$r({id:Date.now(),text:`Turn passed to ${oe.name}`,type:"neutral"})})};if(ee)return E.jsx("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:E.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[E.jsx(lI,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),E.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),E.jsx("p",{className:"text-gray-400",children:"The bond is broken. Take some time to rescue your friendship."})]})});if(y&&!T&&!V)return E.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center text-white p-4",children:[E.jsx(So,{}),E.jsxs("div",{className:"bg-slate-900/80 backdrop-blur p-8 rounded-2xl border border-slate-700 shadow-2xl flex flex-col items-center gap-4 animate-in fade-in zoom-in duration-300",children:[E.jsx(TI,{size:48,className:"text-pink-500 animate-spin"}),E.jsxs("div",{className:"text-center",children:[E.jsx("h2",{className:"text-xl font-bold",children:"Reconnecting..."}),E.jsx("p",{className:"text-slate-400 text-sm",children:"Resuming your session"})]})]})]});if(i==="menu")return E.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center p-4 relative overflow-y-auto font-sans",children:[E.jsx(So,{}),Ge&&E.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-slate-900 max-w-3xl w-full max-h-[85vh] overflow-y-auto rounded-2xl border border-slate-700 shadow-2xl relative flex flex-col",children:[E.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-800 bg-slate-900 sticky top-0 z-10",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"bg-pink-600 p-2 rounded-xl",children:E.jsx(Pc,{className:"text-white",size:24})}),E.jsx("h2",{className:"text-3xl font-black text-white tracking-tight",children:"How to Play"})]}),E.jsx("button",{onClick:()=>Be(!1),className:"p-2 bg-slate-800 rounded-full text-slate-400 hover:text-white transition-colors border border-slate-700 hover:bg-slate-700",children:E.jsx(Go,{size:20})})]}),E.jsxs("div",{className:"p-8 space-y-10 text-slate-300",children:[E.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[E.jsxs("div",{children:[E.jsxs("h3",{className:"text-2xl font-bold text-white mb-3 flex items-center gap-2",children:[E.jsx(wv,{className:"text-pink-500"})," The Basics"]}),E.jsxs("p",{className:"leading-relaxed text-lg",children:["Together is a ",E.jsx("strong",{children:"cooperative team game"}),". You are paired with the player sitting opposite you. Your goal is to complete specific patterns called"," ",E.jsx("strong",{children:"Goal Cards"})," faster than the other teams."]})]}),E.jsxs("div",{className:"bg-slate-800 p-6 rounded-2xl border border-slate-700 shadow-inner",children:[E.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[E.jsx("div",{className:"w-12 h-16 bg-pink-600 rounded-lg border-2 border-pink-400"}),E.jsx("div",{className:"w-12 h-16 bg-yellow-400 rounded-lg border-2 border-yellow-200"}),E.jsxs("div",{className:"text-sm font-bold text-slate-400",children:["The Deck has numbers ",E.jsx("strong",{children:"1-8"})," in two colors:"," ",E.jsx("span",{className:"text-pink-400",children:"Magenta"})," &"," ",E.jsx("span",{className:"text-yellow-400",children:"Lemon"}),"."]})]}),E.jsxs("div",{className:"text-xs bg-slate-900 p-3 rounded-lg text-slate-400",children:[E.jsx("strong",{children:"Winning Condition:"})," The game ends when a team claims ",E.jsx("strong",{children:"8 Goals"}),". The team with the highest score wins!"]})]})]}),E.jsx("hr",{className:"border-slate-800"}),E.jsxs("section",{children:[E.jsxs("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[E.jsx(tm,{className:"text-blue-400"})," Turn Structure"]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[E.jsxs("div",{className:"bg-slate-800/50 p-5 rounded-xl border border-slate-700/50 relative overflow-hidden group hover:border-blue-500/30 transition-colors",children:[E.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 font-black text-6xl group-hover:opacity-20 transition-opacity",children:"1"}),E.jsx("h4",{className:"font-bold text-white text-lg mb-2",children:"Cleanup"}),E.jsxs("p",{className:"text-sm",children:["If you start your turn with"," ",E.jsx("strong",{children:"more than 6 cards"}),", you must discard down to 6 before doing anything else."]})]}),E.jsxs("div",{className:"bg-slate-800/50 p-5 rounded-xl border border-slate-700/50 relative overflow-hidden group hover:border-blue-500/30 transition-colors",children:[E.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 font-black text-6xl group-hover:opacity-20 transition-opacity",children:"2"}),E.jsx("h4",{className:"font-bold text-white text-lg mb-2",children:"Draw (Mandatory)"}),E.jsxs("p",{className:"text-sm",children:["You ",E.jsx("strong",{children:"MUST draw 2 cards"}),". You can take from the face-up Market or the blind Deck in any combination."]})]}),E.jsxs("div",{className:"bg-slate-800/50 p-5 rounded-xl border border-slate-700/50 relative overflow-hidden group hover:border-blue-500/30 transition-colors",children:[E.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 font-black text-6xl group-hover:opacity-20 transition-opacity",children:"3"}),E.jsx("h4",{className:"font-bold text-white text-lg mb-2",children:"Actions"}),E.jsxs("p",{className:"text-sm",children:["Perform any number of actions (Trade, Claim Goal, etc.) until you are ready to ",E.jsx("strong",{children:"Pass"})," the turn."]})]})]})]}),E.jsx("hr",{className:"border-slate-800"}),E.jsxs("section",{children:[E.jsxs("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[E.jsx(Rv,{className:"text-yellow-400"})," Valid Actions"]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex gap-4 items-start",children:[E.jsx("div",{className:"bg-green-500/20 p-3 rounded-lg text-green-400 shrink-0",children:E.jsx(Wa,{size:24})}),E.jsxs("div",{children:[E.jsx("h4",{className:"text-lg font-bold text-white",children:"Claim a Goal"}),E.jsxs("p",{className:"text-sm text-slate-400",children:["Select cards from your hand that match your"," ",E.jsx("strong",{children:"Personal Goal"})," or the shared"," ",E.jsx("strong",{children:"Public Goal"}),". If valid, you score points and get a new goal."]})]})]}),E.jsxs("div",{className:"flex gap-4 items-start",children:[E.jsx("div",{className:"bg-blue-500/20 p-3 rounded-lg text-blue-400 shrink-0",children:E.jsx($c,{size:24})}),E.jsxs("div",{children:[E.jsx("h4",{className:"text-lg font-bold text-white",children:"Trade Cards"}),E.jsxs("p",{className:"text-sm text-slate-400",children:["Give 1 or 2 cards from your hand to your partner. You cannot receive cards, only give.",E.jsx("strong",{children:"Limit:"})," Max 2 cards traded per turn."]})]})]}),E.jsxs("div",{className:"flex gap-4 items-start",children:[E.jsx("div",{className:"bg-purple-500/20 p-3 rounded-lg text-purple-400 shrink-0",children:E.jsx(Io,{size:24})}),E.jsxs("div",{children:[E.jsx("h4",{className:"text-lg font-bold text-white",children:"Cycle Goal"}),E.jsx("p",{className:"text-sm text-slate-400",children:"Once per turn, you can discard your current Personal Goal or the Public Goal and draw a new one. Use this if a goal seems impossible!"})]})]})]})]}),E.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 p-4 rounded-xl flex gap-4 items-center",children:[E.jsx("div",{className:"bg-red-500/20 p-2 rounded-full text-red-400",children:E.jsx(Nm,{size:24})}),E.jsxs("p",{className:"text-sm font-medium text-red-200",children:[E.jsx("strong",{children:"Communication Rule:"}),' You strictly cannot talk about the specific numbers or colors in your hand. You CAN say "I need high cards" or "I can help with that goal," but not "I have a Magenta 5."']})]})]}),E.jsx("div",{className:"p-6 border-t border-slate-800 bg-slate-900 sticky bottom-0 text-center",children:E.jsx("button",{onClick:()=>Be(!1),className:"bg-white text-slate-900 font-bold py-4 px-12 rounded-xl hover:scale-105 transition-transform shadow-xl",children:"Got It, Let's Play!"})})]})}),E.jsxs("div",{className:"z-10 bg-slate-900/80 backdrop-blur-xl border border-slate-700 p-8 rounded-3xl w-full max-w-md shadow-2xl flex flex-col gap-6 my-auto",children:[E.jsxs("div",{className:"text-center",children:[E.jsxs("div",{className:"flex justify-center gap-2 mb-4",children:[E.jsx("div",{className:"w-12 h-12 bg-pink-600 rounded-xl rotate-3 flex items-center justify-center shadow-lg shadow-pink-500/20",children:E.jsx(fI,{className:"text-white",size:24})}),E.jsx("div",{className:"w-12 h-12 bg-yellow-400 rounded-xl -rotate-6 flex items-center justify-center shadow-lg shadow-yellow-400/20",children:E.jsx(RI,{className:"text-yellow-900",size:24})})]}),E.jsx("h1",{className:"text-5xl font-black text-white tracking-tighter mb-1",children:"TOGETHER"}),E.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-xs",children:"A Cooperative Duos Game"})]}),V&&E.jsx("div",{className:"bg-red-500/20 border border-red-500/50 text-red-200 p-3 rounded-xl text-center text-sm font-bold",children:V}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-slate-400 text-xs font-bold uppercase ml-1",children:"Your Name"}),E.jsx("input",{className:"w-full bg-slate-950/50 border border-slate-700 focus:border-pink-500 p-4 rounded-xl text-white font-bold outline-none transition-all placeholder:text-slate-600",placeholder:"Enter Name",value:o,onChange:re=>c(re.target.value)})]}),E.jsxs("button",{onClick:qe,disabled:S,className:"w-full bg-gradient-to-r from-pink-600 to-purple-600 hover:from-pink-500 hover:to-purple-500 text-white p-4 rounded-xl font-black shadow-lg shadow-pink-900/20 active:scale-95 transition-all flex items-center justify-center gap-2",children:[E.jsx(xv,{size:20})," CREATE ROOM"]}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute inset-0 flex items-center",children:E.jsx("div",{className:"w-full border-t border-slate-700"})}),E.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:E.jsx("span",{className:"bg-slate-900 px-2 text-slate-500 font-bold",children:"Or Join"})})]}),E.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[E.jsx("input",{className:"w-full sm:flex-1 bg-slate-950/50 border border-slate-700 focus:border-yellow-400 p-4 rounded-xl text-white font-mono uppercase outline-none placeholder:text-slate-600",placeholder:"ROOM CODE",value:d,onChange:re=>g(re.target.value.toUpperCase())}),E.jsx("button",{onClick:Ke,disabled:S,className:"w-full sm:w-auto bg-yellow-400 hover:bg-yellow-300 text-yellow-900 px-8 py-4 rounded-xl font-black shadow-lg shadow-yellow-900/20 active:scale-95 transition-all",children:"JOIN"})]})]}),E.jsxs("button",{onClick:()=>Be(!0),className:"flex items-center justify-center gap-2 text-slate-500 hover:text-white transition-colors text-sm font-bold mt-2",children:[E.jsx(Pc,{size:16})," How to Play"]})]})]});const nn=T?.players[T.turnIndex]?.id===s?.uid,Ft=T?.players.find(re=>re.id===s?.uid),cn=cs.find(re=>re.id===Ft?.teamId),bs=T?.players.find(re=>re.teamId===Ft?.teamId&&re.id!==s?.uid);if(i==="lobby"&&T){const re=T.hostId===s.uid,oe=T.players.length,de=oe===4||oe===6;return E.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center p-6 text-white relative",children:[E.jsx(So,{}),Oe&&E.jsx(Nv,{onCancel:()=>I(!1),onConfirmLeave:Q,onConfirmLobby:()=>{ne(),I(!1)},isHost:re,inGame:!1}),E.jsxs("div",{className:"z-10 w-full max-w-4xl bg-slate-900/90 backdrop-blur p-8 rounded-3xl border border-slate-700 shadow-2xl",children:[E.jsxs("div",{className:"flex justify-between items-center mb-8",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-4xl font-black tracking-tighter",children:"LOBBY"}),E.jsxs("div",{className:"flex items-center gap-2 text-slate-400 font-mono",children:["Room Code:"," ",E.jsx("span",{className:"text-yellow-400 font-bold bg-slate-800 px-2 py-1 rounded",children:T.roomId})]})]}),E.jsx("button",{onClick:()=>I(!0),className:"p-3 bg-red-500/20 hover:bg-red-500/40 text-red-200 rounded-xl transition-colors",children:E.jsx(tT,{size:24})})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8",children:[T.players.map((K,W)=>{const ge=oe===4?W%2===0?"A":"B":W%3===0?"A":W%3===1?"B":"C",Ce=cs.find(sn=>sn.id===ge);return E.jsxs("div",{className:`bg-slate-800 border-2 ${Ce?Ce.border:"border-slate-700"} p-4 rounded-2xl flex items-center justify-between gap-4`,children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold text-xl ${Ce?Ce.bg:"bg-slate-700"} ${Ce?Ce.color:"text-slate-400"}`,children:K.name[0]}),E.jsxs("div",{children:[E.jsxs("div",{className:"font-bold text-lg flex items-center gap-2",children:[E.jsx(MI,{size:16,className:"text-slate-400"}),K.name,T.hostId===K.id&&E.jsx(xv,{size:14,className:"text-yellow-400"})]}),E.jsxs("div",{className:`text-xs font-bold uppercase flex items-center gap-2 mt-1 ${Ce?Ce.color:"text-slate-500"}`,children:[E.jsx(kI,{size:14}),Ce?Ce.name:"Waiting..."]})]})]}),re&&K.id!==s.uid&&E.jsx("button",{onClick:()=>be(K.id),className:"text-slate-600 hover:text-red-500 transition-colors",title:"Kick Player",children:E.jsx(II,{size:18})})]},K.id)}),Array.from({length:Math.max(0,(oe<4?4:6)-oe)}).map((K,W)=>E.jsx("div",{className:"border-2 border-dashed border-slate-800 rounded-2xl p-4 flex items-center justify-center text-slate-700 font-bold",children:"Waiting for Player..."},W))]}),re?E.jsx("button",{onClick:M,disabled:!de,className:`w-full py-6 rounded-2xl font-black text-2xl tracking-widest shadow-xl transition-all ${de?"bg-green-600 hover:bg-green-500 text-white hover:scale-[1.02]":"bg-slate-800 text-slate-600 cursor-not-allowed"}`,children:de?"START GAME":`WAITING FOR ${oe<4?"4":"4 or 6"} PLAYERS`}):E.jsx("div",{className:"text-center py-8 bg-slate-900/50 rounded-2xl animate-pulse text-slate-500 font-bold",children:"Waiting for Host to start..."})]}),E.jsx(Iv,{})]})}if(i==="game"&&T){const re=T.players[T.turnIndex],oe=T.hostId===s.uid,de=T.players.filter(K=>K.id!==T.hostId).every(K=>K.ready);if(T.status==="finished"){const K=Object.keys(T.teamScores).reduce((ge,Ce)=>T.teamScores[ge].points>T.teamScores[Ce].points?ge:Ce),W=cs.find(ge=>ge.id===K);return E.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center p-8 text-center text-white font-sans",children:[E.jsx(So,{}),w&&E.jsx(GI,{completedGoals:T.completedGoals||[],onClose:()=>C(!1)}),E.jsxs("div",{className:"z-10 bg-slate-900/80 backdrop-blur p-8 rounded-3xl border border-slate-700 shadow-2xl max-w-2xl w-full",children:[E.jsx(Uh,{size:80,className:"text-yellow-400 mb-6 mx-auto animate-bounce"}),E.jsxs("h1",{className:"text-6xl font-black mb-2",children:[W.name," Wins!"]}),E.jsx("div",{className:"grid grid-cols-2 gap-8 my-8",children:cs.map(ge=>T.teamScores[ge.id]?E.jsxs("div",{className:`bg-slate-800 p-6 rounded-2xl border ${ge.border}`,children:[E.jsx("h2",{className:`text-2xl font-bold ${ge.color}`,children:ge.name}),E.jsxs("div",{className:"text-4xl font-black mt-2",children:[T.teamScores[ge.id].points," pts"]}),E.jsxs("div",{className:"text-sm text-slate-400",children:[T.teamScores[ge.id].goals," goals"]})]},ge.id):null)}),E.jsxs("button",{onClick:()=>C(!0),className:"w-full bg-slate-800 hover:bg-slate-700 text-white font-bold py-3 rounded-xl mb-8 border border-slate-600 transition-colors flex items-center justify-center gap-2",children:[E.jsx(WE,{size:20})," View Game Report Card"]}),E.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:T.players.map(ge=>E.jsxs("div",{className:`px-3 py-1 rounded-full text-sm border flex items-center gap-2 ${ge.ready?"border-green-500 bg-green-900/20 text-green-300":"border-gray-700 bg-gray-800 text-gray-400"}`,children:[ge.name," ",ge.ready&&E.jsx(Wa,{size:12})]},ge.id))}),oe?E.jsxs("div",{className:"flex gap-4",children:[E.jsxs("button",{onClick:ae,disabled:!de,className:`flex-1 py-3 rounded-xl font-bold text-lg flex items-center justify-center gap-2 transition-transform ${de?"bg-green-600 hover:bg-green-500 text-white hover:scale-105":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,children:[E.jsx(tm,{size:20})," Restart Game"]}),E.jsxs("button",{onClick:ne,disabled:!de,className:`flex-1 py-3 rounded-xl font-bold text-lg flex items-center justify-center gap-2 transition-transform ${de?"bg-blue-600 hover:bg-blue-500 text-white hover:scale-105":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,children:[E.jsx(eT,{size:20})," Return to Lobby"]})]}):Ft.ready?E.jsx("div",{className:"text-green-400 font-bold animate-pulse border border-green-500/30 bg-green-900/10 p-4 rounded-xl",children:"Waiting for Host..."}):E.jsx("button",{onClick:me,className:"w-full py-4 bg-green-600 hover:bg-green-500 text-white rounded-xl font-bold text-lg shadow-lg hover:scale-105 transition-transform animate-pulse",children:"Ready for Next Game"})]})]})}return E.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col font-sans relative overflow-x-hidden overflow-y-auto text-slate-200",children:[E.jsx(So,{}),k&&E.jsx(HI,{goal:k,onClose:()=>R(null)}),E.jsx(qI,{event:nt,onClose:()=>_t(null),currentUserId:s.uid}),Ge&&E.jsx("div",{className:"fixed inset-0 bg-black/90 z-[150] flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-slate-900 max-w-3xl w-full max-h-[85vh] overflow-y-auto rounded-2xl border border-slate-700 shadow-2xl relative flex flex-col",children:[E.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-800 bg-slate-900 sticky top-0 z-10",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"bg-pink-600 p-2 rounded-xl",children:E.jsx(Pc,{className:"text-white",size:24})}),E.jsx("h2",{className:"text-3xl font-black text-white tracking-tight",children:"How to Play"})]}),E.jsx("button",{onClick:()=>Be(!1),className:"p-2 bg-slate-800 rounded-full text-slate-400 hover:text-white transition-colors border border-slate-700 hover:bg-slate-700",children:E.jsx(Go,{size:20})})]}),E.jsxs("div",{className:"p-8 space-y-10 text-slate-300",children:[E.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[E.jsxs("div",{children:[E.jsxs("h3",{className:"text-2xl font-bold text-white mb-3 flex items-center gap-2",children:[E.jsx(wv,{className:"text-pink-500"})," The Basics"]}),E.jsxs("p",{className:"leading-relaxed text-lg",children:["Together is a ",E.jsx("strong",{children:"cooperative team game"}),". You are paired with the player sitting opposite you. Your goal is to complete specific patterns called"," ",E.jsx("strong",{children:"Goal Cards"})," faster than the other teams."]})]}),E.jsxs("div",{className:"bg-slate-800 p-6 rounded-2xl border border-slate-700 shadow-inner",children:[E.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[E.jsx("div",{className:"w-12 h-16 bg-pink-600 rounded-lg border-2 border-pink-400"}),E.jsx("div",{className:"w-12 h-16 bg-yellow-400 rounded-lg border-2 border-yellow-200"}),E.jsxs("div",{className:"text-sm font-bold text-slate-400",children:["The Deck has numbers ",E.jsx("strong",{children:"1-8"})," in two colors:"," ",E.jsx("span",{className:"text-pink-400",children:"Magenta"})," &"," ",E.jsx("span",{className:"text-yellow-400",children:"Lemon"}),"."]})]}),E.jsxs("div",{className:"text-xs bg-slate-900 p-3 rounded-lg text-slate-400",children:[E.jsx("strong",{children:"Winning Condition:"})," The game ends when a team claims ",E.jsx("strong",{children:"8 Goals"}),". The team with the highest score wins!"]})]})]}),E.jsx("hr",{className:"border-slate-800"}),E.jsxs("section",{children:[E.jsxs("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[E.jsx(tm,{className:"text-blue-400"})," Turn Structure"]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[E.jsxs("div",{className:"bg-slate-800/50 p-5 rounded-xl border border-slate-700/50 relative overflow-hidden group hover:border-blue-500/30 transition-colors",children:[E.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 font-black text-6xl group-hover:opacity-20 transition-opacity",children:"1"}),E.jsx("h4",{className:"font-bold text-white text-lg mb-2",children:"Cleanup"}),E.jsxs("p",{className:"text-sm",children:["If you start your turn with"," ",E.jsx("strong",{children:"more than 6 cards"}),", you must discard down to 6 before doing anything else."]})]}),E.jsxs("div",{className:"bg-slate-800/50 p-5 rounded-xl border border-slate-700/50 relative overflow-hidden group hover:border-blue-500/30 transition-colors",children:[E.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 font-black text-6xl group-hover:opacity-20 transition-opacity",children:"2"}),E.jsx("h4",{className:"font-bold text-white text-lg mb-2",children:"Draw (Mandatory)"}),E.jsxs("p",{className:"text-sm",children:["You ",E.jsx("strong",{children:"MUST draw 2 cards"}),". You can take from the face-up Market or the blind Deck in any combination."]})]}),E.jsxs("div",{className:"bg-slate-800/50 p-5 rounded-xl border border-slate-700/50 relative overflow-hidden group hover:border-blue-500/30 transition-colors",children:[E.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 font-black text-6xl group-hover:opacity-20 transition-opacity",children:"3"}),E.jsx("h4",{className:"font-bold text-white text-lg mb-2",children:"Actions"}),E.jsxs("p",{className:"text-sm",children:["Perform any number of actions (Trade, Claim Goal, etc.) until you are ready to ",E.jsx("strong",{children:"Pass"})," the turn."]})]})]})]}),E.jsx("hr",{className:"border-slate-800"}),E.jsxs("section",{children:[E.jsxs("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[E.jsx(Rv,{className:"text-yellow-400"})," Valid Actions"]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex gap-4 items-start",children:[E.jsx("div",{className:"bg-green-500/20 p-3 rounded-lg text-green-400 shrink-0",children:E.jsx(Wa,{size:24})}),E.jsxs("div",{children:[E.jsx("h4",{className:"text-lg font-bold text-white",children:"Claim a Goal"}),E.jsxs("p",{className:"text-sm text-slate-400",children:["Select cards from your hand that match your"," ",E.jsx("strong",{children:"Personal Goal"})," or the shared"," ",E.jsx("strong",{children:"Public Goal"}),". If valid, you score points and get a new goal."]})]})]}),E.jsxs("div",{className:"flex gap-4 items-start",children:[E.jsx("div",{className:"bg-blue-500/20 p-3 rounded-lg text-blue-400 shrink-0",children:E.jsx($c,{size:24})}),E.jsxs("div",{children:[E.jsx("h4",{className:"text-lg font-bold text-white",children:"Trade Cards"}),E.jsxs("p",{className:"text-sm text-slate-400",children:["Give 1 or 2 cards from your hand to your partner. You cannot receive cards, only give.",E.jsx("strong",{children:"Limit:"})," Max 2 cards traded per turn."]})]})]}),E.jsxs("div",{className:"flex gap-4 items-start",children:[E.jsx("div",{className:"bg-purple-500/20 p-3 rounded-lg text-purple-400 shrink-0",children:E.jsx(Io,{size:24})}),E.jsxs("div",{children:[E.jsx("h4",{className:"text-lg font-bold text-white",children:"Cycle Goal"}),E.jsx("p",{className:"text-sm text-slate-400",children:"Once per turn, you can discard your current Personal Goal or the Public Goal and draw a new one. Use this if a goal seems impossible!"})]})]})]})]}),E.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 p-4 rounded-xl flex gap-4 items-center",children:[E.jsx("div",{className:"bg-red-500/20 p-2 rounded-full text-red-400",children:E.jsx(Nm,{size:24})}),E.jsxs("p",{className:"text-sm font-medium text-red-200",children:[E.jsx("strong",{children:"Communication Rule:"}),' You strictly cannot talk about the specific numbers or colors in your hand. You CAN say "I need high cards" or "I can help with that goal," but not "I have a Magenta 5."']})]})]}),E.jsx("div",{className:"p-6 border-t border-slate-800 bg-slate-900 sticky bottom-0 text-center",children:E.jsx("button",{onClick:()=>Be(!1),className:"bg-white text-slate-900 font-bold py-4 px-12 rounded-xl hover:scale-105 transition-transform shadow-xl",children:"Got It, Let's Play!"})})]})}),Oe&&E.jsx(Nv,{onConfirmLeave:Q,onConfirmLobby:()=>{ne(),I(!1)},onCancel:()=>I(!1),isHost:oe,inGame:!0}),E.jsxs("div",{className:"bg-slate-900 border-b border-slate-800 p-2 md:p-4 flex items-center justify-between shadow-md z-30 sticky top-0 backdrop-blur-md bg-opacity-90",children:[E.jsx("div",{className:"flex gap-2 md:gap-4 overflow-x-auto",children:cs.map(K=>{if(!T.teamScores[K.id]||T.players.length===4&&K.id==="C")return null;const W=T.teamScores[K.id],ge=re.teamId===K.id,Ce=Ft?.teamId===K.id;return E.jsxs("div",{className:`flex flex-col md:flex-row items-center gap-1 md:gap-3 px-3 py-1 rounded-lg border ${ge?K.bg+" "+K.border:"bg-transparent border-transparent"}`,children:[E.jsx("span",{className:`font-black text-xs md:text-sm uppercase ${K.color}`,children:K.name}),E.jsxs("div",{className:"flex gap-2 text-xs font-bold text-slate-400",children:[E.jsxs("span",{children:[W.goals,"/8 Goals"]}),Ce&&E.jsxs("span",{children:[W.points," Pts"]})]})]},K.id)})}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>Be(!0),className:"p-2 rounded-full text-slate-500 hover:bg-slate-800",title:"How to Play",children:E.jsx(Pc,{size:20})}),E.jsx("button",{onClick:()=>_e(!Ee),className:`p-2 rounded-full ${Ee?"bg-slate-800 text-white":"text-slate-500 hover:bg-slate-800"}`,children:E.jsx(mI,{size:20})}),E.jsx("button",{onClick:()=>I(!0),className:"p-2 rounded-full text-red-500 hover:bg-red-900/20",title:"Leave Game",children:E.jsx(nI,{size:20})})]})]}),Ee&&E.jsxs("div",{className:"fixed top-16 right-4 w-72 max-h-64 bg-slate-900/95 backdrop-blur shadow-2xl rounded-xl border border-slate-700 z-50 flex flex-col overflow-hidden",children:[E.jsx("div",{className:"bg-slate-800 p-2 text-xs font-bold text-slate-400 uppercase border-b border-slate-700",children:"Game Log"}),E.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:T.logs.slice().reverse().map(K=>E.jsx("div",{className:`text-xs p-2 rounded ${K.type==="success"?"bg-green-900/30 text-green-400 border border-green-900/50":"bg-slate-800 text-slate-400"}`,children:K.text},K.id))})]}),E.jsxs("div",{className:"flex-1 flex flex-col max-w-7xl mx-auto w-full p-2 md:p-4 gap-2 z-10",children:[E.jsx("div",{className:"overflow-x-auto pb-2 min-h-[100px]",children:E.jsx("div",{className:"flex justify-center gap-2 md:gap-4 w-fit mx-auto px-4",children:T.players.map((K,W)=>{if(K.id===s.uid)return null;const ge=T.turnIndex===W,Ce=cs.find(sn=>sn.id===K.teamId);return E.jsxs("div",{className:`flex flex-col items-center min-w-[80px] transition-all ${ge?"scale-105 opacity-100":"opacity-70"}`,children:[E.jsxs("div",{className:`relative w-10 h-10 rounded-full border-2 ${ge?"border-white ring-2 ring-blue-500":Ce.border} bg-slate-800 flex items-center justify-center font-bold text-sm shadow-md`,children:[K.name[0],E.jsx("div",{className:`absolute -bottom-1 px-1.5 py-0.5 rounded text-[7px] font-black uppercase text-white ${Ce.bg.replace("/30","")}`,children:Ce.name.split(" ")[1]})]}),E.jsx("span",{className:"text-[9px] font-bold text-slate-400 mt-1 max-w-[70px] truncate",children:K.name}),E.jsx("div",{className:"mt-1 w-20 scale-90 origin-top",children:E.jsx(al,{goal:K.personalGoal,small:!0,isPersonal:!0,onClick:()=>R(K.personalGoal)})}),E.jsxs("div",{className:"mt-1 flex -space-x-1",children:[Array.from({length:Math.min(5,K.hand.length)}).map((sn,Ze)=>E.jsx("div",{className:"w-2.5 h-3 bg-slate-700 rounded border border-slate-500"},Ze)),K.hand.length>5&&E.jsx("div",{className:"w-2.5 h-3 bg-red-500 rounded border border-slate-500"})]})]},K.id)})})}),E.jsxs("div",{className:"flex-1 bg-slate-900/50 backdrop-blur-md rounded-3xl border border-slate-800 shadow-xl p-4 flex flex-col md:flex-row items-center justify-center gap-8 md:gap-6 mb-4 md:mb-0",children:[E.jsxs("div",{className:"w-full md:w-auto text-center mb-2 md:mb-0",children:[E.jsx("div",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-1",children:"Current Turn"}),E.jsx("div",{className:`text-lg font-black ${cs.find(K=>K.id===re.teamId).color}`,children:nn?"YOUR TURN":re.name}),nn&&E.jsx("div",{className:"text-[10px] font-bold bg-slate-800 text-blue-400 border border-blue-900/50 px-2 py-1 rounded-full mt-1 animate-pulse inline-block shadow-lg",children:T.turnPhase==="CHECK_LIMIT"?"Discard down to 6":T.turnPhase==="DRAW"?`Draw ${2-T.cardsDrawn} Cards`:"Solve Goal, Trade, or Change Goal"})]}),E.jsxs("div",{className:"w-32 h-24 md:w-48 md:h-32 flex-shrink-0",children:[E.jsx("div",{className:"text-center text-[10px] font-bold text-slate-500 mb-1 uppercase",children:"Public Goal"}),T.publicGoal?E.jsx(al,{goal:T.publicGoal,isPublic:!0,selected:$.length>0&&nn&&T.turnPhase==="ACTION",onClick:()=>R(T.publicGoal)}):E.jsx("div",{className:"h-full border-2 border-dashed border-slate-700 rounded-lg flex items-center justify-center text-slate-600",children:"Empty"})]}),E.jsxs("div",{className:"flex flex-col items-center gap-2 mt-2 md:mt-0",children:[E.jsx("div",{className:"flex gap-2",children:T.market.map((K,W)=>E.jsx(Fo,{card:K,small:!0,disabled:!nn||T.turnPhase!=="DRAW",onClick:()=>Me(W)},W))}),E.jsxs("button",{onClick:()=>Me(-1),disabled:!nn||T.turnPhase!=="DRAW",className:"w-full h-10 bg-slate-800 border border-slate-700 rounded-xl flex items-center justify-center gap-2 text-slate-300 text-sm font-bold hover:bg-slate-700 active:scale-95 disabled:opacity-50 transition-all shadow-lg",children:[E.jsx(vI,{size:16})," Draw Blind"]})]})]}),E.jsxs("div",{className:"bg-slate-900 rounded-t-3xl shadow-[0_-10px_40px_rgba(0,0,0,0.3)] p-4 pt-14 border-t border-slate-800 relative mt-auto",children:[E.jsxs("div",{className:"absolute top-0 left-0 bg-slate-800 border-b border-r border-slate-700 rounded-br-2xl px-4 py-2 flex items-center gap-3",children:[E.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ${cn.bg} ${cn.color}`,children:Ft.name[0]}),E.jsxs("div",{children:[E.jsx("div",{className:"text-white font-bold text-sm leading-none",children:Ft.name}),E.jsx("div",{className:`text-[10px] uppercase font-black tracking-wider ${cn.color}`,children:cn.name})]})]}),nn&&T.turnPhase==="ACTION"&&E.jsx("div",{className:"absolute -top-12 left-0 right-0 flex justify-center px-2 z-20",children:E.jsxs("div",{className:"bg-slate-800/90 backdrop-blur-md border border-slate-700 p-2 rounded-2xl flex flex-wrap justify-center gap-2 shadow-2xl max-w-full",children:[E.jsxs("div",{className:"flex gap-1",children:[E.jsxs("button",{onClick:()=>ot("PERSONAL"),disabled:$.length===0,className:"bg-pink-600 text-white px-3 py-2 rounded-lg font-bold shadow hover:bg-pink-500 disabled:opacity-50 active:scale-95 transition text-xs flex items-center gap-1",children:[E.jsx(Wa,{size:14})," Mine"]}),E.jsxs("button",{onClick:()=>ot("PUBLIC"),disabled:$.length===0,className:"bg-indigo-600 text-white px-3 py-2 rounded-lg font-bold shadow hover:bg-indigo-500 disabled:opacity-50 active:scale-95 transition text-xs flex items-center gap-1",children:[E.jsx(Wa,{size:14})," Public"]})]}),E.jsx("div",{className:"w-px bg-slate-600 mx-1"}),bs&&E.jsxs("button",{onClick:()=>Gi(bs.id),disabled:$.length===0||$.length>2,className:"bg-blue-600 text-white px-3 py-2 rounded-lg font-bold shadow hover:bg-blue-500 disabled:opacity-50 active:scale-95 transition text-xs flex items-center gap-1",children:[E.jsx($c,{size:14})," Give"]}),E.jsx("div",{className:"w-px bg-slate-600 mx-1"}),E.jsxs("div",{className:"flex gap-1",children:[E.jsxs("button",{onClick:()=>vt("PERSONAL"),disabled:T.goalChanged,className:`bg-cyan-700 text-white px-3 py-2 rounded-lg font-bold shadow hover:bg-pink-600 disabled:opacity-50 active:scale-95 transition text-xs flex items-center gap-1 ${T.goalChanged?"opacity-50":""}`,title:"New Personal Goal",children:[E.jsx(Io,{size:14})," Mine"]}),E.jsxs("button",{onClick:()=>vt("PUBLIC"),disabled:T.goalChanged,className:`bg-yellow-600 text-white px-3 py-2 rounded-lg font-bold shadow hover:bg-indigo-600 disabled:opacity-50 active:scale-95 transition text-xs flex items-center gap-1 ${T.goalChanged?"opacity-50":""}`,title:"New Public Goal",children:[E.jsx(Io,{size:14})," Public"]})]}),E.jsx("div",{className:"w-px bg-slate-600 mx-1"}),E.jsx("button",{onClick:Ts,className:"bg-slate-700 text-white px-3 py-2 rounded-lg font-bold shadow hover:bg-slate-600 active:scale-95 transition text-xs",children:"Pass"})]})}),E.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[E.jsx("div",{className:"w-28 h-24 md:w-36 md:h-32 shrink-0 self-center md:self-end mb-4 md:mb-0 flex flex-col gap-2",children:Ft.personalGoal?E.jsx(al,{goal:Ft.personalGoal,isPersonal:!0,selected:$.length>0&&nn&&T.turnPhase==="ACTION",onClick:()=>R(Ft.personalGoal)}):E.jsx("div",{className:"h-full bg-slate-800 rounded-lg flex items-center justify-center text-xs text-slate-500 font-bold border-2 border-dashed border-slate-700",children:"Completed!"})}),E.jsx("div",{className:"flex-1 overflow-x-auto pb-4 pt-24 px-2 w-full min-h-[160px]",children:E.jsx("div",{className:"flex gap-2 items-end w-fit mx-auto",children:Ft.hand.sort((K,W)=>K.value-W.value).map(K=>E.jsxs("div",{className:"relative group shrink-0 w-20 h-28 md:w-24 md:h-32",children:[nn&&T.turnPhase==="CHECK_LIMIT"&&E.jsx("button",{onClick:()=>Re(K),className:"absolute -top-12 left-1/2 -translate-x-1/2 bg-red-500 text-white text-[10px] font-bold px-3 py-1.5 rounded-full opacity-100 z-50 shadow-xl animate-pulse border-2 border-slate-900",children:"DISCARD"}),E.jsx("div",{className:"w-full h-full",children:E.jsx(Fo,{card:K,selected:$.some(W=>W.id===K.id),disabled:!nn||T.turnPhase==="DRAW",onClick:()=>{T.turnPhase==="ACTION"&&($.some(W=>W.id===K.id)?fe($.filter(W=>W.id!==K.id)):fe([...$,K]))}})})]},K.id))})})]})]})]}),E.jsx(Iv,{})]})}return null}Hb.createRoot(document.getElementById("root")).render(E.jsx(ct.StrictMode,{children:E.jsx(FI,{})}));
