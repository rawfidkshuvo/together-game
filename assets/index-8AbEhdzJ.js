(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Pd={exports:{}},Ro={};var H0;function BT(){if(H0)return Ro;H0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var _ in o)_!=="key"&&(c[_]=o[_])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return Ro.Fragment=e,Ro.jsx=i,Ro.jsxs=i,Ro}var q0;function HT(){return q0||(q0=1,Pd.exports=BT()),Pd.exports}var y=HT(),Ud={exports:{}},Re={};var G0;function qT(){if(G0)return Re;G0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function F(V){return V===null||typeof V!="object"?null:(V=M&&V[M]||V["@@iterator"],typeof V=="function"?V:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},re=Object.assign,ne={};function ye(V,Q,ae){this.props=V,this.context=Q,this.refs=ne,this.updater=ae||J}ye.prototype.isReactComponent={},ye.prototype.setState=function(V,Q){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Q,"setState")},ye.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function xe(){}xe.prototype=ye.prototype;function _e(V,Q,ae){this.props=V,this.context=Q,this.refs=ne,this.updater=ae||J}var Ye=_e.prototype=new xe;Ye.constructor=_e,re(Ye,ye.prototype),Ye.isPureReactComponent=!0;var Ve=Array.isArray;function Pe(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(V,Q,ae){var le=ae.ref;return{$$typeof:s,type:V,key:Q,ref:le!==void 0?le:null,props:ae}}function S(V,Q){return C(V.type,Q,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function k(V){var Q={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return Q[ae]})}var R=/\/+/g;function We(V,Q){return typeof V=="object"&&V!==null&&V.key!=null?k(""+V.key):Q.toString(36)}function Et(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Pe,Pe):(V.status="pending",V.then(function(Q){V.status==="pending"&&(V.status="fulfilled",V.value=Q)},function(Q){V.status==="pending"&&(V.status="rejected",V.reason=Q)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function q(V,Q,ae,le,Ee){var Ae=typeof V;(Ae==="undefined"||Ae==="boolean")&&(V=null);var Me=!1;if(V===null)Me=!0;else switch(Ae){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(V.$$typeof){case s:case e:Me=!0;break;case x:return Me=V._init,q(Me(V._payload),Q,ae,le,Ee)}}if(Me)return Ee=Ee(V),Me=le===""?"."+We(V,0):le,Ve(Ee)?(ae="",Me!=null&&(ae=Me.replace(R,"$&/")+"/"),q(Ee,Q,ae,"",function(Ki){return Ki})):Ee!=null&&(D(Ee)&&(Ee=S(Ee,ae+(Ee.key==null||V&&V.key===Ee.key?"":(""+Ee.key).replace(R,"$&/")+"/")+Me)),Q.push(Ee)),1;Me=0;var Tt=le===""?".":le+":";if(Ve(V))for(var ht=0;ht<V.length;ht++)le=V[ht],Ae=Tt+We(le,ht),Me+=q(le,Q,ae,Ae,Ee);else if(ht=F(V),typeof ht=="function")for(V=ht.call(V),ht=0;!(le=V.next()).done;)le=le.value,Ae=Tt+We(le,ht++),Me+=q(le,Q,ae,Ae,Ee);else if(Ae==="object"){if(typeof V.then=="function")return q(Et(V),Q,ae,le,Ee);throw Q=String(V),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Me}function ee(V,Q,ae){if(V==null)return V;var le=[],Ee=0;return q(V,le,"","",function(Ae){return Q.call(ae,Ae,Ee++)}),le}function pe(V){if(V._status===-1){var Q=V._result;Q=Q(),Q.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=Q)}if(V._status===1)return V._result.default;throw V._result}var ke=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Oe={map:ee,forEach:function(V,Q,ae){ee(V,function(){Q.apply(this,arguments)},ae)},count:function(V){var Q=0;return ee(V,function(){Q++}),Q},toArray:function(V){return ee(V,function(Q){return Q})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Re.Activity=A,Re.Children=Oe,Re.Component=ye,Re.Fragment=i,Re.Profiler=o,Re.PureComponent=_e,Re.StrictMode=a,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Re.__COMPILER_RUNTIME={__proto__:null,c:function(V){return N.H.useMemoCache(V)}},Re.cache=function(V){return function(){return V.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(V,Q,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var le=re({},V.props),Ee=V.key;if(Q!=null)for(Ae in Q.key!==void 0&&(Ee=""+Q.key),Q)!w.call(Q,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&Q.ref===void 0||(le[Ae]=Q[Ae]);var Ae=arguments.length-2;if(Ae===1)le.children=ae;else if(1<Ae){for(var Me=Array(Ae),Tt=0;Tt<Ae;Tt++)Me[Tt]=arguments[Tt+2];le.children=Me}return C(V.type,Ee,le)},Re.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Re.createElement=function(V,Q,ae){var le,Ee={},Ae=null;if(Q!=null)for(le in Q.key!==void 0&&(Ae=""+Q.key),Q)w.call(Q,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(Ee[le]=Q[le]);var Me=arguments.length-2;if(Me===1)Ee.children=ae;else if(1<Me){for(var Tt=Array(Me),ht=0;ht<Me;ht++)Tt[ht]=arguments[ht+2];Ee.children=Tt}if(V&&V.defaultProps)for(le in Me=V.defaultProps,Me)Ee[le]===void 0&&(Ee[le]=Me[le]);return C(V,Ae,Ee)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(V){return{$$typeof:_,render:V}},Re.isValidElement=D,Re.lazy=function(V){return{$$typeof:x,_payload:{_status:-1,_result:V},_init:pe}},Re.memo=function(V,Q){return{$$typeof:v,type:V,compare:Q===void 0?null:Q}},Re.startTransition=function(V){var Q=N.T,ae={};N.T=ae;try{var le=V(),Ee=N.S;Ee!==null&&Ee(ae,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Pe,ke)}catch(Ae){ke(Ae)}finally{Q!==null&&ae.types!==null&&(Q.types=ae.types),N.T=Q}},Re.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Re.use=function(V){return N.H.use(V)},Re.useActionState=function(V,Q,ae){return N.H.useActionState(V,Q,ae)},Re.useCallback=function(V,Q){return N.H.useCallback(V,Q)},Re.useContext=function(V){return N.H.useContext(V)},Re.useDebugValue=function(){},Re.useDeferredValue=function(V,Q){return N.H.useDeferredValue(V,Q)},Re.useEffect=function(V,Q){return N.H.useEffect(V,Q)},Re.useEffectEvent=function(V){return N.H.useEffectEvent(V)},Re.useId=function(){return N.H.useId()},Re.useImperativeHandle=function(V,Q,ae){return N.H.useImperativeHandle(V,Q,ae)},Re.useInsertionEffect=function(V,Q){return N.H.useInsertionEffect(V,Q)},Re.useLayoutEffect=function(V,Q){return N.H.useLayoutEffect(V,Q)},Re.useMemo=function(V,Q){return N.H.useMemo(V,Q)},Re.useOptimistic=function(V,Q){return N.H.useOptimistic(V,Q)},Re.useReducer=function(V,Q,ae){return N.H.useReducer(V,Q,ae)},Re.useRef=function(V){return N.H.useRef(V)},Re.useState=function(V){return N.H.useState(V)},Re.useSyncExternalStore=function(V,Q,ae){return N.H.useSyncExternalStore(V,Q,ae)},Re.useTransition=function(){return N.H.useTransition()},Re.version="19.2.3",Re}var F0;function Om(){return F0||(F0=1,Ud.exports=qT()),Ud.exports}var st=Om(),zd={exports:{}},Co={},Bd={exports:{}},Hd={};var Y0;function GT(){return Y0||(Y0=1,(function(s){function e(q,ee){var pe=q.length;q.push(ee);e:for(;0<pe;){var ke=pe-1>>>1,Oe=q[ke];if(0<o(Oe,ee))q[ke]=ee,q[pe]=Oe,pe=ke;else break e}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var ee=q[0],pe=q.pop();if(pe!==ee){q[0]=pe;e:for(var ke=0,Oe=q.length,V=Oe>>>1;ke<V;){var Q=2*(ke+1)-1,ae=q[Q],le=Q+1,Ee=q[le];if(0>o(ae,pe))le<Oe&&0>o(Ee,ae)?(q[ke]=Ee,q[le]=pe,ke=le):(q[ke]=ae,q[Q]=pe,ke=Q);else if(le<Oe&&0>o(Ee,pe))q[ke]=Ee,q[le]=pe,ke=le;else break e}}return ee}function o(q,ee){var pe=q.sortIndex-ee.sortIndex;return pe!==0?pe:q.id-ee.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,_=d.now();s.unstable_now=function(){return d.now()-_}}var p=[],v=[],x=1,A=null,M=3,F=!1,J=!1,re=!1,ne=!1,ye=typeof setTimeout=="function"?setTimeout:null,xe=typeof clearTimeout=="function"?clearTimeout:null,_e=typeof setImmediate<"u"?setImmediate:null;function Ye(q){for(var ee=i(v);ee!==null;){if(ee.callback===null)a(v);else if(ee.startTime<=q)a(v),ee.sortIndex=ee.expirationTime,e(p,ee);else break;ee=i(v)}}function Ve(q){if(re=!1,Ye(q),!J)if(i(p)!==null)J=!0,Pe||(Pe=!0,k());else{var ee=i(v);ee!==null&&Et(Ve,ee.startTime-q)}}var Pe=!1,N=-1,w=5,C=-1;function S(){return ne?!0:!(s.unstable_now()-C<w)}function D(){if(ne=!1,Pe){var q=s.unstable_now();C=q;var ee=!0;try{e:{J=!1,re&&(re=!1,xe(N),N=-1),F=!0;var pe=M;try{t:{for(Ye(q),A=i(p);A!==null&&!(A.expirationTime>q&&S());){var ke=A.callback;if(typeof ke=="function"){A.callback=null,M=A.priorityLevel;var Oe=ke(A.expirationTime<=q);if(q=s.unstable_now(),typeof Oe=="function"){A.callback=Oe,Ye(q),ee=!0;break t}A===i(p)&&a(p),Ye(q)}else a(p);A=i(p)}if(A!==null)ee=!0;else{var V=i(v);V!==null&&Et(Ve,V.startTime-q),ee=!1}}break e}finally{A=null,M=pe,F=!1}ee=void 0}}finally{ee?k():Pe=!1}}}var k;if(typeof _e=="function")k=function(){_e(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,We=R.port2;R.port1.onmessage=D,k=function(){We.postMessage(null)}}else k=function(){ye(D,0)};function Et(q,ee){N=ye(function(){q(s.unstable_now())},ee)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(q){switch(M){case 1:case 2:case 3:var ee=3;break;default:ee=M}var pe=M;M=ee;try{return q()}finally{M=pe}},s.unstable_requestPaint=function(){ne=!0},s.unstable_runWithPriority=function(q,ee){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var pe=M;M=q;try{return ee()}finally{M=pe}},s.unstable_scheduleCallback=function(q,ee,pe){var ke=s.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ke+pe:ke):pe=ke,q){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=pe+Oe,q={id:x++,callback:ee,priorityLevel:q,startTime:pe,expirationTime:Oe,sortIndex:-1},pe>ke?(q.sortIndex=pe,e(v,q),i(p)===null&&q===i(v)&&(re?(xe(N),N=-1):re=!0,Et(Ve,pe-ke))):(q.sortIndex=Oe,e(p,q),J||F||(J=!0,Pe||(Pe=!0,k()))),q},s.unstable_shouldYield=S,s.unstable_wrapCallback=function(q){var ee=M;return function(){var pe=M;M=ee;try{return q.apply(this,arguments)}finally{M=pe}}}})(Hd)),Hd}var K0;function FT(){return K0||(K0=1,Bd.exports=GT()),Bd.exports}var qd={exports:{}},sn={};var Q0;function YT(){if(Q0)return sn;Q0=1;var s=Om();function e(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)v+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,v,x){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:v,implementation:x}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,sn.createPortal=function(p,v){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return c(p,v,null,x)},sn.flushSync=function(p){var v=d.T,x=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=v,a.p=x,a.d.f()}},sn.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(p,v))},sn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},sn.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var x=v.as,A=_(x,v.crossOrigin),M=typeof v.integrity=="string"?v.integrity:void 0,F=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;x==="style"?a.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:F}):x==="script"&&a.d.X(p,{crossOrigin:A,integrity:M,fetchPriority:F,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},sn.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var x=_(v.as,v.crossOrigin);a.d.M(p,{crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(p)},sn.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var x=v.as,A=_(x,v.crossOrigin);a.d.L(p,x,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},sn.preloadModule=function(p,v){if(typeof p=="string")if(v){var x=_(v.as,v.crossOrigin);a.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(p)},sn.requestFormReset=function(p){a.d.r(p)},sn.unstable_batchedUpdates=function(p,v){return p(v)},sn.useFormState=function(p,v,x){return d.H.useFormState(p,v,x)},sn.useFormStatus=function(){return d.H.useHostTransitionStatus()},sn.version="19.2.3",sn}var X0;function KT(){if(X0)return qd.exports;X0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),qd.exports=YT(),qd.exports}var $0;function QT(){if($0)return Co;$0=1;var s=FT(),e=Om(),i=KT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(a(188))}function v(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return p(h),t;if(f===l)return p(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,l=f;break}if(E===l){g=!0,l=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,l=h;break}if(E===l){g=!0,l=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function x(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=x(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),ye=Symbol.for("react.profiler"),xe=Symbol.for("react.consumer"),_e=Symbol.for("react.context"),Ye=Symbol.for("react.forward_ref"),Ve=Symbol.for("react.suspense"),Pe=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),S=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function We(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case re:return"Fragment";case ye:return"Profiler";case ne:return"StrictMode";case Ve:return"Suspense";case Pe:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case _e:return t.displayName||"Context";case xe:return(t._context.displayName||"Context")+".Consumer";case Ye:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:We(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return We(t(n))}catch{}}return null}var Et=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},ke=[],Oe=-1;function V(t){return{current:t}}function Q(t){0>Oe||(t.current=ke[Oe],ke[Oe]=null,Oe--)}function ae(t,n){Oe++,ke[Oe]=t.current,t.current=n}var le=V(null),Ee=V(null),Ae=V(null),Me=V(null);function Tt(t,n){switch(ae(Ae,n),ae(Ee,t),ae(le,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?h0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=h0(n),t=f0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(le),ae(le,t)}function ht(){Q(le),Q(Ee),Q(Ae)}function Ki(t){t.memoizedState!==null&&ae(Me,t);var n=le.current,r=f0(n,t.type);n!==r&&(ae(Ee,t),ae(le,r))}function Qi(t){Ee.current===t&&(Q(le),Q(Ee)),Me.current===t&&(Q(Me),xo._currentValue=pe)}var Ss,As;function Ln(t){if(Ss===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ss=n&&n[1]||"",As=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ss+t+As}var Sr=!1;function zt(t,n){if(!t||Sr)return"";Sr=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var z=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){z=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){z=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),U=E.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===U.length)for(l=I.length-1,h=U.length-1;1<=l&&0<=h&&I[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==U[h]){var G=`
`+I[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=h);break}}}finally{Sr=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Ln(r):""}function Ct(t,n){switch(t.tag){case 26:case 27:case 5:return Ln(t.type);case 16:return Ln("Lazy");case 13:return t.child!==n&&n!==null?Ln("Suspense Fallback"):Ln("Suspense");case 19:return Ln("SuspenseList");case 0:case 15:return zt(t.type,!1);case 11:return zt(t.type.render,!1);case 1:return zt(t.type,!0);case 31:return Ln("Activity");default:return""}}function gi(t){try{var n="",r=null;do n+=Ct(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var W=Object.prototype.hasOwnProperty,ie=s.unstable_scheduleCallback,he=s.unstable_cancelCallback,me=s.unstable_shouldYield,Y=s.unstable_requestPaint,ue=s.unstable_now,se=s.unstable_getCurrentPriorityLevel,Ke=s.unstable_ImmediatePriority,un=s.unstable_UserBlockingPriority,cn=s.unstable_NormalPriority,et=s.unstable_LowPriority,wn=s.unstable_IdlePriority,ha=s.log,Ar=s.unstable_setDisableYieldValue,ei=null,Qt=null;function Pn(t){if(typeof ha=="function"&&Ar(t),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(ei,t)}catch{}}var xt=Math.clz32?Math.clz32:du,fu=Math.log,fa=Math.LN2;function du(t){return t>>>=0,t===0?32:31-(fu(t)/fa|0)|0}var yi=256,wr=262144,It=4194304;function _i(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function vi(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=_i(l):(g&=E,g!==0?h=_i(g):r||(r=E&~t,r!==0&&(h=_i(r))))):(E=l&~f,E!==0?h=_i(E):g!==0?h=_i(g):r||(r=l&~t,r!==0&&(h=_i(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function ti(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Bh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mu(){var t=It;return It<<=1,(It&62914560)===0&&(It=4194304),t}function bi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Rr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Hh(t,n,r,l,h,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,I=t.expirationTimes,U=t.hiddenUpdates;for(r=g&~r;0<r;){var G=31-xt(r),X=1<<G;E[G]=0,I[G]=-1;var z=U[G];if(z!==null)for(U[G]=null,G=0;G<z.length;G++){var H=z[G];H!==null&&(H.lane&=-536870913)}r&=~X}l!==0&&Cr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Cr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-xt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function Rl(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-xt(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function Cl(t,n){var r=n&-n;return r=(r&42)!==0?1:Ir(r),(r&(t.suspendedLanes|n))!==0?0:r}function Ir(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Xi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function pu(){var t=ee.p;return t!==0?t:(t=window.event,t===void 0?32:k0(t.type))}function ni(t,n){var r=ee.p;try{return ee.p=t,n()}finally{ee.p=r}}var ii=Math.random().toString(36).slice(2),Nt="__reactFiber$"+ii,Gt="__reactProps$"+ii,Ei="__reactContainer$"+ii,da="__reactEvents$"+ii,qh="__reactListeners$"+ii,gu="__reactHandles$"+ii,yu="__reactResources$"+ii,Ti="__reactMarker$"+ii;function ma(t){delete t[Nt],delete t[Gt],delete t[da],delete t[qh],delete t[gu]}function xi(t){var n=t[Nt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Ei]||r[Nt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=v0(t);t!==null;){if(r=t[Nt])return r;t=v0(t)}return n}t=r,r=t.parentNode}return null}function Un(t){if(t=t[Nt]||t[Ei]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Rn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Si(t){var n=t[yu];return n||(n=t[yu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Dt(t){t[Ti]=!0}var Il=new Set,Nl={};function Ai(t,n){wi(t,n),wi(t+"Capture",n)}function wi(t,n){for(Nl[t]=n,t=0;t<n.length;t++)Il.add(n[t])}var Dl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ol={},Ml={};function _u(t){return W.call(Ml,t)?!0:W.call(Ol,t)?!1:Dl.test(t)?Ml[t]=!0:(Ol[t]=!0,!1)}function pa(t,n,r){if(_u(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Cn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Ot(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Ft(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ws(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Vl(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function tt(t){if(!t._valueTracker){var n=ws(t)?"checked":"value";t._valueTracker=Vl(t,n,""+t[n])}}function Nr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=ws(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Ri(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Dr=/[\n"\\]/g;function gn(t){return t.replace(Dr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ga(t,n,r,l,h,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ft(n)):t.value!==""+Ft(n)&&(t.value=""+Ft(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?kl(t,g,Ft(n)):r!=null?kl(t,g,Ft(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ft(E):t.removeAttribute("name")}function vu(t,n,r,l,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){tt(t);return}r=r!=null?""+Ft(r):"",n=n!=null?""+Ft(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),tt(t)}function kl(t,n,r){n==="number"&&Ri(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Rs(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ft(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function bu(t,n,r){if(n!=null&&(n=""+Ft(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ft(r):""}function Cs(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(Et(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ft(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),tt(t)}function yn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Eu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jl(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Eu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Ll(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&jl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&jl(t,f,n[f])}function ya(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Is=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _a(t){return Is.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function si(){}var Pl=null;function zn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ns=null,Ci=null;function Or(t){var n=Un(t);if(n&&(t=n.stateNode)){var r=t[Gt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ga(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+gn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[Gt]||null;if(!h)throw Error(a(90));ga(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Nr(l)}break e;case"textarea":bu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Rs(t,!!r.multiple,n,!1)}}}var va=!1;function Ds(t,n,r){if(va)return t(n,r);va=!0;try{var l=t(n);return l}finally{if(va=!1,(Ns!==null||Ci!==null)&&(pc(),Ns&&(n=Ns,t=Ci,Ci=Ns=null,Or(n),t)))for(n=0;n<t.length;n++)Or(t[n])}}function ri(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Gt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mr=!1;if(Bn)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){Mr=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{Mr=!1}var Ii=null,Ul=null,Vr=null;function zl(){if(Vr)return Vr;var t,n=Ul,r=n.length,l,h="value"in Ii?Ii.value:Ii.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var g=r-t;for(l=1;l<=g&&n[r-l]===h[f-l];l++);return Vr=h.slice(t,1<l?1-l:void 0)}function kr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function $i(){return!0}function ai(){return!1}function Xt(t){function n(r,l,h,f,g){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?$i:ai,this.isPropagationStopped=ai,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),n}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ni=Xt(Ji),Os=A({},Ji,{view:0,detail:0}),Bl=Xt(Os),Ms,ba,Di,Ea=A({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Di&&(Di&&t.type==="mousemove"?(Ms=t.screenX-Di.screenX,ba=t.screenY-Di.screenY):ba=Ms=0,Di=t),Ms)},movementY:function(t){return"movementY"in t?t.movementY:ba}}),Hl=Xt(Ea),jr=A({},Ea,{dataTransfer:0}),xu=Xt(jr),Su=A({},Os,{relatedTarget:0}),Lr=Xt(Su),ql=A({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Au=Xt(ql),Ta=A({},Ji,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wu=Xt(Ta),Ru=A({},Ji,{data:0}),Oi=Xt(Ru),Cu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Du(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Nu[t])?!!n[t]:!1}function Vs(){return Du}var hn=A({},Os,{key:function(t){if(t.key){var n=Cu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=kr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Iu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(t){return t.type==="keypress"?kr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ou=Xt(hn),Mu=A({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=Xt(Mu),u=A({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),m=Xt(u),b=A({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Xt(b),L=A({},Ea,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Xt(L),te=A({},Ji,{newState:0,oldState:0}),Ie=Xt(te),St=[9,13,27,32],$e=Bn&&"CompositionEvent"in window,pt=null;Bn&&"documentMode"in document&&(pt=document.documentMode);var Hn=Bn&&"TextEvent"in window&&!pt,Mi=Bn&&(!$e||pt&&8<pt&&11>=pt),li=" ",oi=!1;function Pr(t,n){switch(t){case"keyup":return St.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sa=!1;function hE(t,n){switch(t){case"compositionend":return xa(n);case"keypress":return n.which!==32?null:(oi=!0,li);case"textInput":return t=n.data,t===li&&oi?null:t;default:return null}}function fE(t,n){if(Sa)return t==="compositionend"||!$e&&Pr(t,n)?(t=zl(),Vr=Ul=Ii=null,Sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Mi&&n.locale!=="ko"?null:n.data;default:return null}}var dE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!dE[t.type]:n==="textarea"}function xp(t,n,r,l){Ns?Ci?Ci.push(l):Ci=[l]:Ns=l,n=Tc(n,"onChange"),0<n.length&&(r=new Ni("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Gl=null,Fl=null;function mE(t){r0(t,0)}function Vu(t){var n=Rn(t);if(Nr(n))return t}function Sp(t,n){if(t==="change")return n}var Ap=!1;if(Bn){var Gh;if(Bn){var Fh="oninput"in document;if(!Fh){var wp=document.createElement("div");wp.setAttribute("oninput","return;"),Fh=typeof wp.oninput=="function"}Gh=Fh}else Gh=!1;Ap=Gh&&(!document.documentMode||9<document.documentMode)}function Rp(){Gl&&(Gl.detachEvent("onpropertychange",Cp),Fl=Gl=null)}function Cp(t){if(t.propertyName==="value"&&Vu(Fl)){var n=[];xp(n,Fl,t,zn(t)),Ds(mE,n)}}function pE(t,n,r){t==="focusin"?(Rp(),Gl=n,Fl=r,Gl.attachEvent("onpropertychange",Cp)):t==="focusout"&&Rp()}function gE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vu(Fl)}function yE(t,n){if(t==="click")return Vu(n)}function _E(t,n){if(t==="input"||t==="change")return Vu(n)}function vE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var In=typeof Object.is=="function"?Object.is:vE;function Yl(t,n){if(In(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!W.call(n,h)||!In(t[h],n[h]))return!1}return!0}function Ip(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Np(t,n){var r=Ip(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ip(r)}}function Dp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Dp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Op(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ri(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ri(t.document)}return n}function Yh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var bE=Bn&&"documentMode"in document&&11>=document.documentMode,Aa=null,Kh=null,Kl=null,Qh=!1;function Mp(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qh||Aa==null||Aa!==Ri(l)||(l=Aa,"selectionStart"in l&&Yh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Kl&&Yl(Kl,l)||(Kl=l,l=Tc(Kh,"onSelect"),0<l.length&&(n=new Ni("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Aa)))}function Ur(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var wa={animationend:Ur("Animation","AnimationEnd"),animationiteration:Ur("Animation","AnimationIteration"),animationstart:Ur("Animation","AnimationStart"),transitionrun:Ur("Transition","TransitionRun"),transitionstart:Ur("Transition","TransitionStart"),transitioncancel:Ur("Transition","TransitionCancel"),transitionend:Ur("Transition","TransitionEnd")},Xh={},Vp={};Bn&&(Vp=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function zr(t){if(Xh[t])return Xh[t];if(!wa[t])return t;var n=wa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Vp)return Xh[t]=n[r];return t}var kp=zr("animationend"),jp=zr("animationiteration"),Lp=zr("animationstart"),EE=zr("transitionrun"),TE=zr("transitionstart"),xE=zr("transitioncancel"),Pp=zr("transitionend"),Up=new Map,$h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$h.push("scrollEnd");function ui(t,n){Up.set(t,n),Ai(n,[t])}var ku=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},qn=[],Ra=0,Jh=0;function ju(){for(var t=Ra,n=Jh=Ra=0;n<t;){var r=qn[n];qn[n++]=null;var l=qn[n];qn[n++]=null;var h=qn[n];qn[n++]=null;var f=qn[n];if(qn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&zp(r,h,f)}}function Lu(t,n,r,l){qn[Ra++]=t,qn[Ra++]=n,qn[Ra++]=r,qn[Ra++]=l,Jh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Zh(t,n,r,l){return Lu(t,n,r,l),Pu(t)}function Br(t,n){return Lu(t,null,null,n),Pu(t)}function zp(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-xt(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Pu(t){if(50<go)throw go=0,od=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ca={};function SE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(t,n,r,l){return new SE(t,n,r,l)}function Wh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wi(t,n){var r=t.alternate;return r===null?(r=Nn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Bp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Uu(t,n,r,l,h,f){var g=0;if(l=t,typeof t=="function")Wh(t)&&(g=1);else if(typeof t=="string")g=IT(t,r,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Nn(31,r,n,h),t.elementType=C,t.lanes=f,t;case re:return Hr(r.children,h,f,n);case ne:g=8,h|=24;break;case ye:return t=Nn(12,r,n,h|2),t.elementType=ye,t.lanes=f,t;case Ve:return t=Nn(13,r,n,h),t.elementType=Ve,t.lanes=f,t;case Pe:return t=Nn(19,r,n,h),t.elementType=Pe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _e:g=10;break e;case xe:g=9;break e;case Ye:g=11;break e;case N:g=14;break e;case w:g=16,l=null;break e}g=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Nn(g,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Hr(t,n,r,l){return t=Nn(7,t,l,n),t.lanes=r,t}function ef(t,n,r){return t=Nn(6,t,null,n),t.lanes=r,t}function Hp(t){var n=Nn(18,null,null,0);return n.stateNode=t,n}function tf(t,n,r){return n=Nn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var qp=new WeakMap;function Gn(t,n){if(typeof t=="object"&&t!==null){var r=qp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:gi(n)},qp.set(t,n),n)}return{value:t,source:n,stack:gi(n)}}var Ia=[],Na=0,zu=null,Ql=0,Fn=[],Yn=0,ks=null,Vi=1,ki="";function es(t,n){Ia[Na++]=Ql,Ia[Na++]=zu,zu=t,Ql=n}function Gp(t,n,r){Fn[Yn++]=Vi,Fn[Yn++]=ki,Fn[Yn++]=ks,ks=t;var l=Vi;t=ki;var h=32-xt(l)-1;l&=~(1<<h),r+=1;var f=32-xt(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,Vi=1<<32-xt(n)+h|r<<h|l,ki=f+t}else Vi=1<<f|r<<h|l,ki=t}function nf(t){t.return!==null&&(es(t,1),Gp(t,1,0))}function sf(t){for(;t===zu;)zu=Ia[--Na],Ia[Na]=null,Ql=Ia[--Na],Ia[Na]=null;for(;t===ks;)ks=Fn[--Yn],Fn[Yn]=null,ki=Fn[--Yn],Fn[Yn]=null,Vi=Fn[--Yn],Fn[Yn]=null}function Fp(t,n){Fn[Yn++]=Vi,Fn[Yn++]=ki,Fn[Yn++]=ks,Vi=n.id,ki=n.overflow,ks=t}var $t=null,ft=null,Ge=!1,js=null,Kn=!1,rf=Error(a(519));function Ls(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xl(Gn(n,t)),rf}function Yp(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Nt]=t,n[Gt]=l,r){case"dialog":Le("cancel",n),Le("close",n);break;case"iframe":case"object":case"embed":Le("load",n);break;case"video":case"audio":for(r=0;r<_o.length;r++)Le(_o[r],n);break;case"source":Le("error",n);break;case"img":case"image":case"link":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"input":Le("invalid",n),vu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Le("invalid",n);break;case"textarea":Le("invalid",n),Cs(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||u0(n.textContent,r)?(l.popover!=null&&(Le("beforetoggle",n),Le("toggle",n)),l.onScroll!=null&&Le("scroll",n),l.onScrollEnd!=null&&Le("scrollend",n),l.onClick!=null&&(n.onclick=si),n=!0):n=!1,n||Ls(t,!0)}function Kp(t){for($t=t.return;$t;)switch($t.tag){case 5:case 31:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:$t=$t.return}}function Da(t){if(t!==$t)return!1;if(!Ge)return Kp(t),Ge=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||xd(t.type,t.memoizedProps)),r=!r),r&&ft&&Ls(t),Kp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ft=_0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ft=_0(t)}else n===27?(n=ft,Js(t.type)?(t=Cd,Cd=null,ft=t):ft=n):ft=$t?Xn(t.stateNode.nextSibling):null;return!0}function qr(){ft=$t=null,Ge=!1}function af(){var t=js;return t!==null&&(En===null?En=t:En.push.apply(En,t),js=null),t}function Xl(t){js===null?js=[t]:js.push(t)}var lf=V(null),Gr=null,ts=null;function Ps(t,n,r){ae(lf,n._currentValue),n._currentValue=r}function ns(t){t._currentValue=lf.current,Q(lf)}function of(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function uf(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),of(f.return,r,t),l||(g=null);break e}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),of(g,r,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Oa(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;In(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===Me.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(xo):t=[xo])}h=h.return}t!==null&&uf(n,t,r,l),n.flags|=262144}function Bu(t){for(t=t.firstContext;t!==null;){if(!In(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fr(t){Gr=t,ts=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Jt(t){return Qp(Gr,t)}function Hu(t,n){return Gr===null&&Fr(t),Qp(t,n)}function Qp(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ts===null){if(t===null)throw Error(a(308));ts=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ts=ts.next=n;return r}var AE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},wE=s.unstable_scheduleCallback,RE=s.unstable_NormalPriority,Mt={$$typeof:_e,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cf(){return{controller:new AE,data:new Map,refCount:0}}function $l(t){t.refCount--,t.refCount===0&&wE(RE,function(){t.controller.abort()})}var Jl=null,hf=0,Ma=0,Va=null;function CE(t,n){if(Jl===null){var r=Jl=[];hf=0,Ma=md(),Va={status:"pending",value:void 0,then:function(l){r.push(l)}}}return hf++,n.then(Xp,Xp),n}function Xp(){if(--hf===0&&Jl!==null){Va!==null&&(Va.status="fulfilled");var t=Jl;Jl=null,Ma=0,Va=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function IE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var $p=q.S;q.S=function(t,n){My=ue(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&CE(t,n),$p!==null&&$p(t,n)};var Yr=V(null);function ff(){var t=Yr.current;return t!==null?t:ct.pooledCache}function qu(t,n){n===null?ae(Yr,Yr.current):ae(Yr,n.pool)}function Jp(){var t=ff();return t===null?null:{parent:Mt._currentValue,pool:t}}var ka=Error(a(460)),df=Error(a(474)),Gu=Error(a(542)),Fu={then:function(){}};function Zp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Wp(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(si,si),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,tg(t),t;default:if(typeof n.status=="string")n.then(si,si);else{if(t=ct,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,tg(t),t}throw Qr=n,ka}}function Kr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Qr=r,ka):r}}var Qr=null;function eg(){if(Qr===null)throw Error(a(459));var t=Qr;return Qr=null,t}function tg(t){if(t===ka||t===Gu)throw Error(a(483))}var ja=null,Zl=0;function Yu(t){var n=Zl;return Zl+=1,ja===null&&(ja=[]),Wp(ja,t,n)}function Wl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ku(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ng(t){function n(j,O){if(t){var P=j.deletions;P===null?(j.deletions=[O],j.flags|=16):P.push(O)}}function r(j,O){if(!t)return null;for(;O!==null;)n(j,O),O=O.sibling;return null}function l(j){for(var O=new Map;j!==null;)j.key!==null?O.set(j.key,j):O.set(j.index,j),j=j.sibling;return O}function h(j,O){return j=Wi(j,O),j.index=0,j.sibling=null,j}function f(j,O,P){return j.index=P,t?(P=j.alternate,P!==null?(P=P.index,P<O?(j.flags|=67108866,O):P):(j.flags|=67108866,O)):(j.flags|=1048576,O)}function g(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function E(j,O,P,K){return O===null||O.tag!==6?(O=ef(P,j.mode,K),O.return=j,O):(O=h(O,P),O.return=j,O)}function I(j,O,P,K){var ge=P.type;return ge===re?G(j,O,P.props.children,K,P.key):O!==null&&(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&Kr(ge)===O.type)?(O=h(O,P.props),Wl(O,P),O.return=j,O):(O=Uu(P.type,P.key,P.props,null,j.mode,K),Wl(O,P),O.return=j,O)}function U(j,O,P,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=tf(P,j.mode,K),O.return=j,O):(O=h(O,P.children||[]),O.return=j,O)}function G(j,O,P,K,ge){return O===null||O.tag!==7?(O=Hr(P,j.mode,K,ge),O.return=j,O):(O=h(O,P),O.return=j,O)}function X(j,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=ef(""+O,j.mode,P),O.return=j,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case F:return P=Uu(O.type,O.key,O.props,null,j.mode,P),Wl(P,O),P.return=j,P;case J:return O=tf(O,j.mode,P),O.return=j,O;case w:return O=Kr(O),X(j,O,P)}if(Et(O)||k(O))return O=Hr(O,j.mode,P,null),O.return=j,O;if(typeof O.then=="function")return X(j,Yu(O),P);if(O.$$typeof===_e)return X(j,Hu(j,O),P);Ku(j,O)}return null}function z(j,O,P,K){var ge=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ge!==null?null:E(j,O,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===ge?I(j,O,P,K):null;case J:return P.key===ge?U(j,O,P,K):null;case w:return P=Kr(P),z(j,O,P,K)}if(Et(P)||k(P))return ge!==null?null:G(j,O,P,K,null);if(typeof P.then=="function")return z(j,O,Yu(P),K);if(P.$$typeof===_e)return z(j,O,Hu(j,P),K);Ku(j,P)}return null}function H(j,O,P,K,ge){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return j=j.get(P)||null,E(O,j,""+K,ge);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case F:return j=j.get(K.key===null?P:K.key)||null,I(O,j,K,ge);case J:return j=j.get(K.key===null?P:K.key)||null,U(O,j,K,ge);case w:return K=Kr(K),H(j,O,P,K,ge)}if(Et(K)||k(K))return j=j.get(P)||null,G(O,j,K,ge,null);if(typeof K.then=="function")return H(j,O,P,Yu(K),ge);if(K.$$typeof===_e)return H(j,O,P,Hu(O,K),ge);Ku(O,K)}return null}function ce(j,O,P,K){for(var ge=null,Qe=null,fe=O,De=O=0,ze=null;fe!==null&&De<P.length;De++){fe.index>De?(ze=fe,fe=null):ze=fe.sibling;var Xe=z(j,fe,P[De],K);if(Xe===null){fe===null&&(fe=ze);break}t&&fe&&Xe.alternate===null&&n(j,fe),O=f(Xe,O,De),Qe===null?ge=Xe:Qe.sibling=Xe,Qe=Xe,fe=ze}if(De===P.length)return r(j,fe),Ge&&es(j,De),ge;if(fe===null){for(;De<P.length;De++)fe=X(j,P[De],K),fe!==null&&(O=f(fe,O,De),Qe===null?ge=fe:Qe.sibling=fe,Qe=fe);return Ge&&es(j,De),ge}for(fe=l(fe);De<P.length;De++)ze=H(fe,j,De,P[De],K),ze!==null&&(t&&ze.alternate!==null&&fe.delete(ze.key===null?De:ze.key),O=f(ze,O,De),Qe===null?ge=ze:Qe.sibling=ze,Qe=ze);return t&&fe.forEach(function(nr){return n(j,nr)}),Ge&&es(j,De),ge}function be(j,O,P,K){if(P==null)throw Error(a(151));for(var ge=null,Qe=null,fe=O,De=O=0,ze=null,Xe=P.next();fe!==null&&!Xe.done;De++,Xe=P.next()){fe.index>De?(ze=fe,fe=null):ze=fe.sibling;var nr=z(j,fe,Xe.value,K);if(nr===null){fe===null&&(fe=ze);break}t&&fe&&nr.alternate===null&&n(j,fe),O=f(nr,O,De),Qe===null?ge=nr:Qe.sibling=nr,Qe=nr,fe=ze}if(Xe.done)return r(j,fe),Ge&&es(j,De),ge;if(fe===null){for(;!Xe.done;De++,Xe=P.next())Xe=X(j,Xe.value,K),Xe!==null&&(O=f(Xe,O,De),Qe===null?ge=Xe:Qe.sibling=Xe,Qe=Xe);return Ge&&es(j,De),ge}for(fe=l(fe);!Xe.done;De++,Xe=P.next())Xe=H(fe,j,De,Xe.value,K),Xe!==null&&(t&&Xe.alternate!==null&&fe.delete(Xe.key===null?De:Xe.key),O=f(Xe,O,De),Qe===null?ge=Xe:Qe.sibling=Xe,Qe=Xe);return t&&fe.forEach(function(zT){return n(j,zT)}),Ge&&es(j,De),ge}function ot(j,O,P,K){if(typeof P=="object"&&P!==null&&P.type===re&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:e:{for(var ge=P.key;O!==null;){if(O.key===ge){if(ge=P.type,ge===re){if(O.tag===7){r(j,O.sibling),K=h(O,P.props.children),K.return=j,j=K;break e}}else if(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&Kr(ge)===O.type){r(j,O.sibling),K=h(O,P.props),Wl(K,P),K.return=j,j=K;break e}r(j,O);break}else n(j,O);O=O.sibling}P.type===re?(K=Hr(P.props.children,j.mode,K,P.key),K.return=j,j=K):(K=Uu(P.type,P.key,P.props,null,j.mode,K),Wl(K,P),K.return=j,j=K)}return g(j);case J:e:{for(ge=P.key;O!==null;){if(O.key===ge)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){r(j,O.sibling),K=h(O,P.children||[]),K.return=j,j=K;break e}else{r(j,O);break}else n(j,O);O=O.sibling}K=tf(P,j.mode,K),K.return=j,j=K}return g(j);case w:return P=Kr(P),ot(j,O,P,K)}if(Et(P))return ce(j,O,P,K);if(k(P)){if(ge=k(P),typeof ge!="function")throw Error(a(150));return P=ge.call(P),be(j,O,P,K)}if(typeof P.then=="function")return ot(j,O,Yu(P),K);if(P.$$typeof===_e)return ot(j,O,Hu(j,P),K);Ku(j,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(r(j,O.sibling),K=h(O,P),K.return=j,j=K):(r(j,O),K=ef(P,j.mode,K),K.return=j,j=K),g(j)):r(j,O)}return function(j,O,P,K){try{Zl=0;var ge=ot(j,O,P,K);return ja=null,ge}catch(fe){if(fe===ka||fe===Gu)throw fe;var Qe=Nn(29,fe,null,j.mode);return Qe.lanes=K,Qe.return=j,Qe}}}var Xr=ng(!0),ig=ng(!1),Us=!1;function mf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function zs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Bs(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Je&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Pu(t),zp(t,null,r),n}return Lu(t,l,n,r),Pu(t)}function eo(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Rl(t,r)}}function gf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var yf=!1;function to(){if(yf){var t=Va;if(t!==null)throw t}}function no(t,n,r,l){yf=!1;var h=t.updateQueue;Us=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,U=I.next;I.next=null,g===null?f=U:g.next=U,g=I;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=U:E.next=U,G.lastBaseUpdate=I))}if(f!==null){var X=h.baseState;g=0,G=U=I=null,E=f;do{var z=E.lane&-536870913,H=z!==E.lane;if(H?(Ue&z)===z:(l&z)===z){z!==0&&z===Ma&&(yf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ce=t,be=E;z=n;var ot=r;switch(be.tag){case 1:if(ce=be.payload,typeof ce=="function"){X=ce.call(ot,X,z);break e}X=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=be.payload,z=typeof ce=="function"?ce.call(ot,X,z):ce,z==null)break e;X=A({},X,z);break e;case 2:Us=!0}}z=E.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(U=G=H,I=X):G=G.next=H,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(I=X),h.baseState=I,h.firstBaseUpdate=U,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Ys|=g,t.lanes=g,t.memoizedState=X}}function sg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function rg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)sg(r[t],n)}var La=V(null),Qu=V(0);function ag(t,n){t=hs,ae(Qu,t),ae(La,n),hs=t|n.baseLanes}function _f(){ae(Qu,hs),ae(La,La.current)}function vf(){hs=Qu.current,Q(La),Q(Qu)}var Dn=V(null),Qn=null;function Hs(t){var n=t.alternate;ae(At,At.current&1),ae(Dn,t),Qn===null&&(n===null||La.current!==null||n.memoizedState!==null)&&(Qn=t)}function bf(t){ae(At,At.current),ae(Dn,t),Qn===null&&(Qn=t)}function lg(t){t.tag===22?(ae(At,At.current),ae(Dn,t),Qn===null&&(Qn=t)):qs()}function qs(){ae(At,At.current),ae(Dn,Dn.current)}function On(t){Q(Dn),Qn===t&&(Qn=null),Q(At)}var At=V(0);function Xu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||wd(r)||Rd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var is=0,Ne=null,at=null,Vt=null,$u=!1,Pa=!1,$r=!1,Ju=0,io=0,Ua=null,NE=0;function vt(){throw Error(a(321))}function Ef(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!In(t[r],n[r]))return!1;return!0}function Tf(t,n,r,l,h,f){return is=f,Ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?Gg:Lf,$r=!1,f=r(l,h),$r=!1,Pa&&(f=ug(n,r,l,h)),og(t),f}function og(t){q.H=ao;var n=at!==null&&at.next!==null;if(is=0,Vt=at=Ne=null,$u=!1,io=0,Ua=null,n)throw Error(a(300));t===null||kt||(t=t.dependencies,t!==null&&Bu(t)&&(kt=!0))}function ug(t,n,r,l){Ne=t;var h=0;do{if(Pa&&(Ua=null),io=0,Pa=!1,25<=h)throw Error(a(301));if(h+=1,Vt=at=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Fg,f=n(r,l)}while(Pa);return f}function DE(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?so(n):n,t=t.useState()[0],(at!==null?at.memoizedState:null)!==t&&(Ne.flags|=1024),n}function xf(){var t=Ju!==0;return Ju=0,t}function Sf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Af(t){if($u){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}$u=!1}is=0,Vt=at=Ne=null,Pa=!1,io=Ju=0,Ua=null}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Ne.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function wt(){if(at===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var n=Vt===null?Ne.memoizedState:Vt.next;if(n!==null)Vt=n,at=t;else{if(t===null)throw Ne.alternate===null?Error(a(467)):Error(a(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Vt===null?Ne.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function Zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function so(t){var n=io;return io+=1,Ua===null&&(Ua=[]),t=Wp(Ua,t,n),n=Ne,(Vt===null?n.memoizedState:Vt.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Gg:Lf),t}function Wu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return so(t);if(t.$$typeof===_e)return Jt(t)}throw Error(a(438,String(t)))}function wf(t){var n=null,r=Ne.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Zu(),Ne.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=S;return n.index++,r}function ss(t,n){return typeof n=="function"?n(t):n}function ec(t){var n=wt();return Rf(n,at,t)}function Rf(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=g=null,I=null,U=n,G=!1;do{var X=U.lane&-536870913;if(X!==U.lane?(Ue&X)===X:(is&X)===X){var z=U.revertLane;if(z===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),X===Ma&&(G=!0);else if((is&z)===z){U=U.next,z===Ma&&(G=!0);continue}else X={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(E=I=X,g=f):I=I.next=X,Ne.lanes|=z,Ys|=z;X=U.action,$r&&r(f,X),f=U.hasEagerState?U.eagerState:r(f,X)}else z={lane:X,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(E=I=z,g=f):I=I.next=z,Ne.lanes|=X,Ys|=X;U=U.next}while(U!==null&&U!==n);if(I===null?g=f:I.next=E,!In(f,t.memoizedState)&&(kt=!0,G&&(r=Va,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Cf(t){var n=wt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);In(f,n.memoizedState)||(kt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function cg(t,n,r){var l=Ne,h=wt(),f=Ge;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!In((at||h).memoizedState,r);if(g&&(h.memoizedState=r,kt=!0),h=h.queue,Df(dg.bind(null,l,h,t),[t]),h.getSnapshot!==n||g||Vt!==null&&Vt.memoizedState.tag&1){if(l.flags|=2048,za(9,{destroy:void 0},fg.bind(null,l,h,r,n),null),ct===null)throw Error(a(349));f||(is&127)!==0||hg(l,n,r)}return r}function hg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ne.updateQueue,n===null?(n=Zu(),Ne.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function fg(t,n,r,l){n.value=r,n.getSnapshot=l,mg(n)&&pg(t)}function dg(t,n,r){return r(function(){mg(n)&&pg(t)})}function mg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!In(t,r)}catch{return!0}}function pg(t){var n=Br(t,2);n!==null&&Tn(n,t,2)}function If(t){var n=fn();if(typeof t=="function"){var r=t;if(t=r(),$r){Pn(!0);try{r()}finally{Pn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:t},n}function gg(t,n,r,l){return t.baseState=r,Rf(t,at,typeof l=="function"?l:ss)}function OE(t,n,r,l,h){if(ic(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};q.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,yg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function yg(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=q.T,g={};q.T=g;try{var E=r(h,l),I=q.S;I!==null&&I(g,E),_g(t,n,E)}catch(U){Nf(t,n,U)}finally{f!==null&&g.types!==null&&(f.types=g.types),q.T=f}}else try{f=r(h,l),_g(t,n,f)}catch(U){Nf(t,n,U)}}function _g(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){vg(t,n,l)},function(l){return Nf(t,n,l)}):vg(t,n,r)}function vg(t,n,r){n.status="fulfilled",n.value=r,bg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,yg(t,r)))}function Nf(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,bg(n),n=n.next;while(n!==l)}t.action=null}function bg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Eg(t,n){return n}function Tg(t,n){if(Ge){var r=ct.formState;if(r!==null){e:{var l=Ne;if(Ge){if(ft){t:{for(var h=ft,f=Kn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Xn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ft=Xn(h.nextSibling),l=h.data==="F!";break e}}Ls(l)}l=!1}l&&(n=r[0])}}return r=fn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eg,lastRenderedState:n},r.queue=l,r=Bg.bind(null,Ne,l),l.dispatch=r,l=If(!1),f=jf.bind(null,Ne,!1,l.queue),l=fn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=OE.bind(null,Ne,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function xg(t){var n=wt();return Sg(n,at,t)}function Sg(t,n,r){if(n=Rf(t,n,Eg)[0],t=ec(ss)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=so(n)}catch(g){throw g===ka?Gu:g}else l=n;n=wt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Ne.flags|=2048,za(9,{destroy:void 0},ME.bind(null,h,r),null)),[l,f,t]}function ME(t,n){t.action=n}function Ag(t){var n=wt(),r=at;if(r!==null)return Sg(n,r,t);wt(),n=n.memoizedState,r=wt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function za(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Ne.updateQueue,n===null&&(n=Zu(),Ne.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function wg(){return wt().memoizedState}function tc(t,n,r,l){var h=fn();Ne.flags|=t,h.memoizedState=za(1|n,{destroy:void 0},r,l===void 0?null:l)}function nc(t,n,r,l){var h=wt();l=l===void 0?null:l;var f=h.memoizedState.inst;at!==null&&l!==null&&Ef(l,at.memoizedState.deps)?h.memoizedState=za(n,f,r,l):(Ne.flags|=t,h.memoizedState=za(1|n,f,r,l))}function Rg(t,n){tc(8390656,8,t,n)}function Df(t,n){nc(2048,8,t,n)}function VE(t){Ne.flags|=4;var n=Ne.updateQueue;if(n===null)n=Zu(),Ne.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Cg(t){var n=wt().memoizedState;return VE({ref:n,nextImpl:t}),function(){if((Je&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Ig(t,n){return nc(4,2,t,n)}function Ng(t,n){return nc(4,4,t,n)}function Dg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Og(t,n,r){r=r!=null?r.concat([t]):null,nc(4,4,Dg.bind(null,n,t),r)}function Of(){}function Mg(t,n){var r=wt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Ef(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Vg(t,n){var r=wt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Ef(n,l[1]))return l[0];if(l=t(),$r){Pn(!0);try{t()}finally{Pn(!1)}}return r.memoizedState=[l,n],l}function Mf(t,n,r){return r===void 0||(is&1073741824)!==0&&(Ue&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=ky(),Ne.lanes|=t,Ys|=t,r)}function kg(t,n,r,l){return In(r,n)?r:La.current!==null?(t=Mf(t,r,l),In(t,n)||(kt=!0),t):(is&42)===0||(is&1073741824)!==0&&(Ue&261930)===0?(kt=!0,t.memoizedState=r):(t=ky(),Ne.lanes|=t,Ys|=t,n)}function jg(t,n,r,l,h){var f=ee.p;ee.p=f!==0&&8>f?f:8;var g=q.T,E={};q.T=E,jf(t,!1,n,r);try{var I=h(),U=q.S;if(U!==null&&U(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=IE(I,l);ro(t,n,G,kn(t))}else ro(t,n,l,kn(t))}catch(X){ro(t,n,{then:function(){},status:"rejected",reason:X},kn())}finally{ee.p=f,g!==null&&E.types!==null&&(g.types=E.types),q.T=g}}function kE(){}function Vf(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=Lg(t).queue;jg(t,h,n,pe,r===null?kE:function(){return Pg(t),r(l)})}function Lg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:pe},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Pg(t){var n=Lg(t);n.next===null&&(n=t.alternate.memoizedState),ro(t,n.next.queue,{},kn())}function kf(){return Jt(xo)}function Ug(){return wt().memoizedState}function zg(){return wt().memoizedState}function jE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=kn();t=zs(r);var l=Bs(n,t,r);l!==null&&(Tn(l,n,r),eo(l,n,r)),n={cache:cf()},t.payload=n;return}n=n.return}}function LE(t,n,r){var l=kn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ic(t)?Hg(n,r):(r=Zh(t,n,r,l),r!==null&&(Tn(r,t,l),qg(r,n,l)))}function Bg(t,n,r){var l=kn();ro(t,n,r,l)}function ro(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(ic(t))Hg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,In(E,g))return Lu(t,n,h,0),ct===null&&ju(),!1}catch{}if(r=Zh(t,n,h,l),r!==null)return Tn(r,t,l),qg(r,n,l),!0}return!1}function jf(t,n,r,l){if(l={lane:2,revertLane:md(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ic(t)){if(n)throw Error(a(479))}else n=Zh(t,r,l,2),n!==null&&Tn(n,t,2)}function ic(t){var n=t.alternate;return t===Ne||n!==null&&n===Ne}function Hg(t,n){Pa=$u=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function qg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Rl(t,r)}}var ao={readContext:Jt,use:Wu,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};ao.useEffectEvent=vt;var Gg={readContext:Jt,use:Wu,useCallback:function(t,n){return fn().memoizedState=[t,n===void 0?null:n],t},useContext:Jt,useEffect:Rg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,tc(4194308,4,Dg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return tc(4194308,4,t,n)},useInsertionEffect:function(t,n){tc(4,2,t,n)},useMemo:function(t,n){var r=fn();n=n===void 0?null:n;var l=t();if($r){Pn(!0);try{t()}finally{Pn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=fn();if(r!==void 0){var h=r(n);if($r){Pn(!0);try{r(n)}finally{Pn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=LE.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var n=fn();return t={current:t},n.memoizedState=t},useState:function(t){t=If(t);var n=t.queue,r=Bg.bind(null,Ne,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Of,useDeferredValue:function(t,n){var r=fn();return Mf(r,t,n)},useTransition:function(){var t=If(!1);return t=jg.bind(null,Ne,t.queue,!0,!1),fn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Ne,h=fn();if(Ge){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ct===null)throw Error(a(349));(Ue&127)!==0||hg(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Rg(dg.bind(null,l,f,t),[t]),l.flags|=2048,za(9,{destroy:void 0},fg.bind(null,l,f,r,n),null),r},useId:function(){var t=fn(),n=ct.identifierPrefix;if(Ge){var r=ki,l=Vi;r=(l&~(1<<32-xt(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Ju++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=NE++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:kf,useFormState:Tg,useActionState:Tg,useOptimistic:function(t){var n=fn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=jf.bind(null,Ne,!0,r),r.dispatch=n,[t,n]},useMemoCache:wf,useCacheRefresh:function(){return fn().memoizedState=jE.bind(null,Ne)},useEffectEvent:function(t){var n=fn(),r={impl:t};return n.memoizedState=r,function(){if((Je&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Lf={readContext:Jt,use:Wu,useCallback:Mg,useContext:Jt,useEffect:Df,useImperativeHandle:Og,useInsertionEffect:Ig,useLayoutEffect:Ng,useMemo:Vg,useReducer:ec,useRef:wg,useState:function(){return ec(ss)},useDebugValue:Of,useDeferredValue:function(t,n){var r=wt();return kg(r,at.memoizedState,t,n)},useTransition:function(){var t=ec(ss)[0],n=wt().memoizedState;return[typeof t=="boolean"?t:so(t),n]},useSyncExternalStore:cg,useId:Ug,useHostTransitionStatus:kf,useFormState:xg,useActionState:xg,useOptimistic:function(t,n){var r=wt();return gg(r,at,t,n)},useMemoCache:wf,useCacheRefresh:zg};Lf.useEffectEvent=Cg;var Fg={readContext:Jt,use:Wu,useCallback:Mg,useContext:Jt,useEffect:Df,useImperativeHandle:Og,useInsertionEffect:Ig,useLayoutEffect:Ng,useMemo:Vg,useReducer:Cf,useRef:wg,useState:function(){return Cf(ss)},useDebugValue:Of,useDeferredValue:function(t,n){var r=wt();return at===null?Mf(r,t,n):kg(r,at.memoizedState,t,n)},useTransition:function(){var t=Cf(ss)[0],n=wt().memoizedState;return[typeof t=="boolean"?t:so(t),n]},useSyncExternalStore:cg,useId:Ug,useHostTransitionStatus:kf,useFormState:Ag,useActionState:Ag,useOptimistic:function(t,n){var r=wt();return at!==null?gg(r,at,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:wf,useCacheRefresh:zg};Fg.useEffectEvent=Cg;function Pf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Uf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=kn(),h=zs(l);h.payload=n,r!=null&&(h.callback=r),n=Bs(t,h,l),n!==null&&(Tn(n,t,l),eo(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=kn(),h=zs(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Bs(t,h,l),n!==null&&(Tn(n,t,l),eo(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=kn(),l=zs(r);l.tag=2,n!=null&&(l.callback=n),n=Bs(t,l,r),n!==null&&(Tn(n,t,r),eo(n,t,r))}};function Yg(t,n,r,l,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Yl(r,l)||!Yl(h,f):!0}function Kg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Uf.enqueueReplaceState(n,n.state,null)}function Jr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Qg(t){ku(t)}function Xg(t){console.error(t)}function $g(t){ku(t)}function sc(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Jg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function zf(t,n,r){return r=zs(r),r.tag=3,r.payload={element:null},r.callback=function(){sc(t,n)},r}function Zg(t){return t=zs(t),t.tag=3,t}function Wg(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Jg(n,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Jg(n,r,l),typeof h!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function PE(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Oa(n,r,h,!0),r=Dn.current,r!==null){switch(r.tag){case 31:case 13:return Qn===null?gc():r.alternate===null&&bt===0&&(bt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Fu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),hd(t,l,h)),!1;case 22:return r.flags|=65536,l===Fu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),hd(t,l,h)),!1}throw Error(a(435,r.tag))}return hd(t,l,h),gc(),!1}if(Ge)return n=Dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==rf&&(t=Error(a(422),{cause:l}),Xl(Gn(t,r)))):(l!==rf&&(n=Error(a(423),{cause:l}),Xl(Gn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Gn(l,r),h=zf(t.stateNode,l,h),gf(t,h),bt!==4&&(bt=2)),!1;var f=Error(a(520),{cause:l});if(f=Gn(f,r),po===null?po=[f]:po.push(f),bt!==4&&(bt=2),n===null)return!0;l=Gn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=zf(r.stateNode,l,t),gf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ks===null||!Ks.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Zg(h),Wg(h,t,r,l),gf(r,h),!1}r=r.return}while(r!==null);return!1}var Bf=Error(a(461)),kt=!1;function Zt(t,n,r,l){n.child=t===null?ig(n,null,r,l):Xr(n,t.child,r,l)}function ey(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return Fr(n),l=Tf(t,n,r,g,f,h),E=xf(),t!==null&&!kt?(Sf(t,n,h),rs(t,n,h)):(Ge&&E&&nf(n),n.flags|=1,Zt(t,n,l,h),n.child)}function ty(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!Wh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,ny(t,n,f,l,h)):(t=Uu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Xf(t,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Yl,r(g,l)&&t.ref===n.ref)return rs(t,n,h)}return n.flags|=1,t=Wi(f,l),t.ref=n.ref,t.return=n,n.child=t}function ny(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(Yl(f,l)&&t.ref===n.ref)if(kt=!1,n.pendingProps=l=f,Xf(t,h))(t.flags&131072)!==0&&(kt=!0);else return n.lanes=t.lanes,rs(t,n,h)}return Hf(t,n,r,l,h)}function iy(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return sy(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&qu(n,f!==null?f.cachePool:null),f!==null?ag(n,f):_f(),lg(n);else return l=n.lanes=536870912,sy(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(qu(n,f.cachePool),ag(n,f),qs(),n.memoizedState=null):(t!==null&&qu(n,null),_f(),qs());return Zt(t,n,h,r),n.child}function lo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function sy(t,n,r,l,h){var f=ff();return f=f===null?null:{parent:Mt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&qu(n,null),_f(),lg(n),t!==null&&Oa(t,n,l,!0),n.childLanes=h,null}function rc(t,n){return n=lc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ry(t,n,r){return Xr(n,t.child,null,r),t=rc(n,n.pendingProps),t.flags|=2,On(n),n.memoizedState=null,t}function UE(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ge){if(l.mode==="hidden")return t=rc(n,l),n.lanes=536870912,lo(null,t);if(bf(n),(t=ft)?(t=y0(t,Kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ks!==null?{id:Vi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},r=Hp(t),r.return=n,n.child=r,$t=n,ft=null)):t=null,t===null)throw Ls(n);return n.lanes=536870912,null}return rc(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(bf(n),h)if(n.flags&256)n.flags&=-257,n=ry(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(kt||Oa(t,n,r,!1),h=(r&t.childLanes)!==0,kt||h){if(l=ct,l!==null&&(g=Cl(l,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Br(t,g),Tn(l,t,g),Bf;gc(),n=ry(t,n,r)}else t=f.treeContext,ft=Xn(g.nextSibling),$t=n,Ge=!0,js=null,Kn=!1,t!==null&&Fp(n,t),n=rc(n,l),n.flags|=4096;return n}return t=Wi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ac(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Hf(t,n,r,l,h){return Fr(n),r=Tf(t,n,r,l,void 0,h),l=xf(),t!==null&&!kt?(Sf(t,n,h),rs(t,n,h)):(Ge&&l&&nf(n),n.flags|=1,Zt(t,n,r,h),n.child)}function ay(t,n,r,l,h,f){return Fr(n),n.updateQueue=null,r=ug(n,l,r,h),og(t),l=xf(),t!==null&&!kt?(Sf(t,n,f),rs(t,n,f)):(Ge&&l&&nf(n),n.flags|=1,Zt(t,n,r,f),n.child)}function ly(t,n,r,l,h){if(Fr(n),n.stateNode===null){var f=Ca,g=r.contextType;typeof g=="object"&&g!==null&&(f=Jt(g)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Uf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},mf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Jt(g):Ca,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Pf(n,r,g,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Uf.enqueueReplaceState(f,f.state,null),no(n,l,f,h),to(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,I=Jr(r,E);f.props=I;var U=f.context,G=r.contextType;g=Ca,typeof G=="object"&&G!==null&&(g=Jt(G));var X=r.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||U!==g)&&Kg(n,f,l,g),Us=!1;var z=n.memoizedState;f.state=z,no(n,l,f,h),to(),U=n.memoizedState,E||z!==U||Us?(typeof X=="function"&&(Pf(n,r,X,l),U=n.memoizedState),(I=Us||Yg(n,r,I,l,z,U,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=U),f.props=l,f.state=U,f.context=g,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,pf(t,n),g=n.memoizedProps,G=Jr(r,g),f.props=G,X=n.pendingProps,z=f.context,U=r.contextType,I=Ca,typeof U=="object"&&U!==null&&(I=Jt(U)),E=r.getDerivedStateFromProps,(U=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||z!==I)&&Kg(n,f,l,I),Us=!1,z=n.memoizedState,f.state=z,no(n,l,f,h),to();var H=n.memoizedState;g!==X||z!==H||Us||t!==null&&t.dependencies!==null&&Bu(t.dependencies)?(typeof E=="function"&&(Pf(n,r,E,l),H=n.memoizedState),(G=Us||Yg(n,r,G,l,z,H,I)||t!==null&&t.dependencies!==null&&Bu(t.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=I,l=G):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ac(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Xr(n,t.child,null,h),n.child=Xr(n,null,r,h)):Zt(t,n,r,h),n.memoizedState=f.state,t=n.child):t=rs(t,n,h),t}function oy(t,n,r,l){return qr(),n.flags|=256,Zt(t,n,r,l),n.child}var qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(t){return{baseLanes:t,cachePool:Jp()}}function Ff(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Vn),t}function uy(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(At.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ge){if(h?Hs(n):qs(),(t=ft)?(t=y0(t,Kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ks!==null?{id:Vi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},r=Hp(t),r.return=n,n.child=r,$t=n,ft=null)):t=null,t===null)throw Ls(n);return Rd(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(qs(),h=n.mode,E=lc({mode:"hidden",children:E},h),l=Hr(l,h,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Gf(r),l.childLanes=Ff(t,g,r),n.memoizedState=qf,lo(null,l)):(Hs(n),Yf(n,E))}var I=t.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Hs(n),n.flags&=-257,n=Kf(t,n,r)):n.memoizedState!==null?(qs(),n.child=t.child,n.flags|=128,n=null):(qs(),E=l.fallback,h=n.mode,l=lc({mode:"visible",children:l.children},h),E=Hr(E,h,r,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Xr(n,t.child,null,r),l=n.child,l.memoizedState=Gf(r),l.childLanes=Ff(t,g,r),n.memoizedState=qf,n=lo(null,l));else if(Hs(n),Rd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var U=g.dgst;g=U,l=Error(a(419)),l.stack="",l.digest=g,Xl({value:l,source:null,stack:null}),n=Kf(t,n,r)}else if(kt||Oa(t,n,r,!1),g=(r&t.childLanes)!==0,kt||g){if(g=ct,g!==null&&(l=Cl(g,r),l!==0&&l!==I.retryLane))throw I.retryLane=l,Br(t,l),Tn(g,t,l),Bf;wd(E)||gc(),n=Kf(t,n,r)}else wd(E)?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,ft=Xn(E.nextSibling),$t=n,Ge=!0,js=null,Kn=!1,t!==null&&Fp(n,t),n=Yf(n,l.children),n.flags|=4096);return n}return h?(qs(),E=l.fallback,h=n.mode,I=t.child,U=I.sibling,l=Wi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,U!==null?E=Wi(U,E):(E=Hr(E,h,r,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,lo(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Gf(r):(h=E.cachePool,h!==null?(I=Mt._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Jp(),E={baseLanes:E.baseLanes|r,cachePool:h}),l.memoizedState=E,l.childLanes=Ff(t,g,r),n.memoizedState=qf,lo(t.child,l)):(Hs(n),r=t.child,t=r.sibling,r=Wi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function Yf(t,n){return n=lc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function lc(t,n){return t=Nn(22,t,null,n),t.lanes=0,t}function Kf(t,n,r){return Xr(n,t.child,null,r),t=Yf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function cy(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),of(t.return,n,r)}function Qf(t,n,r,l,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function hy(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=At.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,ae(At,g),Zt(t,n,l,r),l=Ge?Ql:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cy(t,r,n);else if(t.tag===19)cy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Xu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Qf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Xu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Qf(n,!0,r,null,f,l);break;case"together":Qf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function rs(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ys|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Oa(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Wi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Wi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Xf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Bu(t)))}function zE(t,n,r){switch(n.tag){case 3:Tt(n,n.stateNode.containerInfo),Ps(n,Mt,t.memoizedState.cache),qr();break;case 27:case 5:Ki(n);break;case 4:Tt(n,n.stateNode.containerInfo);break;case 10:Ps(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,bf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Hs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?uy(t,n,r):(Hs(n),t=rs(t,n,r),t!==null?t.sibling:null);Hs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Oa(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return hy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(At,At.current),l)break;return null;case 22:return n.lanes=0,iy(t,n,r,n.pendingProps);case 24:Ps(n,Mt,t.memoizedState.cache)}return rs(t,n,r)}function fy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)kt=!0;else{if(!Xf(t,r)&&(n.flags&128)===0)return kt=!1,zE(t,n,r);kt=(t.flags&131072)!==0}else kt=!1,Ge&&(n.flags&1048576)!==0&&Gp(n,Ql,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Kr(n.elementType),n.type=t,typeof t=="function")Wh(t)?(l=Jr(t,l),n.tag=1,n=ly(null,n,t,l,r)):(n.tag=0,n=Hf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===Ye){n.tag=11,n=ey(null,n,t,l,r);break e}else if(h===N){n.tag=14,n=ty(null,n,t,l,r);break e}}throw n=We(t)||t,Error(a(306,n,""))}}return n;case 0:return Hf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Jr(l,n.pendingProps),ly(t,n,l,h,r);case 3:e:{if(Tt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,pf(t,n),no(n,l,null,r);var g=n.memoizedState;if(l=g.cache,Ps(n,Mt,l),l!==f.cache&&uf(n,[Mt],r,!0),to(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=oy(t,n,l,r);break e}else if(l!==h){h=Gn(Error(a(424)),n),Xl(h),n=oy(t,n,l,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ft=Xn(t.firstChild),$t=n,Ge=!0,js=null,Kn=!0,r=ig(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(qr(),l===h){n=rs(t,n,r);break e}Zt(t,n,l,r)}n=n.child}return n;case 26:return ac(t,n),t===null?(r=x0(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ge||(r=n.type,t=n.pendingProps,l=xc(Ae.current).createElement(r),l[Nt]=n,l[Gt]=t,Wt(l,r,t),Dt(l),n.stateNode=l):n.memoizedState=x0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ki(n),t===null&&Ge&&(l=n.stateNode=b0(n.type,n.pendingProps,Ae.current),$t=n,Kn=!0,h=ft,Js(n.type)?(Cd=h,ft=Xn(l.firstChild)):ft=h),Zt(t,n,n.pendingProps.children,r),ac(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ge&&((h=l=ft)&&(l=gT(l,n.type,n.pendingProps,Kn),l!==null?(n.stateNode=l,$t=n,ft=Xn(l.firstChild),Kn=!1,h=!0):h=!1),h||Ls(n)),Ki(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,xd(h,f)?l=null:g!==null&&xd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Tf(t,n,DE,null,null,r),xo._currentValue=h),ac(t,n),Zt(t,n,l,r),n.child;case 6:return t===null&&Ge&&((t=r=ft)&&(r=yT(r,n.pendingProps,Kn),r!==null?(n.stateNode=r,$t=n,ft=null,t=!0):t=!1),t||Ls(n)),null;case 13:return uy(t,n,r);case 4:return Tt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Xr(n,null,l,r):Zt(t,n,l,r),n.child;case 11:return ey(t,n,n.type,n.pendingProps,r);case 7:return Zt(t,n,n.pendingProps,r),n.child;case 8:return Zt(t,n,n.pendingProps.children,r),n.child;case 12:return Zt(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Ps(n,n.type,l.value),Zt(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Fr(n),h=Jt(h),l=l(h),n.flags|=1,Zt(t,n,l,r),n.child;case 14:return ty(t,n,n.type,n.pendingProps,r);case 15:return ny(t,n,n.type,n.pendingProps,r);case 19:return hy(t,n,r);case 31:return UE(t,n,r);case 22:return iy(t,n,r,n.pendingProps);case 24:return Fr(n),l=Jt(Mt),t===null?(h=ff(),h===null&&(h=ct,f=cf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},mf(n),Ps(n,Mt,h)):((t.lanes&r)!==0&&(pf(t,n),no(n,null,null,r),to()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ps(n,Mt,l)):(l=f.cache,Ps(n,Mt,l),l!==h.cache&&uf(n,[Mt],r,!0))),Zt(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function as(t){t.flags|=4}function $f(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Uy())t.flags|=8192;else throw Qr=Fu,df}else t.flags&=-16777217}function dy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!C0(n))if(Uy())t.flags|=8192;else throw Qr=Fu,df}function oc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?mu():536870912,t.lanes|=n,Ga|=n)}function oo(t,n){if(!Ge)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function dt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function BE(t,n,r){var l=n.pendingProps;switch(sf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(n),null;case 1:return dt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ns(Mt),ht(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Da(n)?as(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,af())),dt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(as(n),f!==null?(dt(n),dy(n,f)):(dt(n),$f(n,h,null,l,r))):f?f!==t.memoizedState?(as(n),dt(n),dy(n,f)):(dt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&as(n),dt(n),$f(n,h,t,l,r)),null;case 27:if(Qi(n),r=Ae.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&as(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return dt(n),null}t=le.current,Da(n)?Yp(n):(t=b0(h,l,r),n.stateNode=t,as(n))}return dt(n),null;case 5:if(Qi(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&as(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return dt(n),null}if(f=le.current,Da(n))Yp(n);else{var g=xc(Ae.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[Nt]=n,f[Gt]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(Wt(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&as(n)}}return dt(n),$f(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&as(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ae.current,Da(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=$t,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Nt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||u0(t.nodeValue,r)),t||Ls(n,!0)}else t=xc(t).createTextNode(l),t[Nt]=n,n.stateNode=t}return dt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=Da(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Nt]=n}else qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;dt(n),t=!1}else r=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(On(n),n):(On(n),null);if((n.flags&128)!==0)throw Error(a(558))}return dt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Da(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Nt]=n}else qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;dt(n),h=!1}else h=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(On(n),n):(On(n),null)}return On(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),oc(n,n.updateQueue),dt(n),null);case 4:return ht(),t===null&&_d(n.stateNode.containerInfo),dt(n),null;case 10:return ns(n.type),dt(n),null;case 19:if(Q(At),l=n.memoizedState,l===null)return dt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)oo(l,!1);else{if(bt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Xu(t),f!==null){for(n.flags|=128,oo(l,!1),t=f.updateQueue,n.updateQueue=t,oc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Bp(r,t),r=r.sibling;return ae(At,At.current&1|2),Ge&&es(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&ue()>dc&&(n.flags|=128,h=!0,oo(l,!1),n.lanes=4194304)}else{if(!h)if(t=Xu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,oc(n,t),oo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ge)return dt(n),null}else 2*ue()-l.renderingStartTime>dc&&r!==536870912&&(n.flags|=128,h=!0,oo(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ue(),t.sibling=null,r=At.current,ae(At,h?r&1|2:r&1),Ge&&es(n,l.treeForkCount),t):(dt(n),null);case 22:case 23:return On(n),vf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(dt(n),n.subtreeFlags&6&&(n.flags|=8192)):dt(n),r=n.updateQueue,r!==null&&oc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&Q(Yr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),ns(Mt),dt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function HE(t,n){switch(sf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ns(Mt),ht(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Qi(n),null;case 31:if(n.memoizedState!==null){if(On(n),n.alternate===null)throw Error(a(340));qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(On(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(At),null;case 4:return ht(),null;case 10:return ns(n.type),null;case 22:case 23:return On(n),vf(),t!==null&&Q(Yr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ns(Mt),null;case 25:return null;default:return null}}function my(t,n){switch(sf(n),n.tag){case 3:ns(Mt),ht();break;case 26:case 27:case 5:Qi(n);break;case 4:ht();break;case 31:n.memoizedState!==null&&On(n);break;case 13:On(n);break;case 19:Q(At);break;case 10:ns(n.type);break;case 22:case 23:On(n),vf(),t!==null&&Q(Yr);break;case 24:ns(Mt)}}function uo(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,g=r.inst;l=f(),g.destroy=l}r=r.next}while(r!==h)}}catch(E){it(n,n.return,E)}}function Gs(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var I=r,U=E;try{U()}catch(G){it(h,I,G)}}}l=l.next}while(l!==f)}}catch(G){it(n,n.return,G)}}function py(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{rg(n,r)}catch(l){it(t,t.return,l)}}}function gy(t,n,r){r.props=Jr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){it(t,n,l)}}function co(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){it(t,n,h)}}function ji(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){it(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){it(t,n,h)}else r.current=null}function yy(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){it(t,t.return,h)}}function Jf(t,n,r){try{var l=t.stateNode;cT(l,t.type,r,n),l[Gt]=n}catch(h){it(t,t.return,h)}}function _y(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Js(t.type)||t.tag===4}function Zf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_y(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Js(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=si));else if(l!==4&&(l===27&&Js(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Wf(t,n,r),t=t.sibling;t!==null;)Wf(t,n,r),t=t.sibling}function uc(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Js(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(uc(t,n,r),t=t.sibling;t!==null;)uc(t,n,r),t=t.sibling}function vy(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Wt(n,l,r),n[Nt]=t,n[Gt]=r}catch(f){it(t,t.return,f)}}var ls=!1,jt=!1,ed=!1,by=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function qE(t,n){if(t=t.containerInfo,Ed=Nc,t=Op(t),Yh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,E=-1,I=-1,U=0,G=0,X=t,z=null;t:for(;;){for(var H;X!==r||h!==0&&X.nodeType!==3||(E=g+h),X!==f||l!==0&&X.nodeType!==3||(I=g+l),X.nodeType===3&&(g+=X.nodeValue.length),(H=X.firstChild)!==null;)z=X,X=H;for(;;){if(X===t)break t;if(z===r&&++U===h&&(E=g),z===f&&++G===l&&(I=g),(H=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=H}r=E===-1||I===-1?null:{start:E,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(Td={focusedElem:t,selectionRange:r},Nc=!1,Yt=n;Yt!==null;)if(n=Yt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Yt=t;else for(;Yt!==null;){switch(n=Yt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var ce=Jr(r.type,h);t=l.getSnapshotBeforeUpdate(ce,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){it(r,r.return,be)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Ad(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ad(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Yt=t;break}Yt=n.return}}function Ey(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:us(t,r),l&4&&uo(5,r);break;case 1:if(us(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){it(r,r.return,g)}else{var h=Jr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){it(r,r.return,g)}}l&64&&py(r),l&512&&co(r,r.return);break;case 3:if(us(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{rg(t,n)}catch(g){it(r,r.return,g)}}break;case 27:n===null&&l&4&&vy(r);case 26:case 5:us(t,r),n===null&&l&4&&yy(r),l&512&&co(r,r.return);break;case 12:us(t,r);break;case 31:us(t,r),l&4&&Sy(t,r);break;case 13:us(t,r),l&4&&Ay(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=ZE.bind(null,r),_T(t,r))));break;case 22:if(l=r.memoizedState!==null||ls,!l){n=n!==null&&n.memoizedState!==null||jt,h=ls;var f=jt;ls=l,(jt=n)&&!f?cs(t,r,(r.subtreeFlags&8772)!==0):us(t,r),ls=h,jt=f}break;case 30:break;default:us(t,r)}}function Ty(t){var n=t.alternate;n!==null&&(t.alternate=null,Ty(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ma(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var gt=null,_n=!1;function os(t,n,r){for(r=r.child;r!==null;)xy(t,n,r),r=r.sibling}function xy(t,n,r){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(ei,r)}catch{}switch(r.tag){case 26:jt||ji(r,n),os(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:jt||ji(r,n);var l=gt,h=_n;Js(r.type)&&(gt=r.stateNode,_n=!1),os(t,n,r),bo(r.stateNode),gt=l,_n=h;break;case 5:jt||ji(r,n);case 6:if(l=gt,h=_n,gt=null,os(t,n,r),gt=l,_n=h,gt!==null)if(_n)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(r.stateNode)}catch(f){it(r,n,f)}else try{gt.removeChild(r.stateNode)}catch(f){it(r,n,f)}break;case 18:gt!==null&&(_n?(t=gt,p0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Za(t)):p0(gt,r.stateNode));break;case 4:l=gt,h=_n,gt=r.stateNode.containerInfo,_n=!0,os(t,n,r),gt=l,_n=h;break;case 0:case 11:case 14:case 15:Gs(2,r,n),jt||Gs(4,r,n),os(t,n,r);break;case 1:jt||(ji(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&gy(r,n,l)),os(t,n,r);break;case 21:os(t,n,r);break;case 22:jt=(l=jt)||r.memoizedState!==null,os(t,n,r),jt=l;break;default:os(t,n,r)}}function Sy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Za(t)}catch(r){it(n,n.return,r)}}}function Ay(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Za(t)}catch(r){it(n,n.return,r)}}function GE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new by),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new by),n;default:throw Error(a(435,t.tag))}}function cc(t,n){var r=GE(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=WE.bind(null,t,l);l.then(h,h)}})}function vn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(Js(E.type)){gt=E.stateNode,_n=!1;break e}break;case 5:gt=E.stateNode,_n=!1;break e;case 3:case 4:gt=E.stateNode.containerInfo,_n=!0;break e}E=E.return}if(gt===null)throw Error(a(160));xy(f,g,h),gt=null,_n=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)wy(n,t),n=n.sibling}var ci=null;function wy(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(n,t),bn(t),l&4&&(Gs(3,t,t.return),uo(3,t),Gs(5,t,t.return));break;case 1:vn(n,t),bn(t),l&512&&(jt||r===null||ji(r,r.return)),l&64&&ls&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=ci;if(vn(n,t),bn(t),l&512&&(jt||r===null||ji(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ti]||f[Nt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Wt(f,l,r),f[Nt]=t,Dt(f),l=f;break e;case"link":var g=w0("link","href",h).get(l+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break t}}f=h.createElement(l),Wt(f,l,r),h.head.appendChild(f);break;case"meta":if(g=w0("meta","content",h).get(l+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break t}}f=h.createElement(l),Wt(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Nt]=t,Dt(f),l=f}t.stateNode=l}else R0(h,t.type,t.stateNode);else t.stateNode=A0(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?R0(h,t.type,t.stateNode):A0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Jf(t,t.memoizedProps,r.memoizedProps)}break;case 27:vn(n,t),bn(t),l&512&&(jt||r===null||ji(r,r.return)),r!==null&&l&4&&Jf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(vn(n,t),bn(t),l&512&&(jt||r===null||ji(r,r.return)),t.flags&32){h=t.stateNode;try{yn(h,"")}catch(ce){it(t,t.return,ce)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Jf(t,h,r!==null?r.memoizedProps:h)),l&1024&&(ed=!0);break;case 6:if(vn(n,t),bn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(ce){it(t,t.return,ce)}}break;case 3:if(wc=null,h=ci,ci=Sc(n.containerInfo),vn(n,t),ci=h,bn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Za(n.containerInfo)}catch(ce){it(t,t.return,ce)}ed&&(ed=!1,Ry(t));break;case 4:l=ci,ci=Sc(t.stateNode.containerInfo),vn(n,t),bn(t),ci=l;break;case 12:vn(n,t),bn(t);break;case 31:vn(n,t),bn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,cc(t,l)));break;case 13:vn(n,t),bn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(fc=ue()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,cc(t,l)));break;case 22:h=t.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,U=ls,G=jt;if(ls=U||h,jt=G||I,vn(n,t),jt=G,ls=U,bn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||I||ls||jt||Zr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){I=r=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var X=I.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ce){it(I,I.return,ce)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ce){it(I,I.return,ce)}}}else if(n.tag===18){if(r===null){I=n;try{var H=I.stateNode;h?g0(H,!0):g0(I.stateNode,!1)}catch(ce){it(I,I.return,ce)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,cc(t,r))));break;case 19:vn(n,t),bn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,cc(t,l)));break;case 30:break;case 21:break;default:vn(n,t),bn(t)}}function bn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(_y(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Zf(t);uc(t,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(yn(g,""),r.flags&=-33);var E=Zf(t);uc(t,E,g);break;case 3:case 4:var I=r.stateNode.containerInfo,U=Zf(t);Wf(t,U,I);break;default:throw Error(a(161))}}catch(G){it(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ry(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ry(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function us(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ey(t,n.alternate,n),n=n.sibling}function Zr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Gs(4,n,n.return),Zr(n);break;case 1:ji(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&gy(n,n.return,r),Zr(n);break;case 27:bo(n.stateNode);case 26:case 5:ji(n,n.return),Zr(n);break;case 22:n.memoizedState===null&&Zr(n);break;case 30:Zr(n);break;default:Zr(n)}t=t.sibling}}function cs(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:cs(h,f,r),uo(4,f);break;case 1:if(cs(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){it(l,l.return,U)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)sg(I[h],E)}catch(U){it(l,l.return,U)}}r&&g&64&&py(f),co(f,f.return);break;case 27:vy(f);case 26:case 5:cs(h,f,r),r&&l===null&&g&4&&yy(f),co(f,f.return);break;case 12:cs(h,f,r);break;case 31:cs(h,f,r),r&&g&4&&Sy(h,f);break;case 13:cs(h,f,r),r&&g&4&&Ay(h,f);break;case 22:f.memoizedState===null&&cs(h,f,r),co(f,f.return);break;case 30:break;default:cs(h,f,r)}n=n.sibling}}function td(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&$l(r))}function nd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$l(t))}function hi(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Cy(t,n,r,l),n=n.sibling}function Cy(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:hi(t,n,r,l),h&2048&&uo(9,n);break;case 1:hi(t,n,r,l);break;case 3:hi(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$l(t)));break;case 12:if(h&2048){hi(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){it(n,n.return,I)}}else hi(t,n,r,l);break;case 31:hi(t,n,r,l);break;case 13:hi(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?hi(t,n,r,l):ho(t,n):f._visibility&2?hi(t,n,r,l):(f._visibility|=2,Ba(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&td(g,n);break;case 24:hi(t,n,r,l),h&2048&&nd(n.alternate,n);break;default:hi(t,n,r,l)}}function Ba(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=r,I=l,U=g.flags;switch(g.tag){case 0:case 11:case 15:Ba(f,g,E,I,h),uo(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Ba(f,g,E,I,h):ho(f,g):(G._visibility|=2,Ba(f,g,E,I,h)),h&&U&2048&&td(g.alternate,g);break;case 24:Ba(f,g,E,I,h),h&&U&2048&&nd(g.alternate,g);break;default:Ba(f,g,E,I,h)}n=n.sibling}}function ho(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:ho(r,l),h&2048&&td(l.alternate,l);break;case 24:ho(r,l),h&2048&&nd(l.alternate,l);break;default:ho(r,l)}n=n.sibling}}var fo=8192;function Ha(t,n,r){if(t.subtreeFlags&fo)for(t=t.child;t!==null;)Iy(t,n,r),t=t.sibling}function Iy(t,n,r){switch(t.tag){case 26:Ha(t,n,r),t.flags&fo&&t.memoizedState!==null&&NT(r,ci,t.memoizedState,t.memoizedProps);break;case 5:Ha(t,n,r);break;case 3:case 4:var l=ci;ci=Sc(t.stateNode.containerInfo),Ha(t,n,r),ci=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=fo,fo=16777216,Ha(t,n,r),fo=l):Ha(t,n,r));break;default:Ha(t,n,r)}}function Ny(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function mo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Yt=l,Oy(l,t)}Ny(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Dy(t),t=t.sibling}function Dy(t){switch(t.tag){case 0:case 11:case 15:mo(t),t.flags&2048&&Gs(9,t,t.return);break;case 3:mo(t);break;case 12:mo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,hc(t)):mo(t);break;default:mo(t)}}function hc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Yt=l,Oy(l,t)}Ny(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Gs(8,n,n.return),hc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,hc(n));break;default:hc(n)}t=t.sibling}}function Oy(t,n){for(;Yt!==null;){var r=Yt;switch(r.tag){case 0:case 11:case 15:Gs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$l(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Yt=l;else e:for(r=t;Yt!==null;){l=Yt;var h=l.sibling,f=l.return;if(Ty(l),l===r){Yt=null;break e}if(h!==null){h.return=f,Yt=h;break e}Yt=f}}}var FE={getCacheForType:function(t){var n=Jt(Mt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Jt(Mt).controller.signal}},YE=typeof WeakMap=="function"?WeakMap:Map,Je=0,ct=null,je=null,Ue=0,nt=0,Mn=null,Fs=!1,qa=!1,id=!1,hs=0,bt=0,Ys=0,Wr=0,sd=0,Vn=0,Ga=0,po=null,En=null,rd=!1,fc=0,My=0,dc=1/0,mc=null,Ks=null,Bt=0,Qs=null,Fa=null,fs=0,ad=0,ld=null,Vy=null,go=0,od=null;function kn(){return(Je&2)!==0&&Ue!==0?Ue&-Ue:q.T!==null?md():pu()}function ky(){if(Vn===0)if((Ue&536870912)===0||Ge){var t=wr;wr<<=1,(wr&3932160)===0&&(wr=262144),Vn=t}else Vn=536870912;return t=Dn.current,t!==null&&(t.flags|=32),Vn}function Tn(t,n,r){(t===ct&&(nt===2||nt===9)||t.cancelPendingCommit!==null)&&(Ya(t,0),Xs(t,Ue,Vn,!1)),Rr(t,r),((Je&2)===0||t!==ct)&&(t===ct&&((Je&2)===0&&(Wr|=r),bt===4&&Xs(t,Ue,Vn,!1)),Li(t))}function jy(t,n,r){if((Je&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||ti(t,n),h=l?XE(t,n):cd(t,n,!0),f=l;do{if(h===0){qa&&!l&&Xs(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!KE(r)){h=cd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=po;var I=E.current.memoizedState.isDehydrated;if(I&&(Ya(E,g).flags|=256),g=cd(E,g,!1),g!==2){if(id&&!I){E.errorRecoveryDisabledLanes|=f,Wr|=f,h=4;break e}f=En,En=h,f!==null&&(En===null?En=f:En.push.apply(En,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ya(t,0),Xs(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Xs(l,n,Vn,!Fs);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=fc+300-ue(),10<h)){if(Xs(l,n,Vn,!Fs),vi(l,0,!0)!==0)break e;fs=n,l.timeoutHandle=d0(Ly.bind(null,l,r,En,mc,rd,n,Vn,Wr,Ga,Fs,f,"Throttled",-0,0),h);break e}Ly(l,r,En,mc,rd,n,Vn,Wr,Ga,Fs,f,null,-0,0)}}break}while(!0);Li(t)}function Ly(t,n,r,l,h,f,g,E,I,U,G,X,z,H){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:si},Iy(n,f,X);var ce=(f&62914560)===f?fc-ue():(f&4194048)===f?My-ue():0;if(ce=DT(X,ce),ce!==null){fs=f,t.cancelPendingCommit=ce(Fy.bind(null,t,n,f,r,l,h,g,E,I,G,X,null,z,H)),Xs(t,f,g,!U);return}}Fy(t,n,f,r,l,h,g,E,I)}function KE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!In(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Xs(t,n,r,l){n&=~sd,n&=~Wr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-xt(h),g=1<<f;l[f]=-1,h&=~g}r!==0&&Cr(t,r,n)}function pc(){return(Je&6)===0?(yo(0),!1):!0}function ud(){if(je!==null){if(nt===0)var t=je.return;else t=je,ts=Gr=null,Af(t),ja=null,Zl=0,t=je;for(;t!==null;)my(t.alternate,t),t=t.return;je=null}}function Ya(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,dT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),fs=0,ud(),ct=t,je=r=Wi(t.current,null),Ue=n,nt=0,Mn=null,Fs=!1,qa=ti(t,n),id=!1,Ga=Vn=sd=Wr=Ys=bt=0,En=po=null,rd=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-xt(l),f=1<<h;n|=t[h],l&=~f}return hs=n,ju(),r}function Py(t,n){Ne=null,q.H=ao,n===ka||n===Gu?(n=eg(),nt=3):n===df?(n=eg(),nt=4):nt=n===Bf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Mn=n,je===null&&(bt=1,sc(t,Gn(n,t.current)))}function Uy(){var t=Dn.current;return t===null?!0:(Ue&4194048)===Ue?Qn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?t===Qn:!1}function zy(){var t=q.H;return q.H=ao,t===null?ao:t}function By(){var t=q.A;return q.A=FE,t}function gc(){bt=4,Fs||(Ue&4194048)!==Ue&&Dn.current!==null||(qa=!0),(Ys&134217727)===0&&(Wr&134217727)===0||ct===null||Xs(ct,Ue,Vn,!1)}function cd(t,n,r){var l=Je;Je|=2;var h=zy(),f=By();(ct!==t||Ue!==n)&&(mc=null,Ya(t,n)),n=!1;var g=bt;e:do try{if(nt!==0&&je!==null){var E=je,I=Mn;switch(nt){case 8:ud(),g=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(n=!0);var U=nt;if(nt=0,Mn=null,Ka(t,E,I,U),r&&qa){g=0;break e}break;default:U=nt,nt=0,Mn=null,Ka(t,E,I,U)}}QE(),g=bt;break}catch(G){Py(t,G)}while(!0);return n&&t.shellSuspendCounter++,ts=Gr=null,Je=l,q.H=h,q.A=f,je===null&&(ct=null,Ue=0,ju()),g}function QE(){for(;je!==null;)Hy(je)}function XE(t,n){var r=Je;Je|=2;var l=zy(),h=By();ct!==t||Ue!==n?(mc=null,dc=ue()+500,Ya(t,n)):qa=ti(t,n);e:do try{if(nt!==0&&je!==null){n=je;var f=Mn;t:switch(nt){case 1:nt=0,Mn=null,Ka(t,n,f,1);break;case 2:case 9:if(Zp(f)){nt=0,Mn=null,qy(n);break}n=function(){nt!==2&&nt!==9||ct!==t||(nt=7),Li(t)},f.then(n,n);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:Zp(f)?(nt=0,Mn=null,qy(n)):(nt=0,Mn=null,Ka(t,n,f,7));break;case 5:var g=null;switch(je.tag){case 26:g=je.memoizedState;case 5:case 27:var E=je;if(g?C0(g):E.stateNode.complete){nt=0,Mn=null;var I=E.sibling;if(I!==null)je=I;else{var U=E.return;U!==null?(je=U,yc(U)):je=null}break t}}nt=0,Mn=null,Ka(t,n,f,5);break;case 6:nt=0,Mn=null,Ka(t,n,f,6);break;case 8:ud(),bt=6;break e;default:throw Error(a(462))}}$E();break}catch(G){Py(t,G)}while(!0);return ts=Gr=null,q.H=l,q.A=h,Je=r,je!==null?0:(ct=null,Ue=0,ju(),bt)}function $E(){for(;je!==null&&!me();)Hy(je)}function Hy(t){var n=fy(t.alternate,t,hs);t.memoizedProps=t.pendingProps,n===null?yc(t):je=n}function qy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=ay(r,n,n.pendingProps,n.type,void 0,Ue);break;case 11:n=ay(r,n,n.pendingProps,n.type.render,n.ref,Ue);break;case 5:Af(n);default:my(r,n),n=je=Bp(n,hs),n=fy(r,n,hs)}t.memoizedProps=t.pendingProps,n===null?yc(t):je=n}function Ka(t,n,r,l){ts=Gr=null,Af(n),ja=null,Zl=0;var h=n.return;try{if(PE(t,h,n,r,Ue)){bt=1,sc(t,Gn(r,t.current)),je=null;return}}catch(f){if(h!==null)throw je=h,f;bt=1,sc(t,Gn(r,t.current)),je=null;return}n.flags&32768?(Ge||l===1?t=!0:qa||(Ue&536870912)!==0?t=!1:(Fs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Gy(n,t)):yc(n)}function yc(t){var n=t;do{if((n.flags&32768)!==0){Gy(n,Fs);return}t=n.return;var r=BE(n.alternate,n,hs);if(r!==null){je=r;return}if(n=n.sibling,n!==null){je=n;return}je=n=t}while(n!==null);bt===0&&(bt=5)}function Gy(t,n){do{var r=HE(t.alternate,t);if(r!==null){r.flags&=32767,je=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){je=t;return}je=t=r}while(t!==null);bt=6,je=null}function Fy(t,n,r,l,h,f,g,E,I){t.cancelPendingCommit=null;do _c();while(Bt!==0);if((Je&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Jh,Hh(t,r,f,g,E,I),t===ct&&(je=ct=null,Ue=0),Fa=n,Qs=t,fs=r,ad=f,ld=h,Vy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,eT(cn,function(){return $y(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,h=ee.p,ee.p=2,g=Je,Je|=4;try{qE(t,n,r)}finally{Je=g,ee.p=h,q.T=l}}Bt=1,Yy(),Ky(),Qy()}}function Yy(){if(Bt===1){Bt=0;var t=Qs,n=Fa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=q.T,q.T=null;var l=ee.p;ee.p=2;var h=Je;Je|=4;try{wy(n,t);var f=Td,g=Op(t.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Dp(E.ownerDocument.documentElement,E)){if(I!==null&&Yh(E)){var U=I.start,G=I.end;if(G===void 0&&(G=U),"selectionStart"in E)E.selectionStart=U,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var H=z.getSelection(),ce=E.textContent.length,be=Math.min(I.start,ce),ot=I.end===void 0?be:Math.min(I.end,ce);!H.extend&&be>ot&&(g=ot,ot=be,be=g);var j=Np(E,be),O=Np(E,ot);if(j&&O&&(H.rangeCount!==1||H.anchorNode!==j.node||H.anchorOffset!==j.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var P=X.createRange();P.setStart(j.node,j.offset),H.removeAllRanges(),be>ot?(H.addRange(P),H.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),H.addRange(P))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Nc=!!Ed,Td=Ed=null}finally{Je=h,ee.p=l,q.T=r}}t.current=n,Bt=2}}function Ky(){if(Bt===2){Bt=0;var t=Qs,n=Fa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=q.T,q.T=null;var l=ee.p;ee.p=2;var h=Je;Je|=4;try{Ey(t,n.alternate,n)}finally{Je=h,ee.p=l,q.T=r}}Bt=3}}function Qy(){if(Bt===4||Bt===3){Bt=0,Y();var t=Qs,n=Fa,r=fs,l=Vy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Bt=5:(Bt=0,Fa=Qs=null,Xy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ks=null),Xi(r),n=n.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(ei,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=q.T,h=ee.p,ee.p=2,q.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{q.T=n,ee.p=h}}(fs&3)!==0&&_c(),Li(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===od?go++:(go=0,od=t):go=0,yo(0)}}function Xy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,$l(n)))}function _c(){return Yy(),Ky(),Qy(),$y()}function $y(){if(Bt!==5)return!1;var t=Qs,n=ad;ad=0;var r=Xi(fs),l=q.T,h=ee.p;try{ee.p=32>r?32:r,q.T=null,r=ld,ld=null;var f=Qs,g=fs;if(Bt=0,Fa=Qs=null,fs=0,(Je&6)!==0)throw Error(a(331));var E=Je;if(Je|=4,Dy(f.current),Cy(f,f.current,g,r),Je=E,yo(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(ei,f)}catch{}return!0}finally{ee.p=h,q.T=l,Xy(t,n)}}function Jy(t,n,r){n=Gn(r,n),n=zf(t.stateNode,n,2),t=Bs(t,n,2),t!==null&&(Rr(t,2),Li(t))}function it(t,n,r){if(t.tag===3)Jy(t,t,r);else for(;n!==null;){if(n.tag===3){Jy(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ks===null||!Ks.has(l))){t=Gn(r,t),r=Zg(2),l=Bs(n,r,2),l!==null&&(Wg(r,l,n,t),Rr(l,2),Li(l));break}}n=n.return}}function hd(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new YE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(id=!0,h.add(r),t=JE.bind(null,t,n,r),n.then(t,t))}function JE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,ct===t&&(Ue&r)===r&&(bt===4||bt===3&&(Ue&62914560)===Ue&&300>ue()-fc?(Je&2)===0&&Ya(t,0):sd|=r,Ga===Ue&&(Ga=0)),Li(t)}function Zy(t,n){n===0&&(n=mu()),t=Br(t,n),t!==null&&(Rr(t,n),Li(t))}function ZE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Zy(t,r)}function WE(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Zy(t,r)}function eT(t,n){return ie(t,n)}var vc=null,Qa=null,fd=!1,bc=!1,dd=!1,$s=0;function Li(t){t!==Qa&&t.next===null&&(Qa===null?vc=Qa=t:Qa=Qa.next=t),bc=!0,fd||(fd=!0,nT())}function yo(t,n){if(!dd&&bc){dd=!0;do for(var r=!1,l=vc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-xt(42|t)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,n0(l,f))}else f=Ue,f=vi(l,l===ct?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ti(l,f)||(r=!0,n0(l,f));l=l.next}while(r);dd=!1}}function tT(){Wy()}function Wy(){bc=fd=!1;var t=0;$s!==0&&fT()&&(t=$s);for(var n=ue(),r=null,l=vc;l!==null;){var h=l.next,f=e0(l,n);f===0?(l.next=null,r===null?vc=h:r.next=h,h===null&&(Qa=r)):(r=l,(t!==0||(f&3)!==0)&&(bc=!0)),l=h}Bt!==0&&Bt!==5||yo(t),$s!==0&&($s=0)}function e0(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-xt(f),E=1<<g,I=h[g];I===-1?((E&r)===0||(E&l)!==0)&&(h[g]=Bh(E,n)):I<=n&&(t.expiredLanes|=E),f&=~E}if(n=ct,r=Ue,r=vi(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(nt===2||nt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&he(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||ti(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&he(l),Xi(r)){case 2:case 8:r=un;break;case 32:r=cn;break;case 268435456:r=wn;break;default:r=cn}return l=t0.bind(null,t),r=ie(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&he(l),t.callbackPriority=2,t.callbackNode=null,2}function t0(t,n){if(Bt!==0&&Bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(_c()&&t.callbackNode!==r)return null;var l=Ue;return l=vi(t,t===ct?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(jy(t,l,n),e0(t,ue()),t.callbackNode!=null&&t.callbackNode===r?t0.bind(null,t):null)}function n0(t,n){if(_c())return null;jy(t,n,!0)}function nT(){mT(function(){(Je&6)!==0?ie(Ke,tT):Wy()})}function md(){if($s===0){var t=Ma;t===0&&(t=yi,yi<<=1,(yi&261888)===0&&(yi=256)),$s=t}return $s}function i0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:_a(""+t)}function s0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function iT(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=i0((h[Gt]||null).action),g=l.submitter;g&&(n=(n=g[Gt]||null)?i0(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Ni("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($s!==0){var I=g?s0(h,g):new FormData(h);Vf(r,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?s0(h,g):new FormData(h),Vf(r,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var pd=0;pd<$h.length;pd++){var gd=$h[pd],sT=gd.toLowerCase(),rT=gd[0].toUpperCase()+gd.slice(1);ui(sT,"on"+rT)}ui(kp,"onAnimationEnd"),ui(jp,"onAnimationIteration"),ui(Lp,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(EE,"onTransitionRun"),ui(TE,"onTransitionStart"),ui(xE,"onTransitionCancel"),ui(Pp,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_o));function r0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],I=E.instance,U=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=U;try{f(h)}catch(G){ku(G)}h.currentTarget=null,f=I}else for(g=0;g<l.length;g++){if(E=l[g],I=E.instance,U=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=U;try{f(h)}catch(G){ku(G)}h.currentTarget=null,f=I}}}}function Le(t,n){var r=n[da];r===void 0&&(r=n[da]=new Set);var l=t+"__bubble";r.has(l)||(a0(n,t,2,!1),r.add(l))}function yd(t,n,r){var l=0;n&&(l|=4),a0(r,t,l,n)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function _d(t){if(!t[Ec]){t[Ec]=!0,Il.forEach(function(r){r!=="selectionchange"&&(aT.has(r)||yd(r,!1,t),yd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ec]||(n[Ec]=!0,yd("selectionchange",!1,n))}}function a0(t,n,r,l){switch(k0(n)){case 2:var h=VT;break;case 8:h=kT;break;default:h=Md}r=h.bind(null,n,r,t),h=void 0,!Mr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function vd(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=l.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=xi(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){l=f=g;continue e}E=E.parentNode}}l=l.return}Ds(function(){var U=f,G=zn(r),X=[];e:{var z=Up.get(t);if(z!==void 0){var H=Ni,ce=t;switch(t){case"keypress":if(kr(r)===0)break e;case"keydown":case"keyup":H=Ou;break;case"focusin":ce="focus",H=Lr;break;case"focusout":ce="blur",H=Lr;break;case"beforeblur":case"afterblur":H=Lr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Hl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case kp:case jp:case Lp:H=Au;break;case Pp:H=T;break;case"scroll":case"scrollend":H=Bl;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Zi;break;case"toggle":case"beforetoggle":H=Ie}var be=(n&4)!==0,ot=!be&&(t==="scroll"||t==="scrollend"),j=be?z!==null?z+"Capture":null:z;be=[];for(var O=U,P;O!==null;){var K=O;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||j===null||(K=ri(O,j),K!=null&&be.push(vo(O,K,P))),ot)break;O=O.return}0<be.length&&(z=new H(z,ce,null,r,G),X.push({event:z,listeners:be}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&r!==Pl&&(ce=r.relatedTarget||r.fromElement)&&(xi(ce)||ce[Ei]))break e;if((H||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,H?(ce=r.relatedTarget||r.toElement,H=U,ce=ce?xi(ce):null,ce!==null&&(ot=c(ce),be=ce.tag,ce!==ot||be!==5&&be!==27&&be!==6)&&(ce=null)):(H=null,ce=U),H!==ce)){if(be=Hl,K="onMouseLeave",j="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(be=Zi,K="onPointerLeave",j="onPointerEnter",O="pointer"),ot=H==null?z:Rn(H),P=ce==null?z:Rn(ce),z=new be(K,O+"leave",H,r,G),z.target=ot,z.relatedTarget=P,K=null,xi(G)===U&&(be=new be(j,O+"enter",ce,r,G),be.target=P,be.relatedTarget=ot,K=be),ot=K,H&&ce)t:{for(be=lT,j=H,O=ce,P=0,K=j;K;K=be(K))P++;K=0;for(var ge=O;ge;ge=be(ge))K++;for(;0<P-K;)j=be(j),P--;for(;0<K-P;)O=be(O),K--;for(;P--;){if(j===O||O!==null&&j===O.alternate){be=j;break t}j=be(j),O=be(O)}be=null}else be=null;H!==null&&l0(X,z,H,be,!1),ce!==null&&ot!==null&&l0(X,ot,ce,be,!0)}}e:{if(z=U?Rn(U):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var Qe=Sp;else if(Tp(z))if(Ap)Qe=_E;else{Qe=gE;var fe=pE}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&ya(U.elementType)&&(Qe=Sp):Qe=yE;if(Qe&&(Qe=Qe(t,U))){xp(X,Qe,r,G);break e}fe&&fe(t,z,U),t==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&kl(z,"number",z.value)}switch(fe=U?Rn(U):window,t){case"focusin":(Tp(fe)||fe.contentEditable==="true")&&(Aa=fe,Kh=U,Kl=null);break;case"focusout":Kl=Kh=Aa=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,Mp(X,r,G);break;case"selectionchange":if(bE)break;case"keydown":case"keyup":Mp(X,r,G)}var De;if($e)e:{switch(t){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Sa?Pr(t,r)&&(ze="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ze="onCompositionStart");ze&&(Mi&&r.locale!=="ko"&&(Sa||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Sa&&(De=zl()):(Ii=G,Ul="value"in Ii?Ii.value:Ii.textContent,Sa=!0)),fe=Tc(U,ze),0<fe.length&&(ze=new Oi(ze,t,null,r,G),X.push({event:ze,listeners:fe}),De?ze.data=De:(De=xa(r),De!==null&&(ze.data=De)))),(De=Hn?hE(t,r):fE(t,r))&&(ze=Tc(U,"onBeforeInput"),0<ze.length&&(fe=new Oi("onBeforeInput","beforeinput",null,r,G),X.push({event:fe,listeners:ze}),fe.data=De)),iT(X,t,U,r,G)}r0(X,n)})}function vo(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Tc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ri(t,r),h!=null&&l.unshift(vo(t,h,f)),h=ri(t,n),h!=null&&l.push(vo(t,h,f))),t.tag===3)return l;t=t.return}return[]}function lT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function l0(t,n,r,l,h){for(var f=n._reactName,g=[];r!==null&&r!==l;){var E=r,I=E.alternate,U=E.stateNode;if(E=E.tag,I!==null&&I===l)break;E!==5&&E!==26&&E!==27||U===null||(I=U,h?(U=ri(r,f),U!=null&&g.unshift(vo(r,U,I))):h||(U=ri(r,f),U!=null&&g.push(vo(r,U,I)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var oT=/\r\n?/g,uT=/\u0000|\uFFFD/g;function o0(t){return(typeof t=="string"?t:""+t).replace(oT,`
`).replace(uT,"")}function u0(t,n){return n=o0(n),o0(t)===n}function lt(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||yn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&yn(t,""+l);break;case"className":Cn(t,"class",l);break;case"tabIndex":Cn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(t,r,l);break;case"style":Ll(t,l,f);break;case"data":if(n!=="object"){Cn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=_a(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&lt(t,n,"name",h.name,h,null),lt(t,n,"formEncType",h.formEncType,h,null),lt(t,n,"formMethod",h.formMethod,h,null),lt(t,n,"formTarget",h.formTarget,h,null)):(lt(t,n,"encType",h.encType,h,null),lt(t,n,"method",h.method,h,null),lt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=_a(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=si);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=_a(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Le("beforetoggle",t),Le("toggle",t),pa(t,"popover",l);break;case"xlinkActuate":Ot(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ot(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ot(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ot(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ot(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ot(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":pa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Tu.get(r)||r,pa(t,r,l))}}function bd(t,n,r,l,h,f){switch(r){case"style":Ll(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?yn(t,l):(typeof l=="number"||typeof l=="bigint")&&yn(t,""+l);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"onClick":l!=null&&(t.onclick=si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Gt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):pa(t,r,l)}}}function Wt(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:lt(t,n,f,g,r,null)}}h&&lt(t,n,"srcSet",r.srcSet,r,null),l&&lt(t,n,"src",r.src,r,null);return;case"input":Le("invalid",t);var E=f=g=h=null,I=null,U=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":h=G;break;case"type":g=G;break;case"checked":I=G;break;case"defaultChecked":U=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:lt(t,n,l,G,r,null)}}vu(t,f,E,I,U,g,h,!1);return;case"select":Le("invalid",t),l=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:lt(t,n,h,E,r,null)}n=f,r=g,t.multiple=!!l,n!=null?Rs(t,!!l,n,!1):r!=null&&Rs(t,!!l,r,!0);return;case"textarea":Le("invalid",t),f=h=l=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:lt(t,n,g,E,r,null)}Cs(t,l,h,f);return;case"option":for(I in r)if(r.hasOwnProperty(I)&&(l=r[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:lt(t,n,I,l,r,null)}return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(l=0;l<_o.length;l++)Le(_o[l],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in r)if(r.hasOwnProperty(U)&&(l=r[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:lt(t,n,U,l,r,null)}return;default:if(ya(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&bd(t,n,G,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&lt(t,n,E,l,r,null))}function cT(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,I=null,U=null,G=null;for(H in r){var X=r[H];if(r.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=X;default:l.hasOwnProperty(H)||lt(t,n,H,null,l,X)}}for(var z in l){var H=l[z];if(X=r[z],l.hasOwnProperty(z)&&(H!=null||X!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":U=H;break;case"defaultChecked":G=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==X&&lt(t,n,z,H,l,X)}}ga(t,g,E,I,U,G,f,h);return;case"select":H=g=E=z=null;for(f in r)if(I=r[f],r.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:l.hasOwnProperty(f)||lt(t,n,f,null,l,I)}for(h in l)if(f=l[h],I=r[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&lt(t,n,h,f,l,I)}n=E,r=g,l=H,z!=null?Rs(t,!!r,z,!1):!!l!=!!r&&(n!=null?Rs(t,!!r,n,!0):Rs(t,!!r,r?[]:"",!1));return;case"textarea":H=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:lt(t,n,E,null,l,h)}for(g in l)if(h=l[g],f=r[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&lt(t,n,g,h,l,f)}bu(t,z,H);return;case"option":for(var ce in r)if(z=r[ce],r.hasOwnProperty(ce)&&z!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:lt(t,n,ce,null,l,z)}for(I in l)if(z=l[I],H=r[I],l.hasOwnProperty(I)&&z!==H&&(z!=null||H!=null))switch(I){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:lt(t,n,I,z,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in r)z=r[be],r.hasOwnProperty(be)&&z!=null&&!l.hasOwnProperty(be)&&lt(t,n,be,null,l,z);for(U in l)if(z=l[U],H=r[U],l.hasOwnProperty(U)&&z!==H&&(z!=null||H!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:lt(t,n,U,z,l,H)}return;default:if(ya(n)){for(var ot in r)z=r[ot],r.hasOwnProperty(ot)&&z!==void 0&&!l.hasOwnProperty(ot)&&bd(t,n,ot,void 0,l,z);for(G in l)z=l[G],H=r[G],!l.hasOwnProperty(G)||z===H||z===void 0&&H===void 0||bd(t,n,G,z,l,H);return}}for(var j in r)z=r[j],r.hasOwnProperty(j)&&z!=null&&!l.hasOwnProperty(j)&&lt(t,n,j,null,l,z);for(X in l)z=l[X],H=r[X],!l.hasOwnProperty(X)||z===H||z==null&&H==null||lt(t,n,X,z,l,H)}function c0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&c0(g)){for(g=0,E=h.responseEnd,l+=1;l<r.length;l++){var I=r[l],U=I.startTime;if(U>E)break;var G=I.transferSize,X=I.initiatorType;G&&c0(X)&&(I=I.responseEnd,g+=G*(I<E?1:(E-U)/(I-U)))}if(--l,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ed=null,Td=null;function xc(t){return t.nodeType===9?t:t.ownerDocument}function h0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function f0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function xd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Sd=null;function fT(){var t=window.event;return t&&t.type==="popstate"?t===Sd?!1:(Sd=t,!0):(Sd=null,!1)}var d0=typeof setTimeout=="function"?setTimeout:void 0,dT=typeof clearTimeout=="function"?clearTimeout:void 0,m0=typeof Promise=="function"?Promise:void 0,mT=typeof queueMicrotask=="function"?queueMicrotask:typeof m0<"u"?function(t){return m0.resolve(null).then(t).catch(pT)}:d0;function pT(t){setTimeout(function(){throw t})}function Js(t){return t==="head"}function p0(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),Za(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")bo(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,bo(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Ti]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&bo(t.ownerDocument.body);r=h}while(r);Za(n)}function g0(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function Ad(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Ad(r),ma(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function gT(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ti])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Xn(t.nextSibling),t===null)break}return null}function yT(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Xn(t.nextSibling),t===null))return null;return t}function y0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Xn(t.nextSibling),t===null))return null;return t}function wd(t){return t.data==="$?"||t.data==="$~"}function Rd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function _T(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Xn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Cd=null;function _0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Xn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function v0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function b0(t,n,r){switch(n=xc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function bo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ma(t)}var $n=new Map,E0=new Set;function Sc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ds=ee.d;ee.d={f:vT,r:bT,D:ET,C:TT,L:xT,m:ST,X:wT,S:AT,M:RT};function vT(){var t=ds.f(),n=pc();return t||n}function bT(t){var n=Un(t);n!==null&&n.tag===5&&n.type==="form"?Pg(n):ds.r(t)}var Xa=typeof document>"u"?null:document;function T0(t,n,r){var l=Xa;if(l&&typeof n=="string"&&n){var h=gn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),E0.has(h)||(E0.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Wt(n,"link",t),Dt(n),l.head.appendChild(n)))}}function ET(t){ds.D(t),T0("dns-prefetch",t,null)}function TT(t,n){ds.C(t,n),T0("preconnect",t,n)}function xT(t,n,r){ds.L(t,n,r);var l=Xa;if(l&&t&&n){var h='link[rel="preload"][as="'+gn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+gn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+gn(r.imageSizes)+'"]')):h+='[href="'+gn(t)+'"]';var f=h;switch(n){case"style":f=$a(t);break;case"script":f=Ja(t)}$n.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),$n.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Eo(f))||n==="script"&&l.querySelector(To(f))||(n=l.createElement("link"),Wt(n,"link",t),Dt(n),l.head.appendChild(n)))}}function ST(t,n){ds.m(t,n);var r=Xa;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+gn(l)+'"][href="'+gn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ja(t)}if(!$n.has(f)&&(t=A({rel:"modulepreload",href:t},n),$n.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(To(f)))return}l=r.createElement("link"),Wt(l,"link",t),Dt(l),r.head.appendChild(l)}}}function AT(t,n,r){ds.S(t,n,r);var l=Xa;if(l&&t){var h=Si(l).hoistableStyles,f=$a(t);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Eo(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=$n.get(f))&&Id(t,r);var I=g=l.createElement("link");Dt(I),Wt(I,"link",t),I._p=new Promise(function(U,G){I.onload=U,I.onerror=G}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ac(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function wT(t,n){ds.X(t,n);var r=Xa;if(r&&t){var l=Si(r).hoistableScripts,h=Ja(t),f=l.get(h);f||(f=r.querySelector(To(h)),f||(t=A({src:t,async:!0},n),(n=$n.get(h))&&Nd(t,n),f=r.createElement("script"),Dt(f),Wt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function RT(t,n){ds.M(t,n);var r=Xa;if(r&&t){var l=Si(r).hoistableScripts,h=Ja(t),f=l.get(h);f||(f=r.querySelector(To(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=$n.get(h))&&Nd(t,n),f=r.createElement("script"),Dt(f),Wt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function x0(t,n,r,l){var h=(h=Ae.current)?Sc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=$a(r.href),r=Si(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=$a(r.href);var f=Si(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(Eo(t)))&&!f._p&&(g.instance=f,g.state.loading=5),$n.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},$n.set(t,r),f||CT(h,t,r,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ja(r),r=Si(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function $a(t){return'href="'+gn(t)+'"'}function Eo(t){return'link[rel="stylesheet"]['+t+"]"}function S0(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function CT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Wt(n,"link",r),Dt(n),t.head.appendChild(n))}function Ja(t){return'[src="'+gn(t)+'"]'}function To(t){return"script[async]"+t}function A0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+gn(r.href)+'"]');if(l)return n.instance=l,Dt(l),l;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Dt(l),Wt(l,"style",h),Ac(l,r.precedence,t),n.instance=l;case"stylesheet":h=$a(r.href);var f=t.querySelector(Eo(h));if(f)return n.state.loading|=4,n.instance=f,Dt(f),f;l=S0(r),(h=$n.get(h))&&Id(l,h),f=(t.ownerDocument||t).createElement("link"),Dt(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),Wt(f,"link",l),n.state.loading|=4,Ac(f,r.precedence,t),n.instance=f;case"script":return f=Ja(r.src),(h=t.querySelector(To(f)))?(n.instance=h,Dt(h),h):(l=r,(h=$n.get(f))&&(l=A({},r),Nd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Dt(h),Wt(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ac(l,r.precedence,t));return n.instance}function Ac(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Id(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Nd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var wc=null;function w0(t,n,r){if(wc===null){var l=new Map,h=wc=new Map;h.set(r,l)}else h=wc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Ti]||f[Nt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function R0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function IT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function C0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function NT(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=$a(l.href),f=n.querySelector(Eo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Rc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Dt(f);return}f=n.ownerDocument||n,l=S0(l),(h=$n.get(h))&&Id(l,h),f=f.createElement("link"),Dt(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),Wt(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Rc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Dd=0;function DT(t,n){return t.stylesheets&&t.count===0&&Ic(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&Ic(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Dd===0&&(Dd=62500*hT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ic(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Dd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Rc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ic(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Cc=null;function Ic(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Cc=new Map,n.forEach(OT,t),Cc=null,Rc.call(t))}function OT(t,n){if(!(n.state.loading&4)){var r=Cc.get(t);if(r)var l=r.get(null);else{r=new Map,Cc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||l,f===l&&r.set(null,h),r.set(g,h),this.count++,l=Rc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var xo={$$typeof:_e,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function MT(t,n,r,l,h,f,g,E,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function I0(t,n,r,l,h,f,g,E,I,U,G,X){return t=new MT(t,n,r,g,I,U,G,X,E),n=1,f===!0&&(n|=24),f=Nn(3,null,null,n),t.current=f,f.stateNode=t,n=cf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},mf(f),t}function N0(t){return t?(t=Ca,t):Ca}function D0(t,n,r,l,h,f){h=N0(h),l.context===null?l.context=h:l.pendingContext=h,l=zs(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Bs(t,l,n),r!==null&&(Tn(r,t,n),eo(r,t,n))}function O0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Od(t,n){O0(t,n),(t=t.alternate)&&O0(t,n)}function M0(t){if(t.tag===13||t.tag===31){var n=Br(t,67108864);n!==null&&Tn(n,t,67108864),Od(t,67108864)}}function V0(t){if(t.tag===13||t.tag===31){var n=kn();n=Ir(n);var r=Br(t,n);r!==null&&Tn(r,t,n),Od(t,n)}}var Nc=!0;function VT(t,n,r,l){var h=q.T;q.T=null;var f=ee.p;try{ee.p=2,Md(t,n,r,l)}finally{ee.p=f,q.T=h}}function kT(t,n,r,l){var h=q.T;q.T=null;var f=ee.p;try{ee.p=8,Md(t,n,r,l)}finally{ee.p=f,q.T=h}}function Md(t,n,r,l){if(Nc){var h=Vd(l);if(h===null)vd(t,n,l,Dc,r),j0(t,l);else if(LT(h,t,n,r,l))l.stopPropagation();else if(j0(t,l),n&4&&-1<jT.indexOf(t)){for(;h!==null;){var f=Un(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=_i(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-xt(g);E.entanglements[1]|=I,g&=~I}Li(f),(Je&6)===0&&(dc=ue()+500,yo(0))}}break;case 31:case 13:E=Br(f,2),E!==null&&Tn(E,f,2),pc(),Od(f,2)}if(f=Vd(l),f===null&&vd(t,n,l,Dc,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else vd(t,n,l,null,r)}}function Vd(t){return t=zn(t),kd(t)}var Dc=null;function kd(t){if(Dc=null,t=xi(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=_(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Dc=t,null}function k0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(se()){case Ke:return 2;case un:return 8;case cn:case et:return 32;case wn:return 268435456;default:return 32}default:return 32}}var jd=!1,Zs=null,Ws=null,er=null,So=new Map,Ao=new Map,tr=[],jT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j0(t,n){switch(t){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":So.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ao.delete(n.pointerId)}}function wo(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Un(n),n!==null&&M0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function LT(t,n,r,l,h){switch(n){case"focusin":return Zs=wo(Zs,t,n,r,l,h),!0;case"dragenter":return Ws=wo(Ws,t,n,r,l,h),!0;case"mouseover":return er=wo(er,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return So.set(f,wo(So.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Ao.set(f,wo(Ao.get(f)||null,t,n,r,l,h)),!0}return!1}function L0(t){var n=xi(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,ni(t.priority,function(){V0(r)});return}}else if(n===31){if(n=_(r),n!==null){t.blockedOn=n,ni(t.priority,function(){V0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Vd(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Pl=l,r.target.dispatchEvent(l),Pl=null}else return n=Un(r),n!==null&&M0(n),t.blockedOn=r,!1;n.shift()}return!0}function P0(t,n,r){Oc(t)&&r.delete(n)}function PT(){jd=!1,Zs!==null&&Oc(Zs)&&(Zs=null),Ws!==null&&Oc(Ws)&&(Ws=null),er!==null&&Oc(er)&&(er=null),So.forEach(P0),Ao.forEach(P0)}function Mc(t,n){t.blockedOn===n&&(t.blockedOn=null,jd||(jd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,PT)))}var Vc=null;function U0(t){Vc!==t&&(Vc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Vc===t&&(Vc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(kd(l||r)===null)continue;break}var f=Un(r);f!==null&&(t.splice(n,3),n-=3,Vf(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Za(t){function n(I){return Mc(I,t)}Zs!==null&&Mc(Zs,t),Ws!==null&&Mc(Ws,t),er!==null&&Mc(er,t),So.forEach(n),Ao.forEach(n);for(var r=0;r<tr.length;r++){var l=tr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<tr.length&&(r=tr[0],r.blockedOn===null);)L0(r),r.blockedOn===null&&tr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],g=h[Gt]||null;if(typeof f=="function")g||U0(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Gt]||null)E=g.formAction;else if(kd(h)!==null)continue}else E=g.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),U0(r)}}}function z0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ld(t){this._internalRoot=t}kc.prototype.render=Ld.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=kn();D0(r,l,t,n,null,null)},kc.prototype.unmount=Ld.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;D0(t.current,2,null,t,null,null),pc(),n[Ei]=null}};function kc(t){this._internalRoot=t}kc.prototype.unstable_scheduleHydration=function(t){if(t){var n=pu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<tr.length&&n!==0&&n<tr[r].priority;r++);tr.splice(r,0,t),r===0&&L0(t)}};var B0=e.version;if(B0!=="19.2.3")throw Error(a(527,B0,"19.2.3"));ee.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=v(n),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var UT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{ei=jc.inject(UT),Qt=jc}catch{}}return Co.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=Qg,f=Xg,g=$g;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=I0(t,1,!1,null,null,r,l,null,h,f,g,z0),t[Ei]=n.current,_d(t),new Ld(n)},Co.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=Qg,g=Xg,E=$g,I=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(I=r.formState)),n=I0(t,1,!0,n,r??null,l,h,I,f,g,E,z0),n.context=N0(null),r=n.current,l=kn(),l=Ir(l),h=zs(l),h.callback=null,Bs(r,h,l),r=l,n.current.lanes=r,Rr(n,r),Li(n),t[Ei]=n.current,_d(t),new kc(n)},Co.version="19.2.3",Co}var J0;function XT(){if(J0)return zd.exports;J0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),zd.exports=QT(),zd.exports}var $T=XT();const JT=()=>{};var Z0={};const Mv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},ZT=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],_=s[i++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|_&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Vv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,_=d?s[o+1]:0,p=o+2<s.length,v=p?s[o+2]:0,x=c>>2,A=(c&3)<<4|_>>4;let M=(_&15)<<2|v>>6,F=v&63;p||(F=64,d||(M=64)),a.push(i[x],i[A],i[M],i[F])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Mv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):ZT(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],_=o<s.length?i[s.charAt(o)]:0;++o;const v=o<s.length?i[s.charAt(o)]:64;++o;const A=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||_==null||v==null||A==null)throw new WT;const M=c<<2|_>>4;if(a.push(M),v!==64){const F=_<<4&240|v>>2;if(a.push(F),A!==64){const J=v<<6&192|A;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class WT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ex=function(s){const e=Mv(s);return Vv.encodeByteArray(e,!0)},eh=function(s){return ex(s).replace(/\./g,"")},kv=function(s){try{return Vv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function tx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const nx=()=>tx().__FIREBASE_DEFAULTS__,ix=()=>{if(typeof process>"u"||typeof Z0>"u")return;const s=Z0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},sx=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&kv(s[1]);return e&&JSON.parse(e)},bh=()=>{try{return JT()||nx()||ix()||sx()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},jv=s=>bh()?.emulatorHosts?.[s],rx=s=>{const e=jv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Lv=()=>bh()?.config,Pv=s=>bh()?.[`_${s}`];class ax{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function bl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Uv(s){return(await fetch(s,{credentials:"include"})).ok}function lx(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[eh(JSON.stringify(i)),eh(JSON.stringify(d)),""].join(".")}const Lo={};function ox(){const s={prod:[],emulator:[]};for(const e of Object.keys(Lo))Lo[e]?s.emulator.push(e):s.prod.push(e);return s}function ux(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let W0=!1;function zv(s,e){if(typeof window>"u"||typeof document>"u"||!bl(window.location.host)||Lo[s]===e||Lo[s]||W0)return;Lo[s]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=ox().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function _(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function p(M,F){M.setAttribute("width","24"),M.setAttribute("id",F),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function v(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{W0=!0,d()},M}function x(M,F){M.setAttribute("id",F),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function A(){const M=ux(a),F=i("text"),J=document.getElementById(F)||document.createElement("span"),re=i("learnmore"),ne=document.getElementById(re)||document.createElement("a"),ye=i("preprendIcon"),xe=document.getElementById(ye)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const _e=M.element;_(_e),x(ne,re);const Ye=v();p(xe,ye),_e.append(xe,J,ne,Ye),document.body.appendChild(_e)}c?(J.innerText="Preview backend disconnected.",xe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(xe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function hx(){const s=bh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dx(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function mx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function px(){const s=on();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function gx(){return!hx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yx(){try{return typeof indexedDB=="object"}catch{return!1}}function _x(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const vx="FirebaseError";class xs extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=vx,Object.setPrototypeOf(this,xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wo.prototype.create)}}class Wo{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?bx(c,a):"Error",_=`${this.serviceName}: ${d} (${o}).`;return new xs(o,_,a)}}function bx(s,e){return s.replace(Ex,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const Ex=/\{\$([^}]+)}/g;function Tx(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function pr(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(e_(c)&&e_(d)){if(!pr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function e_(s){return s!==null&&typeof s=="object"}function eu(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function xx(s,e){const i=new Sx(s,e);return i.subscribe.bind(i)}class Sx{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");Ax(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Gd),o.error===void 0&&(o.error=Gd),o.complete===void 0&&(o.complete=Gd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ax(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Gd(){}function pn(s){return s&&s._delegate?s._delegate:s}class sa{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ea="[DEFAULT]";class wx{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new ax;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Cx(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(c);a===_&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Rx(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Rx(s){return s===ea?void 0:s}function Cx(s){return s.instantiationMode==="EAGER"}class Ix{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new wx(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Be;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Be||(Be={}));const Nx={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},Dx=Be.INFO,Ox={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},Mx=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=Ox[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mm{constructor(e){this.name=e,this._logLevel=Dx,this._logHandler=Mx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Nx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const Vx=(s,e)=>e.some(i=>s instanceof i);let t_,n_;function kx(){return t_||(t_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jx(){return n_||(n_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bv=new WeakMap,rm=new WeakMap,Hv=new WeakMap,Fd=new WeakMap,Vm=new WeakMap;function Lx(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(cr(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Bv.set(i,s)}).catch(()=>{}),Vm.set(e,s),e}function Px(s){if(rm.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});rm.set(s,e)}let am={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return rm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Hv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return cr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function Ux(s){am=s(am)}function zx(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Yd(this),e,...i);return Hv.set(a,e.sort?e.sort():[e]),cr(a)}:jx().includes(s)?function(...e){return s.apply(Yd(this),e),cr(Bv.get(this))}:function(...e){return cr(s.apply(Yd(this),e))}}function Bx(s){return typeof s=="function"?zx(s):(s instanceof IDBTransaction&&Px(s),Vx(s,kx())?new Proxy(s,am):s)}function cr(s){if(s instanceof IDBRequest)return Lx(s);if(Fd.has(s))return Fd.get(s);const e=Bx(s);return e!==s&&(Fd.set(s,e),Vm.set(e,s)),e}const Yd=s=>Vm.get(s);function Hx(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),_=cr(d);return a&&d.addEventListener("upgradeneeded",p=>{a(cr(d.result),p.oldVersion,p.newVersion,cr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),_.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),_}const qx=["get","getKey","getAll","getAllKeys","count"],Gx=["put","add","delete","clear"],Kd=new Map;function i_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Kd.get(e))return Kd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=Gx.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||qx.includes(i)))return;const c=async function(d,..._){const p=this.transaction(d,o?"readwrite":"readonly");let v=p.store;return a&&(v=v.index(_.shift())),(await Promise.all([v[i](..._),o&&p.done]))[0]};return Kd.set(e,c),c}Ux(s=>({...s,get:(e,i,a)=>i_(e,i)||s.get(e,i,a),has:(e,i)=>!!i_(e,i)||s.has(e,i)}));class Fx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Yx(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function Yx(s){return s.getComponent()?.type==="VERSION"}const lm="@firebase/app",s_="0.14.7";const ys=new Mm("@firebase/app"),Kx="@firebase/app-compat",Qx="@firebase/analytics-compat",Xx="@firebase/analytics",$x="@firebase/app-check-compat",Jx="@firebase/app-check",Zx="@firebase/auth",Wx="@firebase/auth-compat",e2="@firebase/database",t2="@firebase/data-connect",n2="@firebase/database-compat",i2="@firebase/functions",s2="@firebase/functions-compat",r2="@firebase/installations",a2="@firebase/installations-compat",l2="@firebase/messaging",o2="@firebase/messaging-compat",u2="@firebase/performance",c2="@firebase/performance-compat",h2="@firebase/remote-config",f2="@firebase/remote-config-compat",d2="@firebase/storage",m2="@firebase/storage-compat",p2="@firebase/firestore",g2="@firebase/ai",y2="@firebase/firestore-compat",_2="firebase",v2="12.8.0";const om="[DEFAULT]",b2={[lm]:"fire-core",[Kx]:"fire-core-compat",[Xx]:"fire-analytics",[Qx]:"fire-analytics-compat",[Jx]:"fire-app-check",[$x]:"fire-app-check-compat",[Zx]:"fire-auth",[Wx]:"fire-auth-compat",[e2]:"fire-rtdb",[t2]:"fire-data-connect",[n2]:"fire-rtdb-compat",[i2]:"fire-fn",[s2]:"fire-fn-compat",[r2]:"fire-iid",[a2]:"fire-iid-compat",[l2]:"fire-fcm",[o2]:"fire-fcm-compat",[u2]:"fire-perf",[c2]:"fire-perf-compat",[h2]:"fire-rc",[f2]:"fire-rc-compat",[d2]:"fire-gcs",[m2]:"fire-gcs-compat",[p2]:"fire-fst",[y2]:"fire-fst-compat",[g2]:"fire-vertex","fire-js":"fire-js",[_2]:"fire-js-all"};const th=new Map,E2=new Map,um=new Map;function r_(s,e){try{s.container.addComponent(e)}catch(i){ys.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function fl(s){const e=s.name;if(um.has(e))return ys.debug(`There were multiple attempts to register component ${e}.`),!1;um.set(e,s);for(const i of th.values())r_(i,s);for(const i of E2.values())r_(i,s);return!0}function km(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Zn(s){return s==null?!1:s.settings!==void 0}const T2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hr=new Wo("app","Firebase",T2);class x2{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}const El=v2;function qv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:om,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw hr.create("bad-app-name",{appName:String(o)});if(i||(i=Lv()),!i)throw hr.create("no-options");const c=th.get(o);if(c){if(pr(i,c.options)&&pr(a,c.config))return c;throw hr.create("duplicate-app",{appName:o})}const d=new Ix(o);for(const p of um.values())d.addComponent(p);const _=new x2(i,a,d);return th.set(o,_),_}function Gv(s=om){const e=th.get(s);if(!e&&s===om&&Lv())return qv();if(!e)throw hr.create("no-app",{appName:s});return e}function fr(s,e,i){let a=b2[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ys.warn(d.join(" "));return}fl(new sa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const S2="firebase-heartbeat-database",A2=1,qo="firebase-heartbeat-store";let Qd=null;function Fv(){return Qd||(Qd=Hx(S2,A2,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(qo)}catch(i){console.warn(i)}}}}).catch(s=>{throw hr.create("idb-open",{originalErrorMessage:s.message})})),Qd}async function w2(s){try{const i=(await Fv()).transaction(qo),a=await i.objectStore(qo).get(Yv(s));return await i.done,a}catch(e){if(e instanceof xs)ys.warn(e.message);else{const i=hr.create("idb-get",{originalErrorMessage:e?.message});ys.warn(i.message)}}}async function a_(s,e){try{const a=(await Fv()).transaction(qo,"readwrite");await a.objectStore(qo).put(e,Yv(s)),await a.done}catch(i){if(i instanceof xs)ys.warn(i.message);else{const a=hr.create("idb-set",{originalErrorMessage:i?.message});ys.warn(a.message)}}}function Yv(s){return`${s.name}!${s.options.appId}`}const R2=1024,C2=30;class I2{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new D2(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=l_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>C2){const o=O2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ys.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=l_(),{heartbeatsToSend:i,unsentEntries:a}=N2(this._heartbeatsCache.heartbeats),o=eh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ys.warn(e),""}}}function l_(){return new Date().toISOString().substring(0,10)}function N2(s,e=R2){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),o_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),o_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class D2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yx()?_x().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await w2(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return a_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return a_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function o_(s){return eh(JSON.stringify({version:2,heartbeats:s})).length}function O2(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function M2(s){fl(new sa("platform-logger",e=>new Fx(e),"PRIVATE")),fl(new sa("heartbeat",e=>new I2(e),"PRIVATE")),fr(lm,s_,s),fr(lm,s_,"esm2020"),fr("fire-js","")}M2("");var V2="firebase",k2="12.8.0";fr(V2,k2,"app");function Kv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const j2=Kv,Qv=new Wo("auth","Firebase",Kv());const nh=new Mm("@firebase/auth");function L2(s,...e){nh.logLevel<=Be.WARN&&nh.warn(`Auth (${El}): ${s}`,...e)}function qc(s,...e){nh.logLevel<=Be.ERROR&&nh.error(`Auth (${El}): ${s}`,...e)}function _s(s,...e){throw jm(s,...e)}function zi(s,...e){return jm(s,...e)}function Xv(s,e,i){const a={...j2(),[e]:i};return new Wo("auth","Firebase",a).create(e,{appName:s.name})}function gs(s){return Xv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Qv.create(s,...e)}function Se(s,e,...i){if(!s)throw jm(e,...i)}function ms(s){const e="INTERNAL ASSERTION FAILED: "+s;throw qc(e),new Error(e)}function vs(s,e){s||ms(e)}function cm(){return typeof self<"u"&&self.location?.href||""}function P2(){return u_()==="http:"||u_()==="https:"}function u_(){return typeof self<"u"&&self.location?.protocol||null}function U2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(P2()||dx()||"connection"in navigator)?navigator.onLine:!0}function z2(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class tu{constructor(e,i){this.shortDelay=e,this.longDelay=i,vs(i>e,"Short delay should be less than long delay!"),this.isMobile=cx()||mx()}get(){return U2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Lm(s,e){vs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class $v{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const B2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const H2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],q2=new tu(3e4,6e4);function nu(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Tl(s,e,i,a,o={}){return Jv(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const _=eu({key:s.config.apiKey,...d}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const v={method:e,headers:p,...c};return fx()||(v.referrerPolicy="no-referrer"),s.emulatorConfig&&bl(s.emulatorConfig.host)&&(v.credentials="include"),$v.fetch()(await Zv(s,s.config.apiHost,i,_),v)})}async function Jv(s,e,i){s._canInitEmulator=!1;const a={...B2,...e};try{const o=new G2(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Lc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const _=c.ok?d.errorMessage:d.error.message,[p,v]=_.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lc(s,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Lc(s,"email-already-in-use",d);if(p==="USER_DISABLED")throw Lc(s,"user-disabled",d);const x=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Xv(s,x,v);_s(s,x)}}catch(o){if(o instanceof xs)throw o;_s(s,"network-request-failed",{message:String(o)})}}async function Pm(s,e,i,a,o={}){const c=await Tl(s,e,i,a,o);return"mfaPendingCredential"in c&&_s(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Zv(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?Lm(s.config,o):`${s.config.apiScheme}://${o}`;return H2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class G2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(zi(this.auth,"network-request-failed")),q2.get())})}}function Lc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=zi(s,e,a);return o.customData._tokenResponse=i,o}async function F2(s,e){return Tl(s,"POST","/v1/accounts:delete",e)}async function ih(s,e){return Tl(s,"POST","/v1/accounts:lookup",e)}function Po(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Y2(s,e=!1){const i=pn(s),a=await i.getIdToken(e),o=Um(a);Se(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Po(Xd(o.auth_time)),issuedAtTime:Po(Xd(o.iat)),expirationTime:Po(Xd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Xd(s){return Number(s)*1e3}function Um(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return qc("JWT malformed, contained fewer than 3 sections"),null;try{const o=kv(i);return o?JSON.parse(o):(qc("Failed to decode base64 JWT payload"),null)}catch(o){return qc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function c_(s){const e=Um(s);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Go(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof xs&&K2(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function K2({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Q2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class hm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Po(this.lastLoginAt),this.creationTime=Po(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function sh(s){const e=s.auth,i=await s.getIdToken(),a=await Go(s,ih(e,{idToken:i}));Se(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?Wv(o.providerUserInfo):[],d=$2(s.providerData,c),_=s.isAnonymous,p=!(s.email&&o.passwordHash)&&!d?.length,v=_?p:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new hm(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(s,x)}async function X2(s){const e=pn(s);await sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $2(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Wv(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function J2(s,e){const i=await Jv(s,{},async()=>{const a=eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await Zv(s,o,"/v1/token",`key=${c}`),_=await s._getAdditionalHeaders();_["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:_,body:a};return s.emulatorConfig&&bl(s.emulatorConfig.host)&&(p.credentials="include"),$v.fetch()(d,p)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Z2(s,e){return Tl(s,"POST","/v2/accounts:revokeToken",nu(s,e))}class rl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):c_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const i=c_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await J2(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new rl;return a&&(Se(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Se(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Se(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rl,this.toJSON())}_performRefresh(){return ms("not implemented")}}function ir(s,e){Se(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class fi{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new Q2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new hm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Go(this,this.stsTokenManager.getToken(this.auth,e));return Se(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Y2(this,e)}reload(){return X2(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new fi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await sh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(gs(this.auth));const e=await this.getIdToken();return await Go(this,F2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,_=i.tenantId??void 0,p=i._redirectEventId??void 0,v=i.createdAt??void 0,x=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:F,providerData:J,stsTokenManager:re}=i;Se(A&&re,e,"internal-error");const ne=rl.fromJSON(this.name,re);Se(typeof A=="string",e,"internal-error"),ir(a,e.name),ir(o,e.name),Se(typeof M=="boolean",e,"internal-error"),Se(typeof F=="boolean",e,"internal-error"),ir(c,e.name),ir(d,e.name),ir(_,e.name),ir(p,e.name),ir(v,e.name),ir(x,e.name);const ye=new fi({uid:A,auth:e,email:o,emailVerified:M,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:_,stsTokenManager:ne,createdAt:v,lastLoginAt:x});return J&&Array.isArray(J)&&(ye.providerData=J.map(xe=>({...xe}))),p&&(ye._redirectEventId=p),ye}static async _fromIdTokenResponse(e,i,a=!1){const o=new rl;o.updateFromServerResponse(i);const c=new fi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await sh(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Se(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Wv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,_=new rl;_.updateFromIdToken(a);const p=new fi({uid:o.localId,auth:e,stsTokenManager:_,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new hm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,v),p}}const h_=new Map;function ps(s){vs(s instanceof Function,"Expected a class definition");let e=h_.get(s);return e?(vs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,h_.set(s,e),e)}class e1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}e1.type="NONE";const f_=e1;function Gc(s,e,i){return`firebase:${s}:${e}:${i}`}class al{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Gc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Gc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await ih(this.auth,{idToken:e}).catch(()=>{});return i?fi._fromGetAccountInfoResponse(this.auth,i,e):null}return fi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new al(ps(f_),e,a);const o=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=o[0]||ps(f_);const d=Gc(a,e.config.apiKey,e.name);let _=null;for(const v of i)try{const x=await v._get(d);if(x){let A;if(typeof x=="string"){const M=await ih(e,{idToken:x}).catch(()=>{});if(!M)break;A=await fi._fromGetAccountInfoResponse(e,M,x)}else A=fi._fromJSON(e,x);v!==c&&(_=A),c=v;break}}catch{}const p=o.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new al(c,e,a):(c=p[0],_&&await c._set(d,_.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new al(c,e,a))}}function d_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(s1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(t1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(a1(e))return"Blackberry";if(l1(e))return"Webos";if(n1(e))return"Safari";if((e.includes("chrome/")||i1(e))&&!e.includes("edge/"))return"Chrome";if(r1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function t1(s=on()){return/firefox\//i.test(s)}function n1(s=on()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function i1(s=on()){return/crios\//i.test(s)}function s1(s=on()){return/iemobile/i.test(s)}function r1(s=on()){return/android/i.test(s)}function a1(s=on()){return/blackberry/i.test(s)}function l1(s=on()){return/webos/i.test(s)}function zm(s=on()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function W2(s=on()){return zm(s)&&!!window.navigator?.standalone}function eS(){return px()&&document.documentMode===10}function o1(s=on()){return zm(s)||r1(s)||l1(s)||a1(s)||/windows phone/i.test(s)||s1(s)}function u1(s,e=[]){let i;switch(s){case"Browser":i=d_(on());break;case"Worker":i=`${d_(on())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${El}/${a}`}class tS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,_)=>{try{const p=e(c);d(p)}catch(p){_(p)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function nS(s,e={}){return Tl(s,"GET","/v2/passwordPolicy",nu(s,e))}const iS=6;class sS{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??iS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class rS{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m_(this),this.idTokenSubscription=new m_(this),this.beforeStateQueue=new tS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ps(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await al.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await ih(this,{idToken:e}),a=await fi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Zn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,_=await this.tryRedirectSignIn(e);(!c||c===d)&&_?.user&&(a=_.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await sh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=z2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(gs(this));const i=e?pn(e):null;return i&&Se(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(gs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(gs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nS(this),i=new sS(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wo("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Z2(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ps(e)||this._popupRedirectResolver;Se(i,this,"argument-error"),this.redirectPersistenceManager=await al.create(this,[ps(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const _=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(_,this,"internal-error"),_.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const p=e.addObserver(i,a,o);return()=>{d=!0,p()}}else{const p=e.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=u1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&L2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function iu(s){return pn(s)}class m_{constructor(e){this.auth=e,this.observer=null,this.addObserver=xx(i=>this.observer=i)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Bm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aS(s){Bm=s}function lS(s){return Bm.loadJS(s)}function oS(){return Bm.gapiScript}function uS(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function cS(s,e){const i=km(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(pr(c,e??{}))return o;_s(o,"already-initialized")}return i.initialize({options:e})}function hS(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ps);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function fS(s,e,i){const a=iu(s);Se(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=c1(e),{host:d,port:_}=dS(e),p=_===null?"":`:${_}`,v={url:`${c}//${d}${p}/`},x=Object.freeze({host:d,port:_,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Se(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Se(pr(v,a.config.emulator)&&pr(x,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=v,a.emulatorConfig=x,a.settings.appVerificationDisabledForTesting=!0,bl(d)?(Uv(`${c}//${d}${p}`),zv("Auth",!0)):mS()}function c1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function dS(s){const e=c1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:p_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:p_(d)}}}function p_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function mS(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class h1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ms("not implemented")}_getIdTokenResponse(e){return ms("not implemented")}_linkToIdToken(e,i){return ms("not implemented")}_getReauthenticationResolver(e){return ms("not implemented")}}async function ll(s,e){return Pm(s,"POST","/v1/accounts:signInWithIdp",nu(s,e))}const pS="http://localhost";class ra extends h1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):_s("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new ra(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return ll(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,ll(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,ll(e,i)}buildRequest(){const e={requestUri:pS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=eu(i)}return e}}class f1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class su extends f1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class rr extends su{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rr.credential(e.oauthAccessToken)}catch{return null}}}rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";rr.PROVIDER_ID="facebook.com";class ar extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ra._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return ar.credential(i,a)}catch{return null}}}ar.GOOGLE_SIGN_IN_METHOD="google.com";ar.PROVIDER_ID="google.com";class lr extends su{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com";lr.PROVIDER_ID="github.com";class or extends su{constructor(){super("twitter.com")}static credential(e,i){return ra._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return or.credential(i,a)}catch{return null}}}or.TWITTER_SIGN_IN_METHOD="twitter.com";or.PROVIDER_ID="twitter.com";async function gS(s,e){return Pm(s,"POST","/v1/accounts:signUp",nu(s,e))}class bs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await fi._fromIdTokenResponse(e,a,o),d=g_(a);return new bs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=g_(a);return new bs({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function g_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function yS(s){if(Zn(s.app))return Promise.reject(gs(s));const e=iu(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new bs({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await gS(e,{returnSecureToken:!0}),a=await bs._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class rh extends xs{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new rh(e,i,a,o)}}function d1(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?rh._fromErrorAndOperation(s,c,e,a):c})}async function _S(s,e,i=!1){const a=await Go(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return bs._forOperation(s,"link",a)}async function vS(s,e,i=!1){const{auth:a}=s;if(Zn(a.app))return Promise.reject(gs(a));const o="reauthenticate";try{const c=await Go(s,d1(a,o,e,s),i);Se(c.idToken,a,"internal-error");const d=Um(c.idToken);Se(d,a,"internal-error");const{sub:_}=d;return Se(s.uid===_,a,"user-mismatch"),bs._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&_s(a,"user-mismatch"),c}}async function bS(s,e,i=!1){if(Zn(s.app))return Promise.reject(gs(s));const a="signIn",o=await d1(s,a,e),c=await bs._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}async function ES(s,e){return Pm(s,"POST","/v1/accounts:signInWithCustomToken",nu(s,e))}async function TS(s,e){if(Zn(s.app))return Promise.reject(gs(s));const i=iu(s),a=await ES(i,{token:e,returnSecureToken:!0}),o=await bs._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function xS(s,e,i,a){return pn(s).onIdTokenChanged(e,i,a)}function SS(s,e,i){return pn(s).beforeAuthStateChanged(e,i)}function AS(s,e,i,a){return pn(s).onAuthStateChanged(e,i,a)}const ah="__sak";class m1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ah,"1"),this.storage.removeItem(ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const wS=1e3,RS=10;class p1 extends m1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=o1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,_,p)=>{this.notifyListeners(d,p)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);eS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,RS):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},wS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}p1.type="LOCAL";const CS=p1;class g1 extends m1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}g1.type="SESSION";const y1=g1;function IS(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Eh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new Eh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const _=Array.from(d).map(async v=>v(i.origin,c)),p=await IS(_);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eh.receivers=[];function Hm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class NS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((_,p)=>{const v=Hm("",20);o.port1.start();const x=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(A){const M=A;if(M.data.eventId===v)switch(M.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),_(M.data.response);break;default:clearTimeout(x),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:v,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Bi(){return window}function DS(s){Bi().location.href=s}function _1(){return typeof Bi().WorkerGlobalScope<"u"&&typeof Bi().importScripts=="function"}async function OS(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MS(){return navigator?.serviceWorker?.controller||null}function VS(){return _1()?self:null}const v1="firebaseLocalStorageDb",kS=1,lh="firebaseLocalStorage",b1="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Th(s,e){return s.transaction([lh],e?"readwrite":"readonly").objectStore(lh)}function jS(){const s=indexedDB.deleteDatabase(v1);return new ru(s).toPromise()}function fm(){const s=indexedDB.open(v1,kS);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(lh,{keyPath:b1})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(lh)?e(a):(a.close(),await jS(),e(await fm()))})})}async function y_(s,e,i){const a=Th(s,!0).put({[b1]:e,value:i});return new ru(a).toPromise()}async function LS(s,e){const i=Th(s,!1).get(e),a=await new ru(i).toPromise();return a===void 0?null:a.value}function __(s,e){const i=Th(s,!0).delete(e);return new ru(i).toPromise()}const PS=800,US=3;class E1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>US)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eh._getInstance(VS()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await OS(),!this.activeServiceWorker)return;this.sender=new NS(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fm();return await y_(e,ah,"1"),await __(e,ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>y_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>LS(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>__(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Th(o,!1).getAll();return new ru(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}E1.type="LOCAL";const zS=E1;new tu(3e4,6e4);function BS(s,e){return e?ps(e):(Se(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class qm extends h1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ll(e,this._buildIdpRequest())}_linkToIdToken(e,i){return ll(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return ll(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function HS(s){return bS(s.auth,new qm(s),s.bypassAuthState)}function qS(s){const{auth:e,user:i}=s;return Se(i,e,"internal-error"),vS(i,new qm(s),s.bypassAuthState)}async function GS(s){const{auth:e,user:i}=s;return Se(i,e,"internal-error"),_S(i,new qm(s),s.bypassAuthState)}class T1{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:_}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(_)(p))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HS;case"linkViaPopup":case"linkViaRedirect":return GS;case"reauthViaPopup":case"reauthViaRedirect":return qS;default:_s(this.auth,"internal-error")}}resolve(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const FS=new tu(2e3,1e4);class sl extends T1{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,sl.currentPopupAction&&sl.currentPopupAction.cancel(),sl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){vs(this.filter.length===1,"Popup operations only handle one event");const e=Hm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FS.get())};e()}}sl.currentPopupAction=null;const YS="pendingRedirect",Fc=new Map;class KS extends T1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Fc.get(this.auth._key());if(!e){try{const a=await QS(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Fc.set(this.auth._key(),e)}return this.bypassAuthState||Fc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QS(s,e){const i=JS(e),a=$S(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function XS(s,e){Fc.set(s._key(),e)}function $S(s){return ps(s._redirectPersistence)}function JS(s){return Gc(YS,s.config.apiKey,s.name)}async function ZS(s,e,i=!1){if(Zn(s.app))return Promise.reject(gs(s));const a=iu(s),o=BS(a,e),d=await new KS(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const WS=600*1e3;class eA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tA(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!x1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(zi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WS&&this.cachedEventUids.clear(),this.cachedEventUids.has(v_(e))}saveEventToCache(e){this.cachedEventUids.add(v_(e)),this.lastProcessedEventTime=Date.now()}}function v_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function x1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function tA(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return x1(s);default:return!1}}async function nA(s,e={}){return Tl(s,"GET","/v1/projects",e)}const iA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sA=/^https?/;async function rA(s){if(s.config.emulator)return;const{authorizedDomains:e}=await nA(s);for(const i of e)try{if(aA(i))return}catch{}_s(s,"unauthorized-domain")}function aA(s){const e=cm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!sA.test(i))return!1;if(iA.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const lA=new tu(3e4,6e4);function b_(){const s=Bi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function oA(s){return new Promise((e,i)=>{function a(){b_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{b_(),i(zi(s,"network-request-failed"))},timeout:lA.get()})}if(Bi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Bi().gapi?.load)a();else{const o=uS("iframefcb");return Bi()[o]=()=>{gapi.load?a():i(zi(s,"network-request-failed"))},lS(`${oS()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Yc=null,e})}let Yc=null;function uA(s){return Yc=Yc||oA(s),Yc}const cA=new tu(5e3,15e3),hA="__/auth/iframe",fA="emulator/auth/iframe",dA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pA(s){const e=s.config;Se(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Lm(e,fA):`https://${s.config.authDomain}/${hA}`,a={apiKey:e.apiKey,appName:s.name,v:El},o=mA.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${eu(a).slice(1)}`}async function gA(s){const e=await uA(s),i=Bi().gapi;return Se(i,s,"internal-error"),e.open({where:document.body,url:pA(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dA,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=zi(s,"network-request-failed"),_=Bi().setTimeout(()=>{c(d)},cA.get());function p(){Bi().clearTimeout(_),o(a)}a.ping(p).then(p,()=>{c(d)})}))}const yA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_A=500,vA=600,bA="_blank",EA="http://localhost";class E_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TA(s,e,i,a=_A,o=vA){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let _="";const p={...yA,width:a.toString(),height:o.toString(),top:c,left:d},v=on().toLowerCase();i&&(_=i1(v)?bA:i),t1(v)&&(e=e||EA,p.scrollbars="yes");const x=Object.entries(p).reduce((M,[F,J])=>`${M}${F}=${J},`,"");if(W2(v)&&_!=="_self")return xA(e||"",_),new E_(null);const A=window.open(e||"",_,x);Se(A,s,"popup-blocked");try{A.focus()}catch{}return new E_(A)}function xA(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const SA="__/auth/handler",AA="emulator/auth/handler",wA=encodeURIComponent("fac");async function T_(s,e,i,a,o,c){Se(s.config.authDomain,s,"auth-domain-config-required"),Se(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:El,eventId:o};if(e instanceof f1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",Tx(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,A]of Object.entries({}))d[x]=A}if(e instanceof su){const x=e.getScopes().filter(A=>A!=="");x.length>0&&(d.scopes=x.join(","))}s.tenantId&&(d.tid=s.tenantId);const _=d;for(const x of Object.keys(_))_[x]===void 0&&delete _[x];const p=await s._getAppCheckToken(),v=p?`#${wA}=${encodeURIComponent(p)}`:"";return`${RA(s)}?${eu(_).slice(1)}${v}`}function RA({config:s}){return s.emulator?Lm(s,AA):`https://${s.authDomain}/${SA}`}const $d="webStorageSupport";class CA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=y1,this._completeRedirectFn=ZS,this._overrideRedirectResult=XS}async _openPopup(e,i,a,o){vs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await T_(e,i,a,cm(),o);return TA(e,c,Hm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await T_(e,i,a,cm(),o);return DS(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(vs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await gA(e),a=new eA(e);return i.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send($d,{type:$d},o=>{const c=o?.[0]?.[$d];c!==void 0&&i(!!c),_s(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=rA(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return o1()||n1()||zm()}}const IA=CA;var x_="@firebase/auth",S_="1.12.0";class NA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function DA(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OA(s){fl(new sa("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:_}=a.options;Se(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:_,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:u1(s)},v=new rS(a,o,c,p);return hS(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),fl(new sa("auth-internal",e=>{const i=iu(e.getProvider("auth").getImmediate());return(a=>new NA(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),fr(x_,S_,DA(s)),fr(x_,S_,"esm2020")}const MA=300,VA=Pv("authIdTokenMaxAge")||MA;let A_=null;const kA=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>VA)return;const o=i?.token;A_!==o&&(A_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function jA(s=Gv()){const e=km(s,"auth");if(e.isInitialized())return e.getImmediate();const i=cS(s,{popupRedirectResolver:IA,persistence:[zS,CS,y1]}),a=Pv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=kA(c.toString());SS(i,d,()=>d(i.currentUser)),xS(i,_=>d(_))}}const o=jv("auth");return o&&fS(i,`http://${o}`),i}function LA(){return document.getElementsByTagName("head")?.[0]??document}aS({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=zi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",LA().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OA("Browser");var w_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var dr,S1;(function(){var s;function e(N,w){function C(){}C.prototype=w.prototype,N.F=w.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(S,D,k){for(var R=Array(arguments.length-2),We=2;We<arguments.length;We++)R[We-2]=arguments[We];return w.prototype[D].apply(S,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,w,C){C||(C=0);const S=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)S[D]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(D=0;D<16;++D)S[D]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=N.g[0],C=N.g[1],D=N.g[2];let k=N.g[3],R;R=w+(k^C&(D^k))+S[0]+3614090360&4294967295,w=C+(R<<7&4294967295|R>>>25),R=k+(D^w&(C^D))+S[1]+3905402710&4294967295,k=w+(R<<12&4294967295|R>>>20),R=D+(C^k&(w^C))+S[2]+606105819&4294967295,D=k+(R<<17&4294967295|R>>>15),R=C+(w^D&(k^w))+S[3]+3250441966&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(k^C&(D^k))+S[4]+4118548399&4294967295,w=C+(R<<7&4294967295|R>>>25),R=k+(D^w&(C^D))+S[5]+1200080426&4294967295,k=w+(R<<12&4294967295|R>>>20),R=D+(C^k&(w^C))+S[6]+2821735955&4294967295,D=k+(R<<17&4294967295|R>>>15),R=C+(w^D&(k^w))+S[7]+4249261313&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(k^C&(D^k))+S[8]+1770035416&4294967295,w=C+(R<<7&4294967295|R>>>25),R=k+(D^w&(C^D))+S[9]+2336552879&4294967295,k=w+(R<<12&4294967295|R>>>20),R=D+(C^k&(w^C))+S[10]+4294925233&4294967295,D=k+(R<<17&4294967295|R>>>15),R=C+(w^D&(k^w))+S[11]+2304563134&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(k^C&(D^k))+S[12]+1804603682&4294967295,w=C+(R<<7&4294967295|R>>>25),R=k+(D^w&(C^D))+S[13]+4254626195&4294967295,k=w+(R<<12&4294967295|R>>>20),R=D+(C^k&(w^C))+S[14]+2792965006&4294967295,D=k+(R<<17&4294967295|R>>>15),R=C+(w^D&(k^w))+S[15]+1236535329&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(D^k&(C^D))+S[1]+4129170786&4294967295,w=C+(R<<5&4294967295|R>>>27),R=k+(C^D&(w^C))+S[6]+3225465664&4294967295,k=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(k^w))+S[11]+643717713&4294967295,D=k+(R<<14&4294967295|R>>>18),R=C+(k^w&(D^k))+S[0]+3921069994&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^k&(C^D))+S[5]+3593408605&4294967295,w=C+(R<<5&4294967295|R>>>27),R=k+(C^D&(w^C))+S[10]+38016083&4294967295,k=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(k^w))+S[15]+3634488961&4294967295,D=k+(R<<14&4294967295|R>>>18),R=C+(k^w&(D^k))+S[4]+3889429448&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^k&(C^D))+S[9]+568446438&4294967295,w=C+(R<<5&4294967295|R>>>27),R=k+(C^D&(w^C))+S[14]+3275163606&4294967295,k=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(k^w))+S[3]+4107603335&4294967295,D=k+(R<<14&4294967295|R>>>18),R=C+(k^w&(D^k))+S[8]+1163531501&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^k&(C^D))+S[13]+2850285829&4294967295,w=C+(R<<5&4294967295|R>>>27),R=k+(C^D&(w^C))+S[2]+4243563512&4294967295,k=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(k^w))+S[7]+1735328473&4294967295,D=k+(R<<14&4294967295|R>>>18),R=C+(k^w&(D^k))+S[12]+2368359562&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(C^D^k)+S[5]+4294588738&4294967295,w=C+(R<<4&4294967295|R>>>28),R=k+(w^C^D)+S[8]+2272392833&4294967295,k=w+(R<<11&4294967295|R>>>21),R=D+(k^w^C)+S[11]+1839030562&4294967295,D=k+(R<<16&4294967295|R>>>16),R=C+(D^k^w)+S[14]+4259657740&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^k)+S[1]+2763975236&4294967295,w=C+(R<<4&4294967295|R>>>28),R=k+(w^C^D)+S[4]+1272893353&4294967295,k=w+(R<<11&4294967295|R>>>21),R=D+(k^w^C)+S[7]+4139469664&4294967295,D=k+(R<<16&4294967295|R>>>16),R=C+(D^k^w)+S[10]+3200236656&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^k)+S[13]+681279174&4294967295,w=C+(R<<4&4294967295|R>>>28),R=k+(w^C^D)+S[0]+3936430074&4294967295,k=w+(R<<11&4294967295|R>>>21),R=D+(k^w^C)+S[3]+3572445317&4294967295,D=k+(R<<16&4294967295|R>>>16),R=C+(D^k^w)+S[6]+76029189&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^k)+S[9]+3654602809&4294967295,w=C+(R<<4&4294967295|R>>>28),R=k+(w^C^D)+S[12]+3873151461&4294967295,k=w+(R<<11&4294967295|R>>>21),R=D+(k^w^C)+S[15]+530742520&4294967295,D=k+(R<<16&4294967295|R>>>16),R=C+(D^k^w)+S[2]+3299628645&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(D^(C|~k))+S[0]+4096336452&4294967295,w=C+(R<<6&4294967295|R>>>26),R=k+(C^(w|~D))+S[7]+1126891415&4294967295,k=w+(R<<10&4294967295|R>>>22),R=D+(w^(k|~C))+S[14]+2878612391&4294967295,D=k+(R<<15&4294967295|R>>>17),R=C+(k^(D|~w))+S[5]+4237533241&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~k))+S[12]+1700485571&4294967295,w=C+(R<<6&4294967295|R>>>26),R=k+(C^(w|~D))+S[3]+2399980690&4294967295,k=w+(R<<10&4294967295|R>>>22),R=D+(w^(k|~C))+S[10]+4293915773&4294967295,D=k+(R<<15&4294967295|R>>>17),R=C+(k^(D|~w))+S[1]+2240044497&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~k))+S[8]+1873313359&4294967295,w=C+(R<<6&4294967295|R>>>26),R=k+(C^(w|~D))+S[15]+4264355552&4294967295,k=w+(R<<10&4294967295|R>>>22),R=D+(w^(k|~C))+S[6]+2734768916&4294967295,D=k+(R<<15&4294967295|R>>>17),R=C+(k^(D|~w))+S[13]+1309151649&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~k))+S[4]+4149444226&4294967295,w=C+(R<<6&4294967295|R>>>26),R=k+(C^(w|~D))+S[11]+3174756917&4294967295,k=w+(R<<10&4294967295|R>>>22),R=D+(w^(k|~C))+S[2]+718787259&4294967295,D=k+(R<<15&4294967295|R>>>17),R=C+(k^(D|~w))+S[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+k&4294967295}a.prototype.v=function(N,w){w===void 0&&(w=N.length);const C=w-this.blockSize,S=this.C;let D=this.h,k=0;for(;k<w;){if(D==0)for(;k<=C;)o(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<w;)if(S[D++]=N.charCodeAt(k++),D==this.blockSize){o(this,S),D=0;break}}else for(;k<w;)if(S[D++]=N[k++],D==this.blockSize){o(this,S),D=0;break}}this.h=D,this.o+=w},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,C=0;C<4;++C)for(let S=0;S<32;S+=8)N[w++]=this.g[C]>>>S&255;return N};function c(N,w){var C=_;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=w(N)}function d(N,w){this.h=w;const C=[];let S=!0;for(let D=N.length-1;D>=0;D--){const k=N[D]|0;S&&k==w||(C[D]=k,S=!1)}this.g=C}var _={};function p(N){return-128<=N&&N<128?c(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return A;if(N<0)return ne(v(-N));const w=[];let C=1;for(let S=0;N>=C;S++)w[S]=N/C|0,C*=4294967296;return new d(w,0)}function x(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return ne(x(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=v(Math.pow(w,8));let S=A;for(let k=0;k<N.length;k+=8){var D=Math.min(8,N.length-k);const R=parseInt(N.substring(k,k+D),w);D<8?(D=v(Math.pow(w,D)),S=S.j(D).add(v(R))):(S=S.j(C),S=S.add(v(R)))}return S}var A=p(0),M=p(1),F=p(16777216);s=d.prototype,s.m=function(){if(re(this))return-ne(this).m();let N=0,w=1;for(let C=0;C<this.g.length;C++){const S=this.i(C);N+=(S>=0?S:4294967296+S)*w,w*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(J(this))return"0";if(re(this))return"-"+ne(this).toString(N);const w=v(Math.pow(N,6));var C=this;let S="";for(;;){const D=Ye(C,w).g;C=ye(C,D.j(w));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=D,J(C))return k+S;for(;k.length<6;)k="0"+k;S=k+S}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function J(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function re(N){return N.h==-1}s.l=function(N){return N=ye(this,N),re(N)?-1:J(N)?0:1};function ne(N){const w=N.g.length,C=[];for(let S=0;S<w;S++)C[S]=~N.g[S];return new d(C,~N.h).add(M)}s.abs=function(){return re(this)?ne(this):this},s.add=function(N){const w=Math.max(this.g.length,N.g.length),C=[];let S=0;for(let D=0;D<=w;D++){let k=S+(this.i(D)&65535)+(N.i(D)&65535),R=(k>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);S=R>>>16,k&=65535,R&=65535,C[D]=R<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ye(N,w){return N.add(ne(w))}s.j=function(N){if(J(this)||J(N))return A;if(re(this))return re(N)?ne(this).j(ne(N)):ne(ne(this).j(N));if(re(N))return ne(this.j(ne(N)));if(this.l(F)<0&&N.l(F)<0)return v(this.m()*N.m());const w=this.g.length+N.g.length,C=[];for(var S=0;S<2*w;S++)C[S]=0;for(S=0;S<this.g.length;S++)for(let D=0;D<N.g.length;D++){const k=this.i(S)>>>16,R=this.i(S)&65535,We=N.i(D)>>>16,Et=N.i(D)&65535;C[2*S+2*D]+=R*Et,xe(C,2*S+2*D),C[2*S+2*D+1]+=k*Et,xe(C,2*S+2*D+1),C[2*S+2*D+1]+=R*We,xe(C,2*S+2*D+1),C[2*S+2*D+2]+=k*We,xe(C,2*S+2*D+2)}for(N=0;N<w;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=w;N<2*w;N++)C[N]=0;return new d(C,0)};function xe(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function _e(N,w){this.g=N,this.h=w}function Ye(N,w){if(J(w))throw Error("division by zero");if(J(N))return new _e(A,A);if(re(N))return w=Ye(ne(N),w),new _e(ne(w.g),ne(w.h));if(re(w))return w=Ye(N,ne(w)),new _e(ne(w.g),w.h);if(N.g.length>30){if(re(N)||re(w))throw Error("slowDivide_ only works with positive integers.");for(var C=M,S=w;S.l(N)<=0;)C=Ve(C),S=Ve(S);var D=Pe(C,1),k=Pe(S,1);for(S=Pe(S,2),C=Pe(C,2);!J(S);){var R=k.add(S);R.l(N)<=0&&(D=D.add(C),k=R),S=Pe(S,1),C=Pe(C,1)}return w=ye(N,D.j(w)),new _e(D,w)}for(D=A;N.l(w)>=0;){for(C=Math.max(1,Math.floor(N.m()/w.m())),S=Math.ceil(Math.log(C)/Math.LN2),S=S<=48?1:Math.pow(2,S-48),k=v(C),R=k.j(w);re(R)||R.l(N)>0;)C-=S,k=v(C),R=k.j(w);J(k)&&(k=M),D=D.add(k),N=ye(N,R)}return new _e(D,N)}s.B=function(N){return Ye(this,N).h},s.and=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let S=0;S<w;S++)C[S]=this.i(S)&N.i(S);return new d(C,this.h&N.h)},s.or=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let S=0;S<w;S++)C[S]=this.i(S)|N.i(S);return new d(C,this.h|N.h)},s.xor=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let S=0;S<w;S++)C[S]=this.i(S)^N.i(S);return new d(C,this.h^N.h)};function Ve(N){const w=N.g.length+1,C=[];for(let S=0;S<w;S++)C[S]=N.i(S)<<1|N.i(S-1)>>>31;return new d(C,N.h)}function Pe(N,w){const C=w>>5;w%=32;const S=N.g.length-C,D=[];for(let k=0;k<S;k++)D[k]=w>0?N.i(k+C)>>>w|N.i(k+C+1)<<32-w:N.i(k+C);return new d(D,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,S1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=x,dr=d}).apply(typeof w_<"u"?w_:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var A1,Oo,w1,Kc,dm,R1,C1,I1;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var m=0;m<u.length;++m){var b=u[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var b=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in b))break e;b=b[L]}u=u[u.length-1],T=b[u],m=m(T),m!=T&&m!=null&&e(b,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var b=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&b.push([T,m[T]]);return b}});var c=c||{},d=this||self;function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function p(u,m,b){return u.call.apply(u.bind,arguments)}function v(u,m,b){return v=p,v.apply(null,arguments)}function x(u,m){var b=Array.prototype.slice.call(arguments,1);return function(){var T=b.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function b(){}b.prototype=m.prototype,u.Z=m.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var te=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)te[Ie-2]=arguments[Ie];return m.prototype[L].apply(T,te)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const b=Array(m);for(let T=0;T<m;T++)b[T]=u[T];return b}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var b=typeof L;if(b=b!="object"?b:L?Array.isArray(L)?"array":b:"null",b=="array"||b=="object"&&typeof L.length=="number"){b=u.length||0;const B=L.length||0;u.length=b+B;for(let te=0;te<B;te++)u[b+te]=L[te]}else u.push(L)}}class re{constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ne(u){d.setTimeout(()=>{throw u},0)}function ye(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class xe{constructor(){this.h=this.g=null}add(m,b){const T=_e.get();T.set(m,b),this.h?this.h.next=T:this.g=T,this.h=T}}var _e=new re(()=>new Ye,u=>u.reset());class Ye{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let Ve,Pe=!1,N=new xe,w=()=>{const u=Promise.resolve(void 0);Ve=()=>{u.then(C)}};function C(){for(var u;u=ye();){try{u.h.call(u.g)}catch(b){ne(b)}var m=_e;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Pe=!1}function S(){this.u=this.u,this.C=this.C}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};d.addEventListener("test",b,m),d.removeEventListener("test",b,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function We(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(We,D),We.prototype.init=function(u,m){const b=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(b=="mouseover"?m=u.fromElement:b=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&We.Z.h.call(this)},We.prototype.h=function(){We.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Et="closure_listenable_"+(Math.random()*1e6|0),q=0;function ee(u,m,b,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=b,this.capture=!!T,this.ha=L,this.key=++q,this.da=this.fa=!1}function pe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ke(u,m,b){for(const T in u)m.call(b,u[T],T,u)}function Oe(u,m){for(const b in u)m.call(void 0,u[b],b,u)}function V(u){const m={};for(const b in u)m[b]=u[b];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(u,m){let b,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(b in T)u[b]=T[b];for(let B=0;B<Q.length;B++)b=Q[B],Object.prototype.hasOwnProperty.call(T,b)&&(u[b]=T[b])}}function le(u){this.src=u,this.g={},this.h=0}le.prototype.add=function(u,m,b,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const te=Ae(u,m,T,L);return te>-1?(m=u[te],b||(m.fa=!1)):(m=new ee(m,this.src,B,!!T,L),m.fa=b,u.push(m)),m};function Ee(u,m){const b=m.type;if(b in u.g){var T=u.g[b],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(pe(m),u.g[b].length==0&&(delete u.g[b],u.h--))}}function Ae(u,m,b,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!b&&B.ha==T)return L}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),Tt={};function ht(u,m,b,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ht(u,m[B],b,T,L);return null}return b=gi(b),u&&u[Et]?u.J(m,b,_(T)?!!T.capture:!1,L):Ki(u,m,b,!1,T,L)}function Ki(u,m,b,T,L,B){if(!m)throw Error("Invalid event type");const te=_(L)?!!L.capture:!!L;let Ie=zt(u);if(Ie||(u[Me]=Ie=new le(u)),b=Ie.add(m,b,T,te,B),b.proxy)return b;if(T=Qi(),b.proxy=T,T.src=u,T.listener=b,u.addEventListener)k||(L=te),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Ln(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Qi(){function u(b){return m.call(u.src,u.listener,b)}const m=Sr;return u}function Ss(u,m,b,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Ss(u,m[B],b,T,L);else T=_(T)?!!T.capture:!!T,b=gi(b),u&&u[Et]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],b=Ae(m,b,T,L),b>-1&&(pe(m[b]),Array.prototype.splice.call(m,b,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=zt(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ae(m,b,T,L)),(b=u>-1?m[u]:null)&&As(b))}function As(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Et])Ee(m.i,u);else{var b=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(b,T,u.capture):m.detachEvent?m.detachEvent(Ln(b),T):m.addListener&&m.removeListener&&m.removeListener(T),(b=zt(m))?(Ee(b,u),b.h==0&&(b.src=null,m[Me]=null)):pe(u)}}}function Ln(u){return u in Tt?Tt[u]:Tt[u]="on"+u}function Sr(u,m){if(u.da)u=!0;else{m=new We(m,this);const b=u.listener,T=u.ha||u.src;u.fa&&As(u),u=b.call(T,m)}return u}function zt(u){return u=u[Me],u instanceof le?u:null}var Ct="__closure_events_fn_"+(Math.random()*1e9>>>0);function gi(u){return typeof u=="function"?u:(u[Ct]||(u[Ct]=function(m){return u.handleEvent(m)}),u[Ct])}function W(){S.call(this),this.i=new le(this),this.M=this,this.G=null}A(W,S),W.prototype[Et]=!0,W.prototype.removeEventListener=function(u,m,b,T){Ss(this,u,m,b,T)};function ie(u,m){var b,T=u.G;if(T)for(b=[];T;T=T.G)b.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(T,u),ae(m,L)}L=!0;let B,te;if(b)for(te=b.length-1;te>=0;te--)B=m.g=b[te],L=he(B,T,!0,m)&&L;if(B=m.g=u,L=he(B,T,!0,m)&&L,L=he(B,T,!1,m)&&L,b)for(te=0;te<b.length;te++)B=m.g=b[te],L=he(B,T,!1,m)&&L}W.prototype.N=function(){if(W.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const b=u.g[m];for(let T=0;T<b.length;T++)pe(b[T]);delete u.g[m],u.h--}}this.G=null},W.prototype.J=function(u,m,b,T){return this.i.add(String(u),m,!1,b,T)},W.prototype.K=function(u,m,b,T){return this.i.add(String(u),m,!0,b,T)};function he(u,m,b,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const te=m[B];if(te&&!te.da&&te.capture==b){const Ie=te.listener,St=te.ha||te.src;te.fa&&Ee(u.i,te),L=Ie.call(St,T)!==!1&&L}}return L&&!T.defaultPrevented}function me(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Y(u){u.g=me(()=>{u.g=null,u.i&&(u.i=!1,Y(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ue extends S{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Y(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function se(u){S.call(this),this.h=u,this.g={}}A(se,S);var Ke=[];function un(u){ke(u.g,function(m,b){this.g.hasOwnProperty(b)&&As(m)},u),u.g={}}se.prototype.N=function(){se.Z.N.call(this),un(this)},se.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cn=d.JSON.stringify,et=d.JSON.parse,wn=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ha(){}function Ar(){}var ei={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qt(){D.call(this,"d")}A(Qt,D);function Pn(){D.call(this,"c")}A(Pn,D);var xt={},fu=null;function fa(){return fu=fu||new W}xt.Ia="serverreachability";function du(u){D.call(this,xt.Ia,u)}A(du,D);function yi(u){const m=fa();ie(m,new du(m))}xt.STAT_EVENT="statevent";function wr(u,m){D.call(this,xt.STAT_EVENT,u),this.stat=m}A(wr,D);function It(u){const m=fa();ie(m,new wr(m,u))}xt.Ja="timingevent";function _i(u,m){D.call(this,xt.Ja,u),this.size=m}A(_i,D);function vi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ti(){this.g=!0}ti.prototype.ua=function(){this.g=!1};function Bh(u,m,b,T,L,B){u.info(function(){if(u.g)if(B){var te="",Ie=B.split("&");for(let $e=0;$e<Ie.length;$e++){var St=Ie[$e].split("=");if(St.length>1){const pt=St[0];St=St[1];const Hn=pt.split("_");te=Hn.length>=2&&Hn[1]=="type"?te+(pt+"="+St+"&"):te+(pt+"=redacted&")}}}else te=null;else te=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+b+`
`+te})}function mu(u,m,b,T,L,B,te){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+b+`
`+B+" "+te})}function bi(u,m,b,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Hh(u,b)+(T?" "+T:"")})}function Rr(u,m){u.info(function(){return"TIMEOUT: "+m})}ti.prototype.info=function(){};function Hh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var b=B[u];if(!(b.length<2)){var T=b[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let te=1;te<T.length;te++)T[te]=""}}}}return cn(B)}catch{return m}}var Cr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Rl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Cl;function Ir(){}A(Ir,ha),Ir.prototype.g=function(){return new XMLHttpRequest},Cl=new Ir;function Xi(u){return encodeURIComponent(String(u))}function pu(u){var m=1;u=u.split(":");const b=[];for(;m>0&&u.length;)b.push(u.shift()),m--;return u.length&&b.push(u.join(":")),b}function ni(u,m,b,T){this.j=u,this.i=m,this.l=b,this.S=T||1,this.V=new se(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ii}function ii(){this.i=null,this.g="",this.h=!1}var Nt={},Gt={};function Ei(u,m,b){u.M=1,u.A=Nr(Ot(m)),u.u=b,u.R=!0,da(u,null)}function da(u,m){u.F=Date.now(),Ti(u),u.B=Ot(u.A);var b=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ya(b.i,"t",T),u.C=0,b=u.j.L,u.h=new ii,u.g=Nu(u.j,b?m:null,!u.u),u.P>0&&(u.O=new ue(v(u.Y,u,u.g),u.P)),m=u.V,b=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Ke[0]=L.toString()),L=Ke);for(let B=0;B<L.length;B++){const te=ht(b,L[B],T||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),yi(),Bh(u.i,u.v,u.B,u.l,u.S,u.u)}ni.prototype.ba=function(u){u=u.target;const m=this.O;m&&ai(u)==3?m.j():this.Y(u)},ni.prototype.Y=function(u){try{if(u==this.g)e:{const Ie=ai(this.g),St=this.g.ya(),$e=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Xt(this.g)))){this.K||Ie!=4||St==7||(St==8||$e<=0?yi(3):yi(2)),xi(this);var m=this.g.ca();this.X=m;var b=qh(this);if(this.o=m==200,mu(this.i,this.v,this.B,this.l,this.S,Ie,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break t}}B=null}if(u=B)bi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,u);else{this.o=!1,this.m=3,It(12),Rn(this),Un(this);break e}}if(this.R){u=!0;let pt;for(;!this.K&&this.C<b.length;)if(pt=yu(this,b),pt==Gt){Ie==4&&(this.m=4,It(14),u=!1),bi(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==Nt){this.m=4,It(15),bi(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else bi(this.i,this.l,pt,null),Si(this,pt);if(gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||b.length!=0||this.h.h||(this.m=1,It(16),u=!1),this.o=this.o&&u,!u)bi(this.i,this.l,b,"[Invalid Chunked Response]"),Rn(this),Un(this);else if(b.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),ql(te),te.P=!0,It(11))}}else bi(this.i,this.l,b,null),Si(this,b);Ie==4&&Rn(this),this.o&&!this.K&&(Ie==4?wu(this.j,this):(this.o=!1,Ti(this)))}else Ji(this.g),m==400&&b.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),Rn(this),Un(this)}}}catch{}};function qh(u){if(!gu(u))return u.g.la();const m=Xt(u.g);if(m==="")return"";let b="";const T=m.length,L=ai(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Rn(u),Un(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,b+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=b,u.C=0,u.h.g}function gu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function yu(u,m){var b=u.C,T=m.indexOf(`
`,b);return T==-1?Gt:(b=Number(m.substring(b,T)),isNaN(b)?Nt:(T+=1,T+b>m.length?Gt:(m=m.slice(T,T+b),u.C=T+b,m)))}ni.prototype.cancel=function(){this.K=!0,Rn(this)};function Ti(u){u.T=Date.now()+u.H,ma(u,u.H)}function ma(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=vi(v(u.aa,u),m)}function xi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ni.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Rr(this.i,this.B),this.M!=2&&(yi(),It(17)),Rn(this),this.m=2,Un(this)):ma(this,this.T-u)};function Un(u){u.j.I==0||u.K||wu(u.j,u)}function Rn(u){xi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,un(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Si(u,m){try{var b=u.j;if(b.I!=0&&(b.g==u||wi(b.h,u))){if(!u.L&&wi(b.h,u)&&b.I==3){try{var T=b.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)Ta(b),Ms(b);else break e;Lr(b),It(18)}}else b.xa=L[1],0<b.xa-b.K&&L[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=vi(v(b.Va,b),6e3));Ai(b.h)<=1&&b.ta&&(b.ta=void 0)}else Oi(b,11)}else if((u.L||b.g==u)&&Ta(b),!R(m))for(L=b.Ba.g.parse(m),m=0;m<L.length;m++){let $e=L[m];const pt=$e[0];if(!(pt<=b.K))if(b.K=pt,$e=$e[1],b.I==2)if($e[0]=="c"){b.M=$e[1],b.ba=$e[2];const Hn=$e[3];Hn!=null&&(b.ka=Hn,b.j.info("VER="+b.ka));const Mi=$e[4];Mi!=null&&(b.za=Mi,b.j.info("SVER="+b.za));const li=$e[5];li!=null&&typeof li=="number"&&li>0&&(T=1.5*li,b.O=T,b.j.info("backChannelRequestTimeoutMs_="+T)),T=b;const oi=u.g;if(oi){const Pr=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pr){var B=T.h;B.g||Pr.indexOf("spdy")==-1&&Pr.indexOf("quic")==-1&&Pr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Dl(B,B.h),B.h=null))}if(T.G){const xa=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;xa&&(T.wa=xa,tt(T.J,T.G,xa))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),T=b;var te=u;if(T.na=Iu(T,T.L?T.ba:null,T.W),te.L){Ol(T.h,te);var Ie=te,St=T.O;St&&(Ie.H=St),Ie.D&&(xi(Ie),Ti(Ie)),T.g=te}else Su(T);b.i.length>0&&Di(b)}else $e[0]!="stop"&&$e[0]!="close"||Oi(b,7);else b.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Oi(b,7):Bl(b):$e[0]!="noop"&&b.l&&b.l.qa($e),b.A=0)}}yi(4)}catch{}}var Dt=class{constructor(u,m){this.g=u,this.map=m}};function Il(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Nl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ai(u){return u.h?1:u.g?u.g.size:0}function wi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Dl(u,m){u.g?u.g.add(m):u.h=m}function Ol(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Il.prototype.cancel=function(){if(this.i=Ml(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ml(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const b of u.g.values())m=m.concat(b.G);return m}return F(u.i)}var _u=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pa(u,m){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const T=u[b].indexOf("=");let L,B=null;T>=0?(L=u[b].substring(0,T),B=u[b].substring(T+1)):L=u[b],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Cn?(this.l=u.l,Ft(this,u.j),this.o=u.o,this.g=u.g,ws(this,u.u),this.h=u.h,Vl(this,Tu(u.i)),this.m=u.m):u&&(m=String(u).match(_u))?(this.l=!1,Ft(this,m[1]||"",!0),this.o=Ri(m[2]||""),this.g=Ri(m[3]||"",!0),ws(this,m[4]),this.h=Ri(m[5]||"",!0),Vl(this,m[6]||"",!0),this.m=Ri(m[7]||"")):(this.l=!1,this.i=new Cs(null,this.l))}Cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Dr(m,ga,!0),":");var b=this.g;return(b||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Dr(m,ga,!0),"@"),u.push(Xi(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Dr(b,b.charAt(0)=="/"?kl:vu,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Dr(b,bu)),u.join("")},Cn.prototype.resolve=function(u){const m=Ot(this);let b=!!u.j;b?Ft(m,u.j):b=!!u.o,b?m.o=u.o:b=!!u.g,b?m.g=u.g:b=u.u!=null;var T=u.h;if(b)ws(m,u.u);else if(b=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let te=0;te<L.length;){const Ie=L[te++];Ie=="."?T&&te==L.length&&B.push(""):Ie==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&te==L.length&&B.push("")):(B.push(Ie),T=!0)}T=B.join("/")}else T=L}return b?m.h=T:b=u.i.toString()!=="",b?Vl(m,Tu(u.i)):b=!!u.m,b&&(m.m=u.m),m};function Ot(u){return new Cn(u)}function Ft(u,m,b){u.j=b?Ri(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ws(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Vl(u,m,b){m instanceof Cs?(u.i=m,_a(u.i,u.l)):(b||(m=Dr(m,Rs)),u.i=new Cs(m,u.l))}function tt(u,m,b){u.i.set(m,b)}function Nr(u){return tt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ri(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Dr(u,m,b){return typeof u=="string"?(u=encodeURI(u).replace(m,gn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function gn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ga=/[#\/\?@]/g,vu=/[#\?:]/g,kl=/[#\?]/g,Rs=/[#\?@]/g,bu=/#/g;function Cs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&pa(u.i,function(m,b){u.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}s=Cs.prototype,s.add=function(u,m){yn(this),this.i=null,u=Is(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(m),this.h+=1,this};function Eu(u,m){yn(u),m=Is(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function jl(u,m){return yn(u),m=Is(u,m),u.g.has(m)}s.forEach=function(u,m){yn(this),this.g.forEach(function(b,T){b.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Ll(u,m){yn(u);let b=[];if(typeof m=="string")jl(u,m)&&(b=b.concat(u.g.get(Is(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)b=b.concat(u[m]);return b}s.set=function(u,m){return yn(this),this.i=null,u=Is(this,u),jl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Ll(this,u),u.length>0?String(u[0]):m):m};function ya(u,m,b){Eu(u,m),b.length>0&&(u.i=null,u.g.set(Is(u,m),F(b)),u.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var b=m[T];const L=Xi(b);b=Ll(this,b);for(let B=0;B<b.length;B++){let te=L;b[B]!==""&&(te+="="+Xi(b[B])),u.push(te)}}return this.i=u.join("&")};function Tu(u){const m=new Cs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Is(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function _a(u,m){m&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(b,T){const L=T.toLowerCase();T!=L&&(Eu(this,T),ya(this,L,b))},u)),u.j=m}function si(u,m){const b=new ti;if(d.Image){const T=new Image;T.onload=x(zn,b,"TestLoadImage: loaded",!0,m,T),T.onerror=x(zn,b,"TestLoadImage: error",!1,m,T),T.onabort=x(zn,b,"TestLoadImage: abort",!1,m,T),T.ontimeout=x(zn,b,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Pl(u,m){const b=new ti,T=new AbortController,L=setTimeout(()=>{T.abort(),zn(b,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?zn(b,"TestPingServer: ok",!0,m):zn(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),zn(b,"TestPingServer: error",!1,m)})}function zn(u,m,b,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(b)}catch{}}function Ns(){this.g=new wn}function Ci(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Ci,ha),Ci.prototype.g=function(){return new Or(this.i,this.h)};function Or(u,m){W.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Or,W),s=Or.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ri(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ds(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;va(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function va(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ds(this):ri(this),this.readyState==3&&va(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ds(this))},s.Na=function(u){this.g&&(this.response=u,Ds(this))},s.ga=function(){this.g&&Ds(this)};function Ds(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ri(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=m.next();return u.join(`\r
`)};function ri(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Bn(u){let m="";return ke(u,function(b,T){m+=T,m+=":",m+=b,m+=`\r
`}),m}function Mr(u,m,b){e:{for(T in b){var T=!1;break e}T=!0}T||(b=Bn(b),typeof u=="string"?b!=null&&Xi(b):tt(u,m,b))}function rt(u){W.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(rt,W);var Ii=/^https?$/i,Ul=["POST","PUT"];s=rt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,b,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Cl.g(),this.g.onreadystatechange=M(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Vr(this,B);return}if(u=b||"",b=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)b.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())b.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(b.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ul,m,void 0)>=0)||T||L||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,te]of b)this.g.setRequestHeader(B,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Vr(this,B)}};function Vr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,zl(u),$i(u)}function zl(u){u.A||(u.A=!0,ie(u,"complete"),ie(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ie(this,"complete"),ie(this,"abort"),$i(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),rt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?kr(this):this.Xa())},s.Xa=function(){kr(this)};function kr(u){if(u.h&&typeof c<"u"){if(u.v&&ai(u)==4)setTimeout(u.Ca.bind(u),0);else if(ie(u,"readystatechange"),ai(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var b;if(!(b=m)){var T;if(T=B===0){let te=String(u.D).match(_u)[1]||null;!te&&d.self&&d.self.location&&(te=d.self.location.protocol.slice(0,-1)),T=!Ii.test(te?te.toLowerCase():"")}b=T}if(b)ie(u,"complete"),ie(u,"success");else{u.o=6;try{var L=ai(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",zl(u)}}finally{$i(u)}}}}function $i(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,m||ie(u,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ai(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ai(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),et(m)}};function Xt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ji(u){const m={};u=(u.g&&ai(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var b=pu(u[T]);const L=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const B=m[L]||[];m[L]=B,B.push(b)}Oe(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ni(u,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||m}function Os(u){this.za=0,this.i=[],this.j=new ti,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ni("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ni("baseRetryDelayMs",5e3,u),this.Za=Ni("retryDelaySeedMs",1e4,u),this.Ta=Ni("forwardChannelMaxRetries",2,u),this.va=Ni("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Il(u&&u.concurrentRequestLimit),this.Ba=new Ns,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Os.prototype,s.ka=8,s.I=1,s.connect=function(u,m,b,T){It(0),this.W=u,this.H=m||{},b&&T!==void 0&&(this.H.OSID=b,this.H.OAID=T),this.F=this.X,this.J=Iu(this,null,this.W),Di(this)};function Bl(u){if(ba(u),u.I==3){var m=u.V++,b=Ot(u.J);if(tt(b,"SID",u.M),tt(b,"RID",m),tt(b,"TYPE","terminate"),jr(u,b),m=new ni(u,u.j,m),m.M=2,m.A=Nr(Ot(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=m.A,b=!0),b||(m.g=Nu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ti(m)}Cu(u)}function Ms(u){u.g&&(ql(u),u.g.cancel(),u.g=null)}function ba(u){Ms(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ta(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Di(u){if(!Nl(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ve||w(),Pe||(Ve(),Pe=!0),N.add(m,u),u.D=0}}function Ea(u,m){return Ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=vi(v(u.Ea,u,m),Ru(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new ni(this,this.j,u);let B=this.o;if(this.U&&(B?(B=V(B),ae(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,b=0;b<this.i.length;b++){t:{var T=this.i[b];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=b;break e}if(m===4096||b===this.i.length-1){m=b+1;break e}}m=1e3}else m=1e3;m=xu(this,L,m),b=Ot(this.J),tt(b,"RID",u),tt(b,"CVER",22),this.G&&tt(b,"X-HTTP-Session-Id",this.G),jr(this,b),B&&(this.R?m="headers="+Xi(Bn(B))+"&"+m:this.u&&Mr(b,this.u,B)),Dl(this.h,L),this.Ra&&tt(b,"TYPE","init"),this.S?(tt(b,"$req",m),tt(b,"SID","null"),L.U=!0,Ei(L,b,null)):Ei(L,b,m),this.I=2}}else this.I==3&&(u?Hl(this,u):this.i.length==0||Nl(this.h)||Hl(this))};function Hl(u,m){var b;m?b=m.l:b=u.V++;const T=Ot(u.J);tt(T,"SID",u.M),tt(T,"RID",b),tt(T,"AID",u.K),jr(u,T),u.u&&u.o&&Mr(T,u.u,u.o),b=new ni(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),m&&(u.i=m.G.concat(u.i)),m=xu(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Dl(u.h,b),Ei(b,T,m)}function jr(u,m){u.H&&ke(u.H,function(b,T){tt(m,T,b)}),u.l&&ke({},function(b,T){tt(m,T,b)})}function xu(u,m,b){b=Math.min(u.i.length,b);const T=u.l?v(u.l.Ka,u.l,u):null;e:{var L=u.i;let Ie=-1;for(;;){const St=["count="+b];Ie==-1?b>0?(Ie=L[0].g,St.push("ofs="+Ie)):Ie=0:St.push("ofs="+Ie);let $e=!0;for(let pt=0;pt<b;pt++){var B=L[pt].g;const Hn=L[pt].map;if(B-=Ie,B<0)Ie=Math.max(0,L[pt].g-100),$e=!1;else try{B="req"+B+"_"||"";try{var te=Hn instanceof Map?Hn:Object.entries(Hn);for(const[Mi,li]of te){let oi=li;_(li)&&(oi=cn(li)),St.push(B+Mi+"="+encodeURIComponent(oi))}}catch(Mi){throw St.push(B+"type="+encodeURIComponent("_badmap")),Mi}}catch{T&&T(Hn)}}if($e){te=St.join("&");break e}}te=void 0}return u=u.i.splice(0,b),m.G=u,te}function Su(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ve||w(),Pe||(Ve(),Pe=!0),N.add(m,u),u.A=0}}function Lr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=vi(v(u.Da,u),Ru(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Au(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=vi(v(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),Ms(this),Au(this))};function ql(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Au(u){u.g=new ni(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ot(u.na);tt(m,"RID","rpc"),tt(m,"SID",u.M),tt(m,"AID",u.K),tt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&tt(m,"TO",u.ia),tt(m,"TYPE","xmlhttp"),jr(u,m),u.u&&u.o&&Mr(m,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=Nr(Ot(m)),b.u=null,b.R=!0,da(b,u)}s.Va=function(){this.C!=null&&(this.C=null,Ms(this),Lr(this),It(19))};function Ta(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function wu(u,m){var b=null;if(u.g==m){Ta(u),ql(u),u.g=null;var T=2}else if(wi(u.h,m))b=m.G,Ol(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){b=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=fa(),ie(T,new _i(T,b)),Di(u)}else Su(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&Ea(u,m)||T==2&&Lr(u)))switch(b&&b.length>0&&(m=u.h,m.i=m.i.concat(b)),L){case 1:Oi(u,5);break;case 4:Oi(u,10);break;case 3:Oi(u,6);break;default:Oi(u,2)}}}function Ru(u,m){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*m}function Oi(u,m){if(u.j.info("Error code "+m),m==2){var b=v(u.bb,u),T=u.Ua;const L=!T;T=new Cn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ft(T,"https"),Nr(T),L?si(T.toString(),b):Pl(T.toString(),b)}else It(2);u.I=0,u.l&&u.l.pa(m),Cu(u),ba(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Cu(u){if(u.I=0,u.ja=[],u.l){const m=Ml(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function Iu(u,m,b){var T=b instanceof Cn?Ot(b):new Cn(b);if(T.g!="")m&&(T.g=m+"."+T.g),ws(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new Cn(null);T&&Ft(B,T),m&&(B.g=m),L&&ws(B,L),b&&(B.h=b),T=B}return b=u.G,m=u.wa,b&&m&&tt(T,b,m),tt(T,"VER",u.ka),jr(u,T),T}function Nu(u,m,b){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new rt(new Ci({ab:b})):new rt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}s=Du.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Vs(){}Vs.prototype.g=function(u,m){return new hn(u,m)};function hn(u,m){W.call(this),this.g=new Os(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Zi(this)}A(hn,W),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Bl(this.g)},hn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=cn(u),u=b);m.i.push(new Dt(m.Ya++,u)),m.I==3&&Di(m)},hn.prototype.N=function(){this.g.l=null,delete this.j,Bl(this.g),delete this.g,hn.Z.N.call(this)};function Ou(u){Qt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const b in m){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Ou,Qt);function Mu(){Pn.call(this),this.status=1}A(Mu,Pn);function Zi(u){this.g=u}A(Zi,Du),Zi.prototype.ra=function(){ie(this.g,"a")},Zi.prototype.qa=function(u){ie(this.g,new Ou(u))},Zi.prototype.pa=function(u){ie(this.g,new Mu)},Zi.prototype.oa=function(){ie(this.g,"b")},Vs.prototype.createWebChannel=Vs.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,I1=function(){return new Vs},C1=function(){return fa()},R1=xt,dm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Cr.NO_ERROR=0,Cr.TIMEOUT=8,Cr.HTTP_ERROR=6,Kc=Cr,Rl.COMPLETE="complete",w1=Rl,Ar.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",W.prototype.listen=W.prototype.J,Oo=Ar,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,A1=rt}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});let an=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let xl="12.8.0";function PA(s){xl=s}const aa=new Mm("@firebase/firestore");function el(){return aa.logLevel}function oe(s,...e){if(aa.logLevel<=Be.DEBUG){const i=e.map(Gm);aa.debug(`Firestore (${xl}): ${s}`,...i)}}function Es(s,...e){if(aa.logLevel<=Be.ERROR){const i=e.map(Gm);aa.error(`Firestore (${xl}): ${s}`,...i)}}function dl(s,...e){if(aa.logLevel<=Be.WARN){const i=e.map(Gm);aa.warn(`Firestore (${xl}): ${s}`,...i)}}function Gm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Te(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,N1(s,a,i)}function N1(s,e,i){let a=`FIRESTORE (${xl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Es(a),new Error(a)}function Ze(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||N1(e,o,a)}function Ce(s,e){return s}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends xs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class D1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(an.UNAUTHENTICATED)))}shutdown(){}}class zA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class BA{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ze(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,i(p)):Promise.resolve();let c=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new mr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},_=p=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>_(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?_(p):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new mr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ze(typeof a.accessToken=="string",31837,{l:a}),new D1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class HA{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=an.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class qA{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new HA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class R_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ze(this.o===void 0,3512);const a=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new R_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ze(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new R_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function FA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Fm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=FA(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function He(s,e){return s<e?-1:s>e?1:0}function mm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return Jd(o)===Jd(c)?He(o,c):Jd(o)?1:-1}return He(s.length,e.length)}const YA=55296,KA=57343;function Jd(s){const e=s.charCodeAt(0);return e>=YA&&e<=KA}function ml(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const C_="__name__";class Ui{constructor(e,i,a){i===void 0?i=0:i>e.length&&Te(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Te(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Ui.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ui?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=Ui.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return He(e.length,i.length)}static compareSegments(e,i){const a=Ui.isNumericId(e),o=Ui.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Ui.extractNumericId(e).compare(Ui.extractNumericId(i)):mm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return dr.fromString(e.substring(4,e.length-2))}}class yt extends Ui{construct(e,i,a){return new yt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new de(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new yt(i)}static emptyPath(){return new yt([])}}const QA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Ui{construct(e,i,a){return new tn(e,i,a)}static isValidIdentifier(e){return QA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===C_}static keyField(){return new tn([C_])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new de(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const _=e[o];if(_==="\\"){if(o+1===e.length)throw new de(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else _==="`"?(d=!d,o++):_!=="."||d?(a+=_,o++):(c(),o++)}if(c(),d)throw new de(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(i)}static emptyPath(){return new tn([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(yt.fromString(e))}static fromName(e){return new ve(yt.fromString(e).popFirst(5))}static empty(){return new ve(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return yt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new yt(e.slice()))}}function XA(s,e,i){if(!i)throw new de(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function $A(s,e,i,a){if(e===!0&&a===!0)throw new de(Z.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function I_(s){if(!ve.isDocumentKey(s))throw new de(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function O1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Ym(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Te(12329,{type:typeof s})}function di(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new de(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ym(s);throw new de(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Pt(s,e){const i={typeString:s};return e&&(i.value=e),i}function au(s,e){if(!O1(s))throw new de(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new de(Z.INVALID_ARGUMENT,i);return!0}const N_=-62135596800,D_=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*D_);return new mt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new de(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new de(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<N_)throw new de(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/D_}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(au(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-N_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:Pt("string",mt._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new mt(0,0))}static max(){return new we(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Fo=-1;function JA(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=we.fromTimestamp(a===1e9?new mt(i+1,0):new mt(i,a));return new gr(o,ve.empty(),e)}function ZA(s){return new gr(s.readTime,s.key,Fo)}class gr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new gr(we.min(),ve.empty(),Fo)}static max(){return new gr(we.max(),ve.empty(),Fo)}}function WA(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ve.comparator(s.documentKey,e.documentKey),i!==0?i:He(s.largestBatchId,e.largestBatchId))}const ew="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Sl(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==ew)throw s;oe("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,a)=>{i(e)}))}static reject(e){return new $(((i,a)=>{a(e)}))}static waitFor(e){return new $(((i,a)=>{let o=0,c=0,d=!1;e.forEach((_=>{++o,_.next((()=>{++c,d&&c===o&&i()}),(p=>a(p)))})),d=!0,c===o&&i()}))}static or(e){let i=$.resolve(!1);for(const a of e)i=i.next((o=>o?$.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new $(((a,o)=>{const c=e.length,d=new Array(c);let _=0;for(let p=0;p<c;p++){const v=p;i(e[v]).next((x=>{d[v]=x,++_,_===c&&a(d)}),(x=>o(x)))}}))}static doWhile(e,i){return new $(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function nw(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Al(s){return s.name==="IndexedDbTransactionError"}class xh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}xh.ce=-1;const Km=-1;function Sh(s){return s==null}function oh(s){return s===0&&1/s==-1/0}function iw(s){return typeof s=="number"&&Number.isInteger(s)&&!oh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const M1="";function sw(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=O_(e)),e=rw(s.get(i),e);return O_(e)}function rw(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case M1:i+="";break;default:i+=c}}return i}function O_(s){return s+M1+""}function M_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Tr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function V1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class _t{constructor(e,i){this.comparator=e,this.root=i||en.EMPTY}insert(e,i){return new _t(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uc(this.root,e,this.comparator,!0)}}class Uc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??en.RED,this.left=o??en.EMPTY,this.right=c??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new en(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return en.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new en(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new V_(this.data.getIterator())}getIteratorFrom(e){return new V_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new qt(this.comparator);return i.data=e,i}}class V_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class jn{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new jn([])}unionWith(e){let i=new qt(tn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new jn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ml(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class k1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new k1("Invalid base64 string: "+c):c}})(e);return new nn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new nn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const aw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yr(s){if(Ze(!!s,39018),typeof s=="string"){let e=0;const i=aw.exec(s);if(Ze(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Rt(s.seconds),nanos:Rt(s.nanos)}}function Rt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function _r(s){return typeof s=="string"?nn.fromBase64String(s):nn.fromUint8Array(s)}const j1="server_timestamp",L1="__type__",P1="__previous_value__",U1="__local_write_time__";function Qm(s){return(s?.mapValue?.fields||{})[L1]?.stringValue===j1}function Ah(s){const e=s.mapValue.fields[P1];return Qm(e)?Ah(e):e}function Yo(s){const e=yr(s.mapValue.fields[U1].timestampValue);return new mt(e.seconds,e.nanos)}class lw{constructor(e,i,a,o,c,d,_,p,v,x,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=_,this.longPollingOptions=p,this.useFetchStreams=v,this.isUsingEmulator=x,this.apiKey=A}}const uh="(default)";class Ko{constructor(e,i){this.projectId=e,this.database=i||uh}static empty(){return new Ko("","")}get isDefaultDatabase(){return this.database===uh}isEqual(e){return e instanceof Ko&&e.projectId===this.projectId&&e.database===this.database}}function ow(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new de(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ko(s.options.projectId,e)}const z1="__type__",uw="__max__",zc={mapValue:{}},B1="__vector__",ch="value";function vr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Qm(s)?4:hw(s)?9007199254740991:cw(s)?10:11:Te(28295,{value:s})}function Fi(s,e){if(s===e)return!0;const i=vr(s);if(i!==vr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Yo(s).isEqual(Yo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=yr(o.timestampValue),_=yr(c.timestampValue);return d.seconds===_.seconds&&d.nanos===_.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return _r(o.bytesValue).isEqual(_r(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return Rt(o.geoPointValue.latitude)===Rt(c.geoPointValue.latitude)&&Rt(o.geoPointValue.longitude)===Rt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Rt(o.integerValue)===Rt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Rt(o.doubleValue),_=Rt(c.doubleValue);return d===_?oh(d)===oh(_):isNaN(d)&&isNaN(_)}return!1})(s,e);case 9:return ml(s.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},_=c.mapValue.fields||{};if(M_(d)!==M_(_))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(_[p]===void 0||!Fi(d[p],_[p])))return!1;return!0})(s,e);default:return Te(52216,{left:s})}}function Qo(s,e){return(s.values||[]).find((i=>Fi(i,e)))!==void 0}function pl(s,e){if(s===e)return 0;const i=vr(s),a=vr(e);if(i!==a)return He(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return He(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const _=Rt(c.integerValue||c.doubleValue),p=Rt(d.integerValue||d.doubleValue);return _<p?-1:_>p?1:_===p?0:isNaN(_)?isNaN(p)?0:-1:1})(s,e);case 3:return k_(s.timestampValue,e.timestampValue);case 4:return k_(Yo(s),Yo(e));case 5:return mm(s.stringValue,e.stringValue);case 6:return(function(c,d){const _=_r(c),p=_r(d);return _.compareTo(p)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const _=c.split("/"),p=d.split("/");for(let v=0;v<_.length&&v<p.length;v++){const x=He(_[v],p[v]);if(x!==0)return x}return He(_.length,p.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const _=He(Rt(c.latitude),Rt(d.latitude));return _!==0?_:He(Rt(c.longitude),Rt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return j_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const _=c.fields||{},p=d.fields||{},v=_[ch]?.arrayValue,x=p[ch]?.arrayValue,A=He(v?.values?.length||0,x?.values?.length||0);return A!==0?A:j_(v,x)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===zc.mapValue&&d===zc.mapValue)return 0;if(c===zc.mapValue)return 1;if(d===zc.mapValue)return-1;const _=c.fields||{},p=Object.keys(_),v=d.fields||{},x=Object.keys(v);p.sort(),x.sort();for(let A=0;A<p.length&&A<x.length;++A){const M=mm(p[A],x[A]);if(M!==0)return M;const F=pl(_[p[A]],v[x[A]]);if(F!==0)return F}return He(p.length,x.length)})(s.mapValue,e.mapValue);default:throw Te(23264,{he:i})}}function k_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return He(s,e);const i=yr(s),a=yr(e),o=He(i.seconds,a.seconds);return o!==0?o:He(i.nanos,a.nanos)}function j_(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=pl(i[o],a[o]);if(c)return c}return He(i.length,a.length)}function gl(s){return pm(s)}function pm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=yr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return _r(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ve.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=pm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${pm(i.fields[d])}`;return o+"}"})(s.mapValue):Te(61005,{value:s})}function Qc(s){switch(vr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ah(s);return e?16+Qc(e):16;case 5:return 2*s.stringValue.length;case 6:return _r(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Qc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return Tr(a.fields,((c,d)=>{o+=c.length+Qc(d)})),o})(s.mapValue);default:throw Te(13486,{value:s})}}function gm(s){return!!s&&"integerValue"in s}function Xm(s){return!!s&&"arrayValue"in s}function L_(s){return!!s&&"nullValue"in s}function P_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Xc(s){return!!s&&"mapValue"in s}function cw(s){return(s?.mapValue?.fields||{})[z1]?.stringValue===B1}function Uo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Tr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Uo(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Uo(s.arrayValue.values[i]);return e}return{...s}}function hw(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===uw}class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Xc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uo(i)}setAll(e){let i=tn.emptyPath(),a={},o=[];e.forEach(((d,_)=>{if(!i.isImmediateParentOf(_)){const p=this.getFieldsMap(i);this.applyChanges(p,a,o),a={},o=[],i=_.popLast()}d?a[_.lastSegment()]=Uo(d):o.push(_.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Xc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Xc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Tr(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new An(Uo(this.value))}}function H1(s){const e=[];return Tr(s.fields,((i,a)=>{const o=new tn([i]);if(Xc(a)){const c=H1(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new jn(e)}class ln{constructor(e,i,a,o,c,d,_){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=_}static newInvalidDocument(e){return new ln(e,0,we.min(),we.min(),we.min(),An.empty(),0)}static newFoundDocument(e,i,a,o){return new ln(e,1,i,we.min(),a,o,0)}static newNoDocument(e,i){return new ln(e,2,i,we.min(),we.min(),An.empty(),0)}static newUnknownDocument(e,i){return new ln(e,3,i,we.min(),we.min(),An.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hh{constructor(e,i){this.position=e,this.inclusive=i}}function U_(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=ve.comparator(ve.fromName(d.referenceValue),i.key):a=pl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function z_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Fi(s.position[i],e.position[i]))return!1;return!0}class fh{constructor(e,i="asc"){this.field=e,this.dir=i}}function fw(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class q1{}class Ht extends q1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new mw(e,i,a):i==="array-contains"?new yw(e,a):i==="in"?new _w(e,a):i==="not-in"?new vw(e,a):i==="array-contains-any"?new bw(e,a):new Ht(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new pw(e,a):new gw(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(pl(i,this.value)):i!==null&&vr(this.value)===vr(i)&&this.matchesComparison(pl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yi extends q1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Yi(e,i)}matches(e){return G1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function G1(s){return s.op==="and"}function F1(s){return dw(s)&&G1(s)}function dw(s){for(const e of s.filters)if(e instanceof Yi)return!1;return!0}function ym(s){if(s instanceof Ht)return s.field.canonicalString()+s.op.toString()+gl(s.value);if(F1(s))return s.filters.map((e=>ym(e))).join(",");{const e=s.filters.map((i=>ym(i))).join(",");return`${s.op}(${e})`}}function Y1(s,e){return s instanceof Ht?(function(a,o){return o instanceof Ht&&a.op===o.op&&a.field.isEqual(o.field)&&Fi(a.value,o.value)})(s,e):s instanceof Yi?(function(a,o){return o instanceof Yi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,_)=>c&&Y1(d,o.filters[_])),!0):!1})(s,e):void Te(19439)}function K1(s){return s instanceof Ht?(function(i){return`${i.field.canonicalString()} ${i.op} ${gl(i.value)}`})(s):s instanceof Yi?(function(i){return i.op.toString()+" {"+i.getFilters().map(K1).join(" ,")+"}"})(s):"Filter"}class mw extends Ht{constructor(e,i,a){super(e,i,a),this.key=ve.fromName(a.referenceValue)}matches(e){const i=ve.comparator(e.key,this.key);return this.matchesComparison(i)}}class pw extends Ht{constructor(e,i){super(e,"in",i),this.keys=Q1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class gw extends Ht{constructor(e,i){super(e,"not-in",i),this.keys=Q1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Q1(s,e){return(e.arrayValue?.values||[]).map((i=>ve.fromName(i.referenceValue)))}class yw extends Ht{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Xm(i)&&Qo(i.arrayValue,this.value)}}class _w extends Ht{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Qo(this.value.arrayValue,i)}}class vw extends Ht{constructor(e,i){super(e,"not-in",i)}matches(e){if(Qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Qo(this.value.arrayValue,i)}}class bw extends Ht{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Xm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Qo(this.value.arrayValue,a)))}}class Ew{constructor(e,i=null,a=[],o=[],c=null,d=null,_=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=_,this.Te=null}}function B_(s,e=null,i=[],a=[],o=null,c=null,d=null){return new Ew(s,e,i,a,o,c,d)}function $m(s){const e=Ce(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>ym(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Sh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>gl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>gl(a))).join(",")),e.Te=i}return e.Te}function Jm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!fw(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Y1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!z_(s.startAt,e.startAt)&&z_(s.endAt,e.endAt)}function _m(s){return ve.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class wh{constructor(e,i=null,a=[],o=[],c=null,d="F",_=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=_,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Tw(s,e,i,a,o,c,d,_){return new wh(s,e,i,a,o,c,d,_)}function Rh(s){return new wh(s)}function H_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function xw(s){return ve.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function Sw(s){return s.collectionGroup!==null}function zo(s){const e=Ce(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let _=new qt(tn.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((v=>{v.isInequality()&&(_=_.add(v.field))}))})),_})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new fh(c,a))})),i.has(tn.keyField().canonicalString())||e.Ie.push(new fh(tn.keyField(),a))}return e.Ie}function Hi(s){const e=Ce(s);return e.Ee||(e.Ee=Aw(e,zo(s))),e.Ee}function Aw(s,e){if(s.limitType==="F")return B_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new fh(o.field,c)}));const i=s.endAt?new hh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new hh(s.startAt.position,s.startAt.inclusive):null;return B_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function vm(s,e,i){return new wh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Ch(s,e){return Jm(Hi(s),Hi(e))&&s.limitType===e.limitType}function X1(s){return`${$m(Hi(s))}|lt:${s.limitType}`}function tl(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>K1(o))).join(", ")}]`),Sh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>gl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>gl(o))).join(",")),`Target(${a})`})(Hi(s))}; limitType=${s.limitType})`}function Ih(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ve.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of zo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,_,p){const v=U_(d,_,p);return d.inclusive?v<=0:v<0})(a.startAt,zo(a),o)||a.endAt&&!(function(d,_,p){const v=U_(d,_,p);return d.inclusive?v>=0:v>0})(a.endAt,zo(a),o))})(s,e)}function ww(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function $1(s){return(e,i)=>{let a=!1;for(const o of zo(s)){const c=Rw(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function Rw(s,e,i){const a=s.field.isKeyField()?ve.comparator(e.key,i.key):(function(c,d,_){const p=d.data.field(c),v=_.data.field(c);return p!==null&&v!==null?pl(p,v):Te(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Te(19790,{direction:s.dir})}}class ua{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Tr(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return V1(this.inner)}size(){return this.innerSize}}const Cw=new _t(ve.comparator);function Ts(){return Cw}const J1=new _t(ve.comparator);function Mo(...s){let e=J1;for(const i of s)e=e.insert(i.key,i);return e}function Z1(s){let e=J1;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function ta(){return Bo()}function W1(){return Bo()}function Bo(){return new ua((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Iw=new _t(ve.comparator),Nw=new qt(ve.comparator);function qe(...s){let e=Nw;for(const i of s)e=e.add(i);return e}const Dw=new qt(He);function Ow(){return Dw}function Zm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(e)?"-0":e}}function eb(s){return{integerValue:""+s}}function Mw(s,e){return iw(e)?eb(e):Zm(s,e)}class Nh{constructor(){this._=void 0}}function Vw(s,e,i){return s instanceof dh?(function(o,c){const d={fields:{[L1]:{stringValue:j1},[U1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Qm(c)&&(c=Ah(c)),c&&(d.fields[P1]=c),{mapValue:d}})(i,e):s instanceof yl?nb(s,e):s instanceof Xo?ib(s,e):(function(o,c){const d=tb(o,c),_=q_(d)+q_(o.Ae);return gm(d)&&gm(o.Ae)?eb(_):Zm(o.serializer,_)})(s,e)}function kw(s,e,i){return s instanceof yl?nb(s,e):s instanceof Xo?ib(s,e):i}function tb(s,e){return s instanceof mh?(function(a){return gm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class dh extends Nh{}class yl extends Nh{constructor(e){super(),this.elements=e}}function nb(s,e){const i=sb(e);for(const a of s.elements)i.some((o=>Fi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Xo extends Nh{constructor(e){super(),this.elements=e}}function ib(s,e){let i=sb(e);for(const a of s.elements)i=i.filter((o=>!Fi(o,a)));return{arrayValue:{values:i}}}class mh extends Nh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function q_(s){return Rt(s.integerValue||s.doubleValue)}function sb(s){return Xm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class jw{constructor(e,i){this.field=e,this.transform=i}}function Lw(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof yl&&o instanceof yl||a instanceof Xo&&o instanceof Xo?ml(a.elements,o.elements,Fi):a instanceof mh&&o instanceof mh?Fi(a.Ae,o.Ae):a instanceof dh&&o instanceof dh})(s.transform,e.transform)}class Pw{constructor(e,i){this.version=e,this.transformResults=i}}class mi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new mi}static exists(e){return new mi(void 0,e)}static updateTime(e){return new mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $c(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Dh{}function rb(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Wm(s.key,mi.none()):new lu(s.key,s.data,mi.none());{const i=s.data,a=An.empty();let o=new qt(tn.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new xr(s.key,a,new jn(o.toArray()),mi.none())}}function Uw(s,e,i){s instanceof lu?(function(o,c,d){const _=o.value.clone(),p=F_(o.fieldTransforms,c,d.transformResults);_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):s instanceof xr?(function(o,c,d){if(!$c(o.precondition,c))return void c.convertToUnknownDocument(d.version);const _=F_(o.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(ab(o)),p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Ho(s,e,i,a){return s instanceof lu?(function(c,d,_,p){if(!$c(c.precondition,d))return _;const v=c.value.clone(),x=Y_(c.fieldTransforms,p,d);return v.setAll(x),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(s,e,i,a):s instanceof xr?(function(c,d,_,p){if(!$c(c.precondition,d))return _;const v=Y_(c.fieldTransforms,p,d),x=d.data;return x.setAll(ab(c)),x.setAll(v),d.convertToFoundDocument(d.version,x).setHasLocalMutations(),_===null?null:_.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,e,i,a):(function(c,d,_){return $c(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):_})(s,e,i)}function zw(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=tb(a.transform,o||null);c!=null&&(i===null&&(i=An.empty()),i.set(a.field,c))}return i||null}function G_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&ml(a,o,((c,d)=>Lw(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class lu extends Dh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class xr extends Dh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ab(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function F_(s,e,i){const a=new Map;Ze(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,_=e.data.field(c.field);a.set(c.field,kw(d,_,i[o]))}return a}function Y_(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,Vw(c,d,e))}return a}class Wm extends Dh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Bw extends Dh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Hw{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&Uw(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Ho(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Ho(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=W1();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let _=this.applyToLocalView(d,c.mutatedFields);_=i.has(o.key)?null:_;const p=rb(d,_);p!==null&&a.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(we.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),qe())}isEqual(e){return this.batchId===e.batchId&&ml(this.mutations,e.mutations,((i,a)=>G_(i,a)))&&ml(this.baseMutations,e.baseMutations,((i,a)=>G_(i,a)))}}class ep{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){Ze(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return Iw})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new ep(e,i,a,o)}}class qw{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Gw{constructor(e,i){this.count=e,this.unchangedNames=i}}var Lt,Fe;function Fw(s){switch(s){case Z.OK:return Te(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Te(15467,{code:s})}}function lb(s){if(s===void 0)return Es("GRPC error has no .code"),Z.UNKNOWN;switch(s){case Lt.OK:return Z.OK;case Lt.CANCELLED:return Z.CANCELLED;case Lt.UNKNOWN:return Z.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return Z.INTERNAL;case Lt.UNAVAILABLE:return Z.UNAVAILABLE;case Lt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Lt.NOT_FOUND:return Z.NOT_FOUND;case Lt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Lt.ABORTED:return Z.ABORTED;case Lt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Lt.DATA_LOSS:return Z.DATA_LOSS;default:return Te(39323,{code:s})}}(Fe=Lt||(Lt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function Yw(){return new TextEncoder}const Kw=new dr([4294967295,4294967295],0);function K_(s){const e=Yw().encode(s),i=new S1;return i.update(e),new Uint8Array(i.digest())}function Q_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new dr([i,a],0),new dr([o,c],0)]}class tp{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Vo(`Invalid padding: ${i}`);if(a<0)throw new Vo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Vo(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Vo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=dr.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(dr.fromNumber(a)));return o.compare(Kw)===1&&(o=new dr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=K_(e),[a,o]=Q_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new tp(c,o,i);return a.forEach((_=>d.insert(_))),d}insert(e){if(this.ge===0)return;const i=K_(e),[a,o]=Q_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.be(d)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Vo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Oh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Oh(we.min(),o,new _t(He),Ts(),qe())}}class ou{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new ou(a,i,qe(),qe(),qe())}}class Jc{constructor(e,i,a,o){this.Se=e,this.removedTargetIds=i,this.key=a,this.De=o}}class ob{constructor(e,i){this.targetId=e,this.Ce=i}}class ub{constructor(e,i,a=nn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class X_{constructor(){this.ve=0,this.Fe=$_(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),i=qe(),a=qe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Te(38017,{changeType:c})}})),new ou(this.Me,this.xe,e,i,a)}Ke(){this.Oe=!1,this.Fe=$_()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Qw{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ts(),this.He=Bc(),this.Je=Bc(),this.Ze=new _t(He)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(_m(c))if(a===0){const d=new ve(c.path);this.et(i,d,ln.newNoDocument(d,we.min()))}else Ze(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const _=this.ut(e),p=_?this.ct(_,e,d):1;if(p!==0){this.it(i);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,_;try{d=_r(a).toUint8Array()}catch(p){if(p instanceof k1)return dl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{_=new tp(d,o,c)}catch(p){return dl(p instanceof Vo?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return _.ge===0?null:_}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),_=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(_)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const _=this.ot(d);if(_){if(c.current&&_m(_.target)){const p=new ve(_.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,ln.newNoDocument(p,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=qe();this.Je.forEach(((c,d)=>{let _=!0;d.forEachWhile((p=>{const v=this.ot(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(_=!1,!1)})),_&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Oh(e,i,this.Ze,this.je,a);return this.je=Ts(),this.He=Bc(),this.Je=Bc(),this.Ze=new _t(He),o}Ye(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new X_,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new qt(He),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new qt(He),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||oe("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new X_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Bc(){return new _t(ve.comparator)}function $_(){return new _t(ve.comparator)}const Xw={asc:"ASCENDING",desc:"DESCENDING"},$w={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jw={and:"AND",or:"OR"};class Zw{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function bm(s,e){return s.useProto3Json||Sh(e)?e:{value:e}}function ph(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cb(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Ww(s,e){return ph(s,e.toTimestamp())}function qi(s){return Ze(!!s,49232),we.fromTimestamp((function(i){const a=yr(i);return new mt(a.seconds,a.nanos)})(s))}function np(s,e){return Em(s,e).canonicalString()}function Em(s,e){const i=(function(o){return new yt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function hb(s){const e=yt.fromString(s);return Ze(gb(e),10190,{key:e.toString()}),e}function Tm(s,e){return np(s.databaseId,e.path)}function Zd(s,e){const i=hb(e);if(i.get(1)!==s.databaseId.projectId)throw new de(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new de(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ve(db(i))}function fb(s,e){return np(s.databaseId,e)}function eR(s){const e=hb(s);return e.length===4?yt.emptyPath():db(e)}function xm(s){return new yt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function db(s){return Ze(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function J_(s,e,i){return{name:Tm(s,e),fields:i.value.mapValue.fields}}function tR(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Te(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(v,x){return v.useProto3Json?(Ze(x===void 0||typeof x=="string",58123),nn.fromBase64String(x||"")):(Ze(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),nn.fromUint8Array(x||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,_=d&&(function(v){const x=v.code===void 0?Z.UNKNOWN:lb(v.code);return new de(x,v.message||"")})(d);i=new ub(a,o,c,_||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Zd(s,a.document.name),c=qi(a.document.updateTime),d=a.document.createTime?qi(a.document.createTime):we.min(),_=new An({mapValue:{fields:a.document.fields}}),p=ln.newFoundDocument(o,c,d,_),v=a.targetIds||[],x=a.removedTargetIds||[];i=new Jc(v,x,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Zd(s,a.document),c=a.readTime?qi(a.readTime):we.min(),d=ln.newNoDocument(o,c),_=a.removedTargetIds||[];i=new Jc([],_,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Zd(s,a.document),c=a.removedTargetIds||[];i=new Jc([],c,o,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new Gw(o,c),_=a.targetId;i=new ob(_,d)}}return i}function nR(s,e){let i;if(e instanceof lu)i={update:J_(s,e.key,e.value)};else if(e instanceof Wm)i={delete:Tm(s,e.key)};else if(e instanceof xr)i={update:J_(s,e.key,e.data),updateMask:hR(e.fieldMask)};else{if(!(e instanceof Bw))return Te(16599,{dt:e.type});i={verify:Tm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const _=d.transform;if(_ instanceof dh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof yl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof Xo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof mh)return{fieldPath:d.field.canonicalString(),increment:_.Ae};throw Te(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:Ww(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te(27497)})(s,e.precondition)),i}function iR(s,e){return s&&s.length>0?(Ze(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?qi(o.updateTime):qi(c);return d.isEqual(we.min())&&(d=qi(c)),new Pw(d,o.transformResults||[])})(i,e)))):[]}function sR(s,e){return{documents:[fb(s,e.path)]}}function rR(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=fb(s,o);const c=(function(v){if(v.length!==0)return pb(Yi.create(v,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((x=>(function(M){return{field:nl(M.field),direction:oR(M.dir)}})(x)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const _=bm(s,e.limit);return _!==null&&(i.structuredQuery.limit=_),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:i,parent:o}}function aR(s){let e=eR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Ze(a===1,65062);const x=i.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let c=[];i.where&&(c=(function(A){const M=mb(A);return M instanceof Yi&&F1(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(J){return new fh(il(J.field),(function(ne){switch(ne){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(M)))})(i.orderBy));let _=null;i.limit&&(_=(function(A){let M;return M=typeof A=="object"?A.value:A,Sh(M)?null:M})(i.limit));let p=null;i.startAt&&(p=(function(A){const M=!!A.before,F=A.values||[];return new hh(F,M)})(i.startAt));let v=null;return i.endAt&&(v=(function(A){const M=!A.before,F=A.values||[];return new hh(F,M)})(i.endAt)),Tw(e,o,d,c,_,"F",p,v)}function lR(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function mb(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=il(i.unaryFilter.field);return Ht.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=il(i.unaryFilter.field);return Ht.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=il(i.unaryFilter.field);return Ht.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=il(i.unaryFilter.field);return Ht.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ht.create(il(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Yi.create(i.compositeFilter.filters.map((a=>mb(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(i.compositeFilter.op))})(s):Te(30097,{filter:s})}function oR(s){return Xw[s]}function uR(s){return $w[s]}function cR(s){return Jw[s]}function nl(s){return{fieldPath:s.canonicalString()}}function il(s){return tn.fromServerFormat(s.fieldPath)}function pb(s){return s instanceof Ht?(function(i){if(i.op==="=="){if(P_(i.value))return{unaryFilter:{field:nl(i.field),op:"IS_NAN"}};if(L_(i.value))return{unaryFilter:{field:nl(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(P_(i.value))return{unaryFilter:{field:nl(i.field),op:"IS_NOT_NAN"}};if(L_(i.value))return{unaryFilter:{field:nl(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nl(i.field),op:uR(i.op),value:i.value}}})(s):s instanceof Yi?(function(i){const a=i.getFilters().map((o=>pb(o)));return a.length===1?a[0]:{compositeFilter:{op:cR(i.op),filters:a}}})(s):Te(54877,{filter:s})}function hR(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function gb(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function yb(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class ur{constructor(e,i,a,o,c=we.min(),d=we.min(),_=nn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=_,this.expectedCount=p}withSequenceNumber(e){return new ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class fR{constructor(e){this.yt=e}}function dR(s){const e=aR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?vm(e,e.limit,"L"):e}class mR{constructor(){this.Sn=new pR}addToCollectionParentIndex(e,i){return this.Sn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(gr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(gr.min())}updateCollectionGroup(e,i,a){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class pR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new qt(yt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new qt(yt.comparator)).toArray()}}const Z_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_b=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(_b,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class _l{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new _l(0)}static ar(){return new _l(-1)}}const W_="LruGarbageCollector",gR=1048576;function ev([s,e],[i,a]){const o=He(s,i);return o===0?He(e,a):o}class yR{constructor(e){this.Pr=e,this.buffer=new qt(ev),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();ev(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class _R{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){oe(W_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Al(i)?oe(W_,"Ignoring IndexedDB error during garbage collection: ",i):await Sl(i)}await this.Ar(3e5)}))}}class vR{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(xh.ce);const a=new yR(i);return this.Vr.forEachTarget(e,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Z_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Z_):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let a,o,c,d,_,p,v;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(a=A,_=Date.now(),this.removeTargets(e,a,i)))).next((A=>(c=A,p=Date.now(),this.removeOrphanedDocuments(e,a)))).next((A=>(v=Date.now(),el()<=Be.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-x}ms
	Determined least recently used ${o} in `+(_-d)+`ms
	Removed ${c} targets in `+(p-_)+`ms
	Removed ${A} documents in `+(v-p)+`ms
Total Duration: ${v-x}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function bR(s,e){return new vR(s,e)}class ER{constructor(){this.changes=new ua((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class TR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class xR{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Ho(a.mutation,o,jn.empty(),mt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,qe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=qe()){const o=ta();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=Mo();return c.forEach(((_,p)=>{d=d.insert(_,p.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=ta();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,qe())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,_)=>{i.set(d,_)}))}))}computeViews(e,i,a,o){let c=Ts();const d=Bo(),_=(function(){return Bo()})();return i.forEach(((p,v)=>{const x=a.get(v.key);o.has(v.key)&&(x===void 0||x.mutation instanceof xr)?c=c.insert(v.key,v):x!==void 0?(d.set(v.key,x.mutation.getFieldMask()),Ho(x.mutation,v,x.mutation.getFieldMask(),mt.now())):d.set(v.key,jn.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((v,x)=>d.set(v,x))),i.forEach(((v,x)=>_.set(v,new TR(x,d.get(v)??null)))),_)))}recalculateAndSaveOverlays(e,i){const a=Bo();let o=new _t(((d,_)=>d-_)),c=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const _ of d)_.keys().forEach((p=>{const v=i.get(p);if(v===null)return;let x=a.get(p)||jn.empty();x=_.applyToLocalView(v,x),a.set(p,x);const A=(o.get(_.batchId)||qe()).add(p);o=o.insert(_.batchId,A)}))})).next((()=>{const d=[],_=o.getReverseIterator();for(;_.hasNext();){const p=_.getNext(),v=p.key,x=p.value,A=W1();x.forEach((M=>{if(!c.has(M)){const F=rb(i.get(M),a.get(M));F!==null&&A.set(M,F),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,A))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return xw(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Sw(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):$.resolve(ta());let _=Fo,p=c;return d.next((v=>$.forEach(v,((x,A)=>(_<A.largestBatchId&&(_=A.largestBatchId),c.get(x)?$.resolve():this.remoteDocumentCache.getEntry(e,x).next((M=>{p=p.insert(x,M)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,p,v,qe()))).next((x=>({batchId:_,changes:Z1(x)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ve(i)).next((a=>{let o=Mo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=Mo();return this.indexManager.getCollectionParents(e,c).next((_=>$.forEach(_,(p=>{const v=(function(A,M){return new wh(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,a,o).next((x=>{x.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((p,v)=>{const x=v.getKey();d.get(x)===null&&(d=d.insert(x,ln.newInvalidDocument(x)))}));let _=Mo();return d.forEach(((p,v)=>{const x=c.get(p);x!==void 0&&Ho(x.mutation,v,jn.empty(),mt.now()),Ih(i,v)&&(_=_.insert(p,v))})),_}))}}class SR{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:qi(o.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:dR(o.bundledQuery),readTime:qi(o.readTime)}})(i)),$.resolve()}}class AR{constructor(){this.overlays=new _t(ve.comparator),this.Lr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ta();return $.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.bt(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),$.resolve()}getOverlaysForCollection(e,i,a){const o=ta(),c=i.length+1,d=new ve(i.child("")),_=this.overlays.getIteratorFrom(d);for(;_.hasNext();){const p=_.getNext().value,v=p.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&p.largestBatchId>a&&o.set(p.getKey(),p)}return $.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new _t(((v,x)=>v-x));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let x=c.get(v.largestBatchId);x===null&&(x=ta(),c=c.insert(v.largestBatchId,x)),x.set(v.getKey(),v)}}const _=ta(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((v,x)=>_.set(v,x))),!(_.size()>=o)););return $.resolve(_)}bt(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new qw(i,a));let c=this.Lr.get(i);c===void 0&&(c=qe(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class wR{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class ip{constructor(){this.kr=new qt(Kt.Kr),this.qr=new qt(Kt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const a=new Kt(e,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Wr(new Kt(e,i))}Qr(e,i){e.forEach((a=>this.removeReference(a,i)))}Gr(e){const i=new ve(new yt([])),a=new Kt(i,e),o=new Kt(i,e+1),c=[];return this.qr.forEachInRange([a,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new ve(new yt([])),a=new Kt(i,e),o=new Kt(i,e+1);let c=qe();return this.qr.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Kt(e,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Kt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return ve.comparator(e.key,i.key)||He(e.Hr,i.Hr)}static Ur(e,i){return He(e.Hr,i.Hr)||ve.comparator(e.key,i.key)}}class RR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new qt(Kt.Kr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Hw(c,i,a,o);this.mutationQueue.push(d);for(const _ of o)this.Jr=this.Jr.add(new Kt(_.key,c)),this.indexManager.addToCollectionParentIndex(e,_.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.Xr(a),c=o<0?0:o;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Km:this.Yn-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Kt(i,0),o=new Kt(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,o],(d=>{const _=this.Zr(d.Hr);c.push(_)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new qt(He);return i.forEach((o=>{const c=new Kt(o,0),d=new Kt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(_=>{a=a.add(_.Hr)}))})),$.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;ve.isDocumentKey(c)||(c=c.child(""));const d=new Kt(new ve(c),0);let _=new qt(He);return this.Jr.forEachWhile((p=>{const v=p.key.path;return!!a.isPrefixOf(v)&&(v.length===o&&(_=_.add(p.Hr)),!0)}),d),$.resolve(this.Yr(_))}Yr(e){const i=[];return e.forEach((a=>{const o=this.Zr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ze(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return $.forEach(i.mutations,(o=>{const c=new Kt(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,i){const a=new Kt(i,0),o=this.Jr.firstAfterOrEqual(a);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class CR{constructor(e){this.ti=e,this.docs=(function(){return new _t(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():ln.newInvalidDocument(i))}getEntries(e,i){let a=Ts();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():ln.newInvalidDocument(o))})),$.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=Ts();const d=i.path,_=new ve(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(_);for(;p.hasNext();){const{key:v,value:{document:x}}=p.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||WA(ZA(x),a)<=0||(o.has(x.key)||Ih(i,x))&&(c=c.insert(x.key,x.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,a,o){Te(9500)}ni(e,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new IR(this)}getSize(e){return $.resolve(this.size)}}class IR extends ER{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(a)})),$.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class NR{constructor(e){this.persistence=e,this.ri=new ua((i=>$m(i)),Jm),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.ii=0,this.si=new ip,this.targetCount=0,this.oi=_l._r()}forEachTarget(e,i){return this.ri.forEach(((a,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),$.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new _l(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.lr(i),$.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.ri.forEach(((d,_)=>{_.sequenceNumber<=i&&a.get(_.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,_.targetId)),o++)})),$.waitFor(c).next((()=>o))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const a=this.ri.get(i)||null;return $.resolve(a)}addMatchingKeys(e,i,a){return this.si.$r(i,a),$.resolve()}removeMatchingKeys(e,i,a){this.si.Qr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const a=this.si.jr(i);return $.resolve(a)}containsKey(e,i){return $.resolve(this.si.containsKey(i))}}class vb{constructor(e,i){this._i={},this.overlays={},this.ai=new xh(0),this.ui=!1,this.ui=!0,this.ci=new wR,this.referenceDelegate=e(this),this.li=new NR(this),this.indexManager=new mR,this.remoteDocumentCache=(function(o){return new CR(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new fR(i),this.Pi=new SR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new AR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this._i[e.toKey()];return a||(a=new RR(i,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,a){oe("MemoryPersistence","Starting transaction:",e);const o=new DR(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,i){return $.or(Object.values(this._i).map((a=>()=>a.containsKey(e,i))))}}class DR extends tw{constructor(e){super(),this.currentSequenceNumber=e}}class sp{constructor(e){this.persistence=e,this.Ri=new ip,this.Ai=null}static Vi(e){return new sp(e)}get di(){if(this.Ai)return this.Ai;throw Te(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),$.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(a=>{const o=ve.fromPath(a);return this.mi(e,o).next((c=>{c||i.removeEntry(o,we.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class gh{constructor(e,i){this.persistence=e,this.fi=new ua((a=>sw(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=bR(this,i)}static Vi(e,i){return new gh(e,i)}Ti(){}Ii(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}pr(e){let i=0;return this.mr(e,(a=>{i++})).next((()=>i))}mr(e,i){return $.forEach(this.fi,((a,o)=>this.wr(e,a,o).next((c=>c?$.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((_=>{_||(a++,c.removeEntry(d,we.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),$.resolve()}removeReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Qc(e.data.value)),i}wr(e,i,a){return $.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return $.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class rp{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Ts=a,this.Is=o}static Es(e,i){let a=qe(),o=qe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new rp(e,i.fromCache,a,o)}}class OR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class MR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return gx()?8:nw(on())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new OR;return this.ys(e,i,d).next((_=>{if(c.result=_,this.As)return this.ws(e,i,d,_.size)}))})).next((()=>c.result))}ws(e,i,a,o){return a.documentReadCount<this.Vs?(el()<=Be.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",tl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(el()<=Be.DEBUG&&oe("QueryEngine","Query:",tl(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(el()<=Be.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",tl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hi(i))):$.resolve())}gs(e,i){if(H_(i))return $.resolve(null);let a=Hi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=vm(i,null,"F"),a=Hi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=qe(...c);return this.fs.getDocuments(e,d).next((_=>this.indexManager.getMinOffset(e,a).next((p=>{const v=this.bs(i,_);return this.Ss(i,v,d,p.readTime)?this.gs(e,vm(i,null,"F")):this.Ds(e,v,i,p)}))))})))))}ps(e,i,a,o){return H_(i)||o.isEqual(we.min())?$.resolve(null):this.fs.getDocuments(e,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,o)?$.resolve(null):(el()<=Be.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),tl(i)),this.Ds(e,d,i,JA(o,Fo)).next((_=>_)))}))}bs(e,i){let a=new qt($1(e));return i.forEach(((o,c)=>{Ih(e,c)&&(a=a.add(c))})),a}Ss(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,i,a){return el()<=Be.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",tl(i)),this.fs.getDocumentsMatchingQuery(e,i,gr.min(),a)}Ds(e,i,a,o){return this.fs.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ap="LocalStore",VR=3e8;class kR{constructor(e,i,a,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new _t(He),this.Fs=new ua((c=>$m(c)),Jm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function jR(s,e,i,a){return new kR(s,e,i,a)}async function bb(s,e){const i=Ce(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Os(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],_=[];let p=qe();for(const v of o){d.push(v.batchId);for(const x of v.mutations)p=p.add(x.key)}for(const v of c){_.push(v.batchId);for(const x of v.mutations)p=p.add(x.key)}return i.localDocuments.getDocuments(a,p).next((v=>({Ns:v,removedBatchIds:d,addedBatchIds:_})))}))}))}function LR(s,e){const i=Ce(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(_,p,v,x){const A=v.batch,M=A.keys();let F=$.resolve();return M.forEach((J=>{F=F.next((()=>x.getEntry(p,J))).next((re=>{const ne=v.docVersions.get(J);Ze(ne!==null,48541),re.version.compareTo(ne)<0&&(A.applyToRemoteDocument(re,v),re.isValidDocument()&&(re.setReadTime(v.commitVersion),x.addEntry(re)))}))})),F.next((()=>_.mutationQueue.removeMutationBatch(p,A)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(_){let p=qe();for(let v=0;v<_.mutationResults.length;++v)_.mutationResults[v].transformResults.length>0&&(p=p.add(_.batch.mutations[v].key));return p})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function Eb(s){const e=Ce(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function PR(s,e){const i=Ce(s),a=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const _=[];e.targetChanges.forEach(((x,A)=>{const M=o.get(A);if(!M)return;_.push(i.li.removeMatchingKeys(c,x.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,x.addedDocuments,A))));let F=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?F=F.withResumeToken(nn.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):x.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(x.resumeToken,a)),o=o.insert(A,F),(function(re,ne,ye){return re.resumeToken.approximateByteSize()===0||ne.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=VR?!0:ye.addedDocuments.size+ye.modifiedDocuments.size+ye.removedDocuments.size>0})(M,F,x)&&_.push(i.li.updateTargetData(c,F))}));let p=Ts(),v=qe();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&_.push(i.persistence.referenceDelegate.updateLimboDocument(c,x))})),_.push(UR(c,d,e.documentUpdates).next((x=>{p=x.Bs,v=x.Ls}))),!a.isEqual(we.min())){const x=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));_.push(x)}return $.waitFor(_).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,p,v))).next((()=>p))})).then((c=>(i.vs=o,c)))}function UR(s,e,i){let a=qe(),o=qe();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=Ts();return i.forEach(((_,p)=>{const v=c.get(_);p.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(_)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(_,p.readTime),d=d.insert(_,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(p),d=d.insert(_,p)):oe(ap,"Ignoring outdated watch update for ",_,". Current version:",v.version," Watch version:",p.version)})),{Bs:d,Ls:o}}))}function zR(s,e){const i=Ce(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Km),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function BR(s,e){const i=Ce(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.li.getTargetData(a,e).next((c=>c?(o=c,$.resolve(o)):i.li.allocateTargetId(a).next((d=>(o=new ur(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(e,a.targetId)),a}))}async function Sm(s,e,i){const a=Ce(s),o=a.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Al(d))throw d;oe(ap,`Failed to update sequence numbers for target ${e}: ${d}`)}a.vs=a.vs.remove(e),a.Fs.delete(o.target)}function tv(s,e,i){const a=Ce(s);let o=we.min(),c=qe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,v,x){const A=Ce(p),M=A.Fs.get(x);return M!==void 0?$.resolve(A.vs.get(M)):A.li.getTargetData(v,x)})(a,d,Hi(e)).next((_=>{if(_)return o=_.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,_.targetId).next((p=>{c=p}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,e,i?o:we.min(),i?c:qe()))).next((_=>(HR(a,ww(e),_),{documents:_,ks:c})))))}function HR(s,e,i){let a=s.Ms.get(e)||we.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(e,a)}class nv{constructor(){this.activeTargetIds=Ow()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qR{constructor(){this.vo=new nv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,a){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new nv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class GR{Mo(e){}shutdown(){}}const iv="ConnectivityMonitor";class sv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){oe(iv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){oe(iv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Hc=null;function Am(){return Hc===null?Hc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hc++,"0x"+Hc.toString(16)}const Wd="RestConnection",FR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class YR{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===uh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,i,a,o,c){const d=Am(),_=this.Qo(e,i.toUriEncodedString());oe(Wd,`Sending RPC '${e}' ${d}:`,_,a);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,c);const{host:v}=new URL(_),x=bl(v);return this.zo(e,_,p,a,x).then((A=>(oe(Wd,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw dl(Wd,`RPC '${e}' ${d} failed with error: `,A,"url: ",_,"request:",a),A}))}jo(e,i,a,o,c,d){return this.Wo(e,i,a,o,c)}Go(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}Qo(e,i){const a=FR[e];let o=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class KR{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const rn="WebChannelConnection",Io=(s,e,i)=>{s.listen(e,(a=>{try{i(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class ol extends YR{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ol.c_){const e=C1();Io(e,R1.STAT_EVENT,(i=>{i.stat===dm.PROXY?oe(rn,"STAT_EVENT: detected buffering proxy"):i.stat===dm.NOPROXY&&oe(rn,"STAT_EVENT: detected no buffering proxy")})),ol.c_=!0}}zo(e,i,a,o,c){const d=Am();return new Promise(((_,p)=>{const v=new A1;v.setWithCredentials(!0),v.listenOnce(w1.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Kc.NO_ERROR:const A=v.getResponseJson();oe(rn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),_(A);break;case Kc.TIMEOUT:oe(rn,`RPC '${e}' ${d} timed out`),p(new de(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Kc.HTTP_ERROR:const M=v.getStatus();if(oe(rn,`RPC '${e}' ${d} failed with status:`,M,"response text:",v.getResponseText()),M>0){let F=v.getResponseJson();Array.isArray(F)&&(F=F[0]);const J=F?.error;if(J&&J.status&&J.message){const re=(function(ye){const xe=ye.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(xe)>=0?xe:Z.UNKNOWN})(J.status);p(new de(re,J.message))}else p(new de(Z.UNKNOWN,"Server responded with status "+v.getStatus()))}else p(new de(Z.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{oe(rn,`RPC '${e}' ${d} completed.`)}}));const x=JSON.stringify(o);oe(rn,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",x,a,15)}))}T_(e,i,a){const o=Am(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(_.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Go(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const v=c.join("");oe(rn,`Creating RPC '${e}' stream ${o}: ${v}`,_);const x=d.createWebChannel(v,_);this.I_(x);let A=!1,M=!1;const F=new KR({Ho:J=>{M?oe(rn,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(A||(oe(rn,`Opening RPC '${e}' stream ${o} transport.`),x.open(),A=!0),oe(rn,`RPC '${e}' stream ${o} sending:`,J),x.send(J))},Jo:()=>x.close()});return Io(x,Oo.EventType.OPEN,(()=>{M||(oe(rn,`RPC '${e}' stream ${o} transport opened.`),F.i_())})),Io(x,Oo.EventType.CLOSE,(()=>{M||(M=!0,oe(rn,`RPC '${e}' stream ${o} transport closed`),F.o_(),this.E_(x))})),Io(x,Oo.EventType.ERROR,(J=>{M||(M=!0,dl(rn,`RPC '${e}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),F.o_(new de(Z.UNAVAILABLE,"The operation could not be completed")))})),Io(x,Oo.EventType.MESSAGE,(J=>{if(!M){const re=J.data[0];Ze(!!re,16349);const ne=re,ye=ne?.error||ne[0]?.error;if(ye){oe(rn,`RPC '${e}' stream ${o} received error:`,ye);const xe=ye.status;let _e=(function(Pe){const N=Lt[Pe];if(N!==void 0)return lb(N)})(xe),Ye=ye.message;_e===void 0&&(_e=Z.INTERNAL,Ye="Unknown error status: "+xe+" with message "+ye.message),M=!0,F.o_(new de(_e,Ye)),x.close()}else oe(rn,`RPC '${e}' stream ${o} received:`,re),F.__(re)}})),ol.u_(),setTimeout((()=>{F.s_()}),0),F}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,a){super.Go(e,i,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return I1()}}function QR(s){return new ol(s)}function em(){return typeof document<"u"?document:null}function Mh(s){return new Zw(s,!0)}ol.c_=!1;class Tb{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=a,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const rv="PersistentStream";class xb{constructor(e,i,a,o,c,d,_,p){this.Ci=e,this.b_=a,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=_,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Tb(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Es(i.toString()),Es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new de(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(rv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(oe(rv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class XR extends xb{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=tR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return we.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?we.min():d.readTime?qi(d.readTime):we.min()})(e);return this.listener.J_(i,a)}Z_(e){const i={};i.database=xm(this.serializer),i.addTarget=(function(c,d){let _;const p=d.target;if(_=_m(p)?{documents:sR(c,p)}:{query:rR(c,p).ft},_.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){_.resumeToken=cb(c,d.resumeToken);const v=bm(c,d.expectedCount);v!==null&&(_.expectedCount=v)}else if(d.snapshotVersion.compareTo(we.min())>0){_.readTime=ph(c,d.snapshotVersion.toTimestamp());const v=bm(c,d.expectedCount);v!==null&&(_.expectedCount=v)}return _})(this.serializer,e);const a=lR(this.serializer,e);a&&(i.labels=a),this.K_(i)}X_(e){const i={};i.database=xm(this.serializer),i.removeTarget=e,this.K_(i)}}class $R extends xb{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=iR(e.writeResults,e.commitTime),a=qi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=xm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>nR(this.serializer,a)))};this.K_(i)}}class JR{}class ZR extends JR{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new de(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,Em(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(Z.UNKNOWN,c.toString())}))}jo(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,_])=>this.connection.jo(e,Em(i,a),o,d,_,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new de(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function WR(s,e,i,a){return new ZR(s,e,i,a)}class eC{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Es(i),this.aa=!1):oe("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const la="RemoteStore";class tC{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{ca(this)&&(oe(la,"Restarting streams for network reachability change."),await(async function(p){const v=Ce(p);v.Ea.add(4),await uu(v),v.Va.set("Unknown"),v.Ea.delete(4),await Vh(v)})(this))}))})),this.Va=new eC(a,o)}}async function Vh(s){if(ca(s))for(const e of s.Ra)await e(!0)}async function uu(s){for(const e of s.Ra)await e(!1)}function Sb(s,e){const i=Ce(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),cp(i)?up(i):wl(i).O_()&&op(i,e))}function lp(s,e){const i=Ce(s),a=wl(i);i.Ia.delete(e),a.O_()&&Ab(i,e),i.Ia.size===0&&(a.O_()?a.L_():ca(i)&&i.Va.set("Unknown"))}function op(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}wl(s).Z_(e)}function Ab(s,e){s.da.$e(e),wl(s).X_(e)}function up(s){s.da=new Qw({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),wl(s).start(),s.Va.ua()}function cp(s){return ca(s)&&!wl(s).x_()&&s.Ia.size>0}function ca(s){return Ce(s).Ea.size===0}function wb(s){s.da=void 0}async function nC(s){s.Va.set("Online")}async function iC(s){s.Ia.forEach(((e,i)=>{op(s,e)}))}async function sC(s,e){wb(s),cp(s)?(s.Va.ha(e),up(s)):s.Va.set("Unknown")}async function rC(s,e,i){if(s.Va.set("Online"),e instanceof ub&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const _ of c.targetIds)o.Ia.has(_)&&(await o.remoteSyncer.rejectListen(_,d),o.Ia.delete(_),o.da.removeTarget(_))})(s,e)}catch(a){oe(la,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await yh(s,a)}else if(e instanceof Jc?s.da.Xe(e):e instanceof ob?s.da.st(e):s.da.tt(e),!i.isEqual(we.min()))try{const a=await Eb(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const _=c.da.Tt(d);return _.targetChanges.forEach(((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const x=c.Ia.get(v);x&&c.Ia.set(v,x.withResumeToken(p.resumeToken,d))}})),_.targetMismatches.forEach(((p,v)=>{const x=c.Ia.get(p);if(!x)return;c.Ia.set(p,x.withResumeToken(nn.EMPTY_BYTE_STRING,x.snapshotVersion)),Ab(c,p);const A=new ur(x.target,p,v,x.sequenceNumber);op(c,A)})),c.remoteSyncer.applyRemoteEvent(_)})(s,i)}catch(a){oe(la,"Failed to raise snapshot:",a),await yh(s,a)}}async function yh(s,e,i){if(!Al(e))throw e;s.Ea.add(1),await uu(s),s.Va.set("Offline"),i||(i=()=>Eb(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{oe(la,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Vh(s)}))}function Rb(s,e){return e().catch((i=>yh(s,i,e)))}async function kh(s){const e=Ce(s),i=br(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Km;for(;aC(e);)try{const o=await zR(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,lC(e,o)}catch(o){await yh(e,o)}Cb(e)&&Ib(e)}function aC(s){return ca(s)&&s.Ta.length<10}function lC(s,e){s.Ta.push(e);const i=br(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function Cb(s){return ca(s)&&!br(s).x_()&&s.Ta.length>0}function Ib(s){br(s).start()}async function oC(s){br(s).ra()}async function uC(s){const e=br(s);for(const i of s.Ta)e.ea(i.mutations)}async function cC(s,e,i){const a=s.Ta.shift(),o=ep.from(a,e,i);await Rb(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await kh(s)}async function hC(s,e){e&&br(s).Y_&&await(async function(a,o){if((function(d){return Fw(d)&&d!==Z.ABORTED})(o.code)){const c=a.Ta.shift();br(a).B_(),await Rb(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await kh(a)}})(s,e),Cb(s)&&Ib(s)}async function av(s,e){const i=Ce(s);i.asyncQueue.verifyOperationInProgress(),oe(la,"RemoteStore received new credentials");const a=ca(i);i.Ea.add(3),await uu(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Vh(i)}async function fC(s,e){const i=Ce(s);e?(i.Ea.delete(2),await Vh(i)):e||(i.Ea.add(2),await uu(i),i.Va.set("Unknown"))}function wl(s){return s.ma||(s.ma=(function(i,a,o){const c=Ce(i);return c.sa(),new XR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:nC.bind(null,s),Yo:iC.bind(null,s),t_:sC.bind(null,s),J_:rC.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),cp(s)?up(s):s.Va.set("Unknown")):(await s.ma.stop(),wb(s))}))),s.ma}function br(s){return s.fa||(s.fa=(function(i,a,o){const c=Ce(i);return c.sa(),new $R(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:oC.bind(null,s),t_:hC.bind(null,s),ta:uC.bind(null,s),na:cC.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await kh(s)):(await s.fa.stop(),s.Ta.length>0&&(oe(la,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class hp{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,_=new hp(e,i,d,o,c);return _.start(a),_}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fp(s,e){if(Es("AsyncQueue",`${e}: ${s}`),Al(s))return new de(Z.UNAVAILABLE,`${e}: ${s}`);throw s}class ul{static emptySet(e){return new ul(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ve.comparator(i.key,a.key):(i,a)=>ve.comparator(i.key,a.key),this.keyedMap=Mo(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ul)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ul;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class lv{constructor(){this.ga=new _t(ve.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Te(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class vl{constructor(e,i,a,o,c,d,_,p,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=_,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((_=>{d.push({type:0,doc:_})})),new vl(e,i,ul.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class dC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class mC{constructor(){this.queries=ov(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Ce(i),c=o.queries;o.queries=ov(),c.forEach(((d,_)=>{for(const p of _.ba)p.onError(a)}))})(this,new de(Z.ABORTED,"Firestore shutting down"))}}function ov(){return new ua((s=>X1(s)),Ch)}async function Nb(s,e){const i=Ce(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.Sa()&&e.Da()&&(a=2):(c=new dC,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const _=fp(d,`Initialization of query '${tl(e.query)}' failed`);return void e.onError(_)}i.queries.set(o,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&dp(i)}async function Db(s,e){const i=Ce(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function pC(s,e){const i=Ce(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const _ of d.ba)_.Fa(o)&&(a=!0);d.wa=o}}a&&dp(i)}function gC(s,e,i){const a=Ce(s),o=a.queries.get(e);if(o)for(const c of o.ba)c.onError(i);a.queries.delete(e)}function dp(s){s.Ca.forEach((e=>{e.next()}))}var wm,uv;(uv=wm||(wm={})).Ma="default",uv.Cache="cache";class Ob{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new vl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==wm.Cache}}class Mb{constructor(e){this.key=e}}class Vb{constructor(e){this.key=e}}class yC{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=qe(),this.mutatedKeys=qe(),this.eu=$1(e),this.tu=new ul(this.eu)}get nu(){return this.Za}ru(e,i){const a=i?i.iu:new lv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,_=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,A)=>{const M=o.get(x),F=Ih(this.query,A)?A:null,J=!!M&&this.mutatedKeys.has(M.key),re=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let ne=!1;M&&F?M.data.isEqual(F.data)?J!==re&&(a.track({type:3,doc:F}),ne=!0):this.su(M,F)||(a.track({type:2,doc:F}),ne=!0,(p&&this.eu(F,p)>0||v&&this.eu(F,v)<0)&&(_=!0)):!M&&F?(a.track({type:0,doc:F}),ne=!0):M&&!F&&(a.track({type:1,doc:M}),ne=!0,(p||v)&&(_=!0)),ne&&(F?(d=d.add(F),c=re?c.add(x):c.delete(x)):(d=d.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const x=this.query.limitType==="F"?d.last():d.first();d=d.delete(x.key),c=c.delete(x.key),a.track({type:1,doc:x})}return{tu:d,iu:a,Ss:_,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((x,A)=>(function(F,J){const re=ne=>{switch(ne){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:ne})}};return re(F)-re(J)})(x.type,A.type)||this.eu(x.doc,A.doc))),this.ou(a),o=o??!1;const _=i&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,v=p!==this.Xa;return this.Xa=p,d.length!==0||v?{snapshot:new vl(this.query,e.tu,c,d,e.mutatedKeys,p===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:_}:{au:_}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=qe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return e.forEach((a=>{this.Ya.has(a)||i.push(new Vb(a))})),this.Ya.forEach((a=>{e.has(a)||i.push(new Mb(a))})),i}cu(e){this.Za=e.ks,this.Ya=qe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return vl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const mp="SyncEngine";class _C{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class vC{constructor(e){this.key=e,this.hu=!1}}class bC{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ua((_=>X1(_)),Ch),this.Iu=new Map,this.Eu=new Set,this.Ru=new _t(ve.comparator),this.Au=new Map,this.Vu=new ip,this.du={},this.mu=new Map,this.fu=_l.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function EC(s,e,i=!0){const a=zb(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await kb(a,e,i,!0),o}async function TC(s,e){const i=zb(s);await kb(i,e,!0,!1)}async function kb(s,e,i,a){const o=await BR(s.localStore,Hi(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let _;return a&&(_=await xC(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&Sb(s.remoteStore,o),_}async function xC(s,e,i,a,o){s.pu=(A,M,F)=>(async function(re,ne,ye,xe){let _e=ne.view.ru(ye);_e.Ss&&(_e=await tv(re.localStore,ne.query,!1).then((({documents:N})=>ne.view.ru(N,_e))));const Ye=xe&&xe.targetChanges.get(ne.targetId),Ve=xe&&xe.targetMismatches.get(ne.targetId)!=null,Pe=ne.view.applyChanges(_e,re.isPrimaryClient,Ye,Ve);return hv(re,ne.targetId,Pe.au),Pe.snapshot})(s,A,M,F);const c=await tv(s.localStore,e,!0),d=new yC(e,c.ks),_=d.ru(c.documents),p=ou.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),v=d.applyChanges(_,s.isPrimaryClient,p);hv(s,i,v.au);const x=new _C(e,i,d);return s.Tu.set(e,x),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),v.snapshot}async function SC(s,e,i){const a=Ce(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!Ch(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Sm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&lp(a.remoteStore,o.targetId),Rm(a,o.targetId)})).catch(Sl)):(Rm(a,o.targetId),await Sm(a.localStore,o.targetId,!0))}async function AC(s,e){const i=Ce(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),lp(i.remoteStore,a.targetId))}async function wC(s,e,i){const a=MC(s);try{const o=await(function(d,_){const p=Ce(d),v=mt.now(),x=_.reduce(((F,J)=>F.add(J.key)),qe());let A,M;return p.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let J=Ts(),re=qe();return p.xs.getEntries(F,x).next((ne=>{J=ne,J.forEach(((ye,xe)=>{xe.isValidDocument()||(re=re.add(ye))}))})).next((()=>p.localDocuments.getOverlayedDocuments(F,J))).next((ne=>{A=ne;const ye=[];for(const xe of _){const _e=zw(xe,A.get(xe.key).overlayedDocument);_e!=null&&ye.push(new xr(xe.key,_e,H1(_e.value.mapValue),mi.exists(!0)))}return p.mutationQueue.addMutationBatch(F,v,ye,_)})).next((ne=>{M=ne;const ye=ne.applyToLocalDocumentSet(A,re);return p.documentOverlayCache.saveOverlays(F,ne.batchId,ye)}))})).then((()=>({batchId:M.batchId,changes:Z1(A)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,_,p){let v=d.du[d.currentUser.toKey()];v||(v=new _t(He)),v=v.insert(_,p),d.du[d.currentUser.toKey()]=v})(a,o.batchId,i),await cu(a,o.changes),await kh(a.remoteStore)}catch(o){const c=fp(o,"Failed to persist write");i.reject(c)}}async function jb(s,e){const i=Ce(s);try{const a=await PR(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ze(d.hu,14607):o.removedDocuments.size>0&&(Ze(d.hu,42227),d.hu=!1))})),await cu(i,a,e)}catch(a){await Sl(a)}}function cv(s,e,i){const a=Ce(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const _=d.view.va(e);_.snapshot&&o.push(_.snapshot)})),(function(d,_){const p=Ce(d);p.onlineState=_;let v=!1;p.queries.forEach(((x,A)=>{for(const M of A.ba)M.va(_)&&(v=!0)})),v&&dp(p)})(a.eventManager,e),o.length&&a.Pu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function RC(s,e,i){const a=Ce(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new _t(ve.comparator);d=d.insert(c,ln.newNoDocument(c,we.min()));const _=qe().add(c),p=new Oh(we.min(),new Map,new _t(He),d,_);await jb(a,p),a.Ru=a.Ru.remove(c),a.Au.delete(e),pp(a)}else await Sm(a.localStore,e,!1).then((()=>Rm(a,e,i))).catch(Sl)}async function CC(s,e){const i=Ce(s),a=e.batch.batchId;try{const o=await LR(i.localStore,e);Pb(i,a,null),Lb(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await cu(i,o)}catch(o){await Sl(o)}}async function IC(s,e,i){const a=Ce(s);try{const o=await(function(d,_){const p=Ce(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let x;return p.mutationQueue.lookupMutationBatch(v,_).next((A=>(Ze(A!==null,37113),x=A.keys(),p.mutationQueue.removeMutationBatch(v,A)))).next((()=>p.mutationQueue.performConsistencyCheck(v))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(v,x,_))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,x))).next((()=>p.localDocuments.getDocuments(v,x)))}))})(a.localStore,e);Pb(a,e,i),Lb(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await cu(a,o)}catch(o){await Sl(o)}}function Lb(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function Pb(s,e,i){const a=Ce(s);let o=a.du[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.du[a.currentUser.toKey()]=o}}function Rm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||Ub(s,a)}))}function Ub(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(lp(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),pp(s))}function hv(s,e,i){for(const a of i)a instanceof Mb?(s.Vu.addReference(a.key,e),NC(s,a)):a instanceof Vb?(oe(mp,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||Ub(s,a.key)):Te(19791,{wu:a})}function NC(s,e){const i=e.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(oe(mp,"New document in limbo: "+i),s.Eu.add(a),pp(s))}function pp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ve(yt.fromString(e)),a=s.fu.next();s.Au.set(a,new vC(i)),s.Ru=s.Ru.insert(i,a),Sb(s.remoteStore,new ur(Hi(Rh(i.path)),a,"TargetPurposeLimboResolution",xh.ce))}}async function cu(s,e,i){const a=Ce(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((_,p)=>{d.push(a.pu(p,e,i).then((v=>{if((v||i)&&a.isPrimaryClient){const x=v?!v.fromCache:i?.targetChanges.get(p.targetId)?.current;a.sharedClientState.updateQueryState(p.targetId,x?"current":"not-current")}if(v){o.push(v);const x=rp.Es(p.targetId,v);c.push(x)}})))})),await Promise.all(d),a.Pu.J_(o),await(async function(p,v){const x=Ce(p);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>$.forEach(v,(M=>$.forEach(M.Ts,(F=>x.persistence.referenceDelegate.addReference(A,M.targetId,F))).next((()=>$.forEach(M.Is,(F=>x.persistence.referenceDelegate.removeReference(A,M.targetId,F)))))))))}catch(A){if(!Al(A))throw A;oe(ap,"Failed to update sequence numbers: "+A)}for(const A of v){const M=A.targetId;if(!A.fromCache){const F=x.vs.get(M),J=F.snapshotVersion,re=F.withLastLimboFreeSnapshotVersion(J);x.vs=x.vs.insert(M,re)}}})(a.localStore,c))}async function DC(s,e){const i=Ce(s);if(!i.currentUser.isEqual(e)){oe(mp,"User change. New user:",e.toKey());const a=await bb(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((_=>{_.forEach((p=>{p.reject(new de(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await cu(i,a.Ns)}}function OC(s,e){const i=Ce(s),a=i.Au.get(e);if(a&&a.hu)return qe().add(a.key);{let o=qe();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const _=i.Tu.get(d);o=o.unionWith(_.view.nu)}return o}}function zb(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=jb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RC.bind(null,e),e.Pu.J_=pC.bind(null,e.eventManager),e.Pu.yu=gC.bind(null,e.eventManager),e}function MC(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IC.bind(null,e),e}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return jR(this.persistence,new MR,e.initialUser,this.serializer)}Cu(e){return new vb(sp.Vi,this.serializer)}Du(e){return new qR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class VC extends _h{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ze(this.persistence.referenceDelegate instanceof gh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new _R(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new vb((a=>gh.Vi(a,i)),this.serializer)}}class Cm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>cv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=DC.bind(null,this.syncEngine),await fC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new mC})()}createDatastore(e){const i=Mh(e.databaseInfo.databaseId),a=QR(e.databaseInfo);return WR(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,_){return new tC(a,o,c,d,_)})(this.localStore,this.datastore,e.asyncQueue,(i=>cv(this.syncEngine,i,0)),(function(){return sv.v()?new sv:new GR})())}createSyncEngine(e,i){return(function(o,c,d,_,p,v,x){const A=new bC(o,c,d,_,p,v);return x&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ce(i);oe(la,"RemoteStore shutting down."),a.Ea.add(5),await uu(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Cm.provider={build:()=>new Cm};class Bb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Es("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Er="FirestoreClient";class kC{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=o,this.user=an.UNAUTHENTICATED,this.clientId=Fm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{oe(Er,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(oe(Er,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=fp(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function tm(s,e){s.asyncQueue.verifyOperationInProgress(),oe(Er,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await bb(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function fv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await jC(s);oe(Er,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>av(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>av(e.remoteStore,o))),s._onlineComponents=e}async function jC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){oe(Er,"Using user provided OfflineComponentProvider");try{await tm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;dl("Error using user provided cache. Falling back to memory cache: "+i),await tm(s,new _h)}}else oe(Er,"Using default OfflineComponentProvider"),await tm(s,new VC(void 0));return s._offlineComponents}async function Hb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(oe(Er,"Using user provided OnlineComponentProvider"),await fv(s,s._uninitializedComponentsProvider._online)):(oe(Er,"Using default OnlineComponentProvider"),await fv(s,new Cm))),s._onlineComponents}function LC(s){return Hb(s).then((e=>e.syncEngine))}async function Im(s){const e=await Hb(s),i=e.eventManager;return i.onListen=EC.bind(null,e.syncEngine),i.onUnlisten=SC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=TC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=AC.bind(null,e.syncEngine),i}function PC(s,e,i,a){const o=new Bb(a),c=new Ob(e,o,i);return s.asyncQueue.enqueueAndForget((async()=>Nb(await Im(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>Db(await Im(s),c)))}}function UC(s,e,i={}){const a=new mr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,_,p,v){const x=new Bb({next:M=>{x.Nu(),d.enqueueAndForget((()=>Db(c,A)));const F=M.docs.has(_);!F&&M.fromCache?v.reject(new de(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&p&&p.source==="server"?v.reject(new de(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(M)},error:M=>v.reject(M)}),A=new Ob(Rh(_.path),x,{includeMetadataChanges:!0,Ka:!0});return Nb(c,A)})(await Im(s),s.asyncQueue,e,i,a))),a.promise}function zC(s,e){const i=new mr;return s.asyncQueue.enqueueAndForget((async()=>wC(await LC(s),e,i))),i.promise}function qb(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const BC="ComponentProvider",dv=new Map;function HC(s,e,i,a,o){return new lw(s,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,qb(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const Gb="firestore.googleapis.com",mv=!0;class pv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Gb,this.ssl=mv}else this.host=e.host,this.ssl=e.ssl??mv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_b;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gR)throw new de(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$A("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qb(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new de(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new de(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new de(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gp{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new UA;switch(a.type){case"firstParty":return new qA(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new de(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=dv.get(i);a&&(oe(BC,"Removing Datastore"),dv.delete(i),a.terminate())})(this),Promise.resolve()}}function qC(s,e,i,a={}){s=di(s,gp);const o=bl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},_=`${e}:${i}`;o&&(Uv(`https://${_}`),zv("Firestore",!0)),c.host!==Gb&&c.host!==_&&dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:_,ssl:o,emulatorOptions:a};if(!pr(p,d)&&(s._setSettings(p),a.mockUserToken)){let v,x;if(typeof a.mockUserToken=="string")v=a.mockUserToken,x=an.MOCK_USER;else{v=lx(a.mockUserToken,s._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new de(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new an(A)}s._authCredentials=new zA(new D1(v,x))}}class jh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new jh(this.firestore,e,this._query)}}class Ut{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $o(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(au(i,Ut._jsonSchema))return new Ut(e,a||null,new ve(yt.fromString(i.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:Pt("string",Ut._jsonSchemaVersion),referencePath:Pt("string")};class $o extends jh{constructor(e,i,a){super(e,i,Rh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new ve(e))}withConverter(e){return new $o(this.firestore,e,this._path)}}function dn(s,e,...i){if(s=pn(s),arguments.length===1&&(e=Fm.newId()),XA("doc","path",e),s instanceof gp){const a=yt.fromString(e,...i);return I_(a),new Ut(s,null,new ve(a))}{if(!(s instanceof Ut||s instanceof $o))throw new de(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(yt.fromString(e,...i));return I_(a),new Ut(s.firestore,s instanceof $o?s.converter:null,new ve(a))}}const gv="AsyncQueue";class yv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Tb(this,"async_queue_retry"),this._c=()=>{const a=em();a&&oe(gv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=em();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=em();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Al(e))throw e;oe(gv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Es("INTERNAL UNHANDLED ERROR: ",_v(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=hp.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:_v(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function _v(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class oa extends gp{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new yv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yv(e),this._firestoreClient=void 0,await e}}}function GC(s,e){const i=typeof s=="object"?s:Gv(),a=typeof s=="string"?s:uh,o=km(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=rx("firestore");c&&qC(o,...c)}return o}function yp(s){if(s._terminated)throw new de(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||FC(s),s._firestoreClient}function FC(s){const e=s._freezeSettings(),i=HC(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new kC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class Wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wn(nn.fromBase64String(e))}catch(i){throw new de(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Wn(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(au(e,Wn._jsonSchema))return Wn.fromBase64String(e.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:Pt("string",Wn._jsonSchemaVersion),bytes:Pt("string")};class _p{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new de(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Lh{constructor(e){this._methodName=e}}class Gi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new de(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new de(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gi._jsonSchemaVersion}}static fromJSON(e){if(au(e,Gi._jsonSchema))return new Gi(e.latitude,e.longitude)}}Gi._jsonSchemaVersion="firestore/geoPoint/1.0",Gi._jsonSchema={type:Pt("string",Gi._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};class pi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(au(e,pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new pi(e.vectorValues);throw new de(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pi._jsonSchemaVersion="firestore/vectorValue/1.0",pi._jsonSchema={type:Pt("string",pi._jsonSchemaVersion),vectorValues:Pt("object")};const YC=/^__.*__$/;class KC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new xr(e,this.data,this.fieldMask,i,this.fieldTransforms):new lu(e,this.data,i,this.fieldTransforms)}}class Fb{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new xr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Yb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{dataSource:s})}}class Ph{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Ph({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return vh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Yb(this.dataSource)&&YC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class QC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Mh(e)}createContext(e,i,a,o=!1){return new Ph({dataSource:e,methodName:i,targetDoc:a,path:tn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kb(s){const e=s._freezeSettings(),i=Mh(s._databaseId);return new QC(s._databaseId,!!e.ignoreUndefinedProperties,i)}function XC(s,e,i,a,o,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,o);bp("Data must be an object, but it was:",d,a);const _=Qb(a,d);let p,v;if(c.merge)p=new jn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const x=[];for(const A of c.mergeFields){const M=Jo(e,A,i);if(!d.contains(M))throw new de(Z.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);Jb(x,M)||x.push(M)}p=new jn(x),v=d.fieldTransforms.filter((A=>p.covers(A.field)))}else p=null,v=d.fieldTransforms;return new KC(new An(_),p,v)}class Uh extends Lh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uh}}function $C(s,e,i){return new Ph({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class vp extends Lh{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=$C(this,e,!0),a=this.Ac.map((c=>hu(c,i))),o=new yl(a);return new jw(e.path,o)}isEqual(e){return e instanceof vp&&pr(this.Ac,e.Ac)}}function JC(s,e,i,a){const o=s.createContext(1,e,i);bp("Data must be an object, but it was:",o,a);const c=[],d=An.empty();Tr(a,((p,v)=>{const x=$b(e,p,i);v=pn(v);const A=o.childContextForFieldPath(x);if(v instanceof Uh)c.push(x);else{const M=hu(v,A);M!=null&&(c.push(x),d.set(x,M))}}));const _=new jn(c);return new Fb(d,_,o.fieldTransforms)}function ZC(s,e,i,a,o,c){const d=s.createContext(1,e,i),_=[Jo(e,a,i)],p=[o];if(c.length%2!=0)throw new de(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)_.push(Jo(e,c[M])),p.push(c[M+1]);const v=[],x=An.empty();for(let M=_.length-1;M>=0;--M)if(!Jb(v,_[M])){const F=_[M];let J=p[M];J=pn(J);const re=d.childContextForFieldPath(F);if(J instanceof Uh)v.push(F);else{const ne=hu(J,re);ne!=null&&(v.push(F),x.set(F,ne))}}const A=new jn(v);return new Fb(x,A,d.fieldTransforms)}function hu(s,e){if(Xb(s=pn(s)))return bp("Unsupported field value:",e,s),Qb(s,e);if(s instanceof Lh)return(function(a,o){if(!Yb(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const _ of a){let p=hu(_,o.childContextForArray(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=pn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Mw(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=mt.fromDate(a);return{timestampValue:ph(o.serializer,c)}}if(a instanceof mt){const c=new mt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ph(o.serializer,c)}}if(a instanceof Gi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Wn)return{bytesValue:cb(o.serializer,a._byteString)};if(a instanceof Ut){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:np(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof pi)return(function(d,_){const p=d instanceof pi?d.toArray():d;return{mapValue:{fields:{[z1]:{stringValue:B1},[ch]:{arrayValue:{values:p.map((x=>{if(typeof x!="number")throw _.createError("VectorValues must only contain numeric values.");return Zm(_.serializer,x)}))}}}}}})(a,o);if(yb(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Ym(a)}`)})(s,e)}function Qb(s,e){const i={};return V1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tr(s,((a,o)=>{const c=hu(o,e.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function Xb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof mt||s instanceof Gi||s instanceof Wn||s instanceof Ut||s instanceof Lh||s instanceof pi||yb(s))}function bp(s,e,i){if(!Xb(i)||!O1(i)){const a=Ym(i);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function Jo(s,e,i){if((e=pn(e))instanceof _p)return e._internalPath;if(typeof e=="string")return $b(s,e);throw vh("Field path arguments must be of type string or ",s,!1,void 0,i)}const WC=new RegExp("[~\\*/\\[\\]]");function $b(s,e,i){if(e.search(WC)>=0)throw vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new _p(...e.split("."))._internalPath}catch{throw vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function vh(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let _=`Function ${e}() called with invalid data`;i&&(_+=" (via `toFirestore()`)"),_+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${a}`),d&&(p+=` in document ${o}`),p+=")"),new de(Z.INVALID_ARGUMENT,_+s+p)}function Jb(s,e){return s.some((i=>i.isEqual(e)))}class eI{convertValue(e,i="none"){switch(vr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(_r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Tr(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[ch].arrayValue?.values?.map((a=>Rt(a.doubleValue)));return new pi(i)}convertGeoPoint(e){return new Gi(Rt(e.latitude),Rt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Ah(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Yo(e));default:return null}}convertTimestamp(e){const i=yr(e);return new mt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=yt.fromString(e);Ze(gb(a),9688,{name:e});const o=new Ko(a.get(1),a.get(3)),c=new ve(a.popFirst(5));return o.isEqual(i)||Es(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class Zb extends eI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,i)}}function sr(...s){return new vp("arrayUnion",s)}const vv="@firebase/firestore",bv="4.10.0";function Ev(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Wb{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(Jo("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class tI extends Wb{data(){return super.data()}}function nI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new de(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function iI(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class ko{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ia extends Wb{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Jo("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ia._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",ia._jsonSchema={type:Pt("string",ia._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Zc extends ia{data(e={}){return super.data(e)}}class cl{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new ko(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Zc(this._firestore,this._userDataWriter,a.key,a,new ko(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new de(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((_=>{const p=new Zc(o._firestore,o._userDataWriter,_.doc.key,_.doc,new ko(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);return _.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((_=>c||_.type!==3)).map((_=>{const p=new Zc(o._firestore,o._userDataWriter,_.doc.key,_.doc,new ko(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,x=-1;return _.type!==0&&(v=d.indexOf(_.doc.key),d=d.delete(_.doc.key)),_.type!==1&&(d=d.add(_.doc),x=d.indexOf(_.doc.key)),{type:sI(_.type),doc:p,oldIndex:v,newIndex:x}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=cl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function sI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:s})}}cl._jsonSchemaVersion="firestore/querySnapshot/1.0",cl._jsonSchema={type:Pt("string",cl._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};function Tv(s){s=di(s,Ut);const e=di(s.firestore,oa),i=yp(e);return UC(i,s._key).then((a=>eE(e,s,a)))}function rI(s,e,i){s=di(s,Ut);const a=di(s.firestore,oa),o=iI(s.converter,e),c=Kb(a);return Ep(a,[XC(c,"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,mi.none())])}function Jn(s,e,i,...a){s=di(s,Ut);const o=di(s.firestore,oa),c=Kb(o);let d;return d=typeof(e=pn(e))=="string"||e instanceof _p?ZC(c,"updateDoc",s._key,e,i,a):JC(c,"updateDoc",s._key,e),Ep(o,[d.toMutation(s._key,mi.exists(!0))])}function xv(s){return Ep(di(s.firestore,oa),[new Wm(s._key,mi.none())])}function Sv(s,...e){s=pn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Ev(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Ev(e[a])){const v=e[a];e[a]=v.next?.bind(v),e[a+1]=v.error?.bind(v),e[a+2]=v.complete?.bind(v)}let c,d,_;if(s instanceof Ut)d=di(s.firestore,oa),_=Rh(s._key.path),c={next:v=>{e[a]&&e[a](eE(d,s,v))},error:e[a+1],complete:e[a+2]};else{const v=di(s,jh);d=di(v.firestore,oa),_=v._query;const x=new Zb(d);c={next:A=>{e[a]&&e[a](new cl(d,x,v,A))},error:e[a+1],complete:e[a+2]},nI(s._query)}const p=yp(d);return PC(p,_,o,c)}function Ep(s,e){const i=yp(s);return zC(i,e)}function eE(s,e,i){const a=i.docs.get(e._key),o=new Zb(s);return new ia(s,o,e._key,a,new ko(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){PA(El),fl(new sa("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),_=new oa(new BA(a.getProvider("auth-internal")),new GA(d,a.getProvider("app-check-internal")),ow(d,o),d);return c={useFetchStreams:i,...c},_._setSettings(c),_}),"PUBLIC").setMultipleInstances(!0)),fr(vv,bv,e),fr(vv,bv,"esm2020")})();const tE=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim();const aI=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const lI=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase());const Av=s=>{const e=lI(s);return e.charAt(0).toUpperCase()+e.slice(1)};var oI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const uI=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const cI=st.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,..._},p)=>st.createElement("svg",{ref:p,...oI,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:tE("lucide",o),...!c&&!uI(_)&&{"aria-hidden":"true"},..._},[...d.map(([v,x])=>st.createElement(v,x)),...Array.isArray(c)?c:[c]]));const ut=(s,e)=>{const i=st.forwardRef(({className:a,...o},c)=>st.createElement(cI,{ref:c,iconNode:e,className:tE(`lucide-${aI(Av(s))}`,`lucide-${s}`,a),...o}));return i.displayName=Av(s),i};const hI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],nE=ut("arrow-right",hI);const fI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],No=ut("book-open",fI);const dI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],jo=ut("circle-check-big",dI);const mI=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],wv=ut("crown",mI);const pI=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],Rv=ut("door-open",pI);const gI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],iE=ut("file-text",gI);const yI=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],sE=ut("gift",yI);const _I=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],vI=ut("hammer",_I);const bI=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],Nm=ut("hand",bI);const EI=[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]],rE=ut("handshake",EI);const TI=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],xI=ut("hash",TI);const SI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Cv=ut("history",SI);const AI=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],aE=ut("house",AI);const wI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],lE=ut("info",wI);const RI=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],CI=ut("layers",RI);const II=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],NI=ut("loader",II);const DI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],oE=ut("log-out",DI);const OI=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Wc=ut("refresh-cw",OI);const MI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],nm=ut("rotate-ccw",MI);const VI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Iv=ut("shield",VI);const kI=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],jI=ut("sparkles",kI);const LI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],PI=ut("trash-2",LI);const UI=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Dm=ut("triangle-alert",UI);const zI=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],zh=ut("trophy",zI);const BI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],HI=ut("user",BI);const qI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],GI=ut("users",qI);const FI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],na=ut("x",FI);const YI=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Nv=ut("zap",YI),KI={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:b5deb05899e092116aa637"},uE=qv(KI),im=jA(uE),mn=GC(uE),xn=typeof __app_id<"u"?__app_id:"together-game",QI="23",Wa="together_game_roomId",Dv={MAGENTA:{id:"M",bg:"bg-pink-600",border:"border-pink-400",text:"text-white"},LEMON:{id:"L",bg:"bg-yellow-400",border:"border-yellow-200",text:"text-yellow-900"}},Pi=[{id:"A",name:"Team Magenta",color:"text-pink-400",bg:"bg-pink-900/30",border:"border-pink-500/50",badgeBg:"bg-pink-900"},{id:"B",name:"Team Lemon",color:"text-yellow-400",bg:"bg-yellow-900/30",border:"border-yellow-500/50",badgeBg:"bg-yellow-900"},{id:"C",name:"Team Cyan",color:"text-cyan-400",bg:"bg-cyan-900/30",border:"border-cyan-500/50",badgeBg:"bg-cyan-900"}],XI=[{id:"run_3",text:"Run of 3",points:2,type:"RUN",count:3,desc:"Collect any 3 sequential cards (e.g., 5, 6, 7). Colors can be mixed."},{id:"set_3",text:"3 of a Kind",points:2,type:"SET",count:3,desc:"Collect 3 cards of the same number. Colors can be mixed."},{id:"pair_1s",text:"Paired 1s",points:2,type:"EXACT_SET",val:1,count:2,desc:"Collect two cards showing the number 1."},{id:"odd_colors",text:"Odd Color Pair",points:2,type:"ODD_COLORS",desc:"Collect two Odd-numbered cards: one must be Lemon and one Magenta."},{id:"sum_18_3",text:"Sum of 18",points:3,type:"SUM",count:3,target:18,desc:"Collect 3 cards that add up to exactly 18."},{id:"low_sum_6",text:"Low Sum 6",points:3,type:"SUM",count:3,target:6,desc:"Collect 3 cards that add up to exactly 6."},{id:"arith_pair",text:"Arithmetic Pair",points:3,type:"ARITHMETIC_PAIR",desc:"Collect a Lemon card (X) and a Magenta card (Y) where (Y = X + 3)."},{id:"two_pairs",text:"Two Pairs",points:3,type:"TWO_PAIRS",desc:"Collect two pairs of numbers (e.g., two 3s and two 8s). Colors can be mixed."},{id:"run_4_mixed",text:"Run of 4",points:3,type:"RUN",count:4,desc:"Collect any 4 sequential cards (e.g., 2, 3, 4, 5). Colors can be mixed."},{id:"run_3_blue",text:"Lemon Run",points:3,type:"RUN",count:3,specificColor:"L",desc:"Collect 3 sequential cards that are all Lemon."},{id:"set_6s",text:"Set of 6's",points:3,type:"EXACT_SET",val:6,count:3,desc:"Collect three cards showing the number 6."},{id:"set_odd",text:"Odd Set",points:3,type:"SET_PARITY",count:3,parity:"ODD",desc:"Collect 3 cards of the same number, where that number is Odd."},{id:"set_even",text:"Even Set",points:3,type:"SET_PARITY",count:3,parity:"EVEN",desc:"Collect 3 cards of the same number, where that number is Even."},{id:"even_blues",text:"Even Lemons",points:3,type:"COLOR_PARITY",count:3,color:"L",parity:"EVEN",desc:"Collect 3 Lemon cards that are all Even numbers."},{id:"odd_magentas",text:"Odd Magentas",points:3,type:"COLOR_PARITY",count:3,color:"M",parity:"ODD",desc:"Collect 3 Magenta cards that are all Odd numbers."},{id:"run_low",text:"Low Run",points:4,type:"EXACT_SEQ",seq:[1,2,3,4],desc:"Collect the exact sequence 1, 2, 3, 4. Colors can be mixed."},{id:"run_high",text:"High Run",points:4,type:"EXACT_SEQ",seq:[5,6,7,8],desc:"Collect the exact sequence 5, 6, 7, 8. Colors can be mixed."},{id:"run_odd",text:"Odd Run",points:4,type:"EXACT_SEQ",seq:[3,5,7],desc:"Collect the exact sequence 3, 5, 7. Colors can be mixed."},{id:"set_4",text:"4 of a Kind",points:4,type:"SET",count:4,desc:"Collect 4 cards of the same number. Colors can be mixed."},{id:"full_house",text:"Full House",points:4,type:"FULL_HOUSE",desc:"Collect a Set of 3 and a Pair (e.g., three 5s and two 8s)."},{id:"mixed_pair",text:"Mixed Pairs",points:4,type:"MIXED_PAIRS",desc:"Collect one Pair of Lemon cards and one Pair of Magenta cards."},{id:"blue_odds",text:"Lemon Odds",points:4,type:"COLOR_PARITY",count:4,color:"L",parity:"ODD",desc:"Collect 4 Lemon cards that are all Odd numbers."},{id:"mag_evens",text:"Magenta Evens",points:4,type:"COLOR_PARITY",count:4,color:"M",parity:"EVEN",desc:"Collect 4 Magenta cards that are all Even numbers."},{id:"sum_10_blue",text:"Lemon 10",points:4,type:"SUM_COLOR",count:3,target:10,color:"L",desc:"Collect 3 Lemon cards that add up to exactly 10."},{id:"sum_20_mag",text:"Magenta 20",points:4,type:"SUM_COLOR",count:3,target:20,color:"M",desc:"Collect 3 Magenta cards that add up to exactly 20."},{id:"even_sum_14",text:"Even Sum 14",points:4,type:"SUM_PARITY",count:3,target:14,parity:"EVEN",desc:"Collect 3 Even-numbered cards that add up to exactly 14."},{id:"odd_sum_15",text:"Odd Sum 15",points:4,type:"SUM_PARITY",count:3,target:15,parity:"ODD",desc:"Collect 3 Odd-numbered cards that add up to exactly 15."},{id:"doubler",text:"Doubler",points:4,type:"DOUBLER_SUM",desc:"Collect 3 cards where two of the same color add up to the number on the other color card."},{id:"blue_low",text:"Lemon Low",points:4,type:"COLOR_RANGE",count:4,color:"L",max:4,desc:"Collect 4 Lemon cards with numbers 4 or lower."},{id:"mag_high",text:"Magenta High",points:4,type:"COLOR_RANGE",count:4,color:"M",min:5,desc:"Collect 4 Magenta cards with numbers 5 or higher."},{id:"tri_color_set_3",text:"Color Set (3's)",points:4,type:"SPECIFIC_SET_MIXED",val:3,countL:2,countM:1,desc:"Collect three 3s: exactly two must be Lemon and one must be Magenta."},{id:"sum_12_tri",text:"Unique Sum 12",points:4,type:"SUM_DIFF",count:3,target:12,desc:"Collect 3 cards with different numbers that add up to exactly 12."},{id:"run_5",text:"Run of 5",points:5,type:"RUN",count:5,desc:"Collect any 5 sequential cards (e.g., 2, 3, 4, 5, 6). Colors can be mixed."},{id:"run_4_col",text:"Color Run 4",points:5,type:"RUN",count:4,sameColor:!0,desc:"Collect 4 sequential cards that share the same color."},{id:"set_4_8s",text:"Four 8s",points:5,type:"EXACT_SET",val:8,count:4,desc:"Collect four cards showing the number 8."},{id:"four_sum_28",text:"Four 7s",points:5,type:"EXACT_SET",val:7,count:4,desc:"Collect four cards showing the number 7."},{id:"pure_blue",text:"Pure Lemon",points:4,type:"PURE_COLOR",count:5,color:"L",desc:"Collect any 5 Lemon cards, regardless of number."},{id:"pure_mag",text:"Pure Magenta",points:4,type:"PURE_COLOR",count:5,color:"M",desc:"Collect any 5 Magenta cards, regardless of number."},{id:"sum_25_4",text:"Sum of 25",points:5,type:"SUM",count:4,target:25,desc:"Collect 4 cards that add up to exactly 25."},{id:"color_run_4",text:"Split Color Run",points:5,type:"COLOR_SPLIT_RUN",desc:"Collect a run of 4 cards: the lower two must be Lemon and the higher two Magenta."},{id:"high_pairs",text:"High Pairs",points:5,type:"SPECIFIC_PAIRS",vals:[7,8],desc:"Collect a pair of 7s and a pair of 8s."},{id:"max_min",text:"Max/Min Pairs",points:5,type:"SPECIFIC_PAIRS",vals:[1,8],desc:"Collect a pair of 1s and a pair of 8s."},{id:"blue_even_run",text:"Lemon Even Run",points:5,type:"RUN_COLOR_PARITY",color:"L",parity:"EVEN",desc:"Collect 3 Lemon cards that form an Even sequence (2, 4, 6 or 4, 6, 8)."},{id:"mag_odd_set",text:"Magenta Odd Set",points:5,type:"SET_PARITY_COLOR",count:3,parity:"ODD",color:"M",desc:"Collect 3 Magenta cards of the same Odd number."},{id:"all_four_7s",text:"Four Split color 7s",points:6,type:"ALL_FOUR_7S",desc:"Collect four 7s: exactly two must be Lemon and two must be Magenta."},{id:"odd_full_house_blue",text:"Odd Lemon House",points:6,type:"FULL_HOUSE_COLOR_PARITY",color:"L",parity:"ODD",desc:"Collect a Full House (Set of 3 + Pair) using only Odd-numbered Lemon cards."}],cE=s=>{let e=s.length,i;for(;e!==0;)i=Math.floor(Math.random()*e),e--,[s[e],s[i]]=[s[i],s[e]];return s},$I=()=>{let s=[];for(let e=0;e<4;e++)for(let i=1;i<=8;i++)s.push({id:`M-${e}-${i}`,color:"M",value:i}),s.push({id:`L-${e}-${i}`,color:"L",value:i});return cE(s)},Ov=()=>y.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[y.jsx(rE,{size:12,className:"text-pink-600"}),y.jsx("span",{className:"text-[10px] font-black tracking-widest text-pink-600 uppercase",children:"TOGETHER"})]}),JI=()=>y.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[y.jsx(rE,{size:22,className:"text-pink-600"}),y.jsx("span",{className:"text-[20px] font-black tracking-widest text-pink-600 uppercase",children:"TOGETHER"})]}),ZI=(s,e)=>{if(!s||s.length===0)return!1;const i=s.map(c=>c.value).sort((c,d)=>c-d),a=s.map(c=>c.color),o=i.reduce((c,d)=>c+d,0);switch(e.type){case"RUN":if(s.length!==e.count)return!1;for(let S=0;S<i.length-1;S++)if(i[S]+1!==i[S+1])return!1;return!(e.sameColor&&!a.every(S=>S===a[0])||e.specificColor&&!a.every(S=>S===e.specificColor));case"EXACT_SEQ":return s.length!==e.seq.length?!1:i.every((S,D)=>S===e.seq[D]);case"SET":return s.length!==e.count?!1:i.every(S=>S===i[0]);case"TWO_PAIRS":return s.length!==4?!1:i[0]===i[1]&&i[2]===i[3]&&i[1]!==i[2];case"FULL_HOUSE":if(s.length!==5)return!1;const c=i.filter(S=>S===i[0]).length,d=i.filter(S=>S===i[4]).length;return c===3&&d===2||c===2&&d===3;case"SET_PARITY":return s.length!==e.count||!i.every(S=>S===i[0])?!1:e.parity==="ODD"?i[0]%2!==0:i[0]%2===0;case"EXACT_SET":return s.length!==e.count?!1:i.every(S=>S===e.val);case"COLOR_PARITY":return s.length!==e.count||!a.every(S=>S===e.color)?!1:e.parity==="ODD"?i.every(S=>S%2!==0):i.every(S=>S%2===0);case"COLOR_RANGE":return s.length!==e.count||!a.every(S=>S===e.color)?!1:e.max?i.every(S=>S<=e.max):e.min?i.every(S=>S>=e.min):!1;case"MIXED_PAIRS":if(s.length!==4)return!1;const _=s.filter(S=>S.color==="L").map(S=>S.value),p=s.filter(S=>S.color==="M").map(S=>S.value);return _.length!==2||p.length!==2?!1:_[0]===_[1]&&p[0]===p[1];case"PURE_COLOR":return s.length!==e.count?!1:a.every(S=>S===e.color);case"SUM":return s.length!==e.count?!1:o===e.target;case"SUM_COLOR":return s.length!==e.count||!a.every(S=>S===e.color)?!1:o===e.target;case"SUM_PARITY":if(s.length!==e.count||o!==e.target)return!1;const v=e.parity==="ODD";return i.every(S=>S%2!==0===v);case"SUM_DIFF":return s.length!==e.count||o!==e.target?!1:new Set(i).size===i.length;case"DOUBLER_SUM":if(s.length!==3)return!1;for(let S=0;S<3;S++){const D=s[S],k=s.filter((R,We)=>We!==S);if(k[0].color===k[1].color&&k[0].value+k[1].value===D.value)return!0}return!1;case"COLOR_SPLIT_RUN":if(s.length!==4)return!1;for(let S=0;S<i.length-1;S++)if(i[S]+1!==i[S+1])return!1;const x=[...s].sort((S,D)=>S.value-D.value),A=x[0].color,M=x[1].color,F=x[2].color,J=x[3].color;return A==="L"&&M==="L"&&F==="M"&&J==="M";case"SPECIFIC_PAIRS":return s.length!==4||i[0]!==i[1]||i[2]!==i[3]?!1:i[0]===e.vals[0]&&i[2]===e.vals[1];case"ODD_COLORS":return s.length!==2||i.some(S=>S%2===0)?!1:a.includes("L")&&a.includes("M");case"ALL_FOUR_7S":if(s.length!==4||!i.every(S=>S===7))return!1;const re=a.filter(S=>S==="L").length,ne=a.filter(S=>S==="M").length;return re===2&&ne===2;case"ARITHMETIC_PAIR":if(s.length!==2)return!1;const ye=s.find(S=>S.color==="L"),xe=s.find(S=>S.color==="M");return!ye||!xe?!1:xe.value===ye.value+3;case"FULL_HOUSE_COLOR_PARITY":if(s.length!==5||!a.every(S=>S===e.color))return!1;const _e=e.parity==="ODD";if(!i.every(S=>S%2!==0===_e))return!1;const Ye=i.filter(S=>S===i[0]).length,Ve=i.filter(S=>S===i[4]).length;return Ye===3&&Ve===2||Ye===2&&Ve===3;case"RUN_COLOR_PARITY":if(s.length!==3||!a.every(S=>S===e.color))return!1;const Pe=e.parity==="ODD";return i.every(S=>S%2!==0===Pe)?i[1]===i[0]+2&&i[2]===i[1]+2:!1;case"SET_PARITY_COLOR":if(s.length!==e.count||!a.every(S=>S===e.color)||!i.every(S=>S===i[0]))return!1;const N=e.parity==="ODD";return i[0]%2!==0===N;case"SPECIFIC_SET_MIXED":if(s.length!==3||!i.every(S=>S===e.val))return!1;const w=a.filter(S=>S==="L").length,C=a.filter(S=>S==="M").length;return w===e.countL&&C===e.countM;default:return!1}},Do=()=>y.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,var(--tw-gradient-stops))] from-slate-900 via-slate-950 to-black"}),y.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-96 h-96 bg-pink-600/30 rounded-full blur-3xl animate-pulse"}),y.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-96 h-96 bg-yellow-400/30 rounded-full blur-3xl animate-pulse delay-700"})]}),WI=({event:s,onClose:e,currentUserId:i})=>{if(!s)return null;const{type:a,actorName:o,data:c,actorId:d,targetId:_}=s,p=i===_;if(i===d)return null;let x=null,A="",M=null;switch(a){case"GOAL_CHANGE":A="Goal Changed",M=y.jsx(Wc,{className:"text-purple-400",size:32}),x=y.jsxs("div",{className:"flex flex-col gap-4",children:[y.jsxs("div",{className:"text-center text-slate-300",children:[y.jsx("span",{className:"font-bold text-white",children:o})," changed"," ",c.goalType==="PERSONAL"?"their":"the"," ",y.jsx("span",{className:"font-bold text-purple-400",children:c.goalType==="PERSONAL"?"Personal":"Public"})," ","Goal!"]}),y.jsxs("div",{className:"flex items-center justify-center gap-4",children:[y.jsxs("div",{className:"opacity-60 scale-75 origin-right",children:[y.jsx(hl,{goal:c.oldGoal,small:!0}),y.jsx("div",{className:"text-center text-xs mt-1 text-slate-500",children:"OLD"})]}),y.jsx(nE,{className:"text-slate-500"}),y.jsxs("div",{className:"scale-90 origin-left",children:[y.jsx(hl,{goal:c.newGoal,small:!0}),y.jsx("div",{className:"text-center text-xs mt-1 text-green-400",children:"NEW"})]})]})]});break;case"GOAL_CLAIM":A="Goal Completed!",M=y.jsx(zh,{className:"text-yellow-400",size:32}),x=y.jsxs("div",{className:"flex flex-col gap-4 items-center",children:[y.jsxs("div",{className:"text-center text-slate-300",children:[y.jsx("span",{className:"font-bold text-white",children:o})," completed"," ",c.goalType==="PERSONAL"?"their":"the"," ",y.jsx("span",{className:"font-bold text-yellow-400",children:c.goalType})," ","goal!"]}),y.jsx(hl,{goal:c.goal}),y.jsx("div",{className:"flex gap-1 justify-center bg-slate-800/50 p-2 rounded-xl mt-2",children:c.cards.map((F,J)=>y.jsx(Zo,{card:F,tiny:!0},J))})]});break;case"TRADE":p?(A="Trade Received",M=y.jsx(sE,{className:"text-blue-400",size:32}),x=y.jsxs("div",{className:"flex flex-col gap-4 items-center",children:[y.jsxs("div",{className:"text-center text-slate-300",children:[y.jsx("span",{className:"font-bold text-white",children:o})," sent you cards!"]}),y.jsx("div",{className:"flex gap-2 justify-center",children:c.cards.map((F,J)=>y.jsx(Zo,{card:F,small:!0},J))})]})):(A="Trade Occurred",M=y.jsx(Nm,{className:"text-blue-400",size:32}),x=y.jsx("div",{className:"flex flex-col gap-4 items-center",children:y.jsxs("div",{className:"text-center text-slate-300 text-lg",children:[y.jsx("span",{className:"font-bold text-white",children:o})," gave"," ",y.jsxs("span",{className:"font-bold text-blue-400",children:[c.count," card",c.count>1?"s":""]})," ","to ",y.jsx("span",{className:"font-bold text-white",children:c.targetName}),"."]})}));break;default:return null}return y.jsx("div",{className:"fixed inset-0 z-200 flex items-center justify-center p-4 animate-in fade-in duration-300 pointer-events-none",children:y.jsxs("div",{className:"bg-slate-900/95 border-2 border-slate-700 rounded-2xl max-w-sm w-full p-6 shadow-2xl relative pointer-events-auto transform transition-all scale-100",children:[y.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-slate-500 hover:text-white",children:y.jsx(na,{size:24})}),y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("div",{className:"mb-4 bg-slate-800 p-3 rounded-full border border-slate-700",children:M}),y.jsx("h3",{className:"text-2xl font-black text-white mb-4",children:A}),x,y.jsx("button",{onClick:e,className:"w-full mt-6 bg-slate-800 hover:bg-slate-700 text-white font-bold py-3 rounded-xl transition-colors",children:"Dismiss"})]})]})})},sm=({onConfirmLeave:s,onConfirmLobby:e,onCancel:i,isHost:a,inGame:o})=>y.jsx("div",{className:"fixed inset-0 z-200 bg-black/90 flex items-center justify-center p-4 animate-in fade-in duration-200",children:y.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl max-w-sm w-full p-6 text-center shadow-2xl",children:[y.jsx(Dm,{className:"mx-auto text-red-500 mb-4",size:48}),y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Leave Game?"}),y.jsx("p",{className:"text-slate-400 mb-6",children:o?"Leaving now will disrupt the game!":"You will be removed from the lobby."}),y.jsxs("div",{className:"flex flex-col gap-3",children:[y.jsx("button",{onClick:i,className:"bg-slate-800 hover:bg-slate-700 text-white font-bold py-3 rounded-xl transition-colors",children:"Stay (Cancel)"}),a&&o&&y.jsxs("button",{onClick:e,className:"bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl transition-colors flex items-center justify-center gap-2",children:[y.jsx(aE,{size:18})," Return Everyone to Lobby"]}),y.jsxs("button",{onClick:s,className:"bg-red-600 hover:bg-red-500 text-white font-bold py-3 rounded-xl transition-colors flex items-center justify-center gap-2",children:[y.jsx(oE,{size:18})," ",a&&o?"End Game for All":"Leave Room"]})]})]})}),eN=({goal:s,onClose:e})=>y.jsx("div",{className:"fixed inset-0 z-100 bg-black/80 flex items-center justify-center p-4 animate-in fade-in duration-200",onClick:e,children:y.jsxs("div",{className:"bg-slate-900 border-2 border-slate-700 rounded-2xl max-w-sm w-full p-6 shadow-2xl relative",onClick:i=>i.stopPropagation(),children:[y.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-slate-500 hover:text-white",children:y.jsx(na,{size:24})}),y.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[y.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-800 flex items-center justify-center mb-2",children:y.jsx(lE,{size:32,className:"text-pink-400"})}),y.jsx("h3",{className:"text-2xl font-black text-white",children:s.text}),y.jsx("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700 w-full",children:y.jsx("p",{className:"text-slate-300 font-medium text-lg leading-relaxed",children:s.desc||"No description available."})}),y.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[y.jsx(zh,{className:"text-yellow-400",size:20}),y.jsxs("span",{className:"text-xl font-bold text-yellow-400",children:[s.points," Points"]})]}),y.jsx("button",{onClick:e,className:"w-full bg-slate-800 hover:bg-slate-700 text-white font-bold py-3 rounded-xl mt-4 transition-colors",children:"Got it"})]})]})}),tN=({completedGoals:s,onClose:e})=>{const i=[...s].sort((a,o)=>a.teamId.localeCompare(o.teamId));return y.jsx("div",{className:"fixed inset-0 z-200 bg-black/95 flex items-center justify-center p-4 animate-in fade-in duration-200",children:y.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl max-w-4xl w-full max-h-[90vh] flex flex-col shadow-2xl",children:[y.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-center bg-slate-800/50 rounded-t-2xl",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"bg-indigo-600 p-2 rounded-lg",children:y.jsx(iE,{className:"text-white",size:24})}),y.jsx("h2",{className:"text-2xl font-black text-white",children:"Game Report Card"})]}),y.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-700 rounded-full transition-colors text-slate-400 hover:text-white",children:y.jsx(na,{size:24})})]}),y.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:Pi.map(a=>{const o=i.filter(c=>c.teamId===a.id);return o.length===0?null:y.jsxs("div",{className:`border-l-4 ${a.border} pl-6 py-2`,children:[y.jsx("h3",{className:`text-xl font-black mb-4 ${a.color}`,children:a.name}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map((c,d)=>y.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 border border-slate-700 flex flex-col gap-3",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsx("div",{className:"font-bold text-white text-lg",children:c.goal.text}),y.jsxs("div",{className:"text-xs text-slate-400",children:["Completed by ",c.playerName]})]}),y.jsxs("div",{className:"bg-yellow-400/10 text-yellow-400 font-bold px-2 py-1 rounded text-xs border border-yellow-400/20",children:["+",c.points," pts"]})]}),y.jsx("div",{className:"flex gap-1 justify-center bg-slate-900/50 p-2 rounded-lg",children:c.cards.map((_,p)=>y.jsx(Zo,{card:_,tiny:!0},p))})]},d))})]},a.id)})}),y.jsx("div",{className:"p-4 border-t border-slate-800 text-center bg-slate-800/30 rounded-b-2xl",children:y.jsx("button",{onClick:e,className:"bg-white text-slate-900 font-bold px-8 py-3 rounded-xl hover:scale-105 transition-transform",children:"Close Report"})})]})})},Zo=({card:s,onClick:e,selected:i,small:a,disabled:o,tiny:c})=>{if(!s)return y.jsx("div",{className:`border-2 border-dashed border-gray-700 rounded-xl bg-gray-800/50 ${a?"w-10 h-14":"w-20 h-28"}`});const d=s.color==="M"?Dv.MAGENTA:Dv.LEMON;return c?y.jsx("div",{className:`w-6 h-8 rounded flex items-center justify-center text-xs font-black ${d.bg} ${d.text} border border-white/20 shadow-sm`,children:s.value}):y.jsxs("button",{onClick:o?void 0:e,disabled:o,className:`
        relative rounded-xl font-black flex flex-col items-center justify-center transition-all shadow-lg select-none
        ${a?"w-12 h-16 text-xl":"w-20 h-28 md:w-24 md:h-32 text-4xl md:text-5xl"}
        ${d.bg} ${d.text} ${d.border} border-b-4
        ${i?"ring-2 ring-white -translate-y-2 z-10 scale-105":""}
        ${o?"opacity-40 cursor-not-allowed grayscale-[0.3]":"hover:brightness-110 cursor-pointer active:scale-95"}
      `,children:[y.jsx("span",{children:s.value}),!a&&y.jsxs(y.Fragment,{children:[y.jsx("span",{className:"absolute top-1 left-2 text-[10px] opacity-70",children:d.id}),y.jsx("span",{className:"absolute bottom-1 right-2 text-[10px] opacity-70 rotate-180",children:d.id})]})]})},hl=({goal:s,isPublic:e,isPersonal:i,completed:a,onClick:o,selected:c,small:d})=>y.jsxs("div",{onClick:o,className:`
      relative rounded-xl border flex flex-col items-center justify-center text-center overflow-hidden transition-all
      ${a?"bg-green-900/40 border-green-500 opacity-60":e?"bg-indigo-900/60 border-indigo-500 shadow-[0_0_15px_rgba(99,102,241,0.2)]":"bg-slate-800 border-slate-600"}
      ${c?"ring-2 ring-white scale-105 z-20":""}
      ${d?"w-24 h-16 p-1":"w-full h-full min-h-[100px] p-2 hover:bg-slate-700 cursor-pointer"}
    `,children:[e&&!d&&y.jsx("div",{className:"absolute top-0 inset-x-0 bg-indigo-600 text-[9px] font-bold text-white uppercase tracking-widest py-0.5",children:"Public Goal"}),i&&!d&&y.jsx("div",{className:"absolute top-0 inset-x-0 bg-pink-600 text-[9px] font-bold text-white uppercase tracking-widest py-0.5",children:"My Goal"}),y.jsx("div",{className:"flex-1 flex items-center justify-center px-1",children:y.jsx("p",{className:`text-white font-bold ${d?"text-[9px] leading-tight line-clamp-2":"text-xs md:text-sm leading-tight"}`,children:s?.text||"???"})}),!d&&y.jsxs("div",{className:"mt-1 flex items-center gap-1 bg-black/40 px-2 rounded-full",children:[y.jsx(zh,{size:10,className:"text-yellow-400"}),y.jsxs("span",{className:"text-yellow-400 font-bold text-xs",children:[s?.points," pts"]})]}),a&&y.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center backdrop-blur-[1px]",children:y.jsx(jo,{className:"text-green-500 drop-shadow-lg",size:d?20:32})})]});function nN(){const[s,e]=st.useState(null),[i,a]=st.useState("menu"),[o,c]=st.useState(""),[d,_]=st.useState(()=>localStorage.getItem(Wa)||""),[p,v]=st.useState(null),[x,A]=st.useState(""),[M,F]=st.useState(!1),[J,re]=st.useState([]),[ne,ye]=st.useState(!1),[xe,_e]=st.useState(!1),[Ye,Ve]=st.useState(!1),[Pe,N]=st.useState(!1),[w,C]=st.useState(!1),[S,D]=st.useState(null),[k,R]=st.useState(null),[We,Et]=st.useState(0),[q,ee]=st.useState(null),[pe,ke]=st.useState(null),[Oe,V]=st.useState(()=>localStorage.getItem("gameHub_playerName")||"");st.useEffect(()=>{Oe&&localStorage.setItem("gameHub_playerName",Oe)},[Oe]),st.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await TS(im,__initial_auth_token):await yS(im))(),AS(im,e)},[]),st.useEffect(()=>{const W=Sv(dn(mn,"game_hub_settings","config"),ie=>{ie.exists()&&ie.data()[QI]?.maintenance?F(!0):F(!1)});return()=>W()},[]),st.useEffect(()=>{if(!d||!s)return;const W=Sv(dn(mn,"artifacts",xn,"public","data","rooms",d),ie=>{if(ie.exists()){const he=ie.data();if(!he.players.some(me=>me.id===s.uid)){_(""),localStorage.removeItem(Wa),a("menu"),A("You were removed.");return}v(he),a(he.status==="lobby"?"lobby":"game"),he.lastEvent&&he.lastEvent.id!==We&&(Et(he.lastEvent.id),R(he.lastEvent))}else _(""),localStorage.removeItem(Wa),a("menu"),A("Room ended.")});return()=>W()},[d,s,We]);const Q=async()=>{if(!p||!s)return;const W=p.players.map(ie=>ie.id===s.uid?{...ie,ready:!ie.ready}:ie);await Jn(dn(mn,"artifacts",xn,"public","data","rooms",d),{players:W})},ae=async()=>{if(!Oe)return A("Name required");C(!0);const W=Math.random().toString(36).substring(2,7).toUpperCase(),ie={roomId:W,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:Oe,teamId:"A",hand:[],ready:!1}],logs:[],completedGoals:[],lastEvent:null};await rI(dn(mn,"artifacts",xn,"public","data","rooms",W),ie),_(W),localStorage.setItem(Wa,W),a("lobby"),C(!1)},le=async()=>{if(!o||!Oe)return A("Enter Code and Name");C(!0);const W=dn(mn,"artifacts",xn,"public","data","rooms",o),ie=await Tv(W);if(!ie.exists())return C(!1),A("Room not found");const he=ie.data();if(he.status!=="lobby")return C(!1),A("Game in progress");if(he.players.length>=6)return C(!1),A("Room full");he.players.length;const me=[...he.players,{id:s.uid,name:Oe,teamId:null,hand:[],ready:!1}];await Jn(W,{players:me}),_(o),localStorage.setItem(Wa,o),C(!1)},Ee=async()=>{const W=p.players.length;if(W!==4&&W!==6){alert("Strictly 4 or 6 players required.");return}const ie=[...p.players],he=W===4?["A","B"]:["A","B","C"];ie.forEach((et,wn)=>{W===4?et.teamId=wn%2===0?"A":"B":et.teamId=wn%3===0?"A":wn%3===1?"B":"C",et.hand=[],et.score=0,et.ready=!1});const me=$I(),Y=cE([...XI]),ue=[me.pop(),me.pop(),me.pop()],se=Y.pop();ie.forEach((et,wn)=>{const ha=wn===0?1:wn===1?2:3;for(let Ar=0;Ar<ha;Ar++)et.hand.push(me.pop());et.personalGoal=Y.pop()});const Ke={};he.forEach(et=>{Ke[et]={goals:0,points:0}});const cn=ie[0].hand.length>6?"CHECK_LIMIT":"PLAYING";await Jn(dn(mn,"artifacts",xn,"public","data","rooms",d),{status:"playing",players:ie,deck:me,market:ue,goalDeck:Y,publicGoal:se,turnIndex:0,turnPhase:cn,cardsDrawn:0,tradesPerformed:0,goalChanged:!1,teamScores:Ke,completedGoals:[],lastEvent:{id:Date.now(),type:"GAME_START",actorName:"System"},logs:[{id:Date.now(),text:"Game Started! Good Luck.",type:"neutral"}]})},Ae=async()=>{if(!d||!s)return;const W=dn(mn,"artifacts",xn,"public","data","rooms",d);try{const ie=await Tv(W);if(ie.exists()){const he=ie.data();if(he.hostId===s.uid)await xv(W);else{const me=he.players.findIndex(ue=>ue.id===s.uid),Y=he.players.filter(ue=>ue.id!==s.uid);if(Y.length===0)await xv(W);else{let ue=he.turnIndex,se=!1;me<he.turnIndex?ue=Math.max(0,he.turnIndex-1):me===he.turnIndex&&(se=!0),ue>=Y.length&&(ue=0);const Ke={players:Y,turnIndex:ue,logs:sr({id:Date.now(),text:`${Oe} left the game.`,type:"danger"})};if(se&&Y.length>0){const un=Y[ue];Ke.turnPhase=un.hand.length>6?"CHECK_LIMIT":"PLAYING",Ke.cardsDrawn=0,Ke.tradesPerformed=0,Ke.goalChanged=!1}await Jn(W,Ke)}}}}catch(ie){console.error("Error leaving room",ie)}_(""),localStorage.removeItem(Wa),a("menu"),v(null),Ve(!1)},Me=async()=>{if(!p||p.hostId!==s.uid)return;const W=p.players.map(ie=>({...ie,hand:[],ready:!1,score:0,personalGoal:null}));await Jn(dn(mn,"artifacts",xn,"public","data","rooms",d),{status:"lobby",players:W,deck:[],market:[],goalDeck:[],publicGoal:null,logs:[],teamScores:{},completedGoals:[],turnIndex:0,lastEvent:null}),Ve(!1)},Tt=async()=>{await Ee()},ht=async W=>{if(!p||p.hostId!==s.uid)return;const ie=p.players.filter(he=>he.id!==W);await Jn(dn(mn,"artifacts",xn,"public","data","rooms",d),{players:ie})},Ki=async W=>{const ie=p.players.findIndex(ue=>ue.id===s.uid),he=p.players[ie],me=he.hand.filter(ue=>ue.id!==W.id),Y={};Y.players=[...p.players],Y.players[ie].hand=me,Y.deck=[W,...p.deck],me.length<=6&&(Y.turnPhase="PLAYING"),Y.logs=sr({id:Date.now(),text:`${he.name} discarded a card (Recycled).`,type:"neutral"}),await Jn(dn(mn,"artifacts",xn,"public","data","rooms",d),Y)},Qi=async W=>{if(p.cardsDrawn>=2){alert("You have already drawn 2 cards this turn.");return}const ie=p.players.findIndex(Ke=>Ke.id===s.uid),he=p.players[ie];let me,Y={players:[...p.players],deck:[...p.deck],market:[...p.market]};W===-1?me=Y.deck.pop():(me=Y.market[W],Y.market[W]=Y.deck.length>0?Y.deck.pop():null),Y.players[ie].hand.push(me);const ue=p.cardsDrawn+1;Y.cardsDrawn=ue;let se=W===-1?"drew from deck":`took ${me.value} from market`;Y.logs=sr({id:Date.now(),text:`${he.name} ${se}.`,type:"neutral"}),await Jn(dn(mn,"artifacts",xn,"public","data","rooms",d),Y)},Ss=async W=>{if(p.goalChanged){alert("You can only change a goal once per turn.");return}const ie=p.players.findIndex(se=>se.id===s.uid),he=p.players[ie],me={players:[...p.players],goalDeck:[...p.goalDeck],publicGoal:p.publicGoal};let Y,ue;W==="PERSONAL"?(Y=he.personalGoal,me.goalDeck.unshift(Y),ue=me.goalDeck.pop(),me.players[ie].personalGoal=ue):(Y=p.publicGoal,me.goalDeck.unshift(Y),ue=me.goalDeck.pop(),me.publicGoal=ue),me.goalChanged=!0,me.logs=sr({id:Date.now(),text:`${he.name} changed the ${W==="PERSONAL"?"Personal":"Public"} Goal.`,type:"neutral"}),me.lastEvent={id:Date.now(),type:"GOAL_CHANGE",actorId:s.uid,actorName:he.name,data:{oldGoal:Y,newGoal:ue,goalType:W}},await Jn(dn(mn,"artifacts",xn,"public","data","rooms",d),me)},As=async W=>{const ie=p.players.findIndex(et=>et.id===s.uid),he=p.players[ie],me=W==="PERSONAL"?he.personalGoal:p.publicGoal;if(!ZI(J,me)){alert("Invalid selection for this goal!");return}const Y={players:[...p.players],goalDeck:[...p.goalDeck],teamScores:{...p.teamScores},deck:[...p.deck]},ue=J.map(et=>et.id);Y.players[ie].hand=he.hand.filter(et=>!ue.includes(et.id)),Y.deck=[...J,...Y.deck];const se=he.teamId;Y.teamScores[se].goals+=1,Y.teamScores[se].points+=me.points;const Ke={id:Date.now(),teamId:se,playerName:he.name,goal:me,cards:J,points:me.points};Y.completedGoals=sr(Ke),W==="PERSONAL"?Y.players[ie].personalGoal=Y.goalDeck.pop():Y.publicGoal=Y.goalDeck.pop();let un="success",cn=`${he.name} claimed ${me.text} (+${me.points}pts)!`;Y.teamScores[se].goals>=8&&(Y.status="finished",cn=`GAME OVER! ${Pi.find(et=>et.id===se).name} completed 8 goals!`),Y.logs=sr({id:Date.now(),text:cn,type:un}),Y.lastEvent={id:Date.now(),type:"GOAL_CLAIM",actorId:s.uid,actorName:he.name,data:{goal:me,cards:J,goalType:W}},re([]),await Jn(dn(mn,"artifacts",xn,"public","data","rooms",d),Y)},Ln=async W=>{if(p.tradesPerformed>=2){alert("Max 2 cards per turn.");return}if(J.length!==1&&J.length!==2){alert("Select 1 or 2 cards.");return}if(p.tradesPerformed+J.length>2){alert("Can only trade 2 total.");return}const ie=p.players.findIndex(se=>se.id===s.uid),he=p.players.findIndex(se=>se.id===W),me=p.players[he],Y={players:[...p.players]},ue=J.map(se=>se.id);Y.players[ie].hand=Y.players[ie].hand.filter(se=>!ue.includes(se.id)),Y.players[he].hand.push(...J),Y.tradesPerformed=p.tradesPerformed+J.length,Y.logs=sr({id:Date.now(),text:`${p.players[ie].name} gave ${J.length} card(s) to ${p.players[he].name}.`,type:"neutral"}),Y.lastEvent={id:Date.now(),type:"TRADE",actorId:s.uid,actorName:p.players[ie].name,targetId:W,targetName:me.name,data:{count:J.length,cards:J,targetName:me.name}},re([]),ke(null),await Jn(dn(mn,"artifacts",xn,"public","data","rooms",d),Y)},Sr=async()=>{if(p.cardsDrawn<2){alert("You must draw 2 cards before passing your turn.");return}const W=(p.turnIndex+1)%p.players.length,ie=p.players[W],he=ie.hand.length>6?"CHECK_LIMIT":"PLAYING";await Jn(dn(mn,"artifacts",xn,"public","data","rooms",d),{turnIndex:W,turnPhase:he,cardsDrawn:0,tradesPerformed:0,goalChanged:!1,logs:sr({id:Date.now(),text:`Turn passed to ${ie.name}`,type:"neutral"})})};if(M)return y.jsx("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:y.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[y.jsx(vI,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),y.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),y.jsx("p",{className:"text-gray-400",children:"The bond is broken. Take some time to rescue your friendship."})]})});if(d&&!p&&!x)return y.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center text-white p-4",children:[y.jsx(Do,{}),y.jsxs("div",{className:"bg-slate-900/80 backdrop-blur p-8 rounded-2xl border border-slate-700 shadow-2xl flex flex-col items-center gap-4 animate-in fade-in zoom-in duration-300",children:[y.jsx(NI,{size:48,className:"text-pink-500 animate-spin"}),y.jsxs("div",{className:"text-center",children:[y.jsx("h2",{className:"text-xl font-bold",children:"Reconnecting..."}),y.jsx("p",{className:"text-slate-400 text-sm",children:"Resuming your session"})]})]})]});if(i==="menu")return y.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center p-4 relative overflow-y-auto font-sans",children:[y.jsx(Do,{}),xe&&y.jsx("div",{className:"fixed inset-0 bg-black/90 z-200 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-slate-900 max-w-3xl w-full max-h-[85vh] overflow-y-auto rounded-2xl border border-slate-700 shadow-2xl relative flex flex-col",children:[y.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-800 bg-slate-900 sticky top-0 z-10",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"bg-pink-600 p-2 rounded-xl",children:y.jsx(No,{className:"text-white",size:24})}),y.jsx("h2",{className:"text-3xl font-black text-white tracking-tight",children:"Code of Conduct"})]}),y.jsx("button",{onClick:()=>_e(!1),className:"p-2 bg-slate-800 rounded-full text-slate-400 hover:text-white transition-colors border border-slate-700 hover:bg-slate-700",children:y.jsx(na,{size:20})})]}),y.jsxs("div",{className:"p-8 space-y-10 text-slate-300",children:[y.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[y.jsxs("div",{children:[y.jsxs("h3",{className:"text-2xl font-bold text-white mb-3 flex items-center gap-2",children:[y.jsx(Iv,{className:"text-pink-500"})," The Basics"]}),y.jsxs("p",{className:"leading-relaxed text-lg",children:["Together is a ",y.jsx("strong",{children:"cooperative team game"}),". You are paired with the player sitting opposite you. Your goal is to complete specific patterns called"," ",y.jsx("strong",{children:"Goal Cards"})," faster than the other teams."]})]}),y.jsxs("div",{className:"bg-slate-800 p-6 rounded-2xl border border-slate-700 shadow-inner",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[y.jsx("div",{className:"w-12 h-16 bg-pink-600 rounded-lg border-2 border-pink-400"}),y.jsx("div",{className:"w-12 h-16 bg-yellow-400 rounded-lg border-2 border-yellow-200"}),y.jsxs("div",{className:"text-sm font-bold text-slate-400",children:["The Deck has numbers ",y.jsx("strong",{children:"1-8"})," in two colors:"," ",y.jsx("span",{className:"text-pink-400",children:"Magenta"})," &"," ",y.jsx("span",{className:"text-yellow-400",children:"Lemon"}),"."]})]}),y.jsxs("div",{className:"text-xs bg-slate-900 p-3 rounded-lg text-slate-400",children:[y.jsx("strong",{children:"Winning Condition:"})," The game ends when a team claims ",y.jsx("strong",{children:"8 Goals"}),". The team with the highest score wins!"]})]})]}),y.jsx("hr",{className:"border-slate-800"}),y.jsxs("section",{children:[y.jsxs("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[y.jsx(nm,{className:"text-blue-400"})," Turn Structure"]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"bg-slate-800/50 p-5 rounded-xl border border-slate-700/50 relative overflow-hidden group hover:border-blue-500/30 transition-colors",children:[y.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 font-black text-6xl group-hover:opacity-20 transition-opacity",children:"1"}),y.jsx("h4",{className:"font-bold text-white text-lg mb-2",children:"Cleanup"}),y.jsxs("p",{className:"text-sm",children:["If you start your turn with"," ",y.jsx("strong",{children:"more than 6 cards"}),", you must discard down to 6 before doing anything else."]})]}),y.jsxs("div",{className:"bg-slate-800/50 p-5 rounded-xl border border-slate-700/50 relative overflow-hidden group hover:border-blue-500/30 transition-colors",children:[y.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 font-black text-6xl group-hover:opacity-20 transition-opacity",children:"2"}),y.jsx("h4",{className:"font-bold text-white text-lg mb-2",children:"Actions (Any Order)"}),y.jsxs("p",{className:"text-sm",children:["You can Draw, Trade, or Claim goals in any order. BUT you ",y.jsx("strong",{children:"MUST draw 2 cards"})," before passing."]})]}),y.jsxs("div",{className:"bg-slate-800/50 p-5 rounded-xl border border-slate-700/50 relative overflow-hidden group hover:border-blue-500/30 transition-colors",children:[y.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 font-black text-6xl group-hover:opacity-20 transition-opacity",children:"3"}),y.jsx("h4",{className:"font-bold text-white text-lg mb-2",children:"Pass"}),y.jsxs("p",{className:"text-sm",children:["Once you have drawn your 2 cards and finished your moves, ",y.jsx("strong",{children:"Pass"})," the turn."]})]})]})]}),y.jsx("hr",{className:"border-slate-800"}),y.jsxs("section",{children:[y.jsxs("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[y.jsx(Nv,{className:"text-yellow-400"})," Valid Actions"]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex gap-4 items-start",children:[y.jsx("div",{className:"bg-green-500/20 p-3 rounded-lg text-green-400 shrink-0",children:y.jsx(jo,{size:24})}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-lg font-bold text-white",children:"Claim a Goal"}),y.jsxs("p",{className:"text-sm text-slate-400",children:["Select cards from your hand that match your"," ",y.jsx("strong",{children:"Personal Goal"})," or the shared"," ",y.jsx("strong",{children:"Public Goal"}),". If valid, you score points and get a new goal."]})]})]}),y.jsxs("div",{className:"flex gap-4 items-start",children:[y.jsx("div",{className:"bg-blue-500/20 p-3 rounded-lg text-blue-400 shrink-0",children:y.jsx(Nm,{size:24})}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-lg font-bold text-white",children:"Trade Cards"}),y.jsxs("p",{className:"text-sm text-slate-400",children:["Give 1 or 2 cards from your hand to your partner. You cannot receive cards, only give.",y.jsx("strong",{children:"Limit:"})," Max 2 cards traded per turn."]})]})]}),y.jsxs("div",{className:"flex gap-4 items-start",children:[y.jsx("div",{className:"bg-purple-500/20 p-3 rounded-lg text-purple-400 shrink-0",children:y.jsx(Wc,{size:24})}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-lg font-bold text-white",children:"Cycle Goal"}),y.jsx("p",{className:"text-sm text-slate-400",children:"Once per turn, you can discard your current Personal Goal or the Public Goal and draw a new one. Use this if a goal seems impossible!"})]})]})]})]}),y.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 p-4 rounded-xl flex gap-4 items-center",children:[y.jsx("div",{className:"bg-red-500/20 p-2 rounded-full text-red-400",children:y.jsx(Dm,{size:24})}),y.jsxs("p",{className:"text-sm font-medium text-red-200",children:[y.jsx("strong",{children:"Communication Rule:"}),' You strictly cannot talk about the specific numbers or colors in your hand. You CAN say "I need high cards" or "I can help with that goal," but not "I have a Magenta 5."']})]})]}),y.jsx("div",{className:"p-6 border-t border-slate-800 bg-slate-900 sticky bottom-0 text-center",children:y.jsx("button",{onClick:()=>_e(!1),className:"bg-white text-slate-900 font-bold py-4 px-12 rounded-xl hover:scale-105 transition-transform shadow-xl",children:"Got It, Let's Play!"})})]})}),y.jsxs("div",{className:"z-10 bg-slate-900/80 backdrop-blur-xl border border-slate-700 p-8 rounded-3xl w-full max-w-md shadow-2xl flex flex-col gap-6 my-auto",children:[y.jsxs("div",{className:"text-center",children:[y.jsxs("div",{className:"flex justify-center gap-2 mb-4",children:[y.jsx("div",{className:"w-12 h-12 bg-pink-600 rounded-xl rotate-3 flex items-center justify-center shadow-lg shadow-pink-500/20",children:y.jsx(xI,{className:"text-white",size:24})}),y.jsx("div",{className:"w-12 h-12 bg-yellow-400 rounded-xl -rotate-6 flex items-center justify-center shadow-lg shadow-yellow-400/20",children:y.jsx(jI,{className:"text-yellow-900",size:24})})]}),y.jsx("h1",{className:"text-5xl font-black text-white tracking-tighter mb-1",children:"TOGETHER"}),y.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-xs",children:"UNITED WE STAND"})]}),x&&y.jsx("div",{className:"bg-red-500/20 border border-red-500/50 text-red-200 p-3 rounded-xl text-center text-sm font-bold",children:x}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-slate-400 text-xs font-bold uppercase ml-1",children:"Your Name"}),y.jsx("input",{className:"w-full bg-slate-950/50 border border-slate-700 focus:border-pink-500 p-4 rounded-xl text-white font-bold outline-none transition-all placeholder:text-slate-600",placeholder:"Enter Name",value:Oe,onChange:W=>V(W.target.value)})]}),y.jsxs("button",{onClick:ae,disabled:w,className:"w-full bg-linear-to-r from-pink-600 to-purple-600 hover:from-pink-500 hover:to-purple-500 text-white p-4 rounded-xl font-black shadow-lg shadow-pink-900/20 active:scale-95 transition-all flex items-center justify-center gap-2",children:[y.jsx(wv,{size:20})," CREATE CO-OPERATION"]}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("div",{className:"w-full border-t border-slate-700"})}),y.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:y.jsx("span",{className:"bg-slate-900 px-2 text-slate-500 font-bold",children:"Or Join"})})]}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[y.jsx("input",{className:"w-full sm:flex-1 bg-slate-950/50 border border-slate-700 focus:border-yellow-400 p-4 rounded-xl text-white font-mono uppercase outline-none placeholder:text-slate-600",placeholder:"ROOM CODE",value:o,onChange:W=>c(W.target.value.toUpperCase())}),y.jsx("button",{onClick:le,disabled:w,className:"w-full sm:w-auto bg-yellow-400 hover:bg-yellow-300 text-yellow-900 px-8 py-4 rounded-xl font-black shadow-lg shadow-yellow-900/20 active:scale-95 transition-all",children:"JOIN"})]})]}),y.jsxs("button",{onClick:()=>_e(!0),className:"flex items-center justify-center gap-2 text-slate-500 hover:text-white transition-colors text-sm font-bold mt-2",children:[y.jsx(No,{size:16})," Code of Conduct"]})]}),y.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by Duos. A tribute game.",y.jsx("br",{}),"Developed by ",y.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",y.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-pink-500 underline hover:text-pink-600",children:"GAMEHUB"})," ","for more games."]})]});const zt=p?.players[p.turnIndex]?.id===s?.uid,Ct=p?.players.find(W=>W.id===s?.uid),gi=Pi.find(W=>W.id===Ct?.teamId);if(p?.players.find(W=>W.teamId===Ct?.teamId&&W.id!==s?.uid),i==="lobby"&&p){const W=p.hostId===s.uid,ie=p.players.length,he=ie===4||ie===6;return y.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center p-6 text-white relative",children:[y.jsx(Do,{}),y.jsx(JI,{}),Ye&&y.jsx(sm,{onCancel:()=>Ve(!1),onConfirmLeave:Ae,onConfirmLobby:()=>{Me(),Ve(!1)},isHost:W,inGame:!1}),y.jsxs("div",{className:"z-10 w-full max-w-4xl bg-slate-900/90 backdrop-blur p-8 rounded-3xl border border-slate-700 shadow-2xl",children:[y.jsxs("div",{className:"flex justify-between items-center mb-8",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-4xl font-black tracking-tighter",children:"Society"}),y.jsxs("div",{className:"flex items-center gap-2 text-slate-400 font-mono",children:["Co-ops Code:"," ",y.jsx("span",{className:"text-yellow-400 font-bold bg-slate-800 px-2 py-1 rounded",children:p.roomId})]})]}),y.jsx("button",{onClick:()=>Ve(!0),className:"p-3 bg-red-500/20 hover:bg-red-500/40 text-red-200 rounded-xl transition-colors",children:y.jsx(oE,{size:24})})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8",children:[p.players.map((me,Y)=>{const ue=ie===4?Y%2===0?"A":"B":Y%3===0?"A":Y%3===1?"B":"C",se=Pi.find(Ke=>Ke.id===ue);return y.jsxs("div",{className:`bg-slate-800 border-2 ${se?se.border:"border-slate-700"} p-4 rounded-2xl flex items-center justify-between gap-4`,children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold text-xl ${se?se.bg:"bg-slate-700"} ${se?se.color:"text-slate-400"}`,children:me.name[0]}),y.jsxs("div",{children:[y.jsxs("div",{className:"font-bold text-lg flex items-center gap-2",children:[y.jsx(HI,{size:16,className:"text-slate-400"}),me.name,p.hostId===me.id&&y.jsx(wv,{size:14,className:"text-yellow-400"})]}),y.jsxs("div",{className:`text-xs font-bold uppercase flex items-center gap-2 mt-1 ${se?se.color:"text-slate-500"}`,children:[y.jsx(GI,{size:14}),se?se.name:"Waiting..."]})]})]}),W&&me.id!==s.uid&&y.jsx("button",{onClick:()=>ht(me.id),className:"text-slate-600 hover:text-red-500 transition-colors",title:"Kick Player",children:y.jsx(PI,{size:18})})]},me.id)}),Array.from({length:Math.max(0,(ie<4?4:6)-ie)}).map((me,Y)=>y.jsx("div",{className:"border-2 border-dashed border-slate-800 rounded-2xl p-4 flex items-center justify-center text-slate-700 font-bold",children:"Waiting for Player..."},Y))]}),W?y.jsx("button",{onClick:Ee,disabled:!he,className:`w-full py-6 rounded-2xl font-black text-2xl tracking-widest shadow-xl transition-all ${he?"bg-green-600 hover:bg-green-500 text-white hover:scale-[1.02]":"bg-slate-800 text-slate-600 cursor-not-allowed"}`,children:he?"START TOGETHER":`WAITING FOR ${ie<4?"4":"4 or 6"} PLAYERS`}):y.jsx("div",{className:"text-center py-8 bg-slate-900/50 rounded-2xl animate-pulse text-slate-500 font-bold",children:"Waiting for Host to start..."})]}),y.jsx(Ov,{})]})}if(i==="game"&&p){const W=p.players[p.turnIndex],ie=p.hostId===s.uid,he=p.players.filter(Y=>Y.id!==p.hostId).every(Y=>Y.ready);if(p.status==="finished"){const Y=Object.keys(p.teamScores).reduce((se,Ke)=>p.teamScores[se].points>p.teamScores[Ke].points?se:Ke),ue=Pi.find(se=>se.id===Y);return y.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center p-8 text-center text-white font-sans relative",children:[y.jsx(Do,{}),Pe&&y.jsx(tN,{completedGoals:p.completedGoals||[],onClose:()=>N(!1)}),Ye&&y.jsx(sm,{onConfirmLeave:Ae,onConfirmLobby:()=>{Me(),Ve(!1)},onCancel:()=>Ve(!1),isHost:ie,inGame:!0}),y.jsxs("div",{className:"fixed top-0 left-0 right-0 bg-slate-900 border-b border-slate-800 p-2 md:p-4 flex items-center justify-between shadow-md z-40 backdrop-blur-md bg-opacity-90",children:[y.jsx("div",{className:"flex gap-2 md:gap-4 overflow-x-auto",children:Pi.map(se=>{if(!p.teamScores[se.id]||p.players.length===4&&se.id==="C")return null;const Ke=p.teamScores[se.id],un=Ct?.teamId===se.id;return y.jsxs("div",{className:`flex flex-col md:flex-row items-center gap-1 md:gap-3 px-3 py-1 rounded-lg border ${Ct?.teamId===se.id?se.border:"border-transparent"}`,children:[y.jsx("span",{className:`font-black text-xs md:text-sm uppercase ${se.color}`,children:se.name}),y.jsxs("div",{className:"flex gap-2 text-xs font-bold text-slate-400",children:[y.jsxs("span",{children:[Ke.goals,"/8 Goals"]}),un&&y.jsxs("span",{children:[Ke.points," Pts"]})]})]},se.id)})}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>_e(!0),className:"p-2 rounded-full text-slate-500 hover:bg-slate-800",title:"How to Play",children:y.jsx(No,{size:20})}),y.jsx("button",{onClick:()=>ye(!ne),className:`p-2 rounded-full ${ne?"bg-slate-800 text-white":"text-slate-500 hover:bg-slate-800"}`,children:y.jsx(Cv,{size:20})}),y.jsx("button",{onClick:()=>Ve(!0),className:"p-2 rounded-full text-red-500 hover:bg-red-900/20",title:"Leave Game",children:y.jsx(Rv,{size:20})})]})]}),ne&&y.jsxs("div",{className:"fixed top-16 md:top-20 right-4 w-72 max-h-64 bg-slate-900/95 backdrop-blur shadow-2xl rounded-xl border border-slate-700 z-50 flex flex-col overflow-hidden",children:[y.jsx("div",{className:"bg-slate-800 p-2 text-xs font-bold text-slate-400 uppercase border-b border-slate-700",children:"Game Log"}),y.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:p.logs.slice().reverse().map(se=>y.jsx("div",{className:`text-xs p-2 rounded ${se.type==="success"?"bg-green-900/30 text-green-400 border border-green-900/50":"bg-slate-800 text-slate-400"}`,children:se.text},se.id))})]}),xe&&y.jsx("div",{className:"fixed inset-0 bg-black/90 z-200 flex items-center justify-center p-4 text-left",children:y.jsxs("div",{className:"bg-slate-900 max-w-3xl w-full max-h-[85vh] overflow-y-auto rounded-2xl border border-slate-700 p-6 relative",children:[y.jsx("button",{onClick:()=>_e(!1),className:"absolute top-4 right-4 text-slate-500",children:y.jsx(na,{})}),y.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Game Rules"}),y.jsx("p",{className:"text-slate-400",children:"See main menu for full rules."})]})}),y.jsxs("div",{className:"z-10 bg-slate-900/80 backdrop-blur p-8 rounded-3xl border border-slate-700 shadow-2xl max-w-2xl w-full mt-20",children:[y.jsx(zh,{size:80,className:"text-yellow-400 mb-6 mx-auto animate-bounce"}),y.jsxs("h1",{className:"text-6xl font-black mb-2",children:[ue.name," Wins!"]}),y.jsx("div",{className:"grid grid-cols-2 gap-8 my-8",children:Pi.map(se=>p.teamScores[se.id]?y.jsxs("div",{className:`bg-slate-800 p-6 rounded-2xl border ${se.border}`,children:[y.jsx("h2",{className:`text-2xl font-bold ${se.color}`,children:se.name}),y.jsxs("div",{className:"text-4xl font-black mt-2",children:[p.teamScores[se.id].points," pts"]}),y.jsxs("div",{className:"text-sm text-slate-400",children:[p.teamScores[se.id].goals," goals"]})]},se.id):null)}),y.jsxs("button",{onClick:()=>N(!0),className:"w-full bg-slate-800 hover:bg-slate-700 text-white font-bold py-3 rounded-xl mb-8 border border-slate-600 transition-colors flex items-center justify-center gap-2",children:[y.jsx(iE,{size:20})," View Game Report Card"]}),y.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:p.players.map(se=>y.jsxs("div",{className:`px-3 py-1 rounded-full text-sm border flex items-center gap-2 ${se.ready?"border-green-500 bg-green-900/20 text-green-300":"border-gray-700 bg-gray-800 text-gray-400"}`,children:[se.name," ",se.ready&&y.jsx(jo,{size:12})]},se.id))}),ie?y.jsxs("div",{className:"flex gap-4",children:[y.jsxs("button",{onClick:Tt,disabled:!he,className:`flex-1 py-3 rounded-xl font-bold text-lg flex items-center justify-center gap-2 transition-transform ${he?"bg-green-600 hover:bg-green-500 text-white hover:scale-105":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,children:[y.jsx(nm,{size:20})," Restart Game"]}),y.jsxs("button",{onClick:Me,disabled:!he,className:`flex-1 py-3 rounded-xl font-bold text-lg flex items-center justify-center gap-2 transition-transform ${he?"bg-blue-600 hover:bg-blue-500 text-white hover:scale-105":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,children:[y.jsx(aE,{size:20})," Return to Lobby"]})]}):Ct.ready?y.jsx("div",{className:"text-green-400 font-bold animate-pulse border border-green-500/30 bg-green-900/10 p-4 rounded-xl",children:"Waiting for Host..."}):y.jsx("button",{onClick:Q,className:"w-full py-4 bg-green-600 hover:bg-green-500 text-white rounded-xl font-bold text-lg shadow-lg hover:scale-105 transition-transform animate-pulse",children:"Ready for Next Game"})]})]})}const me=({type:Y,goal:ue})=>y.jsxs("div",{className:"absolute inset-0 bg-slate-900/90 backdrop-blur-sm z-30 flex flex-col items-center justify-center gap-2 rounded-xl animate-in fade-in duration-200",onClick:se=>se.stopPropagation(),children:[y.jsxs("div",{className:"flex gap-4 items-center justify-center",children:[y.jsxs("button",{onClick:()=>{As(Y),ee(null)},disabled:J.length===0,className:"flex flex-col items-center justify-center gap-1 group text-green-400 disabled:opacity-30 disabled:cursor-not-allowed hover:text-green-300 transition-colors",title:"Claim Goal (Select Cards First)",children:[y.jsx("div",{className:"bg-green-900/40 p-2 rounded-full border border-green-500/50 group-hover:scale-110 transition-transform",children:y.jsx(jo,{size:20})}),y.jsx("span",{className:"text-[9px] font-black uppercase tracking-wider",children:"Done"})]}),y.jsxs("button",{onClick:()=>{Ss(Y),ee(null)},disabled:p.goalChanged,className:"flex flex-col items-center justify-center gap-1 group text-purple-400 disabled:opacity-30 disabled:cursor-not-allowed hover:text-purple-300 transition-colors",title:"Cycle Goal",children:[y.jsx("div",{className:"bg-purple-900/40 p-2 rounded-full border border-purple-500/50 group-hover:scale-110 transition-transform",children:y.jsx(Wc,{size:20})}),y.jsx("span",{className:"text-[9px] font-black uppercase tracking-wider",children:"Change"})]})]}),y.jsxs("button",{onClick:()=>{D(ue),ee(null)},className:"flex items-center gap-1 text-[10px] font-bold text-slate-400 hover:text-white transition-colors mt-1 bg-white/5 px-2 py-0.5 rounded-full",children:[y.jsx(lE,{size:10})," Details"]}),y.jsx("button",{onClick:()=>ee(null),className:"absolute top-1 right-1 text-slate-500 hover:text-white p-1 hover:bg-white/10 rounded-full transition-colors",children:y.jsx(na,{size:14})})]});return y.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col font-sans relative overflow-x-hidden overflow-y-auto text-slate-200",onClick:()=>{ee(null),ke(null)},children:[y.jsx(Do,{}),S&&y.jsx(eN,{goal:S,onClose:()=>D(null)}),y.jsx(WI,{event:k,onClose:()=>R(null),currentUserId:s.uid}),xe&&y.jsx("div",{className:"fixed inset-0 bg-black/90 z-200 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-slate-900 max-w-3xl w-full max-h-[85vh] overflow-y-auto rounded-2xl border border-slate-700 shadow-2xl relative flex flex-col",children:[y.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-800 bg-slate-900 sticky top-0 z-10",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"bg-pink-600 p-2 rounded-xl",children:y.jsx(No,{className:"text-white",size:24})}),y.jsx("h2",{className:"text-3xl font-black text-white tracking-tight",children:"Code of Conduct"})]}),y.jsx("button",{onClick:()=>_e(!1),className:"p-2 bg-slate-800 rounded-full text-slate-400 hover:text-white transition-colors border border-slate-700 hover:bg-slate-700",children:y.jsx(na,{size:20})})]}),y.jsxs("div",{className:"p-8 space-y-10 text-slate-300",children:[y.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[y.jsxs("div",{children:[y.jsxs("h3",{className:"text-2xl font-bold text-white mb-3 flex items-center gap-2",children:[y.jsx(Iv,{className:"text-pink-500"})," The Basics"]}),y.jsxs("p",{className:"leading-relaxed text-lg",children:["Together is a ",y.jsx("strong",{children:"cooperative team game"}),". You are paired with the player sitting opposite you. Your goal is to complete specific patterns called"," ",y.jsx("strong",{children:"Goal Cards"})," faster than the other teams."]})]}),y.jsxs("div",{className:"bg-slate-800 p-6 rounded-2xl border border-slate-700 shadow-inner",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[y.jsx("div",{className:"w-12 h-16 bg-pink-600 rounded-lg border-2 border-pink-400"}),y.jsx("div",{className:"w-12 h-16 bg-yellow-400 rounded-lg border-2 border-yellow-200"}),y.jsxs("div",{className:"text-sm font-bold text-slate-400",children:["The Deck has numbers ",y.jsx("strong",{children:"1-8"})," in two colors:"," ",y.jsx("span",{className:"text-pink-400",children:"Magenta"})," &"," ",y.jsx("span",{className:"text-yellow-400",children:"Lemon"}),"."]})]}),y.jsxs("div",{className:"text-xs bg-slate-900 p-3 rounded-lg text-slate-400",children:[y.jsx("strong",{children:"Winning Condition:"})," The game ends when a team claims ",y.jsx("strong",{children:"8 Goals"}),". The team with the highest score wins!"]})]})]}),y.jsx("hr",{className:"border-slate-800"}),y.jsxs("section",{children:[y.jsxs("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[y.jsx(nm,{className:"text-blue-400"})," Turn Structure"]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"bg-slate-800/50 p-5 rounded-xl border border-slate-700/50 relative overflow-hidden group hover:border-blue-500/30 transition-colors",children:[y.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 font-black text-6xl group-hover:opacity-20 transition-opacity",children:"1"}),y.jsx("h4",{className:"font-bold text-white text-lg mb-2",children:"Cleanup"}),y.jsxs("p",{className:"text-sm",children:["If you start your turn with"," ",y.jsx("strong",{children:"more than 6 cards"}),", you must discard down to 6 before doing anything else."]})]}),y.jsxs("div",{className:"bg-slate-800/50 p-5 rounded-xl border border-slate-700/50 relative overflow-hidden group hover:border-blue-500/30 transition-colors",children:[y.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 font-black text-6xl group-hover:opacity-20 transition-opacity",children:"2"}),y.jsx("h4",{className:"font-bold text-white text-lg mb-2",children:"Actions (Any Order)"}),y.jsxs("p",{className:"text-sm",children:["You can Draw, Trade, or Claim goals in any order. BUT you ",y.jsx("strong",{children:"MUST draw 2 cards"})," before passing."]})]}),y.jsxs("div",{className:"bg-slate-800/50 p-5 rounded-xl border border-slate-700/50 relative overflow-hidden group hover:border-blue-500/30 transition-colors",children:[y.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 font-black text-6xl group-hover:opacity-20 transition-opacity",children:"3"}),y.jsx("h4",{className:"font-bold text-white text-lg mb-2",children:"Pass"}),y.jsxs("p",{className:"text-sm",children:["Once you have drawn your 2 cards and finished your moves, ",y.jsx("strong",{children:"Pass"})," the turn."]})]})]})]}),y.jsx("hr",{className:"border-slate-800"}),y.jsxs("section",{children:[y.jsxs("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[y.jsx(Nv,{className:"text-yellow-400"})," Valid Actions"]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex gap-4 items-start",children:[y.jsx("div",{className:"bg-green-500/20 p-3 rounded-lg text-green-400 shrink-0",children:y.jsx(jo,{size:24})}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-lg font-bold text-white",children:"Claim a Goal"}),y.jsxs("p",{className:"text-sm text-slate-400",children:["Select cards from your hand that match your"," ",y.jsx("strong",{children:"Personal Goal"})," or the shared"," ",y.jsx("strong",{children:"Public Goal"}),". If valid, you score points and get a new goal."]})]})]}),y.jsxs("div",{className:"flex gap-4 items-start",children:[y.jsx("div",{className:"bg-blue-500/20 p-3 rounded-lg text-blue-400 shrink-0",children:y.jsx(Nm,{size:24})}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-lg font-bold text-white",children:"Trade Cards"}),y.jsxs("p",{className:"text-sm text-slate-400",children:["Give 1 or 2 cards from your hand to your partner. You cannot receive cards, only give.",y.jsx("strong",{children:"Limit:"})," Max 2 cards traded per turn."]})]})]}),y.jsxs("div",{className:"flex gap-4 items-start",children:[y.jsx("div",{className:"bg-purple-500/20 p-3 rounded-lg text-purple-400 shrink-0",children:y.jsx(Wc,{size:24})}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-lg font-bold text-white",children:"Cycle Goal"}),y.jsx("p",{className:"text-sm text-slate-400",children:"Once per turn, you can discard your current Personal Goal or the Public Goal and draw a new one. Use this if a goal seems impossible!"})]})]})]})]}),y.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 p-4 rounded-xl flex gap-4 items-center",children:[y.jsx("div",{className:"bg-red-500/20 p-2 rounded-full text-red-400",children:y.jsx(Dm,{size:24})}),y.jsxs("p",{className:"text-sm font-medium text-red-200",children:[y.jsx("strong",{children:"Communication Rule:"}),' You strictly cannot talk about the specific numbers or colors in your hand. You CAN say "I need high cards" or "I can help with that goal," but not "I have a Magenta 5."']})]})]}),y.jsx("div",{className:"p-6 border-t border-slate-800 bg-slate-900 sticky bottom-0 text-center",children:y.jsx("button",{onClick:()=>_e(!1),className:"bg-white text-slate-900 font-bold py-4 px-12 rounded-xl hover:scale-105 transition-transform shadow-xl",children:"Got It, Let's Play!"})})]})}),Ye&&y.jsx(sm,{onConfirmLeave:Ae,onConfirmLobby:()=>{Me(),Ve(!1)},onCancel:()=>Ve(!1),isHost:ie,inGame:!0}),y.jsxs("div",{className:"bg-slate-900 border-b border-slate-800 p-2 md:p-4 flex items-center justify-between shadow-md z-160 sticky top-0 backdrop-blur-md bg-opacity-90",children:[y.jsx("div",{className:"flex gap-2 md:gap-4 overflow-x-auto",children:Pi.map(Y=>{if(!p.teamScores[Y.id]||p.players.length===4&&Y.id==="C")return null;const ue=p.teamScores[Y.id],se=W.teamId===Y.id,Ke=Ct?.teamId===Y.id;return y.jsxs("div",{className:`flex flex-col md:flex-row items-center gap-1 md:gap-3 px-3 py-1 rounded-lg border ${se?Y.bg+" "+Y.border:"bg-transparent border-transparent"}`,children:[y.jsx("span",{className:`font-black text-xs md:text-sm uppercase ${Y.color}`,children:Y.name}),y.jsxs("div",{className:"flex gap-2 text-xs font-bold text-slate-400",children:[y.jsxs("span",{children:[ue.goals,"/8 Goals"]}),Ke&&y.jsxs("span",{children:[ue.points," Pts"]})]})]},Y.id)})}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>_e(!0),className:"p-2 rounded-full text-slate-500 hover:bg-slate-800",title:"How to Play",children:y.jsx(No,{size:20})}),y.jsx("button",{onClick:()=>ye(!ne),className:`p-2 rounded-full ${ne?"bg-pink-900 text-pink-400":"text-gray-400 hover:bg-gray-800"}`,children:y.jsx(Cv,{size:20})}),y.jsx("button",{onClick:()=>Ve(!0),className:"p-2 rounded-full text-red-500 hover:bg-red-900/20",title:"Leave Game",children:y.jsx(Rv,{size:20})})]})]}),ne&&y.jsxs("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-gray-900/95 border border-gray-700 rounded-xl z-155 overflow-y-auto p-2 shadow-2xl",children:[y.jsx("div",{className:"bg-slate-800 p-2 text-xs font-bold text-slate-400 uppercase border-b border-slate-700",children:"Game Log"}),y.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:p.logs.slice().reverse().map(Y=>y.jsx("div",{className:`text-xs p-2 rounded ${Y.type==="success"?"bg-green-900/30 text-green-400 border border-green-900/50":"bg-slate-800 text-slate-400"}`,children:Y.text},Y.id))})]}),y.jsxs("div",{className:"flex-1 flex flex-col max-w-7xl mx-auto w-full p-2 md:p-4 gap-2 z-10",children:[y.jsx("div",{className:"overflow-x-auto pb-2 min-h-[100px]",children:y.jsx("div",{className:"flex justify-center gap-2 md:gap-4 w-fit mx-auto px-4",children:p.players.map((Y,ue)=>{if(Y.id===s.uid)return null;const se=p.turnIndex===ue,Ke=Pi.find(et=>et.id===Y.teamId),un=Y.teamId===Ct.teamId,cn=pe===Y.id&&zt&&un&&J.length>0&&J.length<=2;return y.jsxs("div",{className:`relative flex flex-col items-center min-w-[80px] transition-all ${se?"scale-105 opacity-100":"opacity-70"}`,children:[cn&&y.jsxs("button",{onClick:et=>{et.stopPropagation(),Ln(Y.id)},className:"absolute z-50 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-blue-600 text-white font-bold text-xs px-4 py-2 rounded-full shadow-lg hover:bg-blue-500 animate-in zoom-in duration-200 flex items-center gap-1 ring-2 ring-white",children:[y.jsx(sE,{size:14})," GIVE"]}),y.jsxs("div",{className:`relative w-10 h-10 rounded-full border-2 ${se?"border-white ring-2 ring-blue-500":Ke.border} bg-slate-800 flex items-center justify-center font-bold text-sm shadow-md cursor-pointer`,onClick:et=>{et.stopPropagation(),un&&zt&&J.length>0&&J.length<=2&&ke(pe===Y.id?null:Y.id)},children:[Y.name[0],y.jsx("div",{className:`absolute -bottom-1 px-1.5 py-0.5 rounded text-[7px] font-black uppercase text-white ${Ke.bg.replace("/30","")}`,children:Ke.name.split(" ")[1]})]}),y.jsx("span",{className:"text-[9px] font-bold text-slate-400 mt-1 max-w-[70px] truncate",children:Y.name}),y.jsx("div",{className:"mt-1 w-20 scale-90 origin-top",children:y.jsx(hl,{goal:Y.personalGoal,small:!0,isPersonal:!0,onClick:()=>D(Y.personalGoal)})}),y.jsxs("div",{className:"mt-1 flex -space-x-1",children:[Array.from({length:Math.min(5,Y.hand.length)}).map((et,wn)=>y.jsx("div",{className:"w-2.5 h-3 bg-slate-700 rounded border border-slate-500"},wn)),Y.hand.length>5&&y.jsx("div",{className:"w-2.5 h-3 bg-red-500 rounded border border-slate-500"})]})]},Y.id)})})}),y.jsxs("div",{className:"flex-1 bg-slate-900/50 backdrop-blur-md rounded-3xl border border-slate-800 shadow-xl p-4 flex flex-col md:flex-row items-center justify-center gap-8 md:gap-6 mb-4 md:mb-0 relative",children:[y.jsxs("div",{className:"flex flex-col w-32 h-24 md:w-48 md:h-32 shrink-0",children:[y.jsx("div",{className:"text-center text-[10px] font-bold text-slate-500 mb-1 uppercase",children:"Public Goal"}),y.jsx("div",{className:"relative flex-1 w-full h-full",children:p.publicGoal?y.jsxs(y.Fragment,{children:[y.jsx(hl,{goal:p.publicGoal,isPublic:!0,selected:q==="PUBLIC",onClick:Y=>{Y.stopPropagation(),zt&&p.turnPhase==="PLAYING"?ee(q==="PUBLIC"?null:"PUBLIC"):D(p.publicGoal)}}),q==="PUBLIC"&&y.jsx(me,{type:"PUBLIC",goal:p.publicGoal})]}):y.jsx("div",{className:"h-full border-2 border-dashed border-slate-700 rounded-lg flex items-center justify-center text-slate-600",children:"Empty"})})]}),y.jsxs("div",{className:"flex flex-col items-center gap-2 mt-2 md:mt-0",children:[y.jsx("div",{className:"flex gap-2",children:p.market.map((Y,ue)=>y.jsx(Zo,{card:Y,small:!0,disabled:!zt||p.turnPhase==="CHECK_LIMIT"||p.cardsDrawn>=2,onClick:()=>Qi(ue)},ue))}),y.jsxs("button",{onClick:()=>Qi(-1),disabled:!zt||p.turnPhase==="CHECK_LIMIT"||p.cardsDrawn>=2,className:"w-full h-10 bg-slate-800 border border-slate-700 rounded-xl flex items-center justify-center gap-2 text-slate-300 text-sm font-bold hover:bg-slate-700 active:scale-95 disabled:opacity-50 transition-all shadow-lg",children:[y.jsx(CI,{size:16})," Draw Blind"]})]})]}),y.jsxs("div",{className:"bg-slate-900 rounded-t-3xl shadow-[0_-10px_40px_rgba(0,0,0,0.3)] p-4 pt-14 border-t border-slate-800 relative mt-auto",children:[y.jsxs("div",{className:"absolute top-0 left-0 bg-slate-800 border-b border-r border-slate-700 rounded-br-2xl px-4 py-2 flex items-center gap-3",children:[y.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ${gi.bg} ${gi.color}`,children:Ct.name[0]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-white font-bold text-sm leading-none",children:Ct.name}),y.jsx("div",{className:`text-[10px] uppercase font-black tracking-wider ${gi.color}`,children:gi.name})]})]}),zt&&p.turnPhase==="PLAYING"&&y.jsxs("button",{onClick:Sr,disabled:p.cardsDrawn<2,className:"absolute top-4 right-4 bg-slate-700 text-white px-6 py-2 rounded-xl font-bold shadow hover:bg-slate-600 active:scale-95 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:["PASS"," ",p.cardsDrawn<2&&y.jsxs("span",{className:"text-[10px] opacity-70",children:["(Draw ",2-p.cardsDrawn," more)"]}),y.jsx(nE,{size:16})]}),y.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[y.jsxs("div",{className:"relative w-28 md:w-36 shrink-0 self-center md:self-end mb-4 md:mb-0 flex flex-col gap-2",children:[y.jsxs("div",{className:"mb-2 text-center md:text-left",children:[y.jsx("div",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-1",children:"Current Turn"}),y.jsx("div",{className:`text-lg font-black animate-bounce  ${Pi.find(Y=>Y.id===W.teamId).color}`,children:zt?"YOUR TURN":W.name}),zt&&y.jsx("div",{className:"text-[10px] font-bold bg-slate-800 text-blue-400 border border-blue-900/50 px-2 py-1 rounded-full mt-1 inline-block shadow-lg animate-pulse",children:p.turnPhase==="CHECK_LIMIT"?"Discard down to 6":p.cardsDrawn<2?`Draw ${2-p.cardsDrawn} more`:"Actions or Pass"})]}),y.jsx("div",{className:"relative w-full flex-1 min-h-[100px]",children:Ct.personalGoal?y.jsxs(y.Fragment,{children:[y.jsx(hl,{goal:Ct.personalGoal,isPersonal:!0,selected:q==="PERSONAL",onClick:Y=>{Y.stopPropagation(),zt&&p.turnPhase==="PLAYING"?ee(q==="PERSONAL"?null:"PERSONAL"):D(Ct.personalGoal)}}),q==="PERSONAL"&&y.jsx(me,{type:"PERSONAL",goal:Ct.personalGoal})]}):y.jsx("div",{className:"h-full bg-slate-800 rounded-lg flex items-center justify-center text-xs text-slate-500 font-bold border-2 border-dashed border-slate-700",children:"Completed!"})})]}),y.jsx("div",{className:"flex-1 overflow-x-auto pb-4 pt-16 px-2 w-full min-h-[200px]",children:y.jsx("div",{className:"flex gap-2 items-end w-fit mx-auto",children:Ct.hand.sort((Y,ue)=>Y.value-ue.value).map(Y=>y.jsxs("div",{className:"relative group shrink-0 w-20 h-28 md:w-24 md:h-32",children:[zt&&p.turnPhase==="CHECK_LIMIT"&&y.jsx("button",{onClick:()=>Ki(Y),className:"absolute -top-12 left-1/2 -translate-x-1/2 bg-red-500 text-white text-[10px] font-bold px-3 py-1.5 rounded-full opacity-100 z-50 shadow-xl animate-pulse border-2 border-slate-900",children:"DISCARD"}),y.jsx("div",{className:"w-full h-full",children:y.jsx(Zo,{card:Y,selected:J.some(ue=>ue.id===Y.id),disabled:!zt||p.turnPhase!=="PLAYING"&&p.turnPhase!=="CHECK_LIMIT",onClick:()=>{p.turnPhase==="PLAYING"&&(J.some(ue=>ue.id===Y.id)?re(J.filter(ue=>ue.id!==Y.id)):re([...J,Y]))}})})]},Y.id))})})]})]})]}),y.jsx(Ov,{})]})}return null}$T.createRoot(document.getElementById("root")).render(y.jsx(st.StrictMode,{children:y.jsx(nN,{})}));
