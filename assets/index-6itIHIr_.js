(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Pd={exports:{}},Ro={};var H0;function BT(){if(H0)return Ro;H0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var _ in o)_!=="key"&&(c[_]=o[_])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return Ro.Fragment=e,Ro.jsx=i,Ro.jsxs=i,Ro}var q0;function HT(){return q0||(q0=1,Pd.exports=BT()),Pd.exports}var y=HT(),Ud={exports:{}},we={};var G0;function qT(){if(G0)return we;G0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function F(V){return V===null||typeof V!="object"?null:(V=M&&V[M]||V["@@iterator"],typeof V=="function"?V:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},se=Object.assign,Z={};function pe(V,K,ie){this.props=V,this.context=K,this.refs=Z,this.updater=ie||W}pe.prototype.isReactComponent={},pe.prototype.setState=function(V,K){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,K,"setState")},pe.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function be(){}be.prototype=pe.prototype;function Te(V,K,ie){this.props=V,this.context=K,this.refs=Z,this.updater=ie||W}var Ye=Te.prototype=new be;Ye.constructor=Te,se(Ye,pe.prototype),Ye.isPureReactComponent=!0;var qe=Array.isArray;function Me(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function N(V,K,ie){var oe=ie.ref;return{$$typeof:s,type:V,key:K,ref:oe!==void 0?oe:null,props:ie}}function S(V,K){return N(V.type,K,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function k(V){var K={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ie){return K[ie]})}var C=/\/+/g;function lt(V,K){return typeof V=="object"&&V!==null&&V.key!=null?k(""+V.key):K.toString(36)}function Et(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Me,Me):(V.status="pending",V.then(function(K){V.status==="pending"&&(V.status="fulfilled",V.value=K)},function(K){V.status==="pending"&&(V.status="rejected",V.reason=K)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function q(V,K,ie,oe,xe){var Re=typeof V;(Re==="undefined"||Re==="boolean")&&(V=null);var je=!1;if(V===null)je=!0;else switch(Re){case"bigint":case"string":case"number":je=!0;break;case"object":switch(V.$$typeof){case s:case e:je=!0;break;case x:return je=V._init,q(je(V._payload),K,ie,oe,xe)}}if(je)return xe=xe(V),je=oe===""?"."+lt(V,0):oe,qe(xe)?(ie="",je!=null&&(ie=je.replace(C,"$&/")+"/"),q(xe,K,ie,"",function(Un){return Un})):xe!=null&&(D(xe)&&(xe=S(xe,ie+(xe.key==null||V&&V.key===xe.key?"":(""+xe.key).replace(C,"$&/")+"/")+je)),K.push(xe)),1;je=0;var Tt=oe===""?".":oe+":";if(qe(V))for(var ot=0;ot<V.length;ot++)oe=V[ot],Re=Tt+lt(oe,ot),je+=q(oe,K,ie,Re,xe);else if(ot=F(V),typeof ot=="function")for(V=ot.call(V),ot=0;!(oe=V.next()).done;)oe=oe.value,Re=Tt+lt(oe,ot++),je+=q(oe,K,ie,Re,xe);else if(Re==="object"){if(typeof V.then=="function")return q(Et(V),K,ie,oe,xe);throw K=String(V),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return je}function ne(V,K,ie){if(V==null)return V;var oe=[],xe=0;return q(V,oe,"","",function(Re){return K.call(ie,Re,xe++)}),oe}function de(V){if(V._status===-1){var K=V._result;K=K(),K.then(function(ie){(V._status===0||V._status===-1)&&(V._status=1,V._result=ie)},function(ie){(V._status===0||V._status===-1)&&(V._status=2,V._result=ie)}),V._status===-1&&(V._status=0,V._result=K)}if(V._status===1)return V._result.default;throw V._result}var De=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ke={map:ne,forEach:function(V,K,ie){ne(V,function(){K.apply(this,arguments)},ie)},count:function(V){var K=0;return ne(V,function(){K++}),K},toArray:function(V){return ne(V,function(K){return K})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return we.Activity=A,we.Children=Ke,we.Component=pe,we.Fragment=i,we.Profiler=o,we.PureComponent=Te,we.StrictMode=a,we.Suspense=p,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,we.__COMPILER_RUNTIME={__proto__:null,c:function(V){return R.H.useMemoCache(V)}},we.cache=function(V){return function(){return V.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(V,K,ie){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var oe=se({},V.props),xe=V.key;if(K!=null)for(Re in K.key!==void 0&&(xe=""+K.key),K)!w.call(K,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&K.ref===void 0||(oe[Re]=K[Re]);var Re=arguments.length-2;if(Re===1)oe.children=ie;else if(1<Re){for(var je=Array(Re),Tt=0;Tt<Re;Tt++)je[Tt]=arguments[Tt+2];oe.children=je}return N(V.type,xe,oe)},we.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},we.createElement=function(V,K,ie){var oe,xe={},Re=null;if(K!=null)for(oe in K.key!==void 0&&(Re=""+K.key),K)w.call(K,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(xe[oe]=K[oe]);var je=arguments.length-2;if(je===1)xe.children=ie;else if(1<je){for(var Tt=Array(je),ot=0;ot<je;ot++)Tt[ot]=arguments[ot+2];xe.children=Tt}if(V&&V.defaultProps)for(oe in je=V.defaultProps,je)xe[oe]===void 0&&(xe[oe]=je[oe]);return N(V,Re,xe)},we.createRef=function(){return{current:null}},we.forwardRef=function(V){return{$$typeof:_,render:V}},we.isValidElement=D,we.lazy=function(V){return{$$typeof:x,_payload:{_status:-1,_result:V},_init:de}},we.memo=function(V,K){return{$$typeof:v,type:V,compare:K===void 0?null:K}},we.startTransition=function(V){var K=R.T,ie={};R.T=ie;try{var oe=V(),xe=R.S;xe!==null&&xe(ie,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Me,De)}catch(Re){De(Re)}finally{K!==null&&ie.types!==null&&(K.types=ie.types),R.T=K}},we.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},we.use=function(V){return R.H.use(V)},we.useActionState=function(V,K,ie){return R.H.useActionState(V,K,ie)},we.useCallback=function(V,K){return R.H.useCallback(V,K)},we.useContext=function(V){return R.H.useContext(V)},we.useDebugValue=function(){},we.useDeferredValue=function(V,K){return R.H.useDeferredValue(V,K)},we.useEffect=function(V,K){return R.H.useEffect(V,K)},we.useEffectEvent=function(V){return R.H.useEffectEvent(V)},we.useId=function(){return R.H.useId()},we.useImperativeHandle=function(V,K,ie){return R.H.useImperativeHandle(V,K,ie)},we.useInsertionEffect=function(V,K){return R.H.useInsertionEffect(V,K)},we.useLayoutEffect=function(V,K){return R.H.useLayoutEffect(V,K)},we.useMemo=function(V,K){return R.H.useMemo(V,K)},we.useOptimistic=function(V,K){return R.H.useOptimistic(V,K)},we.useReducer=function(V,K,ie){return R.H.useReducer(V,K,ie)},we.useRef=function(V){return R.H.useRef(V)},we.useState=function(V){return R.H.useState(V)},we.useSyncExternalStore=function(V,K,ie){return R.H.useSyncExternalStore(V,K,ie)},we.useTransition=function(){return R.H.useTransition()},we.version="19.2.3",we}var F0;function Om(){return F0||(F0=1,Ud.exports=qT()),Ud.exports}var tt=Om(),zd={exports:{}},Io={},Bd={exports:{}},Hd={};var Y0;function GT(){return Y0||(Y0=1,(function(s){function e(q,ne){var de=q.length;q.push(ne);e:for(;0<de;){var De=de-1>>>1,Ke=q[De];if(0<o(Ke,ne))q[De]=ne,q[de]=Ke,de=De;else break e}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var ne=q[0],de=q.pop();if(de!==ne){q[0]=de;e:for(var De=0,Ke=q.length,V=Ke>>>1;De<V;){var K=2*(De+1)-1,ie=q[K],oe=K+1,xe=q[oe];if(0>o(ie,de))oe<Ke&&0>o(xe,ie)?(q[De]=xe,q[oe]=de,De=oe):(q[De]=ie,q[K]=de,De=K);else if(oe<Ke&&0>o(xe,de))q[De]=xe,q[oe]=de,De=oe;else break e}}return ne}function o(q,ne){var de=q.sortIndex-ne.sortIndex;return de!==0?de:q.id-ne.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,_=d.now();s.unstable_now=function(){return d.now()-_}}var p=[],v=[],x=1,A=null,M=3,F=!1,W=!1,se=!1,Z=!1,pe=typeof setTimeout=="function"?setTimeout:null,be=typeof clearTimeout=="function"?clearTimeout:null,Te=typeof setImmediate<"u"?setImmediate:null;function Ye(q){for(var ne=i(v);ne!==null;){if(ne.callback===null)a(v);else if(ne.startTime<=q)a(v),ne.sortIndex=ne.expirationTime,e(p,ne);else break;ne=i(v)}}function qe(q){if(se=!1,Ye(q),!W)if(i(p)!==null)W=!0,Me||(Me=!0,k());else{var ne=i(v);ne!==null&&Et(qe,ne.startTime-q)}}var Me=!1,R=-1,w=5,N=-1;function S(){return Z?!0:!(s.unstable_now()-N<w)}function D(){if(Z=!1,Me){var q=s.unstable_now();N=q;var ne=!0;try{e:{W=!1,se&&(se=!1,be(R),R=-1),F=!0;var de=M;try{t:{for(Ye(q),A=i(p);A!==null&&!(A.expirationTime>q&&S());){var De=A.callback;if(typeof De=="function"){A.callback=null,M=A.priorityLevel;var Ke=De(A.expirationTime<=q);if(q=s.unstable_now(),typeof Ke=="function"){A.callback=Ke,Ye(q),ne=!0;break t}A===i(p)&&a(p),Ye(q)}else a(p);A=i(p)}if(A!==null)ne=!0;else{var V=i(v);V!==null&&Et(qe,V.startTime-q),ne=!1}}break e}finally{A=null,M=de,F=!1}ne=void 0}}finally{ne?k():Me=!1}}}var k;if(typeof Te=="function")k=function(){Te(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,lt=C.port2;C.port1.onmessage=D,k=function(){lt.postMessage(null)}}else k=function(){pe(D,0)};function Et(q,ne){R=pe(function(){q(s.unstable_now())},ne)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(q){switch(M){case 1:case 2:case 3:var ne=3;break;default:ne=M}var de=M;M=ne;try{return q()}finally{M=de}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(q,ne){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var de=M;M=q;try{return ne()}finally{M=de}},s.unstable_scheduleCallback=function(q,ne,de){var De=s.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?De+de:De):de=De,q){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=de+Ke,q={id:x++,callback:ne,priorityLevel:q,startTime:de,expirationTime:Ke,sortIndex:-1},de>De?(q.sortIndex=de,e(v,q),i(p)===null&&q===i(v)&&(se?(be(R),R=-1):se=!0,Et(qe,de-De))):(q.sortIndex=Ke,e(p,q),W||F||(W=!0,Me||(Me=!0,k()))),q},s.unstable_shouldYield=S,s.unstable_wrapCallback=function(q){var ne=M;return function(){var de=M;M=ne;try{return q.apply(this,arguments)}finally{M=de}}}})(Hd)),Hd}var K0;function FT(){return K0||(K0=1,Bd.exports=GT()),Bd.exports}var qd={exports:{}},rn={};var Q0;function YT(){if(Q0)return rn;Q0=1;var s=Om();function e(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)v+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,v,x){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:v,implementation:x}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,rn.createPortal=function(p,v){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return c(p,v,null,x)},rn.flushSync=function(p){var v=d.T,x=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=v,a.p=x,a.d.f()}},rn.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(p,v))},rn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},rn.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var x=v.as,A=_(x,v.crossOrigin),M=typeof v.integrity=="string"?v.integrity:void 0,F=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;x==="style"?a.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:F}):x==="script"&&a.d.X(p,{crossOrigin:A,integrity:M,fetchPriority:F,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},rn.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var x=_(v.as,v.crossOrigin);a.d.M(p,{crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(p)},rn.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var x=v.as,A=_(x,v.crossOrigin);a.d.L(p,x,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},rn.preloadModule=function(p,v){if(typeof p=="string")if(v){var x=_(v.as,v.crossOrigin);a.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(p)},rn.requestFormReset=function(p){a.d.r(p)},rn.unstable_batchedUpdates=function(p,v){return p(v)},rn.useFormState=function(p,v,x){return d.H.useFormState(p,v,x)},rn.useFormStatus=function(){return d.H.useHostTransitionStatus()},rn.version="19.2.3",rn}var X0;function KT(){if(X0)return qd.exports;X0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),qd.exports=YT(),qd.exports}var $0;function QT(){if($0)return Io;$0=1;var s=FT(),e=Om(),i=KT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(a(188))}function v(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return p(h),t;if(f===l)return p(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,l=f;break}if(E===l){g=!0,l=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,l=h;break}if(E===l){g=!0,l=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function x(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=x(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),pe=Symbol.for("react.profiler"),be=Symbol.for("react.consumer"),Te=Symbol.for("react.context"),Ye=Symbol.for("react.forward_ref"),qe=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),S=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function lt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case se:return"Fragment";case pe:return"Profiler";case Z:return"StrictMode";case qe:return"Suspense";case Me:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case Te:return t.displayName||"Context";case be:return(t._context.displayName||"Context")+".Consumer";case Ye:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return n=t.displayName||null,n!==null?n:lt(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return lt(t(n))}catch{}}return null}var Et=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},De=[],Ke=-1;function V(t){return{current:t}}function K(t){0>Ke||(t.current=De[Ke],De[Ke]=null,Ke--)}function ie(t,n){Ke++,De[Ke]=t.current,t.current=n}var oe=V(null),xe=V(null),Re=V(null),je=V(null);function Tt(t,n){switch(ie(Re,n),ie(xe,t),ie(oe,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?h0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=h0(n),t=f0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(oe),ie(oe,t)}function ot(){K(oe),K(xe),K(Re)}function Un(t){t.memoizedState!==null&&ie(je,t);var n=oe.current,r=f0(n,t.type);n!==r&&(ie(xe,t),ie(oe,r))}function xs(t){xe.current===t&&(K(oe),K(xe)),je.current===t&&(K(je),So._currentValue=de)}var Ss,As;function Cn(t){if(Ss===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ss=n&&n[1]||"",As=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ss+t+As}var Sr=!1;function Ki(t,n){if(!t||Sr)return"";Sr=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var z=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){z=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){z=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),U=E.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===U.length)for(l=I.length-1,h=U.length-1;1<=l&&0<=h&&I[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==U[h]){var G=`
`+I[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=h);break}}}finally{Sr=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Cn(r):""}function Ar(t,n){switch(t.tag){case 26:case 27:case 5:return Cn(t.type);case 16:return Cn("Lazy");case 13:return t.child!==n&&n!==null?Cn("Suspense Fallback"):Cn("Suspense");case 19:return Cn("SuspenseList");case 0:case 15:return Ki(t.type,!1);case 11:return Ki(t.type.render,!1);case 1:return Ki(t.type,!0);case 31:return Cn("Activity");default:return""}}function wr(t){try{var n="",r=null;do n+=Ar(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Qe=Object.prototype.hasOwnProperty,Ge=s.unstable_scheduleCallback,Rn=s.unstable_cancelCallback,re=s.unstable_shouldYield,le=s.unstable_requestPaint,ae=s.unstable_now,ue=s.unstable_getCurrentPriorityLevel,Y=s.unstable_ImmediatePriority,ge=s.unstable_UserBlockingPriority,te=s.unstable_NormalPriority,We=s.unstable_LowPriority,gn=s.unstable_IdlePriority,ti=s.log,et=s.unstable_setDisableYieldValue,Nt=null,Ht=null;function cn(t){if(typeof ti=="function"&&et(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Nt,t)}catch{}}var At=Math.clz32?Math.clz32:du,fu=Math.log,da=Math.LN2;function du(t){return t>>>=0,t===0?32:31-(fu(t)/da|0)|0}var yi=256,Cr=262144,Dt=4194304;function _i(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function vi(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=_i(l):(g&=E,g!==0?h=_i(g):r||(r=E&~t,r!==0&&(h=_i(r))))):(E=l&~f,E!==0?h=_i(E):g!==0?h=_i(g):r||(r=l&~t,r!==0&&(h=_i(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function ni(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Bh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mu(){var t=Dt;return Dt<<=1,(Dt&62914560)===0&&(Dt=4194304),t}function bi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Rr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Hh(t,n,r,l,h,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,I=t.expirationTimes,U=t.hiddenUpdates;for(r=g&~r;0<r;){var G=31-At(r),X=1<<G;E[G]=0,I[G]=-1;var z=U[G];if(z!==null)for(U[G]=null,G=0;G<z.length;G++){var H=z[G];H!==null&&(H.lane&=-536870913)}r&=~X}l!==0&&Ir(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Ir(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-At(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function Rl(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-At(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function Il(t,n){var r=n&-n;return r=(r&42)!==0?1:Nr(r),(r&(t.suspendedLanes|n))!==0?0:r}function Nr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function pu(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:k0(t.type))}function ii(t,n){var r=ne.p;try{return ne.p=t,n()}finally{ne.p=r}}var si=Math.random().toString(36).slice(2),Ot="__reactFiber$"+si,Yt="__reactProps$"+si,Ei="__reactContainer$"+si,ma="__reactEvents$"+si,qh="__reactListeners$"+si,gu="__reactHandles$"+si,yu="__reactResources$"+si,Ti="__reactMarker$"+si;function pa(t){delete t[Ot],delete t[Yt],delete t[ma],delete t[qh],delete t[gu]}function xi(t){var n=t[Ot];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Ei]||r[Ot]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=v0(t);t!==null;){if(r=t[Ot])return r;t=v0(t)}return n}t=r,r=t.parentNode}return null}function zn(t){if(t=t[Ot]||t[Ei]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function In(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Si(t){var n=t[yu];return n||(n=t[yu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Mt(t){t[Ti]=!0}var Nl=new Set,Dl={};function Ai(t,n){wi(t,n),wi(t+"Capture",n)}function wi(t,n){for(Dl[t]=n,t=0;t<n.length;t++)Nl.add(n[t])}var Ol=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ml={},Vl={};function _u(t){return Qe.call(Vl,t)?!0:Qe.call(Ml,t)?!1:Ol.test(t)?Vl[t]=!0:(Ml[t]=!0,!1)}function ga(t,n,r){if(_u(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Nn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Vt(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ws(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function kl(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function it(t){if(!t._valueTracker){var n=ws(t)?"checked":"value";t._valueTracker=kl(t,n,""+t[n])}}function Dr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=ws(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Ci(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Or=/[\n"\\]/g;function yn(t){return t.replace(Or,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ya(t,n,r,l,h,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Kt(n)):t.value!==""+Kt(n)&&(t.value=""+Kt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?jl(t,g,Kt(n)):r!=null?jl(t,g,Kt(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Kt(E):t.removeAttribute("name")}function vu(t,n,r,l,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){it(t);return}r=r!=null?""+Kt(r):"",n=n!=null?""+Kt(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),it(t)}function jl(t,n,r){n==="number"&&Ci(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Cs(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Kt(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function bu(t,n,r){if(n!=null&&(n=""+Kt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Kt(r):""}function Rs(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(Et(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Kt(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),it(t)}function _n(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Eu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ll(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Eu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Pl(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Ll(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Ll(t,f,n[f])}function _a(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Is=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(t){return Is.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ri(){}var Ul=null;function Bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ns=null,Ri=null;function Mr(t){var n=zn(t);if(n&&(t=n.stateNode)){var r=t[Yt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ya(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+yn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[Yt]||null;if(!h)throw Error(a(90));ya(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Dr(l)}break e;case"textarea":bu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Cs(t,!!r.multiple,n,!1)}}}var ba=!1;function Ds(t,n,r){if(ba)return t(n,r);ba=!0;try{var l=t(n);return l}finally{if(ba=!1,(Ns!==null||Ri!==null)&&(pc(),Ns&&(n=Ns,t=Ri,Ri=Ns=null,Mr(n),t)))for(n=0;n<t.length;n++)Mr(t[n])}}function ai(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Yt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vr=!1;if(Hn)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){Vr=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{Vr=!1}var Ii=null,zl=null,kr=null;function Bl(){if(kr)return kr;var t,n=zl,r=n.length,l,h="value"in Ii?Ii.value:Ii.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var g=r-t;for(l=1;l<=g&&n[r-l]===h[f-l];l++);return kr=h.slice(t,1<l?1-l:void 0)}function jr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Xi(){return!0}function li(){return!1}function $t(t){function n(r,l,h,f,g){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Xi:li,this.isPropagationStopped=li,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),n}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ni=$t($i),Os=A({},$i,{view:0,detail:0}),Hl=$t(Os),Ms,Ea,Di,Ta=A({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Di&&(Di&&t.type==="mousemove"?(Ms=t.screenX-Di.screenX,Ea=t.screenY-Di.screenY):Ea=Ms=0,Di=t),Ms)},movementY:function(t){return"movementY"in t?t.movementY:Ea}}),ql=$t(Ta),Lr=A({},Ta,{dataTransfer:0}),xu=$t(Lr),Su=A({},Os,{relatedTarget:0}),Pr=$t(Su),Gl=A({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),Au=$t(Gl),xa=A({},$i,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wu=$t(xa),Cu=A({},$i,{data:0}),Oi=$t(Cu),Ru={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Du(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Nu[t])?!!n[t]:!1}function Vs(){return Du}var hn=A({},Os,{key:function(t){if(t.key){var n=Ru[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=jr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Iu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(t){return t.type==="keypress"?jr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ou=$t(hn),Mu=A({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ji=$t(Mu),u=A({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),m=$t(u),b=A({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=$t(b),L=A({},Ta,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=$t(L),ee=A({},$i,{newState:0,oldState:0}),Ie=$t(ee),wt=[9,13,27,32],Je=Hn&&"CompositionEvent"in window,yt=null;Hn&&"documentMode"in document&&(yt=document.documentMode);var qn=Hn&&"TextEvent"in window&&!yt,Mi=Hn&&(!Je||yt&&8<yt&&11>=yt),oi=" ",ui=!1;function Ur(t,n){switch(t){case"keyup":return wt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Aa=!1;function hE(t,n){switch(t){case"compositionend":return Sa(n);case"keypress":return n.which!==32?null:(ui=!0,oi);case"textInput":return t=n.data,t===oi&&ui?null:t;default:return null}}function fE(t,n){if(Aa)return t==="compositionend"||!Je&&Ur(t,n)?(t=Bl(),kr=zl=Ii=null,Aa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Mi&&n.locale!=="ko"?null:n.data;default:return null}}var dE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!dE[t.type]:n==="textarea"}function xp(t,n,r,l){Ns?Ri?Ri.push(l):Ri=[l]:Ns=l,n=Tc(n,"onChange"),0<n.length&&(r=new Ni("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Fl=null,Yl=null;function mE(t){r0(t,0)}function Vu(t){var n=In(t);if(Dr(n))return t}function Sp(t,n){if(t==="change")return n}var Ap=!1;if(Hn){var Gh;if(Hn){var Fh="oninput"in document;if(!Fh){var wp=document.createElement("div");wp.setAttribute("oninput","return;"),Fh=typeof wp.oninput=="function"}Gh=Fh}else Gh=!1;Ap=Gh&&(!document.documentMode||9<document.documentMode)}function Cp(){Fl&&(Fl.detachEvent("onpropertychange",Rp),Yl=Fl=null)}function Rp(t){if(t.propertyName==="value"&&Vu(Yl)){var n=[];xp(n,Yl,t,Bn(t)),Ds(mE,n)}}function pE(t,n,r){t==="focusin"?(Cp(),Fl=n,Yl=r,Fl.attachEvent("onpropertychange",Rp)):t==="focusout"&&Cp()}function gE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vu(Yl)}function yE(t,n){if(t==="click")return Vu(n)}function _E(t,n){if(t==="input"||t==="change")return Vu(n)}function vE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Dn=typeof Object.is=="function"?Object.is:vE;function Kl(t,n){if(Dn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!Qe.call(n,h)||!Dn(t[h],n[h]))return!1}return!0}function Ip(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Np(t,n){var r=Ip(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ip(r)}}function Dp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Dp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Op(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ci(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ci(t.document)}return n}function Yh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var bE=Hn&&"documentMode"in document&&11>=document.documentMode,wa=null,Kh=null,Ql=null,Qh=!1;function Mp(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qh||wa==null||wa!==Ci(l)||(l=wa,"selectionStart"in l&&Yh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ql&&Kl(Ql,l)||(Ql=l,l=Tc(Kh,"onSelect"),0<l.length&&(n=new Ni("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=wa)))}function zr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ca={animationend:zr("Animation","AnimationEnd"),animationiteration:zr("Animation","AnimationIteration"),animationstart:zr("Animation","AnimationStart"),transitionrun:zr("Transition","TransitionRun"),transitionstart:zr("Transition","TransitionStart"),transitioncancel:zr("Transition","TransitionCancel"),transitionend:zr("Transition","TransitionEnd")},Xh={},Vp={};Hn&&(Vp=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Br(t){if(Xh[t])return Xh[t];if(!Ca[t])return t;var n=Ca[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Vp)return Xh[t]=n[r];return t}var kp=Br("animationend"),jp=Br("animationiteration"),Lp=Br("animationstart"),EE=Br("transitionrun"),TE=Br("transitionstart"),xE=Br("transitioncancel"),Pp=Br("transitionend"),Up=new Map,$h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$h.push("scrollEnd");function ci(t,n){Up.set(t,n),Ai(n,[t])}var ku=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Gn=[],Ra=0,Jh=0;function ju(){for(var t=Ra,n=Jh=Ra=0;n<t;){var r=Gn[n];Gn[n++]=null;var l=Gn[n];Gn[n++]=null;var h=Gn[n];Gn[n++]=null;var f=Gn[n];if(Gn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&zp(r,h,f)}}function Lu(t,n,r,l){Gn[Ra++]=t,Gn[Ra++]=n,Gn[Ra++]=r,Gn[Ra++]=l,Jh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Zh(t,n,r,l){return Lu(t,n,r,l),Pu(t)}function Hr(t,n){return Lu(t,null,null,n),Pu(t)}function zp(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-At(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Pu(t){if(50<yo)throw yo=0,od=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ia={};function SE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,n,r,l){return new SE(t,n,r,l)}function Wh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zi(t,n){var r=t.alternate;return r===null?(r=On(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Bp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Uu(t,n,r,l,h,f){var g=0;if(l=t,typeof t=="function")Wh(t)&&(g=1);else if(typeof t=="string")g=IT(t,r,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=On(31,r,n,h),t.elementType=N,t.lanes=f,t;case se:return qr(r.children,h,f,n);case Z:g=8,h|=24;break;case pe:return t=On(12,r,n,h|2),t.elementType=pe,t.lanes=f,t;case qe:return t=On(13,r,n,h),t.elementType=qe,t.lanes=f,t;case Me:return t=On(19,r,n,h),t.elementType=Me,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Te:g=10;break e;case be:g=9;break e;case Ye:g=11;break e;case R:g=14;break e;case w:g=16,l=null;break e}g=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=On(g,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function qr(t,n,r,l){return t=On(7,t,l,n),t.lanes=r,t}function ef(t,n,r){return t=On(6,t,null,n),t.lanes=r,t}function Hp(t){var n=On(18,null,null,0);return n.stateNode=t,n}function tf(t,n,r){return n=On(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var qp=new WeakMap;function Fn(t,n){if(typeof t=="object"&&t!==null){var r=qp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:wr(n)},qp.set(t,n),n)}return{value:t,source:n,stack:wr(n)}}var Na=[],Da=0,zu=null,Xl=0,Yn=[],Kn=0,ks=null,Vi=1,ki="";function Wi(t,n){Na[Da++]=Xl,Na[Da++]=zu,zu=t,Xl=n}function Gp(t,n,r){Yn[Kn++]=Vi,Yn[Kn++]=ki,Yn[Kn++]=ks,ks=t;var l=Vi;t=ki;var h=32-At(l)-1;l&=~(1<<h),r+=1;var f=32-At(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,Vi=1<<32-At(n)+h|r<<h|l,ki=f+t}else Vi=1<<f|r<<h|l,ki=t}function nf(t){t.return!==null&&(Wi(t,1),Gp(t,1,0))}function sf(t){for(;t===zu;)zu=Na[--Da],Na[Da]=null,Xl=Na[--Da],Na[Da]=null;for(;t===ks;)ks=Yn[--Kn],Yn[Kn]=null,ki=Yn[--Kn],Yn[Kn]=null,Vi=Yn[--Kn],Yn[Kn]=null}function Fp(t,n){Yn[Kn++]=Vi,Yn[Kn++]=ki,Yn[Kn++]=ks,Vi=n.id,ki=n.overflow,ks=t}var Jt=null,mt=null,He=!1,js=null,Qn=!1,rf=Error(a(519));function Ls(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $l(Fn(n,t)),rf}function Yp(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Ot]=t,n[Yt]=l,r){case"dialog":ke("cancel",n),ke("close",n);break;case"iframe":case"object":case"embed":ke("load",n);break;case"video":case"audio":for(r=0;r<vo.length;r++)ke(vo[r],n);break;case"source":ke("error",n);break;case"img":case"image":case"link":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"input":ke("invalid",n),vu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ke("invalid",n);break;case"textarea":ke("invalid",n),Rs(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||u0(n.textContent,r)?(l.popover!=null&&(ke("beforetoggle",n),ke("toggle",n)),l.onScroll!=null&&ke("scroll",n),l.onScrollEnd!=null&&ke("scrollend",n),l.onClick!=null&&(n.onclick=ri),n=!0):n=!1,n||Ls(t,!0)}function Kp(t){for(Jt=t.return;Jt;)switch(Jt.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Jt=Jt.return}}function Oa(t){if(t!==Jt)return!1;if(!He)return Kp(t),He=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||xd(t.type,t.memoizedProps)),r=!r),r&&mt&&Ls(t),Kp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));mt=_0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));mt=_0(t)}else n===27?(n=mt,Js(t.type)?(t=Rd,Rd=null,mt=t):mt=n):mt=Jt?$n(t.stateNode.nextSibling):null;return!0}function Gr(){mt=Jt=null,He=!1}function af(){var t=js;return t!==null&&(Tn===null?Tn=t:Tn.push.apply(Tn,t),js=null),t}function $l(t){js===null?js=[t]:js.push(t)}var lf=V(null),Fr=null,es=null;function Ps(t,n,r){ie(lf,n._currentValue),n._currentValue=r}function ts(t){t._currentValue=lf.current,K(lf)}function of(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function uf(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),of(f.return,r,t),l||(g=null);break e}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),of(g,r,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ma(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;Dn(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===je.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(So):t=[So])}h=h.return}t!==null&&uf(n,t,r,l),n.flags|=262144}function Bu(t){for(t=t.firstContext;t!==null;){if(!Dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Yr(t){Fr=t,es=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Zt(t){return Qp(Fr,t)}function Hu(t,n){return Fr===null&&Yr(t),Qp(t,n)}function Qp(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},es===null){if(t===null)throw Error(a(308));es=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else es=es.next=n;return r}var AE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},wE=s.unstable_scheduleCallback,CE=s.unstable_NormalPriority,kt={$$typeof:Te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cf(){return{controller:new AE,data:new Map,refCount:0}}function Jl(t){t.refCount--,t.refCount===0&&wE(CE,function(){t.controller.abort()})}var Zl=null,hf=0,Va=0,ka=null;function RE(t,n){if(Zl===null){var r=Zl=[];hf=0,Va=md(),ka={status:"pending",value:void 0,then:function(l){r.push(l)}}}return hf++,n.then(Xp,Xp),n}function Xp(){if(--hf===0&&Zl!==null){ka!==null&&(ka.status="fulfilled");var t=Zl;Zl=null,Va=0,ka=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function IE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var $p=q.S;q.S=function(t,n){My=ae(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&RE(t,n),$p!==null&&$p(t,n)};var Kr=V(null);function ff(){var t=Kr.current;return t!==null?t:dt.pooledCache}function qu(t,n){n===null?ie(Kr,Kr.current):ie(Kr,n.pool)}function Jp(){var t=ff();return t===null?null:{parent:kt._currentValue,pool:t}}var ja=Error(a(460)),df=Error(a(474)),Gu=Error(a(542)),Fu={then:function(){}};function Zp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Wp(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ri,ri),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,tg(t),t;default:if(typeof n.status=="string")n.then(ri,ri);else{if(t=dt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,tg(t),t}throw Xr=n,ja}}function Qr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Xr=r,ja):r}}var Xr=null;function eg(){if(Xr===null)throw Error(a(459));var t=Xr;return Xr=null,t}function tg(t){if(t===ja||t===Gu)throw Error(a(483))}var La=null,Wl=0;function Yu(t){var n=Wl;return Wl+=1,La===null&&(La=[]),Wp(La,t,n)}function eo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ku(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ng(t){function n(j,O){if(t){var P=j.deletions;P===null?(j.deletions=[O],j.flags|=16):P.push(O)}}function r(j,O){if(!t)return null;for(;O!==null;)n(j,O),O=O.sibling;return null}function l(j){for(var O=new Map;j!==null;)j.key!==null?O.set(j.key,j):O.set(j.index,j),j=j.sibling;return O}function h(j,O){return j=Zi(j,O),j.index=0,j.sibling=null,j}function f(j,O,P){return j.index=P,t?(P=j.alternate,P!==null?(P=P.index,P<O?(j.flags|=67108866,O):P):(j.flags|=67108866,O)):(j.flags|=1048576,O)}function g(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function E(j,O,P,Q){return O===null||O.tag!==6?(O=ef(P,j.mode,Q),O.return=j,O):(O=h(O,P),O.return=j,O)}function I(j,O,P,Q){var ye=P.type;return ye===se?G(j,O,P.props.children,Q,P.key):O!==null&&(O.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===w&&Qr(ye)===O.type)?(O=h(O,P.props),eo(O,P),O.return=j,O):(O=Uu(P.type,P.key,P.props,null,j.mode,Q),eo(O,P),O.return=j,O)}function U(j,O,P,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=tf(P,j.mode,Q),O.return=j,O):(O=h(O,P.children||[]),O.return=j,O)}function G(j,O,P,Q,ye){return O===null||O.tag!==7?(O=qr(P,j.mode,Q,ye),O.return=j,O):(O=h(O,P),O.return=j,O)}function X(j,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=ef(""+O,j.mode,P),O.return=j,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case F:return P=Uu(O.type,O.key,O.props,null,j.mode,P),eo(P,O),P.return=j,P;case W:return O=tf(O,j.mode,P),O.return=j,O;case w:return O=Qr(O),X(j,O,P)}if(Et(O)||k(O))return O=qr(O,j.mode,P,null),O.return=j,O;if(typeof O.then=="function")return X(j,Yu(O),P);if(O.$$typeof===Te)return X(j,Hu(j,O),P);Ku(j,O)}return null}function z(j,O,P,Q){var ye=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ye!==null?null:E(j,O,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===ye?I(j,O,P,Q):null;case W:return P.key===ye?U(j,O,P,Q):null;case w:return P=Qr(P),z(j,O,P,Q)}if(Et(P)||k(P))return ye!==null?null:G(j,O,P,Q,null);if(typeof P.then=="function")return z(j,O,Yu(P),Q);if(P.$$typeof===Te)return z(j,O,Hu(j,P),Q);Ku(j,P)}return null}function H(j,O,P,Q,ye){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return j=j.get(P)||null,E(O,j,""+Q,ye);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return j=j.get(Q.key===null?P:Q.key)||null,I(O,j,Q,ye);case W:return j=j.get(Q.key===null?P:Q.key)||null,U(O,j,Q,ye);case w:return Q=Qr(Q),H(j,O,P,Q,ye)}if(Et(Q)||k(Q))return j=j.get(P)||null,G(O,j,Q,ye,null);if(typeof Q.then=="function")return H(j,O,P,Yu(Q),ye);if(Q.$$typeof===Te)return H(j,O,P,Hu(O,Q),ye);Ku(O,Q)}return null}function he(j,O,P,Q){for(var ye=null,Xe=null,fe=O,Oe=O=0,Pe=null;fe!==null&&Oe<P.length;Oe++){fe.index>Oe?(Pe=fe,fe=null):Pe=fe.sibling;var $e=z(j,fe,P[Oe],Q);if($e===null){fe===null&&(fe=Pe);break}t&&fe&&$e.alternate===null&&n(j,fe),O=f($e,O,Oe),Xe===null?ye=$e:Xe.sibling=$e,Xe=$e,fe=Pe}if(Oe===P.length)return r(j,fe),He&&Wi(j,Oe),ye;if(fe===null){for(;Oe<P.length;Oe++)fe=X(j,P[Oe],Q),fe!==null&&(O=f(fe,O,Oe),Xe===null?ye=fe:Xe.sibling=fe,Xe=fe);return He&&Wi(j,Oe),ye}for(fe=l(fe);Oe<P.length;Oe++)Pe=H(fe,j,Oe,P[Oe],Q),Pe!==null&&(t&&Pe.alternate!==null&&fe.delete(Pe.key===null?Oe:Pe.key),O=f(Pe,O,Oe),Xe===null?ye=Pe:Xe.sibling=Pe,Xe=Pe);return t&&fe.forEach(function(nr){return n(j,nr)}),He&&Wi(j,Oe),ye}function ve(j,O,P,Q){if(P==null)throw Error(a(151));for(var ye=null,Xe=null,fe=O,Oe=O=0,Pe=null,$e=P.next();fe!==null&&!$e.done;Oe++,$e=P.next()){fe.index>Oe?(Pe=fe,fe=null):Pe=fe.sibling;var nr=z(j,fe,$e.value,Q);if(nr===null){fe===null&&(fe=Pe);break}t&&fe&&nr.alternate===null&&n(j,fe),O=f(nr,O,Oe),Xe===null?ye=nr:Xe.sibling=nr,Xe=nr,fe=Pe}if($e.done)return r(j,fe),He&&Wi(j,Oe),ye;if(fe===null){for(;!$e.done;Oe++,$e=P.next())$e=X(j,$e.value,Q),$e!==null&&(O=f($e,O,Oe),Xe===null?ye=$e:Xe.sibling=$e,Xe=$e);return He&&Wi(j,Oe),ye}for(fe=l(fe);!$e.done;Oe++,$e=P.next())$e=H(fe,j,Oe,$e.value,Q),$e!==null&&(t&&$e.alternate!==null&&fe.delete($e.key===null?Oe:$e.key),O=f($e,O,Oe),Xe===null?ye=$e:Xe.sibling=$e,Xe=$e);return t&&fe.forEach(function(zT){return n(j,zT)}),He&&Wi(j,Oe),ye}function ft(j,O,P,Q){if(typeof P=="object"&&P!==null&&P.type===se&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:e:{for(var ye=P.key;O!==null;){if(O.key===ye){if(ye=P.type,ye===se){if(O.tag===7){r(j,O.sibling),Q=h(O,P.props.children),Q.return=j,j=Q;break e}}else if(O.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===w&&Qr(ye)===O.type){r(j,O.sibling),Q=h(O,P.props),eo(Q,P),Q.return=j,j=Q;break e}r(j,O);break}else n(j,O);O=O.sibling}P.type===se?(Q=qr(P.props.children,j.mode,Q,P.key),Q.return=j,j=Q):(Q=Uu(P.type,P.key,P.props,null,j.mode,Q),eo(Q,P),Q.return=j,j=Q)}return g(j);case W:e:{for(ye=P.key;O!==null;){if(O.key===ye)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){r(j,O.sibling),Q=h(O,P.children||[]),Q.return=j,j=Q;break e}else{r(j,O);break}else n(j,O);O=O.sibling}Q=tf(P,j.mode,Q),Q.return=j,j=Q}return g(j);case w:return P=Qr(P),ft(j,O,P,Q)}if(Et(P))return he(j,O,P,Q);if(k(P)){if(ye=k(P),typeof ye!="function")throw Error(a(150));return P=ye.call(P),ve(j,O,P,Q)}if(typeof P.then=="function")return ft(j,O,Yu(P),Q);if(P.$$typeof===Te)return ft(j,O,Hu(j,P),Q);Ku(j,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(r(j,O.sibling),Q=h(O,P),Q.return=j,j=Q):(r(j,O),Q=ef(P,j.mode,Q),Q.return=j,j=Q),g(j)):r(j,O)}return function(j,O,P,Q){try{Wl=0;var ye=ft(j,O,P,Q);return La=null,ye}catch(fe){if(fe===ja||fe===Gu)throw fe;var Xe=On(29,fe,null,j.mode);return Xe.lanes=Q,Xe.return=j,Xe}}}var $r=ng(!0),ig=ng(!1),Us=!1;function mf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function zs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Bs(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ze&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Pu(t),zp(t,null,r),n}return Lu(t,l,n,r),Pu(t)}function to(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Rl(t,r)}}function gf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var yf=!1;function no(){if(yf){var t=ka;if(t!==null)throw t}}function io(t,n,r,l){yf=!1;var h=t.updateQueue;Us=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,U=I.next;I.next=null,g===null?f=U:g.next=U,g=I;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=U:E.next=U,G.lastBaseUpdate=I))}if(f!==null){var X=h.baseState;g=0,G=U=I=null,E=f;do{var z=E.lane&-536870913,H=z!==E.lane;if(H?(Le&z)===z:(l&z)===z){z!==0&&z===Va&&(yf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var he=t,ve=E;z=n;var ft=r;switch(ve.tag){case 1:if(he=ve.payload,typeof he=="function"){X=he.call(ft,X,z);break e}X=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ve.payload,z=typeof he=="function"?he.call(ft,X,z):he,z==null)break e;X=A({},X,z);break e;case 2:Us=!0}}z=E.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(U=G=H,I=X):G=G.next=H,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(I=X),h.baseState=I,h.firstBaseUpdate=U,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Ys|=g,t.lanes=g,t.memoizedState=X}}function sg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function rg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)sg(r[t],n)}var Pa=V(null),Qu=V(0);function ag(t,n){t=cs,ie(Qu,t),ie(Pa,n),cs=t|n.baseLanes}function _f(){ie(Qu,cs),ie(Pa,Pa.current)}function vf(){cs=Qu.current,K(Pa),K(Qu)}var Mn=V(null),Xn=null;function Hs(t){var n=t.alternate;ie(Ct,Ct.current&1),ie(Mn,t),Xn===null&&(n===null||Pa.current!==null||n.memoizedState!==null)&&(Xn=t)}function bf(t){ie(Ct,Ct.current),ie(Mn,t),Xn===null&&(Xn=t)}function lg(t){t.tag===22?(ie(Ct,Ct.current),ie(Mn,t),Xn===null&&(Xn=t)):qs()}function qs(){ie(Ct,Ct.current),ie(Mn,Mn.current)}function Vn(t){K(Mn),Xn===t&&(Xn=null),K(Ct)}var Ct=V(0);function Xu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||wd(r)||Cd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ns=0,Ne=null,ct=null,jt=null,$u=!1,Ua=!1,Jr=!1,Ju=0,so=0,za=null,NE=0;function xt(){throw Error(a(321))}function Ef(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Dn(t[r],n[r]))return!1;return!0}function Tf(t,n,r,l,h,f){return ns=f,Ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?Gg:Lf,Jr=!1,f=r(l,h),Jr=!1,Ua&&(f=ug(n,r,l,h)),og(t),f}function og(t){q.H=lo;var n=ct!==null&&ct.next!==null;if(ns=0,jt=ct=Ne=null,$u=!1,so=0,za=null,n)throw Error(a(300));t===null||Lt||(t=t.dependencies,t!==null&&Bu(t)&&(Lt=!0))}function ug(t,n,r,l){Ne=t;var h=0;do{if(Ua&&(za=null),so=0,Ua=!1,25<=h)throw Error(a(301));if(h+=1,jt=ct=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Fg,f=n(r,l)}while(Ua);return f}function DE(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?ro(n):n,t=t.useState()[0],(ct!==null?ct.memoizedState:null)!==t&&(Ne.flags|=1024),n}function xf(){var t=Ju!==0;return Ju=0,t}function Sf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Af(t){if($u){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}$u=!1}ns=0,jt=ct=Ne=null,Ua=!1,so=Ju=0,za=null}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Ne.memoizedState=jt=t:jt=jt.next=t,jt}function Rt(){if(ct===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var n=jt===null?Ne.memoizedState:jt.next;if(n!==null)jt=n,ct=t;else{if(t===null)throw Ne.alternate===null?Error(a(467)):Error(a(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},jt===null?Ne.memoizedState=jt=t:jt=jt.next=t}return jt}function Zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ro(t){var n=so;return so+=1,za===null&&(za=[]),t=Wp(za,t,n),n=Ne,(jt===null?n.memoizedState:jt.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Gg:Lf),t}function Wu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ro(t);if(t.$$typeof===Te)return Zt(t)}throw Error(a(438,String(t)))}function wf(t){var n=null,r=Ne.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Zu(),Ne.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=S;return n.index++,r}function is(t,n){return typeof n=="function"?n(t):n}function ec(t){var n=Rt();return Cf(n,ct,t)}function Cf(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=g=null,I=null,U=n,G=!1;do{var X=U.lane&-536870913;if(X!==U.lane?(Le&X)===X:(ns&X)===X){var z=U.revertLane;if(z===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),X===Va&&(G=!0);else if((ns&z)===z){U=U.next,z===Va&&(G=!0);continue}else X={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(E=I=X,g=f):I=I.next=X,Ne.lanes|=z,Ys|=z;X=U.action,Jr&&r(f,X),f=U.hasEagerState?U.eagerState:r(f,X)}else z={lane:X,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(E=I=z,g=f):I=I.next=z,Ne.lanes|=X,Ys|=X;U=U.next}while(U!==null&&U!==n);if(I===null?g=f:I.next=E,!Dn(f,t.memoizedState)&&(Lt=!0,G&&(r=ka,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Rf(t){var n=Rt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);Dn(f,n.memoizedState)||(Lt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function cg(t,n,r){var l=Ne,h=Rt(),f=He;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!Dn((ct||h).memoizedState,r);if(g&&(h.memoizedState=r,Lt=!0),h=h.queue,Df(dg.bind(null,l,h,t),[t]),h.getSnapshot!==n||g||jt!==null&&jt.memoizedState.tag&1){if(l.flags|=2048,Ba(9,{destroy:void 0},fg.bind(null,l,h,r,n),null),dt===null)throw Error(a(349));f||(ns&127)!==0||hg(l,n,r)}return r}function hg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ne.updateQueue,n===null?(n=Zu(),Ne.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function fg(t,n,r,l){n.value=r,n.getSnapshot=l,mg(n)&&pg(t)}function dg(t,n,r){return r(function(){mg(n)&&pg(t)})}function mg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Dn(t,r)}catch{return!0}}function pg(t){var n=Hr(t,2);n!==null&&xn(n,t,2)}function If(t){var n=fn();if(typeof t=="function"){var r=t;if(t=r(),Jr){cn(!0);try{r()}finally{cn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:t},n}function gg(t,n,r,l){return t.baseState=r,Cf(t,ct,typeof l=="function"?l:is)}function OE(t,n,r,l,h){if(ic(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};q.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,yg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function yg(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=q.T,g={};q.T=g;try{var E=r(h,l),I=q.S;I!==null&&I(g,E),_g(t,n,E)}catch(U){Nf(t,n,U)}finally{f!==null&&g.types!==null&&(f.types=g.types),q.T=f}}else try{f=r(h,l),_g(t,n,f)}catch(U){Nf(t,n,U)}}function _g(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){vg(t,n,l)},function(l){return Nf(t,n,l)}):vg(t,n,r)}function vg(t,n,r){n.status="fulfilled",n.value=r,bg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,yg(t,r)))}function Nf(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,bg(n),n=n.next;while(n!==l)}t.action=null}function bg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Eg(t,n){return n}function Tg(t,n){if(He){var r=dt.formState;if(r!==null){e:{var l=Ne;if(He){if(mt){t:{for(var h=mt,f=Qn;h.nodeType!==8;){if(!f){h=null;break t}if(h=$n(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){mt=$n(h.nextSibling),l=h.data==="F!";break e}}Ls(l)}l=!1}l&&(n=r[0])}}return r=fn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eg,lastRenderedState:n},r.queue=l,r=Bg.bind(null,Ne,l),l.dispatch=r,l=If(!1),f=jf.bind(null,Ne,!1,l.queue),l=fn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=OE.bind(null,Ne,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function xg(t){var n=Rt();return Sg(n,ct,t)}function Sg(t,n,r){if(n=Cf(t,n,Eg)[0],t=ec(is)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ro(n)}catch(g){throw g===ja?Gu:g}else l=n;n=Rt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Ne.flags|=2048,Ba(9,{destroy:void 0},ME.bind(null,h,r),null)),[l,f,t]}function ME(t,n){t.action=n}function Ag(t){var n=Rt(),r=ct;if(r!==null)return Sg(n,r,t);Rt(),n=n.memoizedState,r=Rt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ba(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Ne.updateQueue,n===null&&(n=Zu(),Ne.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function wg(){return Rt().memoizedState}function tc(t,n,r,l){var h=fn();Ne.flags|=t,h.memoizedState=Ba(1|n,{destroy:void 0},r,l===void 0?null:l)}function nc(t,n,r,l){var h=Rt();l=l===void 0?null:l;var f=h.memoizedState.inst;ct!==null&&l!==null&&Ef(l,ct.memoizedState.deps)?h.memoizedState=Ba(n,f,r,l):(Ne.flags|=t,h.memoizedState=Ba(1|n,f,r,l))}function Cg(t,n){tc(8390656,8,t,n)}function Df(t,n){nc(2048,8,t,n)}function VE(t){Ne.flags|=4;var n=Ne.updateQueue;if(n===null)n=Zu(),Ne.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Rg(t){var n=Rt().memoizedState;return VE({ref:n,nextImpl:t}),function(){if((Ze&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Ig(t,n){return nc(4,2,t,n)}function Ng(t,n){return nc(4,4,t,n)}function Dg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Og(t,n,r){r=r!=null?r.concat([t]):null,nc(4,4,Dg.bind(null,n,t),r)}function Of(){}function Mg(t,n){var r=Rt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Ef(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Vg(t,n){var r=Rt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Ef(n,l[1]))return l[0];if(l=t(),Jr){cn(!0);try{t()}finally{cn(!1)}}return r.memoizedState=[l,n],l}function Mf(t,n,r){return r===void 0||(ns&1073741824)!==0&&(Le&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=ky(),Ne.lanes|=t,Ys|=t,r)}function kg(t,n,r,l){return Dn(r,n)?r:Pa.current!==null?(t=Mf(t,r,l),Dn(t,n)||(Lt=!0),t):(ns&42)===0||(ns&1073741824)!==0&&(Le&261930)===0?(Lt=!0,t.memoizedState=r):(t=ky(),Ne.lanes|=t,Ys|=t,n)}function jg(t,n,r,l,h){var f=ne.p;ne.p=f!==0&&8>f?f:8;var g=q.T,E={};q.T=E,jf(t,!1,n,r);try{var I=h(),U=q.S;if(U!==null&&U(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=IE(I,l);ao(t,n,G,Ln(t))}else ao(t,n,l,Ln(t))}catch(X){ao(t,n,{then:function(){},status:"rejected",reason:X},Ln())}finally{ne.p=f,g!==null&&E.types!==null&&(g.types=E.types),q.T=g}}function kE(){}function Vf(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=Lg(t).queue;jg(t,h,n,de,r===null?kE:function(){return Pg(t),r(l)})}function Lg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:de},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Pg(t){var n=Lg(t);n.next===null&&(n=t.alternate.memoizedState),ao(t,n.next.queue,{},Ln())}function kf(){return Zt(So)}function Ug(){return Rt().memoizedState}function zg(){return Rt().memoizedState}function jE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Ln();t=zs(r);var l=Bs(n,t,r);l!==null&&(xn(l,n,r),to(l,n,r)),n={cache:cf()},t.payload=n;return}n=n.return}}function LE(t,n,r){var l=Ln();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ic(t)?Hg(n,r):(r=Zh(t,n,r,l),r!==null&&(xn(r,t,l),qg(r,n,l)))}function Bg(t,n,r){var l=Ln();ao(t,n,r,l)}function ao(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(ic(t))Hg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,Dn(E,g))return Lu(t,n,h,0),dt===null&&ju(),!1}catch{}if(r=Zh(t,n,h,l),r!==null)return xn(r,t,l),qg(r,n,l),!0}return!1}function jf(t,n,r,l){if(l={lane:2,revertLane:md(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ic(t)){if(n)throw Error(a(479))}else n=Zh(t,r,l,2),n!==null&&xn(n,t,2)}function ic(t){var n=t.alternate;return t===Ne||n!==null&&n===Ne}function Hg(t,n){Ua=$u=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function qg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Rl(t,r)}}var lo={readContext:Zt,use:Wu,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt};lo.useEffectEvent=xt;var Gg={readContext:Zt,use:Wu,useCallback:function(t,n){return fn().memoizedState=[t,n===void 0?null:n],t},useContext:Zt,useEffect:Cg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,tc(4194308,4,Dg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return tc(4194308,4,t,n)},useInsertionEffect:function(t,n){tc(4,2,t,n)},useMemo:function(t,n){var r=fn();n=n===void 0?null:n;var l=t();if(Jr){cn(!0);try{t()}finally{cn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=fn();if(r!==void 0){var h=r(n);if(Jr){cn(!0);try{r(n)}finally{cn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=LE.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var n=fn();return t={current:t},n.memoizedState=t},useState:function(t){t=If(t);var n=t.queue,r=Bg.bind(null,Ne,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Of,useDeferredValue:function(t,n){var r=fn();return Mf(r,t,n)},useTransition:function(){var t=If(!1);return t=jg.bind(null,Ne,t.queue,!0,!1),fn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Ne,h=fn();if(He){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),dt===null)throw Error(a(349));(Le&127)!==0||hg(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Cg(dg.bind(null,l,f,t),[t]),l.flags|=2048,Ba(9,{destroy:void 0},fg.bind(null,l,f,r,n),null),r},useId:function(){var t=fn(),n=dt.identifierPrefix;if(He){var r=ki,l=Vi;r=(l&~(1<<32-At(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Ju++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=NE++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:kf,useFormState:Tg,useActionState:Tg,useOptimistic:function(t){var n=fn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=jf.bind(null,Ne,!0,r),r.dispatch=n,[t,n]},useMemoCache:wf,useCacheRefresh:function(){return fn().memoizedState=jE.bind(null,Ne)},useEffectEvent:function(t){var n=fn(),r={impl:t};return n.memoizedState=r,function(){if((Ze&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Lf={readContext:Zt,use:Wu,useCallback:Mg,useContext:Zt,useEffect:Df,useImperativeHandle:Og,useInsertionEffect:Ig,useLayoutEffect:Ng,useMemo:Vg,useReducer:ec,useRef:wg,useState:function(){return ec(is)},useDebugValue:Of,useDeferredValue:function(t,n){var r=Rt();return kg(r,ct.memoizedState,t,n)},useTransition:function(){var t=ec(is)[0],n=Rt().memoizedState;return[typeof t=="boolean"?t:ro(t),n]},useSyncExternalStore:cg,useId:Ug,useHostTransitionStatus:kf,useFormState:xg,useActionState:xg,useOptimistic:function(t,n){var r=Rt();return gg(r,ct,t,n)},useMemoCache:wf,useCacheRefresh:zg};Lf.useEffectEvent=Rg;var Fg={readContext:Zt,use:Wu,useCallback:Mg,useContext:Zt,useEffect:Df,useImperativeHandle:Og,useInsertionEffect:Ig,useLayoutEffect:Ng,useMemo:Vg,useReducer:Rf,useRef:wg,useState:function(){return Rf(is)},useDebugValue:Of,useDeferredValue:function(t,n){var r=Rt();return ct===null?Mf(r,t,n):kg(r,ct.memoizedState,t,n)},useTransition:function(){var t=Rf(is)[0],n=Rt().memoizedState;return[typeof t=="boolean"?t:ro(t),n]},useSyncExternalStore:cg,useId:Ug,useHostTransitionStatus:kf,useFormState:Ag,useActionState:Ag,useOptimistic:function(t,n){var r=Rt();return ct!==null?gg(r,ct,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:wf,useCacheRefresh:zg};Fg.useEffectEvent=Rg;function Pf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Uf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Ln(),h=zs(l);h.payload=n,r!=null&&(h.callback=r),n=Bs(t,h,l),n!==null&&(xn(n,t,l),to(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Ln(),h=zs(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Bs(t,h,l),n!==null&&(xn(n,t,l),to(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Ln(),l=zs(r);l.tag=2,n!=null&&(l.callback=n),n=Bs(t,l,r),n!==null&&(xn(n,t,r),to(n,t,r))}};function Yg(t,n,r,l,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Kl(r,l)||!Kl(h,f):!0}function Kg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Uf.enqueueReplaceState(n,n.state,null)}function Zr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Qg(t){ku(t)}function Xg(t){console.error(t)}function $g(t){ku(t)}function sc(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Jg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function zf(t,n,r){return r=zs(r),r.tag=3,r.payload={element:null},r.callback=function(){sc(t,n)},r}function Zg(t){return t=zs(t),t.tag=3,t}function Wg(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Jg(n,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Jg(n,r,l),typeof h!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function PE(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Ma(n,r,h,!0),r=Mn.current,r!==null){switch(r.tag){case 31:case 13:return Xn===null?gc():r.alternate===null&&St===0&&(St=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Fu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),hd(t,l,h)),!1;case 22:return r.flags|=65536,l===Fu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),hd(t,l,h)),!1}throw Error(a(435,r.tag))}return hd(t,l,h),gc(),!1}if(He)return n=Mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==rf&&(t=Error(a(422),{cause:l}),$l(Fn(t,r)))):(l!==rf&&(n=Error(a(423),{cause:l}),$l(Fn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Fn(l,r),h=zf(t.stateNode,l,h),gf(t,h),St!==4&&(St=2)),!1;var f=Error(a(520),{cause:l});if(f=Fn(f,r),go===null?go=[f]:go.push(f),St!==4&&(St=2),n===null)return!0;l=Fn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=zf(r.stateNode,l,t),gf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ks===null||!Ks.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Zg(h),Wg(h,t,r,l),gf(r,h),!1}r=r.return}while(r!==null);return!1}var Bf=Error(a(461)),Lt=!1;function Wt(t,n,r,l){n.child=t===null?ig(n,null,r,l):$r(n,t.child,r,l)}function ey(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return Yr(n),l=Tf(t,n,r,g,f,h),E=xf(),t!==null&&!Lt?(Sf(t,n,h),ss(t,n,h)):(He&&E&&nf(n),n.flags|=1,Wt(t,n,l,h),n.child)}function ty(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!Wh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,ny(t,n,f,l,h)):(t=Uu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Xf(t,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Kl,r(g,l)&&t.ref===n.ref)return ss(t,n,h)}return n.flags|=1,t=Zi(f,l),t.ref=n.ref,t.return=n,n.child=t}function ny(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(Kl(f,l)&&t.ref===n.ref)if(Lt=!1,n.pendingProps=l=f,Xf(t,h))(t.flags&131072)!==0&&(Lt=!0);else return n.lanes=t.lanes,ss(t,n,h)}return Hf(t,n,r,l,h)}function iy(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return sy(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&qu(n,f!==null?f.cachePool:null),f!==null?ag(n,f):_f(),lg(n);else return l=n.lanes=536870912,sy(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(qu(n,f.cachePool),ag(n,f),qs(),n.memoizedState=null):(t!==null&&qu(n,null),_f(),qs());return Wt(t,n,h,r),n.child}function oo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function sy(t,n,r,l,h){var f=ff();return f=f===null?null:{parent:kt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&qu(n,null),_f(),lg(n),t!==null&&Ma(t,n,l,!0),n.childLanes=h,null}function rc(t,n){return n=lc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ry(t,n,r){return $r(n,t.child,null,r),t=rc(n,n.pendingProps),t.flags|=2,Vn(n),n.memoizedState=null,t}function UE(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(He){if(l.mode==="hidden")return t=rc(n,l),n.lanes=536870912,oo(null,t);if(bf(n),(t=mt)?(t=y0(t,Qn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ks!==null?{id:Vi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},r=Hp(t),r.return=n,n.child=r,Jt=n,mt=null)):t=null,t===null)throw Ls(n);return n.lanes=536870912,null}return rc(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(bf(n),h)if(n.flags&256)n.flags&=-257,n=ry(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Lt||Ma(t,n,r,!1),h=(r&t.childLanes)!==0,Lt||h){if(l=dt,l!==null&&(g=Il(l,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Hr(t,g),xn(l,t,g),Bf;gc(),n=ry(t,n,r)}else t=f.treeContext,mt=$n(g.nextSibling),Jt=n,He=!0,js=null,Qn=!1,t!==null&&Fp(n,t),n=rc(n,l),n.flags|=4096;return n}return t=Zi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ac(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Hf(t,n,r,l,h){return Yr(n),r=Tf(t,n,r,l,void 0,h),l=xf(),t!==null&&!Lt?(Sf(t,n,h),ss(t,n,h)):(He&&l&&nf(n),n.flags|=1,Wt(t,n,r,h),n.child)}function ay(t,n,r,l,h,f){return Yr(n),n.updateQueue=null,r=ug(n,l,r,h),og(t),l=xf(),t!==null&&!Lt?(Sf(t,n,f),ss(t,n,f)):(He&&l&&nf(n),n.flags|=1,Wt(t,n,r,f),n.child)}function ly(t,n,r,l,h){if(Yr(n),n.stateNode===null){var f=Ia,g=r.contextType;typeof g=="object"&&g!==null&&(f=Zt(g)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Uf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},mf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Zt(g):Ia,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Pf(n,r,g,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Uf.enqueueReplaceState(f,f.state,null),io(n,l,f,h),no(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,I=Zr(r,E);f.props=I;var U=f.context,G=r.contextType;g=Ia,typeof G=="object"&&G!==null&&(g=Zt(G));var X=r.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||U!==g)&&Kg(n,f,l,g),Us=!1;var z=n.memoizedState;f.state=z,io(n,l,f,h),no(),U=n.memoizedState,E||z!==U||Us?(typeof X=="function"&&(Pf(n,r,X,l),U=n.memoizedState),(I=Us||Yg(n,r,I,l,z,U,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=U),f.props=l,f.state=U,f.context=g,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,pf(t,n),g=n.memoizedProps,G=Zr(r,g),f.props=G,X=n.pendingProps,z=f.context,U=r.contextType,I=Ia,typeof U=="object"&&U!==null&&(I=Zt(U)),E=r.getDerivedStateFromProps,(U=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||z!==I)&&Kg(n,f,l,I),Us=!1,z=n.memoizedState,f.state=z,io(n,l,f,h),no();var H=n.memoizedState;g!==X||z!==H||Us||t!==null&&t.dependencies!==null&&Bu(t.dependencies)?(typeof E=="function"&&(Pf(n,r,E,l),H=n.memoizedState),(G=Us||Yg(n,r,G,l,z,H,I)||t!==null&&t.dependencies!==null&&Bu(t.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=I,l=G):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ac(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=$r(n,t.child,null,h),n.child=$r(n,null,r,h)):Wt(t,n,r,h),n.memoizedState=f.state,t=n.child):t=ss(t,n,h),t}function oy(t,n,r,l){return Gr(),n.flags|=256,Wt(t,n,r,l),n.child}var qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(t){return{baseLanes:t,cachePool:Jp()}}function Ff(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=jn),t}function uy(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(He){if(h?Hs(n):qs(),(t=mt)?(t=y0(t,Qn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ks!==null?{id:Vi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},r=Hp(t),r.return=n,n.child=r,Jt=n,mt=null)):t=null,t===null)throw Ls(n);return Cd(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(qs(),h=n.mode,E=lc({mode:"hidden",children:E},h),l=qr(l,h,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Gf(r),l.childLanes=Ff(t,g,r),n.memoizedState=qf,oo(null,l)):(Hs(n),Yf(n,E))}var I=t.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Hs(n),n.flags&=-257,n=Kf(t,n,r)):n.memoizedState!==null?(qs(),n.child=t.child,n.flags|=128,n=null):(qs(),E=l.fallback,h=n.mode,l=lc({mode:"visible",children:l.children},h),E=qr(E,h,r,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,$r(n,t.child,null,r),l=n.child,l.memoizedState=Gf(r),l.childLanes=Ff(t,g,r),n.memoizedState=qf,n=oo(null,l));else if(Hs(n),Cd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var U=g.dgst;g=U,l=Error(a(419)),l.stack="",l.digest=g,$l({value:l,source:null,stack:null}),n=Kf(t,n,r)}else if(Lt||Ma(t,n,r,!1),g=(r&t.childLanes)!==0,Lt||g){if(g=dt,g!==null&&(l=Il(g,r),l!==0&&l!==I.retryLane))throw I.retryLane=l,Hr(t,l),xn(g,t,l),Bf;wd(E)||gc(),n=Kf(t,n,r)}else wd(E)?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,mt=$n(E.nextSibling),Jt=n,He=!0,js=null,Qn=!1,t!==null&&Fp(n,t),n=Yf(n,l.children),n.flags|=4096);return n}return h?(qs(),E=l.fallback,h=n.mode,I=t.child,U=I.sibling,l=Zi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,U!==null?E=Zi(U,E):(E=qr(E,h,r,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,oo(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Gf(r):(h=E.cachePool,h!==null?(I=kt._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Jp(),E={baseLanes:E.baseLanes|r,cachePool:h}),l.memoizedState=E,l.childLanes=Ff(t,g,r),n.memoizedState=qf,oo(t.child,l)):(Hs(n),r=t.child,t=r.sibling,r=Zi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function Yf(t,n){return n=lc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function lc(t,n){return t=On(22,t,null,n),t.lanes=0,t}function Kf(t,n,r){return $r(n,t.child,null,r),t=Yf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function cy(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),of(t.return,n,r)}function Qf(t,n,r,l,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function hy(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=Ct.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,ie(Ct,g),Wt(t,n,l,r),l=He?Xl:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cy(t,r,n);else if(t.tag===19)cy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Xu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Qf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Xu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Qf(n,!0,r,null,f,l);break;case"together":Qf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ss(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ys|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Ma(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Zi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Zi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Xf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Bu(t)))}function zE(t,n,r){switch(n.tag){case 3:Tt(n,n.stateNode.containerInfo),Ps(n,kt,t.memoizedState.cache),Gr();break;case 27:case 5:Un(n);break;case 4:Tt(n,n.stateNode.containerInfo);break;case 10:Ps(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,bf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Hs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?uy(t,n,r):(Hs(n),t=ss(t,n,r),t!==null?t.sibling:null);Hs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Ma(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return hy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(Ct,Ct.current),l)break;return null;case 22:return n.lanes=0,iy(t,n,r,n.pendingProps);case 24:Ps(n,kt,t.memoizedState.cache)}return ss(t,n,r)}function fy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Lt=!0;else{if(!Xf(t,r)&&(n.flags&128)===0)return Lt=!1,zE(t,n,r);Lt=(t.flags&131072)!==0}else Lt=!1,He&&(n.flags&1048576)!==0&&Gp(n,Xl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Qr(n.elementType),n.type=t,typeof t=="function")Wh(t)?(l=Zr(t,l),n.tag=1,n=ly(null,n,t,l,r)):(n.tag=0,n=Hf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===Ye){n.tag=11,n=ey(null,n,t,l,r);break e}else if(h===R){n.tag=14,n=ty(null,n,t,l,r);break e}}throw n=lt(t)||t,Error(a(306,n,""))}}return n;case 0:return Hf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Zr(l,n.pendingProps),ly(t,n,l,h,r);case 3:e:{if(Tt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,pf(t,n),io(n,l,null,r);var g=n.memoizedState;if(l=g.cache,Ps(n,kt,l),l!==f.cache&&uf(n,[kt],r,!0),no(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=oy(t,n,l,r);break e}else if(l!==h){h=Fn(Error(a(424)),n),$l(h),n=oy(t,n,l,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(mt=$n(t.firstChild),Jt=n,He=!0,js=null,Qn=!0,r=ig(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Gr(),l===h){n=ss(t,n,r);break e}Wt(t,n,l,r)}n=n.child}return n;case 26:return ac(t,n),t===null?(r=x0(n.type,null,n.pendingProps,null))?n.memoizedState=r:He||(r=n.type,t=n.pendingProps,l=xc(Re.current).createElement(r),l[Ot]=n,l[Yt]=t,en(l,r,t),Mt(l),n.stateNode=l):n.memoizedState=x0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Un(n),t===null&&He&&(l=n.stateNode=b0(n.type,n.pendingProps,Re.current),Jt=n,Qn=!0,h=mt,Js(n.type)?(Rd=h,mt=$n(l.firstChild)):mt=h),Wt(t,n,n.pendingProps.children,r),ac(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&He&&((h=l=mt)&&(l=gT(l,n.type,n.pendingProps,Qn),l!==null?(n.stateNode=l,Jt=n,mt=$n(l.firstChild),Qn=!1,h=!0):h=!1),h||Ls(n)),Un(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,xd(h,f)?l=null:g!==null&&xd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Tf(t,n,DE,null,null,r),So._currentValue=h),ac(t,n),Wt(t,n,l,r),n.child;case 6:return t===null&&He&&((t=r=mt)&&(r=yT(r,n.pendingProps,Qn),r!==null?(n.stateNode=r,Jt=n,mt=null,t=!0):t=!1),t||Ls(n)),null;case 13:return uy(t,n,r);case 4:return Tt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=$r(n,null,l,r):Wt(t,n,l,r),n.child;case 11:return ey(t,n,n.type,n.pendingProps,r);case 7:return Wt(t,n,n.pendingProps,r),n.child;case 8:return Wt(t,n,n.pendingProps.children,r),n.child;case 12:return Wt(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Ps(n,n.type,l.value),Wt(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Yr(n),h=Zt(h),l=l(h),n.flags|=1,Wt(t,n,l,r),n.child;case 14:return ty(t,n,n.type,n.pendingProps,r);case 15:return ny(t,n,n.type,n.pendingProps,r);case 19:return hy(t,n,r);case 31:return UE(t,n,r);case 22:return iy(t,n,r,n.pendingProps);case 24:return Yr(n),l=Zt(kt),t===null?(h=ff(),h===null&&(h=dt,f=cf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},mf(n),Ps(n,kt,h)):((t.lanes&r)!==0&&(pf(t,n),io(n,null,null,r),no()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ps(n,kt,l)):(l=f.cache,Ps(n,kt,l),l!==h.cache&&uf(n,[kt],r,!0))),Wt(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function rs(t){t.flags|=4}function $f(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Uy())t.flags|=8192;else throw Xr=Fu,df}else t.flags&=-16777217}function dy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!R0(n))if(Uy())t.flags|=8192;else throw Xr=Fu,df}function oc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?mu():536870912,t.lanes|=n,Fa|=n)}function uo(t,n){if(!He)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function pt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function BE(t,n,r){var l=n.pendingProps;switch(sf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(n),null;case 1:return pt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ts(kt),ot(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Oa(n)?rs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,af())),pt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(rs(n),f!==null?(pt(n),dy(n,f)):(pt(n),$f(n,h,null,l,r))):f?f!==t.memoizedState?(rs(n),pt(n),dy(n,f)):(pt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&rs(n),pt(n),$f(n,h,t,l,r)),null;case 27:if(xs(n),r=Re.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&rs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return pt(n),null}t=oe.current,Oa(n)?Yp(n):(t=b0(h,l,r),n.stateNode=t,rs(n))}return pt(n),null;case 5:if(xs(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&rs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return pt(n),null}if(f=oe.current,Oa(n))Yp(n);else{var g=xc(Re.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[Ot]=n,f[Yt]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(en(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&rs(n)}}return pt(n),$f(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&rs(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Re.current,Oa(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=Jt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ot]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||u0(t.nodeValue,r)),t||Ls(n,!0)}else t=xc(t).createTextNode(l),t[Ot]=n,n.stateNode=t}return pt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=Oa(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Ot]=n}else Gr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;pt(n),t=!1}else r=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Vn(n),n):(Vn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return pt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Oa(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ot]=n}else Gr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;pt(n),h=!1}else h=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Vn(n),n):(Vn(n),null)}return Vn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),oc(n,n.updateQueue),pt(n),null);case 4:return ot(),t===null&&_d(n.stateNode.containerInfo),pt(n),null;case 10:return ts(n.type),pt(n),null;case 19:if(K(Ct),l=n.memoizedState,l===null)return pt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)uo(l,!1);else{if(St!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Xu(t),f!==null){for(n.flags|=128,uo(l,!1),t=f.updateQueue,n.updateQueue=t,oc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Bp(r,t),r=r.sibling;return ie(Ct,Ct.current&1|2),He&&Wi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&ae()>dc&&(n.flags|=128,h=!0,uo(l,!1),n.lanes=4194304)}else{if(!h)if(t=Xu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,oc(n,t),uo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!He)return pt(n),null}else 2*ae()-l.renderingStartTime>dc&&r!==536870912&&(n.flags|=128,h=!0,uo(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ae(),t.sibling=null,r=Ct.current,ie(Ct,h?r&1|2:r&1),He&&Wi(n,l.treeForkCount),t):(pt(n),null);case 22:case 23:return Vn(n),vf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(pt(n),n.subtreeFlags&6&&(n.flags|=8192)):pt(n),r=n.updateQueue,r!==null&&oc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&K(Kr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),ts(kt),pt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function HE(t,n){switch(sf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ts(kt),ot(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return xs(n),null;case 31:if(n.memoizedState!==null){if(Vn(n),n.alternate===null)throw Error(a(340));Gr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Vn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Gr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(Ct),null;case 4:return ot(),null;case 10:return ts(n.type),null;case 22:case 23:return Vn(n),vf(),t!==null&&K(Kr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ts(kt),null;case 25:return null;default:return null}}function my(t,n){switch(sf(n),n.tag){case 3:ts(kt),ot();break;case 26:case 27:case 5:xs(n);break;case 4:ot();break;case 31:n.memoizedState!==null&&Vn(n);break;case 13:Vn(n);break;case 19:K(Ct);break;case 10:ts(n.type);break;case 22:case 23:Vn(n),vf(),t!==null&&K(Kr);break;case 24:ts(kt)}}function co(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,g=r.inst;l=f(),g.destroy=l}r=r.next}while(r!==h)}}catch(E){rt(n,n.return,E)}}function Gs(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var I=r,U=E;try{U()}catch(G){rt(h,I,G)}}}l=l.next}while(l!==f)}}catch(G){rt(n,n.return,G)}}function py(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{rg(n,r)}catch(l){rt(t,t.return,l)}}}function gy(t,n,r){r.props=Zr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){rt(t,n,l)}}function ho(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){rt(t,n,h)}}function ji(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){rt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){rt(t,n,h)}else r.current=null}function yy(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){rt(t,t.return,h)}}function Jf(t,n,r){try{var l=t.stateNode;cT(l,t.type,r,n),l[Yt]=n}catch(h){rt(t,t.return,h)}}function _y(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Js(t.type)||t.tag===4}function Zf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_y(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Js(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ri));else if(l!==4&&(l===27&&Js(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Wf(t,n,r),t=t.sibling;t!==null;)Wf(t,n,r),t=t.sibling}function uc(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Js(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(uc(t,n,r),t=t.sibling;t!==null;)uc(t,n,r),t=t.sibling}function vy(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);en(n,l,r),n[Ot]=t,n[Yt]=r}catch(f){rt(t,t.return,f)}}var as=!1,Pt=!1,ed=!1,by=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function qE(t,n){if(t=t.containerInfo,Ed=Nc,t=Op(t),Yh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,E=-1,I=-1,U=0,G=0,X=t,z=null;t:for(;;){for(var H;X!==r||h!==0&&X.nodeType!==3||(E=g+h),X!==f||l!==0&&X.nodeType!==3||(I=g+l),X.nodeType===3&&(g+=X.nodeValue.length),(H=X.firstChild)!==null;)z=X,X=H;for(;;){if(X===t)break t;if(z===r&&++U===h&&(E=g),z===f&&++G===l&&(I=g),(H=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=H}r=E===-1||I===-1?null:{start:E,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(Td={focusedElem:t,selectionRange:r},Nc=!1,Qt=n;Qt!==null;)if(n=Qt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Qt=t;else for(;Qt!==null;){switch(n=Qt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var he=Zr(r.type,h);t=l.getSnapshotBeforeUpdate(he,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){rt(r,r.return,ve)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Ad(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ad(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Qt=t;break}Qt=n.return}}function Ey(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:os(t,r),l&4&&co(5,r);break;case 1:if(os(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){rt(r,r.return,g)}else{var h=Zr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){rt(r,r.return,g)}}l&64&&py(r),l&512&&ho(r,r.return);break;case 3:if(os(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{rg(t,n)}catch(g){rt(r,r.return,g)}}break;case 27:n===null&&l&4&&vy(r);case 26:case 5:os(t,r),n===null&&l&4&&yy(r),l&512&&ho(r,r.return);break;case 12:os(t,r);break;case 31:os(t,r),l&4&&Sy(t,r);break;case 13:os(t,r),l&4&&Ay(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=ZE.bind(null,r),_T(t,r))));break;case 22:if(l=r.memoizedState!==null||as,!l){n=n!==null&&n.memoizedState!==null||Pt,h=as;var f=Pt;as=l,(Pt=n)&&!f?us(t,r,(r.subtreeFlags&8772)!==0):os(t,r),as=h,Pt=f}break;case 30:break;default:os(t,r)}}function Ty(t){var n=t.alternate;n!==null&&(t.alternate=null,Ty(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&pa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var _t=null,vn=!1;function ls(t,n,r){for(r=r.child;r!==null;)xy(t,n,r),r=r.sibling}function xy(t,n,r){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Nt,r)}catch{}switch(r.tag){case 26:Pt||ji(r,n),ls(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Pt||ji(r,n);var l=_t,h=vn;Js(r.type)&&(_t=r.stateNode,vn=!1),ls(t,n,r),Eo(r.stateNode),_t=l,vn=h;break;case 5:Pt||ji(r,n);case 6:if(l=_t,h=vn,_t=null,ls(t,n,r),_t=l,vn=h,_t!==null)if(vn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(r.stateNode)}catch(f){rt(r,n,f)}else try{_t.removeChild(r.stateNode)}catch(f){rt(r,n,f)}break;case 18:_t!==null&&(vn?(t=_t,p0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Wa(t)):p0(_t,r.stateNode));break;case 4:l=_t,h=vn,_t=r.stateNode.containerInfo,vn=!0,ls(t,n,r),_t=l,vn=h;break;case 0:case 11:case 14:case 15:Gs(2,r,n),Pt||Gs(4,r,n),ls(t,n,r);break;case 1:Pt||(ji(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&gy(r,n,l)),ls(t,n,r);break;case 21:ls(t,n,r);break;case 22:Pt=(l=Pt)||r.memoizedState!==null,ls(t,n,r),Pt=l;break;default:ls(t,n,r)}}function Sy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Wa(t)}catch(r){rt(n,n.return,r)}}}function Ay(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Wa(t)}catch(r){rt(n,n.return,r)}}function GE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new by),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new by),n;default:throw Error(a(435,t.tag))}}function cc(t,n){var r=GE(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=WE.bind(null,t,l);l.then(h,h)}})}function bn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(Js(E.type)){_t=E.stateNode,vn=!1;break e}break;case 5:_t=E.stateNode,vn=!1;break e;case 3:case 4:_t=E.stateNode.containerInfo,vn=!0;break e}E=E.return}if(_t===null)throw Error(a(160));xy(f,g,h),_t=null,vn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)wy(n,t),n=n.sibling}var hi=null;function wy(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(n,t),En(t),l&4&&(Gs(3,t,t.return),co(3,t),Gs(5,t,t.return));break;case 1:bn(n,t),En(t),l&512&&(Pt||r===null||ji(r,r.return)),l&64&&as&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=hi;if(bn(n,t),En(t),l&512&&(Pt||r===null||ji(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ti]||f[Ot]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),en(f,l,r),f[Ot]=t,Mt(f),l=f;break e;case"link":var g=w0("link","href",h).get(l+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break t}}f=h.createElement(l),en(f,l,r),h.head.appendChild(f);break;case"meta":if(g=w0("meta","content",h).get(l+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break t}}f=h.createElement(l),en(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Ot]=t,Mt(f),l=f}t.stateNode=l}else C0(h,t.type,t.stateNode);else t.stateNode=A0(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?C0(h,t.type,t.stateNode):A0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Jf(t,t.memoizedProps,r.memoizedProps)}break;case 27:bn(n,t),En(t),l&512&&(Pt||r===null||ji(r,r.return)),r!==null&&l&4&&Jf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(bn(n,t),En(t),l&512&&(Pt||r===null||ji(r,r.return)),t.flags&32){h=t.stateNode;try{_n(h,"")}catch(he){rt(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Jf(t,h,r!==null?r.memoizedProps:h)),l&1024&&(ed=!0);break;case 6:if(bn(n,t),En(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(he){rt(t,t.return,he)}}break;case 3:if(wc=null,h=hi,hi=Sc(n.containerInfo),bn(n,t),hi=h,En(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Wa(n.containerInfo)}catch(he){rt(t,t.return,he)}ed&&(ed=!1,Cy(t));break;case 4:l=hi,hi=Sc(t.stateNode.containerInfo),bn(n,t),En(t),hi=l;break;case 12:bn(n,t),En(t);break;case 31:bn(n,t),En(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,cc(t,l)));break;case 13:bn(n,t),En(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(fc=ae()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,cc(t,l)));break;case 22:h=t.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,U=as,G=Pt;if(as=U||h,Pt=G||I,bn(n,t),Pt=G,as=U,En(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||I||as||Pt||Wr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){I=r=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var X=I.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(he){rt(I,I.return,he)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(he){rt(I,I.return,he)}}}else if(n.tag===18){if(r===null){I=n;try{var H=I.stateNode;h?g0(H,!0):g0(I.stateNode,!1)}catch(he){rt(I,I.return,he)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,cc(t,r))));break;case 19:bn(n,t),En(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,cc(t,l)));break;case 30:break;case 21:break;default:bn(n,t),En(t)}}function En(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(_y(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Zf(t);uc(t,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(_n(g,""),r.flags&=-33);var E=Zf(t);uc(t,E,g);break;case 3:case 4:var I=r.stateNode.containerInfo,U=Zf(t);Wf(t,U,I);break;default:throw Error(a(161))}}catch(G){rt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Cy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Cy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function os(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ey(t,n.alternate,n),n=n.sibling}function Wr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Gs(4,n,n.return),Wr(n);break;case 1:ji(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&gy(n,n.return,r),Wr(n);break;case 27:Eo(n.stateNode);case 26:case 5:ji(n,n.return),Wr(n);break;case 22:n.memoizedState===null&&Wr(n);break;case 30:Wr(n);break;default:Wr(n)}t=t.sibling}}function us(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:us(h,f,r),co(4,f);break;case 1:if(us(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){rt(l,l.return,U)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)sg(I[h],E)}catch(U){rt(l,l.return,U)}}r&&g&64&&py(f),ho(f,f.return);break;case 27:vy(f);case 26:case 5:us(h,f,r),r&&l===null&&g&4&&yy(f),ho(f,f.return);break;case 12:us(h,f,r);break;case 31:us(h,f,r),r&&g&4&&Sy(h,f);break;case 13:us(h,f,r),r&&g&4&&Ay(h,f);break;case 22:f.memoizedState===null&&us(h,f,r),ho(f,f.return);break;case 30:break;default:us(h,f,r)}n=n.sibling}}function td(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Jl(r))}function nd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Jl(t))}function fi(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ry(t,n,r,l),n=n.sibling}function Ry(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:fi(t,n,r,l),h&2048&&co(9,n);break;case 1:fi(t,n,r,l);break;case 3:fi(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Jl(t)));break;case 12:if(h&2048){fi(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){rt(n,n.return,I)}}else fi(t,n,r,l);break;case 31:fi(t,n,r,l);break;case 13:fi(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?fi(t,n,r,l):fo(t,n):f._visibility&2?fi(t,n,r,l):(f._visibility|=2,Ha(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&td(g,n);break;case 24:fi(t,n,r,l),h&2048&&nd(n.alternate,n);break;default:fi(t,n,r,l)}}function Ha(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=r,I=l,U=g.flags;switch(g.tag){case 0:case 11:case 15:Ha(f,g,E,I,h),co(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Ha(f,g,E,I,h):fo(f,g):(G._visibility|=2,Ha(f,g,E,I,h)),h&&U&2048&&td(g.alternate,g);break;case 24:Ha(f,g,E,I,h),h&&U&2048&&nd(g.alternate,g);break;default:Ha(f,g,E,I,h)}n=n.sibling}}function fo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:fo(r,l),h&2048&&td(l.alternate,l);break;case 24:fo(r,l),h&2048&&nd(l.alternate,l);break;default:fo(r,l)}n=n.sibling}}var mo=8192;function qa(t,n,r){if(t.subtreeFlags&mo)for(t=t.child;t!==null;)Iy(t,n,r),t=t.sibling}function Iy(t,n,r){switch(t.tag){case 26:qa(t,n,r),t.flags&mo&&t.memoizedState!==null&&NT(r,hi,t.memoizedState,t.memoizedProps);break;case 5:qa(t,n,r);break;case 3:case 4:var l=hi;hi=Sc(t.stateNode.containerInfo),qa(t,n,r),hi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=mo,mo=16777216,qa(t,n,r),mo=l):qa(t,n,r));break;default:qa(t,n,r)}}function Ny(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function po(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Qt=l,Oy(l,t)}Ny(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Dy(t),t=t.sibling}function Dy(t){switch(t.tag){case 0:case 11:case 15:po(t),t.flags&2048&&Gs(9,t,t.return);break;case 3:po(t);break;case 12:po(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,hc(t)):po(t);break;default:po(t)}}function hc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Qt=l,Oy(l,t)}Ny(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Gs(8,n,n.return),hc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,hc(n));break;default:hc(n)}t=t.sibling}}function Oy(t,n){for(;Qt!==null;){var r=Qt;switch(r.tag){case 0:case 11:case 15:Gs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Jl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Qt=l;else e:for(r=t;Qt!==null;){l=Qt;var h=l.sibling,f=l.return;if(Ty(l),l===r){Qt=null;break e}if(h!==null){h.return=f,Qt=h;break e}Qt=f}}}var FE={getCacheForType:function(t){var n=Zt(kt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Zt(kt).controller.signal}},YE=typeof WeakMap=="function"?WeakMap:Map,Ze=0,dt=null,Ve=null,Le=0,st=0,kn=null,Fs=!1,Ga=!1,id=!1,cs=0,St=0,Ys=0,ea=0,sd=0,jn=0,Fa=0,go=null,Tn=null,rd=!1,fc=0,My=0,dc=1/0,mc=null,Ks=null,qt=0,Qs=null,Ya=null,hs=0,ad=0,ld=null,Vy=null,yo=0,od=null;function Ln(){return(Ze&2)!==0&&Le!==0?Le&-Le:q.T!==null?md():pu()}function ky(){if(jn===0)if((Le&536870912)===0||He){var t=Cr;Cr<<=1,(Cr&3932160)===0&&(Cr=262144),jn=t}else jn=536870912;return t=Mn.current,t!==null&&(t.flags|=32),jn}function xn(t,n,r){(t===dt&&(st===2||st===9)||t.cancelPendingCommit!==null)&&(Ka(t,0),Xs(t,Le,jn,!1)),Rr(t,r),((Ze&2)===0||t!==dt)&&(t===dt&&((Ze&2)===0&&(ea|=r),St===4&&Xs(t,Le,jn,!1)),Li(t))}function jy(t,n,r){if((Ze&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||ni(t,n),h=l?XE(t,n):cd(t,n,!0),f=l;do{if(h===0){Ga&&!l&&Xs(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!KE(r)){h=cd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=go;var I=E.current.memoizedState.isDehydrated;if(I&&(Ka(E,g).flags|=256),g=cd(E,g,!1),g!==2){if(id&&!I){E.errorRecoveryDisabledLanes|=f,ea|=f,h=4;break e}f=Tn,Tn=h,f!==null&&(Tn===null?Tn=f:Tn.push.apply(Tn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ka(t,0),Xs(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Xs(l,n,jn,!Fs);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=fc+300-ae(),10<h)){if(Xs(l,n,jn,!Fs),vi(l,0,!0)!==0)break e;hs=n,l.timeoutHandle=d0(Ly.bind(null,l,r,Tn,mc,rd,n,jn,ea,Fa,Fs,f,"Throttled",-0,0),h);break e}Ly(l,r,Tn,mc,rd,n,jn,ea,Fa,Fs,f,null,-0,0)}}break}while(!0);Li(t)}function Ly(t,n,r,l,h,f,g,E,I,U,G,X,z,H){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ri},Iy(n,f,X);var he=(f&62914560)===f?fc-ae():(f&4194048)===f?My-ae():0;if(he=DT(X,he),he!==null){hs=f,t.cancelPendingCommit=he(Fy.bind(null,t,n,f,r,l,h,g,E,I,G,X,null,z,H)),Xs(t,f,g,!U);return}}Fy(t,n,f,r,l,h,g,E,I)}function KE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!Dn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Xs(t,n,r,l){n&=~sd,n&=~ea,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-At(h),g=1<<f;l[f]=-1,h&=~g}r!==0&&Ir(t,r,n)}function pc(){return(Ze&6)===0?(_o(0),!1):!0}function ud(){if(Ve!==null){if(st===0)var t=Ve.return;else t=Ve,es=Fr=null,Af(t),La=null,Wl=0,t=Ve;for(;t!==null;)my(t.alternate,t),t=t.return;Ve=null}}function Ka(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,dT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),hs=0,ud(),dt=t,Ve=r=Zi(t.current,null),Le=n,st=0,kn=null,Fs=!1,Ga=ni(t,n),id=!1,Fa=jn=sd=ea=Ys=St=0,Tn=go=null,rd=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-At(l),f=1<<h;n|=t[h],l&=~f}return cs=n,ju(),r}function Py(t,n){Ne=null,q.H=lo,n===ja||n===Gu?(n=eg(),st=3):n===df?(n=eg(),st=4):st=n===Bf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,kn=n,Ve===null&&(St=1,sc(t,Fn(n,t.current)))}function Uy(){var t=Mn.current;return t===null?!0:(Le&4194048)===Le?Xn===null:(Le&62914560)===Le||(Le&536870912)!==0?t===Xn:!1}function zy(){var t=q.H;return q.H=lo,t===null?lo:t}function By(){var t=q.A;return q.A=FE,t}function gc(){St=4,Fs||(Le&4194048)!==Le&&Mn.current!==null||(Ga=!0),(Ys&134217727)===0&&(ea&134217727)===0||dt===null||Xs(dt,Le,jn,!1)}function cd(t,n,r){var l=Ze;Ze|=2;var h=zy(),f=By();(dt!==t||Le!==n)&&(mc=null,Ka(t,n)),n=!1;var g=St;e:do try{if(st!==0&&Ve!==null){var E=Ve,I=kn;switch(st){case 8:ud(),g=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(n=!0);var U=st;if(st=0,kn=null,Qa(t,E,I,U),r&&Ga){g=0;break e}break;default:U=st,st=0,kn=null,Qa(t,E,I,U)}}QE(),g=St;break}catch(G){Py(t,G)}while(!0);return n&&t.shellSuspendCounter++,es=Fr=null,Ze=l,q.H=h,q.A=f,Ve===null&&(dt=null,Le=0,ju()),g}function QE(){for(;Ve!==null;)Hy(Ve)}function XE(t,n){var r=Ze;Ze|=2;var l=zy(),h=By();dt!==t||Le!==n?(mc=null,dc=ae()+500,Ka(t,n)):Ga=ni(t,n);e:do try{if(st!==0&&Ve!==null){n=Ve;var f=kn;t:switch(st){case 1:st=0,kn=null,Qa(t,n,f,1);break;case 2:case 9:if(Zp(f)){st=0,kn=null,qy(n);break}n=function(){st!==2&&st!==9||dt!==t||(st=7),Li(t)},f.then(n,n);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Zp(f)?(st=0,kn=null,qy(n)):(st=0,kn=null,Qa(t,n,f,7));break;case 5:var g=null;switch(Ve.tag){case 26:g=Ve.memoizedState;case 5:case 27:var E=Ve;if(g?R0(g):E.stateNode.complete){st=0,kn=null;var I=E.sibling;if(I!==null)Ve=I;else{var U=E.return;U!==null?(Ve=U,yc(U)):Ve=null}break t}}st=0,kn=null,Qa(t,n,f,5);break;case 6:st=0,kn=null,Qa(t,n,f,6);break;case 8:ud(),St=6;break e;default:throw Error(a(462))}}$E();break}catch(G){Py(t,G)}while(!0);return es=Fr=null,q.H=l,q.A=h,Ze=r,Ve!==null?0:(dt=null,Le=0,ju(),St)}function $E(){for(;Ve!==null&&!re();)Hy(Ve)}function Hy(t){var n=fy(t.alternate,t,cs);t.memoizedProps=t.pendingProps,n===null?yc(t):Ve=n}function qy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=ay(r,n,n.pendingProps,n.type,void 0,Le);break;case 11:n=ay(r,n,n.pendingProps,n.type.render,n.ref,Le);break;case 5:Af(n);default:my(r,n),n=Ve=Bp(n,cs),n=fy(r,n,cs)}t.memoizedProps=t.pendingProps,n===null?yc(t):Ve=n}function Qa(t,n,r,l){es=Fr=null,Af(n),La=null,Wl=0;var h=n.return;try{if(PE(t,h,n,r,Le)){St=1,sc(t,Fn(r,t.current)),Ve=null;return}}catch(f){if(h!==null)throw Ve=h,f;St=1,sc(t,Fn(r,t.current)),Ve=null;return}n.flags&32768?(He||l===1?t=!0:Ga||(Le&536870912)!==0?t=!1:(Fs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Gy(n,t)):yc(n)}function yc(t){var n=t;do{if((n.flags&32768)!==0){Gy(n,Fs);return}t=n.return;var r=BE(n.alternate,n,cs);if(r!==null){Ve=r;return}if(n=n.sibling,n!==null){Ve=n;return}Ve=n=t}while(n!==null);St===0&&(St=5)}function Gy(t,n){do{var r=HE(t.alternate,t);if(r!==null){r.flags&=32767,Ve=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=r}while(t!==null);St=6,Ve=null}function Fy(t,n,r,l,h,f,g,E,I){t.cancelPendingCommit=null;do _c();while(qt!==0);if((Ze&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Jh,Hh(t,r,f,g,E,I),t===dt&&(Ve=dt=null,Le=0),Ya=n,Qs=t,hs=r,ad=f,ld=h,Vy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,eT(te,function(){return $y(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,h=ne.p,ne.p=2,g=Ze,Ze|=4;try{qE(t,n,r)}finally{Ze=g,ne.p=h,q.T=l}}qt=1,Yy(),Ky(),Qy()}}function Yy(){if(qt===1){qt=0;var t=Qs,n=Ya,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=q.T,q.T=null;var l=ne.p;ne.p=2;var h=Ze;Ze|=4;try{wy(n,t);var f=Td,g=Op(t.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Dp(E.ownerDocument.documentElement,E)){if(I!==null&&Yh(E)){var U=I.start,G=I.end;if(G===void 0&&(G=U),"selectionStart"in E)E.selectionStart=U,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var H=z.getSelection(),he=E.textContent.length,ve=Math.min(I.start,he),ft=I.end===void 0?ve:Math.min(I.end,he);!H.extend&&ve>ft&&(g=ft,ft=ve,ve=g);var j=Np(E,ve),O=Np(E,ft);if(j&&O&&(H.rangeCount!==1||H.anchorNode!==j.node||H.anchorOffset!==j.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var P=X.createRange();P.setStart(j.node,j.offset),H.removeAllRanges(),ve>ft?(H.addRange(P),H.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),H.addRange(P))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Q=X[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Nc=!!Ed,Td=Ed=null}finally{Ze=h,ne.p=l,q.T=r}}t.current=n,qt=2}}function Ky(){if(qt===2){qt=0;var t=Qs,n=Ya,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=q.T,q.T=null;var l=ne.p;ne.p=2;var h=Ze;Ze|=4;try{Ey(t,n.alternate,n)}finally{Ze=h,ne.p=l,q.T=r}}qt=3}}function Qy(){if(qt===4||qt===3){qt=0,le();var t=Qs,n=Ya,r=hs,l=Vy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?qt=5:(qt=0,Ya=Qs=null,Xy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ks=null),Qi(r),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Nt,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=q.T,h=ne.p,ne.p=2,q.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{q.T=n,ne.p=h}}(hs&3)!==0&&_c(),Li(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===od?yo++:(yo=0,od=t):yo=0,_o(0)}}function Xy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Jl(n)))}function _c(){return Yy(),Ky(),Qy(),$y()}function $y(){if(qt!==5)return!1;var t=Qs,n=ad;ad=0;var r=Qi(hs),l=q.T,h=ne.p;try{ne.p=32>r?32:r,q.T=null,r=ld,ld=null;var f=Qs,g=hs;if(qt=0,Ya=Qs=null,hs=0,(Ze&6)!==0)throw Error(a(331));var E=Ze;if(Ze|=4,Dy(f.current),Ry(f,f.current,g,r),Ze=E,_o(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Nt,f)}catch{}return!0}finally{ne.p=h,q.T=l,Xy(t,n)}}function Jy(t,n,r){n=Fn(r,n),n=zf(t.stateNode,n,2),t=Bs(t,n,2),t!==null&&(Rr(t,2),Li(t))}function rt(t,n,r){if(t.tag===3)Jy(t,t,r);else for(;n!==null;){if(n.tag===3){Jy(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ks===null||!Ks.has(l))){t=Fn(r,t),r=Zg(2),l=Bs(n,r,2),l!==null&&(Wg(r,l,n,t),Rr(l,2),Li(l));break}}n=n.return}}function hd(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new YE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(id=!0,h.add(r),t=JE.bind(null,t,n,r),n.then(t,t))}function JE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,dt===t&&(Le&r)===r&&(St===4||St===3&&(Le&62914560)===Le&&300>ae()-fc?(Ze&2)===0&&Ka(t,0):sd|=r,Fa===Le&&(Fa=0)),Li(t)}function Zy(t,n){n===0&&(n=mu()),t=Hr(t,n),t!==null&&(Rr(t,n),Li(t))}function ZE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Zy(t,r)}function WE(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Zy(t,r)}function eT(t,n){return Ge(t,n)}var vc=null,Xa=null,fd=!1,bc=!1,dd=!1,$s=0;function Li(t){t!==Xa&&t.next===null&&(Xa===null?vc=Xa=t:Xa=Xa.next=t),bc=!0,fd||(fd=!0,nT())}function _o(t,n){if(!dd&&bc){dd=!0;do for(var r=!1,l=vc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-At(42|t)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,n0(l,f))}else f=Le,f=vi(l,l===dt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ni(l,f)||(r=!0,n0(l,f));l=l.next}while(r);dd=!1}}function tT(){Wy()}function Wy(){bc=fd=!1;var t=0;$s!==0&&fT()&&(t=$s);for(var n=ae(),r=null,l=vc;l!==null;){var h=l.next,f=e0(l,n);f===0?(l.next=null,r===null?vc=h:r.next=h,h===null&&(Xa=r)):(r=l,(t!==0||(f&3)!==0)&&(bc=!0)),l=h}qt!==0&&qt!==5||_o(t),$s!==0&&($s=0)}function e0(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-At(f),E=1<<g,I=h[g];I===-1?((E&r)===0||(E&l)!==0)&&(h[g]=Bh(E,n)):I<=n&&(t.expiredLanes|=E),f&=~E}if(n=dt,r=Le,r=vi(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(st===2||st===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Rn(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||ni(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Rn(l),Qi(r)){case 2:case 8:r=ge;break;case 32:r=te;break;case 268435456:r=gn;break;default:r=te}return l=t0.bind(null,t),r=Ge(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Rn(l),t.callbackPriority=2,t.callbackNode=null,2}function t0(t,n){if(qt!==0&&qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(_c()&&t.callbackNode!==r)return null;var l=Le;return l=vi(t,t===dt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(jy(t,l,n),e0(t,ae()),t.callbackNode!=null&&t.callbackNode===r?t0.bind(null,t):null)}function n0(t,n){if(_c())return null;jy(t,n,!0)}function nT(){mT(function(){(Ze&6)!==0?Ge(Y,tT):Wy()})}function md(){if($s===0){var t=Va;t===0&&(t=yi,yi<<=1,(yi&261888)===0&&(yi=256)),$s=t}return $s}function i0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:va(""+t)}function s0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function iT(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=i0((h[Yt]||null).action),g=l.submitter;g&&(n=(n=g[Yt]||null)?i0(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Ni("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($s!==0){var I=g?s0(h,g):new FormData(h);Vf(r,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?s0(h,g):new FormData(h),Vf(r,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var pd=0;pd<$h.length;pd++){var gd=$h[pd],sT=gd.toLowerCase(),rT=gd[0].toUpperCase()+gd.slice(1);ci(sT,"on"+rT)}ci(kp,"onAnimationEnd"),ci(jp,"onAnimationIteration"),ci(Lp,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(EE,"onTransitionRun"),ci(TE,"onTransitionStart"),ci(xE,"onTransitionCancel"),ci(Pp,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vo));function r0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],I=E.instance,U=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=U;try{f(h)}catch(G){ku(G)}h.currentTarget=null,f=I}else for(g=0;g<l.length;g++){if(E=l[g],I=E.instance,U=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=U;try{f(h)}catch(G){ku(G)}h.currentTarget=null,f=I}}}}function ke(t,n){var r=n[ma];r===void 0&&(r=n[ma]=new Set);var l=t+"__bubble";r.has(l)||(a0(n,t,2,!1),r.add(l))}function yd(t,n,r){var l=0;n&&(l|=4),a0(r,t,l,n)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function _d(t){if(!t[Ec]){t[Ec]=!0,Nl.forEach(function(r){r!=="selectionchange"&&(aT.has(r)||yd(r,!1,t),yd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ec]||(n[Ec]=!0,yd("selectionchange",!1,n))}}function a0(t,n,r,l){switch(k0(n)){case 2:var h=VT;break;case 8:h=kT;break;default:h=Md}r=h.bind(null,n,r,t),h=void 0,!Vr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function vd(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=l.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=xi(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){l=f=g;continue e}E=E.parentNode}}l=l.return}Ds(function(){var U=f,G=Bn(r),X=[];e:{var z=Up.get(t);if(z!==void 0){var H=Ni,he=t;switch(t){case"keypress":if(jr(r)===0)break e;case"keydown":case"keyup":H=Ou;break;case"focusin":he="focus",H=Pr;break;case"focusout":he="blur",H=Pr;break;case"beforeblur":case"afterblur":H=Pr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case kp:case jp:case Lp:H=Au;break;case Pp:H=T;break;case"scroll":case"scrollend":H=Hl;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ji;break;case"toggle":case"beforetoggle":H=Ie}var ve=(n&4)!==0,ft=!ve&&(t==="scroll"||t==="scrollend"),j=ve?z!==null?z+"Capture":null:z;ve=[];for(var O=U,P;O!==null;){var Q=O;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||j===null||(Q=ai(O,j),Q!=null&&ve.push(bo(O,Q,P))),ft)break;O=O.return}0<ve.length&&(z=new H(z,he,null,r,G),X.push({event:z,listeners:ve}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&r!==Ul&&(he=r.relatedTarget||r.fromElement)&&(xi(he)||he[Ei]))break e;if((H||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,H?(he=r.relatedTarget||r.toElement,H=U,he=he?xi(he):null,he!==null&&(ft=c(he),ve=he.tag,he!==ft||ve!==5&&ve!==27&&ve!==6)&&(he=null)):(H=null,he=U),H!==he)){if(ve=ql,Q="onMouseLeave",j="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Ji,Q="onPointerLeave",j="onPointerEnter",O="pointer"),ft=H==null?z:In(H),P=he==null?z:In(he),z=new ve(Q,O+"leave",H,r,G),z.target=ft,z.relatedTarget=P,Q=null,xi(G)===U&&(ve=new ve(j,O+"enter",he,r,G),ve.target=P,ve.relatedTarget=ft,Q=ve),ft=Q,H&&he)t:{for(ve=lT,j=H,O=he,P=0,Q=j;Q;Q=ve(Q))P++;Q=0;for(var ye=O;ye;ye=ve(ye))Q++;for(;0<P-Q;)j=ve(j),P--;for(;0<Q-P;)O=ve(O),Q--;for(;P--;){if(j===O||O!==null&&j===O.alternate){ve=j;break t}j=ve(j),O=ve(O)}ve=null}else ve=null;H!==null&&l0(X,z,H,ve,!1),he!==null&&ft!==null&&l0(X,ft,he,ve,!0)}}e:{if(z=U?In(U):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var Xe=Sp;else if(Tp(z))if(Ap)Xe=_E;else{Xe=gE;var fe=pE}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&_a(U.elementType)&&(Xe=Sp):Xe=yE;if(Xe&&(Xe=Xe(t,U))){xp(X,Xe,r,G);break e}fe&&fe(t,z,U),t==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&jl(z,"number",z.value)}switch(fe=U?In(U):window,t){case"focusin":(Tp(fe)||fe.contentEditable==="true")&&(wa=fe,Kh=U,Ql=null);break;case"focusout":Ql=Kh=wa=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,Mp(X,r,G);break;case"selectionchange":if(bE)break;case"keydown":case"keyup":Mp(X,r,G)}var Oe;if(Je)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Aa?Ur(t,r)&&(Pe="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Pe="onCompositionStart");Pe&&(Mi&&r.locale!=="ko"&&(Aa||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Aa&&(Oe=Bl()):(Ii=G,zl="value"in Ii?Ii.value:Ii.textContent,Aa=!0)),fe=Tc(U,Pe),0<fe.length&&(Pe=new Oi(Pe,t,null,r,G),X.push({event:Pe,listeners:fe}),Oe?Pe.data=Oe:(Oe=Sa(r),Oe!==null&&(Pe.data=Oe)))),(Oe=qn?hE(t,r):fE(t,r))&&(Pe=Tc(U,"onBeforeInput"),0<Pe.length&&(fe=new Oi("onBeforeInput","beforeinput",null,r,G),X.push({event:fe,listeners:Pe}),fe.data=Oe)),iT(X,t,U,r,G)}r0(X,n)})}function bo(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Tc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ai(t,r),h!=null&&l.unshift(bo(t,h,f)),h=ai(t,n),h!=null&&l.push(bo(t,h,f))),t.tag===3)return l;t=t.return}return[]}function lT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function l0(t,n,r,l,h){for(var f=n._reactName,g=[];r!==null&&r!==l;){var E=r,I=E.alternate,U=E.stateNode;if(E=E.tag,I!==null&&I===l)break;E!==5&&E!==26&&E!==27||U===null||(I=U,h?(U=ai(r,f),U!=null&&g.unshift(bo(r,U,I))):h||(U=ai(r,f),U!=null&&g.push(bo(r,U,I)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var oT=/\r\n?/g,uT=/\u0000|\uFFFD/g;function o0(t){return(typeof t=="string"?t:""+t).replace(oT,`
`).replace(uT,"")}function u0(t,n){return n=o0(n),o0(t)===n}function ht(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&_n(t,""+l);break;case"className":Nn(t,"class",l);break;case"tabIndex":Nn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Nn(t,r,l);break;case"style":Pl(t,l,f);break;case"data":if(n!=="object"){Nn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=va(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&ht(t,n,"name",h.name,h,null),ht(t,n,"formEncType",h.formEncType,h,null),ht(t,n,"formMethod",h.formMethod,h,null),ht(t,n,"formTarget",h.formTarget,h,null)):(ht(t,n,"encType",h.encType,h,null),ht(t,n,"method",h.method,h,null),ht(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=va(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=ri);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=va(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),ga(t,"popover",l);break;case"xlinkActuate":Vt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Vt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Vt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Vt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Vt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Vt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ga(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Tu.get(r)||r,ga(t,r,l))}}function bd(t,n,r,l,h,f){switch(r){case"style":Pl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Yt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):ga(t,r,l)}}}function en(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ht(t,n,f,g,r,null)}}h&&ht(t,n,"srcSet",r.srcSet,r,null),l&&ht(t,n,"src",r.src,r,null);return;case"input":ke("invalid",t);var E=f=g=h=null,I=null,U=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":h=G;break;case"type":g=G;break;case"checked":I=G;break;case"defaultChecked":U=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:ht(t,n,l,G,r,null)}}vu(t,f,E,I,U,g,h,!1);return;case"select":ke("invalid",t),l=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:ht(t,n,h,E,r,null)}n=f,r=g,t.multiple=!!l,n!=null?Cs(t,!!l,n,!1):r!=null&&Cs(t,!!l,r,!0);return;case"textarea":ke("invalid",t),f=h=l=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ht(t,n,g,E,r,null)}Rs(t,l,h,f);return;case"option":for(I in r)if(r.hasOwnProperty(I)&&(l=r[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ht(t,n,I,l,r,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<vo.length;l++)ke(vo[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in r)if(r.hasOwnProperty(U)&&(l=r[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ht(t,n,U,l,r,null)}return;default:if(_a(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&bd(t,n,G,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&ht(t,n,E,l,r,null))}function cT(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,I=null,U=null,G=null;for(H in r){var X=r[H];if(r.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=X;default:l.hasOwnProperty(H)||ht(t,n,H,null,l,X)}}for(var z in l){var H=l[z];if(X=r[z],l.hasOwnProperty(z)&&(H!=null||X!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":U=H;break;case"defaultChecked":G=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==X&&ht(t,n,z,H,l,X)}}ya(t,g,E,I,U,G,f,h);return;case"select":H=g=E=z=null;for(f in r)if(I=r[f],r.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:l.hasOwnProperty(f)||ht(t,n,f,null,l,I)}for(h in l)if(f=l[h],I=r[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&ht(t,n,h,f,l,I)}n=E,r=g,l=H,z!=null?Cs(t,!!r,z,!1):!!l!=!!r&&(n!=null?Cs(t,!!r,n,!0):Cs(t,!!r,r?[]:"",!1));return;case"textarea":H=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ht(t,n,E,null,l,h)}for(g in l)if(h=l[g],f=r[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ht(t,n,g,h,l,f)}bu(t,z,H);return;case"option":for(var he in r)if(z=r[he],r.hasOwnProperty(he)&&z!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:ht(t,n,he,null,l,z)}for(I in l)if(z=l[I],H=r[I],l.hasOwnProperty(I)&&z!==H&&(z!=null||H!=null))switch(I){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:ht(t,n,I,z,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in r)z=r[ve],r.hasOwnProperty(ve)&&z!=null&&!l.hasOwnProperty(ve)&&ht(t,n,ve,null,l,z);for(U in l)if(z=l[U],H=r[U],l.hasOwnProperty(U)&&z!==H&&(z!=null||H!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:ht(t,n,U,z,l,H)}return;default:if(_a(n)){for(var ft in r)z=r[ft],r.hasOwnProperty(ft)&&z!==void 0&&!l.hasOwnProperty(ft)&&bd(t,n,ft,void 0,l,z);for(G in l)z=l[G],H=r[G],!l.hasOwnProperty(G)||z===H||z===void 0&&H===void 0||bd(t,n,G,z,l,H);return}}for(var j in r)z=r[j],r.hasOwnProperty(j)&&z!=null&&!l.hasOwnProperty(j)&&ht(t,n,j,null,l,z);for(X in l)z=l[X],H=r[X],!l.hasOwnProperty(X)||z===H||z==null&&H==null||ht(t,n,X,z,l,H)}function c0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&c0(g)){for(g=0,E=h.responseEnd,l+=1;l<r.length;l++){var I=r[l],U=I.startTime;if(U>E)break;var G=I.transferSize,X=I.initiatorType;G&&c0(X)&&(I=I.responseEnd,g+=G*(I<E?1:(E-U)/(I-U)))}if(--l,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ed=null,Td=null;function xc(t){return t.nodeType===9?t:t.ownerDocument}function h0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function f0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function xd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Sd=null;function fT(){var t=window.event;return t&&t.type==="popstate"?t===Sd?!1:(Sd=t,!0):(Sd=null,!1)}var d0=typeof setTimeout=="function"?setTimeout:void 0,dT=typeof clearTimeout=="function"?clearTimeout:void 0,m0=typeof Promise=="function"?Promise:void 0,mT=typeof queueMicrotask=="function"?queueMicrotask:typeof m0<"u"?function(t){return m0.resolve(null).then(t).catch(pT)}:d0;function pT(t){setTimeout(function(){throw t})}function Js(t){return t==="head"}function p0(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),Wa(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")Eo(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Eo(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Ti]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&Eo(t.ownerDocument.body);r=h}while(r);Wa(n)}function g0(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function Ad(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Ad(r),pa(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function gT(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ti])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=$n(t.nextSibling),t===null)break}return null}function yT(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=$n(t.nextSibling),t===null))return null;return t}function y0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=$n(t.nextSibling),t===null))return null;return t}function wd(t){return t.data==="$?"||t.data==="$~"}function Cd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function _T(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function $n(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Rd=null;function _0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return $n(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function v0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function b0(t,n,r){switch(n=xc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Eo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);pa(t)}var Jn=new Map,E0=new Set;function Sc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var fs=ne.d;ne.d={f:vT,r:bT,D:ET,C:TT,L:xT,m:ST,X:wT,S:AT,M:CT};function vT(){var t=fs.f(),n=pc();return t||n}function bT(t){var n=zn(t);n!==null&&n.tag===5&&n.type==="form"?Pg(n):fs.r(t)}var $a=typeof document>"u"?null:document;function T0(t,n,r){var l=$a;if(l&&typeof n=="string"&&n){var h=yn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),E0.has(h)||(E0.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),en(n,"link",t),Mt(n),l.head.appendChild(n)))}}function ET(t){fs.D(t),T0("dns-prefetch",t,null)}function TT(t,n){fs.C(t,n),T0("preconnect",t,n)}function xT(t,n,r){fs.L(t,n,r);var l=$a;if(l&&t&&n){var h='link[rel="preload"][as="'+yn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+yn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+yn(r.imageSizes)+'"]')):h+='[href="'+yn(t)+'"]';var f=h;switch(n){case"style":f=Ja(t);break;case"script":f=Za(t)}Jn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Jn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(To(f))||n==="script"&&l.querySelector(xo(f))||(n=l.createElement("link"),en(n,"link",t),Mt(n),l.head.appendChild(n)))}}function ST(t,n){fs.m(t,n);var r=$a;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+yn(l)+'"][href="'+yn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Za(t)}if(!Jn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Jn.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(xo(f)))return}l=r.createElement("link"),en(l,"link",t),Mt(l),r.head.appendChild(l)}}}function AT(t,n,r){fs.S(t,n,r);var l=$a;if(l&&t){var h=Si(l).hoistableStyles,f=Ja(t);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(To(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Jn.get(f))&&Id(t,r);var I=g=l.createElement("link");Mt(I),en(I,"link",t),I._p=new Promise(function(U,G){I.onload=U,I.onerror=G}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ac(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function wT(t,n){fs.X(t,n);var r=$a;if(r&&t){var l=Si(r).hoistableScripts,h=Za(t),f=l.get(h);f||(f=r.querySelector(xo(h)),f||(t=A({src:t,async:!0},n),(n=Jn.get(h))&&Nd(t,n),f=r.createElement("script"),Mt(f),en(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function CT(t,n){fs.M(t,n);var r=$a;if(r&&t){var l=Si(r).hoistableScripts,h=Za(t),f=l.get(h);f||(f=r.querySelector(xo(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Jn.get(h))&&Nd(t,n),f=r.createElement("script"),Mt(f),en(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function x0(t,n,r,l){var h=(h=Re.current)?Sc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ja(r.href),r=Si(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Ja(r.href);var f=Si(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(To(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Jn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Jn.set(t,r),f||RT(h,t,r,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Za(r),r=Si(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ja(t){return'href="'+yn(t)+'"'}function To(t){return'link[rel="stylesheet"]['+t+"]"}function S0(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function RT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),en(n,"link",r),Mt(n),t.head.appendChild(n))}function Za(t){return'[src="'+yn(t)+'"]'}function xo(t){return"script[async]"+t}function A0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+yn(r.href)+'"]');if(l)return n.instance=l,Mt(l),l;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Mt(l),en(l,"style",h),Ac(l,r.precedence,t),n.instance=l;case"stylesheet":h=Ja(r.href);var f=t.querySelector(To(h));if(f)return n.state.loading|=4,n.instance=f,Mt(f),f;l=S0(r),(h=Jn.get(h))&&Id(l,h),f=(t.ownerDocument||t).createElement("link"),Mt(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),en(f,"link",l),n.state.loading|=4,Ac(f,r.precedence,t),n.instance=f;case"script":return f=Za(r.src),(h=t.querySelector(xo(f)))?(n.instance=h,Mt(h),h):(l=r,(h=Jn.get(f))&&(l=A({},r),Nd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Mt(h),en(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ac(l,r.precedence,t));return n.instance}function Ac(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Id(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Nd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var wc=null;function w0(t,n,r){if(wc===null){var l=new Map,h=wc=new Map;h.set(r,l)}else h=wc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Ti]||f[Ot]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function C0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function IT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function R0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function NT(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ja(l.href),f=n.querySelector(To(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Cc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Mt(f);return}f=n.ownerDocument||n,l=S0(l),(h=Jn.get(h))&&Id(l,h),f=f.createElement("link"),Mt(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),en(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Cc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Dd=0;function DT(t,n){return t.stylesheets&&t.count===0&&Ic(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&Ic(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Dd===0&&(Dd=62500*hT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ic(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Dd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ic(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Rc=null;function Ic(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Rc=new Map,n.forEach(OT,t),Rc=null,Cc.call(t))}function OT(t,n){if(!(n.state.loading&4)){var r=Rc.get(t);if(r)var l=r.get(null);else{r=new Map,Rc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||l,f===l&&r.set(null,h),r.set(g,h),this.count++,l=Cc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var So={$$typeof:Te,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function MT(t,n,r,l,h,f,g,E,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function I0(t,n,r,l,h,f,g,E,I,U,G,X){return t=new MT(t,n,r,g,I,U,G,X,E),n=1,f===!0&&(n|=24),f=On(3,null,null,n),t.current=f,f.stateNode=t,n=cf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},mf(f),t}function N0(t){return t?(t=Ia,t):Ia}function D0(t,n,r,l,h,f){h=N0(h),l.context===null?l.context=h:l.pendingContext=h,l=zs(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Bs(t,l,n),r!==null&&(xn(r,t,n),to(r,t,n))}function O0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Od(t,n){O0(t,n),(t=t.alternate)&&O0(t,n)}function M0(t){if(t.tag===13||t.tag===31){var n=Hr(t,67108864);n!==null&&xn(n,t,67108864),Od(t,67108864)}}function V0(t){if(t.tag===13||t.tag===31){var n=Ln();n=Nr(n);var r=Hr(t,n);r!==null&&xn(r,t,n),Od(t,n)}}var Nc=!0;function VT(t,n,r,l){var h=q.T;q.T=null;var f=ne.p;try{ne.p=2,Md(t,n,r,l)}finally{ne.p=f,q.T=h}}function kT(t,n,r,l){var h=q.T;q.T=null;var f=ne.p;try{ne.p=8,Md(t,n,r,l)}finally{ne.p=f,q.T=h}}function Md(t,n,r,l){if(Nc){var h=Vd(l);if(h===null)vd(t,n,l,Dc,r),j0(t,l);else if(LT(h,t,n,r,l))l.stopPropagation();else if(j0(t,l),n&4&&-1<jT.indexOf(t)){for(;h!==null;){var f=zn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=_i(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-At(g);E.entanglements[1]|=I,g&=~I}Li(f),(Ze&6)===0&&(dc=ae()+500,_o(0))}}break;case 31:case 13:E=Hr(f,2),E!==null&&xn(E,f,2),pc(),Od(f,2)}if(f=Vd(l),f===null&&vd(t,n,l,Dc,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else vd(t,n,l,null,r)}}function Vd(t){return t=Bn(t),kd(t)}var Dc=null;function kd(t){if(Dc=null,t=xi(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=_(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Dc=t,null}function k0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ue()){case Y:return 2;case ge:return 8;case te:case We:return 32;case gn:return 268435456;default:return 32}default:return 32}}var jd=!1,Zs=null,Ws=null,er=null,Ao=new Map,wo=new Map,tr=[],jT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j0(t,n){switch(t){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":Ao.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":wo.delete(n.pointerId)}}function Co(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=zn(n),n!==null&&M0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function LT(t,n,r,l,h){switch(n){case"focusin":return Zs=Co(Zs,t,n,r,l,h),!0;case"dragenter":return Ws=Co(Ws,t,n,r,l,h),!0;case"mouseover":return er=Co(er,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return Ao.set(f,Co(Ao.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,wo.set(f,Co(wo.get(f)||null,t,n,r,l,h)),!0}return!1}function L0(t){var n=xi(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,ii(t.priority,function(){V0(r)});return}}else if(n===31){if(n=_(r),n!==null){t.blockedOn=n,ii(t.priority,function(){V0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Vd(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Ul=l,r.target.dispatchEvent(l),Ul=null}else return n=zn(r),n!==null&&M0(n),t.blockedOn=r,!1;n.shift()}return!0}function P0(t,n,r){Oc(t)&&r.delete(n)}function PT(){jd=!1,Zs!==null&&Oc(Zs)&&(Zs=null),Ws!==null&&Oc(Ws)&&(Ws=null),er!==null&&Oc(er)&&(er=null),Ao.forEach(P0),wo.forEach(P0)}function Mc(t,n){t.blockedOn===n&&(t.blockedOn=null,jd||(jd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,PT)))}var Vc=null;function U0(t){Vc!==t&&(Vc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Vc===t&&(Vc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(kd(l||r)===null)continue;break}var f=zn(r);f!==null&&(t.splice(n,3),n-=3,Vf(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Wa(t){function n(I){return Mc(I,t)}Zs!==null&&Mc(Zs,t),Ws!==null&&Mc(Ws,t),er!==null&&Mc(er,t),Ao.forEach(n),wo.forEach(n);for(var r=0;r<tr.length;r++){var l=tr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<tr.length&&(r=tr[0],r.blockedOn===null);)L0(r),r.blockedOn===null&&tr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],g=h[Yt]||null;if(typeof f=="function")g||U0(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Yt]||null)E=g.formAction;else if(kd(h)!==null)continue}else E=g.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),U0(r)}}}function z0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ld(t){this._internalRoot=t}kc.prototype.render=Ld.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Ln();D0(r,l,t,n,null,null)},kc.prototype.unmount=Ld.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;D0(t.current,2,null,t,null,null),pc(),n[Ei]=null}};function kc(t){this._internalRoot=t}kc.prototype.unstable_scheduleHydration=function(t){if(t){var n=pu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<tr.length&&n!==0&&n<tr[r].priority;r++);tr.splice(r,0,t),r===0&&L0(t)}};var B0=e.version;if(B0!=="19.2.3")throw Error(a(527,B0,"19.2.3"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=v(n),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var UT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{Nt=jc.inject(UT),Ht=jc}catch{}}return Io.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=Qg,f=Xg,g=$g;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=I0(t,1,!1,null,null,r,l,null,h,f,g,z0),t[Ei]=n.current,_d(t),new Ld(n)},Io.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=Qg,g=Xg,E=$g,I=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(I=r.formState)),n=I0(t,1,!0,n,r??null,l,h,I,f,g,E,z0),n.context=N0(null),r=n.current,l=Ln(),l=Nr(l),h=zs(l),h.callback=null,Bs(r,h,l),r=l,n.current.lanes=r,Rr(n,r),Li(n),t[Ei]=n.current,_d(t),new kc(n)},Io.version="19.2.3",Io}var J0;function XT(){if(J0)return zd.exports;J0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),zd.exports=QT(),zd.exports}var $T=XT();const JT=()=>{};var Z0={};const Mv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},ZT=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],_=s[i++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|_&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Vv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,_=d?s[o+1]:0,p=o+2<s.length,v=p?s[o+2]:0,x=c>>2,A=(c&3)<<4|_>>4;let M=(_&15)<<2|v>>6,F=v&63;p||(F=64,d||(M=64)),a.push(i[x],i[A],i[M],i[F])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Mv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):ZT(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],_=o<s.length?i[s.charAt(o)]:0;++o;const v=o<s.length?i[s.charAt(o)]:64;++o;const A=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||_==null||v==null||A==null)throw new WT;const M=c<<2|_>>4;if(a.push(M),v!==64){const F=_<<4&240|v>>2;if(a.push(F),A!==64){const W=v<<6&192|A;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class WT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ex=function(s){const e=Mv(s);return Vv.encodeByteArray(e,!0)},eh=function(s){return ex(s).replace(/\./g,"")},kv=function(s){try{return Vv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function tx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const nx=()=>tx().__FIREBASE_DEFAULTS__,ix=()=>{if(typeof process>"u"||typeof Z0>"u")return;const s=Z0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},sx=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&kv(s[1]);return e&&JSON.parse(e)},bh=()=>{try{return JT()||nx()||ix()||sx()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},jv=s=>bh()?.emulatorHosts?.[s],rx=s=>{const e=jv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Lv=()=>bh()?.config,Pv=s=>bh()?.[`_${s}`];class ax{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function El(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Uv(s){return(await fetch(s,{credentials:"include"})).ok}function lx(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[eh(JSON.stringify(i)),eh(JSON.stringify(d)),""].join(".")}const Lo={};function ox(){const s={prod:[],emulator:[]};for(const e of Object.keys(Lo))Lo[e]?s.emulator.push(e):s.prod.push(e);return s}function ux(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let W0=!1;function zv(s,e){if(typeof window>"u"||typeof document>"u"||!El(window.location.host)||Lo[s]===e||Lo[s]||W0)return;Lo[s]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=ox().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function _(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function p(M,F){M.setAttribute("width","24"),M.setAttribute("id",F),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function v(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{W0=!0,d()},M}function x(M,F){M.setAttribute("id",F),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function A(){const M=ux(a),F=i("text"),W=document.getElementById(F)||document.createElement("span"),se=i("learnmore"),Z=document.getElementById(se)||document.createElement("a"),pe=i("preprendIcon"),be=document.getElementById(pe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const Te=M.element;_(Te),x(Z,se);const Ye=v();p(be,pe),Te.append(be,W,Z,Ye),document.body.appendChild(Te)}c?(W.innerText="Preview backend disconnected.",be.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(be.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function hx(){const s=bh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dx(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function mx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function px(){const s=un();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function gx(){return!hx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yx(){try{return typeof indexedDB=="object"}catch{return!1}}function _x(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const vx="FirebaseError";class Ts extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=vx,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wo.prototype.create)}}class Wo{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?bx(c,a):"Error",_=`${this.serviceName}: ${d} (${o}).`;return new Ts(o,_,a)}}function bx(s,e){return s.replace(Ex,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const Ex=/\{\$([^}]+)}/g;function Tx(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function pr(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(e_(c)&&e_(d)){if(!pr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function e_(s){return s!==null&&typeof s=="object"}function eu(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function xx(s,e){const i=new Sx(s,e);return i.subscribe.bind(i)}class Sx{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");Ax(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Gd),o.error===void 0&&(o.error=Gd),o.complete===void 0&&(o.complete=Gd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ax(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Gd(){}function pn(s){return s&&s._delegate?s._delegate:s}class aa{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ta="[DEFAULT]";class wx{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new ax;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Rx(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ta){return this.instances.has(e)}getOptions(e=ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(c);a===_&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Cx(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ta){return this.component?this.component.multipleInstances?e:ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Cx(s){return s===ta?void 0:s}function Rx(s){return s.instantiationMode==="EAGER"}class Ix{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new wx(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ue||(Ue={}));const Nx={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},Dx=Ue.INFO,Ox={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},Mx=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=Ox[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mm{constructor(e){this.name=e,this._logLevel=Dx,this._logHandler=Mx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Nx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const Vx=(s,e)=>e.some(i=>s instanceof i);let t_,n_;function kx(){return t_||(t_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jx(){return n_||(n_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bv=new WeakMap,rm=new WeakMap,Hv=new WeakMap,Fd=new WeakMap,Vm=new WeakMap;function Lx(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(cr(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Bv.set(i,s)}).catch(()=>{}),Vm.set(e,s),e}function Px(s){if(rm.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});rm.set(s,e)}let am={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return rm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Hv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return cr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function Ux(s){am=s(am)}function zx(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Yd(this),e,...i);return Hv.set(a,e.sort?e.sort():[e]),cr(a)}:jx().includes(s)?function(...e){return s.apply(Yd(this),e),cr(Bv.get(this))}:function(...e){return cr(s.apply(Yd(this),e))}}function Bx(s){return typeof s=="function"?zx(s):(s instanceof IDBTransaction&&Px(s),Vx(s,kx())?new Proxy(s,am):s)}function cr(s){if(s instanceof IDBRequest)return Lx(s);if(Fd.has(s))return Fd.get(s);const e=Bx(s);return e!==s&&(Fd.set(s,e),Vm.set(e,s)),e}const Yd=s=>Vm.get(s);function Hx(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),_=cr(d);return a&&d.addEventListener("upgradeneeded",p=>{a(cr(d.result),p.oldVersion,p.newVersion,cr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),_.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),_}const qx=["get","getKey","getAll","getAllKeys","count"],Gx=["put","add","delete","clear"],Kd=new Map;function i_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Kd.get(e))return Kd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=Gx.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||qx.includes(i)))return;const c=async function(d,..._){const p=this.transaction(d,o?"readwrite":"readonly");let v=p.store;return a&&(v=v.index(_.shift())),(await Promise.all([v[i](..._),o&&p.done]))[0]};return Kd.set(e,c),c}Ux(s=>({...s,get:(e,i,a)=>i_(e,i)||s.get(e,i,a),has:(e,i)=>!!i_(e,i)||s.has(e,i)}));class Fx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Yx(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function Yx(s){return s.getComponent()?.type==="VERSION"}const lm="@firebase/app",s_="0.14.7";const gs=new Mm("@firebase/app"),Kx="@firebase/app-compat",Qx="@firebase/analytics-compat",Xx="@firebase/analytics",$x="@firebase/app-check-compat",Jx="@firebase/app-check",Zx="@firebase/auth",Wx="@firebase/auth-compat",e2="@firebase/database",t2="@firebase/data-connect",n2="@firebase/database-compat",i2="@firebase/functions",s2="@firebase/functions-compat",r2="@firebase/installations",a2="@firebase/installations-compat",l2="@firebase/messaging",o2="@firebase/messaging-compat",u2="@firebase/performance",c2="@firebase/performance-compat",h2="@firebase/remote-config",f2="@firebase/remote-config-compat",d2="@firebase/storage",m2="@firebase/storage-compat",p2="@firebase/firestore",g2="@firebase/ai",y2="@firebase/firestore-compat",_2="firebase",v2="12.8.0";const om="[DEFAULT]",b2={[lm]:"fire-core",[Kx]:"fire-core-compat",[Xx]:"fire-analytics",[Qx]:"fire-analytics-compat",[Jx]:"fire-app-check",[$x]:"fire-app-check-compat",[Zx]:"fire-auth",[Wx]:"fire-auth-compat",[e2]:"fire-rtdb",[t2]:"fire-data-connect",[n2]:"fire-rtdb-compat",[i2]:"fire-fn",[s2]:"fire-fn-compat",[r2]:"fire-iid",[a2]:"fire-iid-compat",[l2]:"fire-fcm",[o2]:"fire-fcm-compat",[u2]:"fire-perf",[c2]:"fire-perf-compat",[h2]:"fire-rc",[f2]:"fire-rc-compat",[d2]:"fire-gcs",[m2]:"fire-gcs-compat",[p2]:"fire-fst",[y2]:"fire-fst-compat",[g2]:"fire-vertex","fire-js":"fire-js",[_2]:"fire-js-all"};const th=new Map,E2=new Map,um=new Map;function r_(s,e){try{s.container.addComponent(e)}catch(i){gs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function dl(s){const e=s.name;if(um.has(e))return gs.debug(`There were multiple attempts to register component ${e}.`),!1;um.set(e,s);for(const i of th.values())r_(i,s);for(const i of E2.values())r_(i,s);return!0}function km(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Wn(s){return s==null?!1:s.settings!==void 0}const T2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hr=new Wo("app","Firebase",T2);class x2{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}const Tl=v2;function qv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:om,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw hr.create("bad-app-name",{appName:String(o)});if(i||(i=Lv()),!i)throw hr.create("no-options");const c=th.get(o);if(c){if(pr(i,c.options)&&pr(a,c.config))return c;throw hr.create("duplicate-app",{appName:o})}const d=new Ix(o);for(const p of um.values())d.addComponent(p);const _=new x2(i,a,d);return th.set(o,_),_}function Gv(s=om){const e=th.get(s);if(!e&&s===om&&Lv())return qv();if(!e)throw hr.create("no-app",{appName:s});return e}function fr(s,e,i){let a=b2[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gs.warn(d.join(" "));return}dl(new aa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const S2="firebase-heartbeat-database",A2=1,qo="firebase-heartbeat-store";let Qd=null;function Fv(){return Qd||(Qd=Hx(S2,A2,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(qo)}catch(i){console.warn(i)}}}}).catch(s=>{throw hr.create("idb-open",{originalErrorMessage:s.message})})),Qd}async function w2(s){try{const i=(await Fv()).transaction(qo),a=await i.objectStore(qo).get(Yv(s));return await i.done,a}catch(e){if(e instanceof Ts)gs.warn(e.message);else{const i=hr.create("idb-get",{originalErrorMessage:e?.message});gs.warn(i.message)}}}async function a_(s,e){try{const a=(await Fv()).transaction(qo,"readwrite");await a.objectStore(qo).put(e,Yv(s)),await a.done}catch(i){if(i instanceof Ts)gs.warn(i.message);else{const a=hr.create("idb-set",{originalErrorMessage:i?.message});gs.warn(a.message)}}}function Yv(s){return`${s.name}!${s.options.appId}`}const C2=1024,R2=30;class I2{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new D2(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=l_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>R2){const o=O2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){gs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=l_(),{heartbeatsToSend:i,unsentEntries:a}=N2(this._heartbeatsCache.heartbeats),o=eh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return gs.warn(e),""}}}function l_(){return new Date().toISOString().substring(0,10)}function N2(s,e=C2){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),o_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),o_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class D2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yx()?_x().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await w2(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return a_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return a_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function o_(s){return eh(JSON.stringify({version:2,heartbeats:s})).length}function O2(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function M2(s){dl(new aa("platform-logger",e=>new Fx(e),"PRIVATE")),dl(new aa("heartbeat",e=>new I2(e),"PRIVATE")),fr(lm,s_,s),fr(lm,s_,"esm2020"),fr("fire-js","")}M2("");var V2="firebase",k2="12.8.0";fr(V2,k2,"app");function Kv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const j2=Kv,Qv=new Wo("auth","Firebase",Kv());const nh=new Mm("@firebase/auth");function L2(s,...e){nh.logLevel<=Ue.WARN&&nh.warn(`Auth (${Tl}): ${s}`,...e)}function qc(s,...e){nh.logLevel<=Ue.ERROR&&nh.error(`Auth (${Tl}): ${s}`,...e)}function ys(s,...e){throw jm(s,...e)}function zi(s,...e){return jm(s,...e)}function Xv(s,e,i){const a={...j2(),[e]:i};return new Wo("auth","Firebase",a).create(e,{appName:s.name})}function ps(s){return Xv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Qv.create(s,...e)}function Se(s,e,...i){if(!s)throw jm(e,...i)}function ds(s){const e="INTERNAL ASSERTION FAILED: "+s;throw qc(e),new Error(e)}function _s(s,e){s||ds(e)}function cm(){return typeof self<"u"&&self.location?.href||""}function P2(){return u_()==="http:"||u_()==="https:"}function u_(){return typeof self<"u"&&self.location?.protocol||null}function U2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(P2()||dx()||"connection"in navigator)?navigator.onLine:!0}function z2(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class tu{constructor(e,i){this.shortDelay=e,this.longDelay=i,_s(i>e,"Short delay should be less than long delay!"),this.isMobile=cx()||mx()}get(){return U2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Lm(s,e){_s(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class $v{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const B2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const H2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],q2=new tu(3e4,6e4);function nu(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function xl(s,e,i,a,o={}){return Jv(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const _=eu({key:s.config.apiKey,...d}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const v={method:e,headers:p,...c};return fx()||(v.referrerPolicy="no-referrer"),s.emulatorConfig&&El(s.emulatorConfig.host)&&(v.credentials="include"),$v.fetch()(await Zv(s,s.config.apiHost,i,_),v)})}async function Jv(s,e,i){s._canInitEmulator=!1;const a={...B2,...e};try{const o=new G2(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Lc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const _=c.ok?d.errorMessage:d.error.message,[p,v]=_.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lc(s,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Lc(s,"email-already-in-use",d);if(p==="USER_DISABLED")throw Lc(s,"user-disabled",d);const x=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Xv(s,x,v);ys(s,x)}}catch(o){if(o instanceof Ts)throw o;ys(s,"network-request-failed",{message:String(o)})}}async function Pm(s,e,i,a,o={}){const c=await xl(s,e,i,a,o);return"mfaPendingCredential"in c&&ys(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Zv(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?Lm(s.config,o):`${s.config.apiScheme}://${o}`;return H2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class G2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(zi(this.auth,"network-request-failed")),q2.get())})}}function Lc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=zi(s,e,a);return o.customData._tokenResponse=i,o}async function F2(s,e){return xl(s,"POST","/v1/accounts:delete",e)}async function ih(s,e){return xl(s,"POST","/v1/accounts:lookup",e)}function Po(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Y2(s,e=!1){const i=pn(s),a=await i.getIdToken(e),o=Um(a);Se(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Po(Xd(o.auth_time)),issuedAtTime:Po(Xd(o.iat)),expirationTime:Po(Xd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Xd(s){return Number(s)*1e3}function Um(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return qc("JWT malformed, contained fewer than 3 sections"),null;try{const o=kv(i);return o?JSON.parse(o):(qc("Failed to decode base64 JWT payload"),null)}catch(o){return qc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function c_(s){const e=Um(s);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Go(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Ts&&K2(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function K2({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Q2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class hm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Po(this.lastLoginAt),this.creationTime=Po(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function sh(s){const e=s.auth,i=await s.getIdToken(),a=await Go(s,ih(e,{idToken:i}));Se(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?Wv(o.providerUserInfo):[],d=$2(s.providerData,c),_=s.isAnonymous,p=!(s.email&&o.passwordHash)&&!d?.length,v=_?p:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new hm(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(s,x)}async function X2(s){const e=pn(s);await sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $2(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Wv(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function J2(s,e){const i=await Jv(s,{},async()=>{const a=eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await Zv(s,o,"/v1/token",`key=${c}`),_=await s._getAdditionalHeaders();_["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:_,body:a};return s.emulatorConfig&&El(s.emulatorConfig.host)&&(p.credentials="include"),$v.fetch()(d,p)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Z2(s,e){return xl(s,"POST","/v2/accounts:revokeToken",nu(s,e))}class al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):c_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const i=c_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await J2(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new al;return a&&(Se(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Se(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Se(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new al,this.toJSON())}_performRefresh(){return ds("not implemented")}}function ir(s,e){Se(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class di{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new Q2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new hm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Go(this,this.stsTokenManager.getToken(this.auth,e));return Se(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Y2(this,e)}reload(){return X2(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new di({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await sh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(ps(this.auth));const e=await this.getIdToken();return await Go(this,F2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,_=i.tenantId??void 0,p=i._redirectEventId??void 0,v=i.createdAt??void 0,x=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:F,providerData:W,stsTokenManager:se}=i;Se(A&&se,e,"internal-error");const Z=al.fromJSON(this.name,se);Se(typeof A=="string",e,"internal-error"),ir(a,e.name),ir(o,e.name),Se(typeof M=="boolean",e,"internal-error"),Se(typeof F=="boolean",e,"internal-error"),ir(c,e.name),ir(d,e.name),ir(_,e.name),ir(p,e.name),ir(v,e.name),ir(x,e.name);const pe=new di({uid:A,auth:e,email:o,emailVerified:M,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:_,stsTokenManager:Z,createdAt:v,lastLoginAt:x});return W&&Array.isArray(W)&&(pe.providerData=W.map(be=>({...be}))),p&&(pe._redirectEventId=p),pe}static async _fromIdTokenResponse(e,i,a=!1){const o=new al;o.updateFromServerResponse(i);const c=new di({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await sh(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Se(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Wv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,_=new al;_.updateFromIdToken(a);const p=new di({uid:o.localId,auth:e,stsTokenManager:_,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new hm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,v),p}}const h_=new Map;function ms(s){_s(s instanceof Function,"Expected a class definition");let e=h_.get(s);return e?(_s(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,h_.set(s,e),e)}class e1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}e1.type="NONE";const f_=e1;function Gc(s,e,i){return`firebase:${s}:${e}:${i}`}class ll{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Gc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Gc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await ih(this.auth,{idToken:e}).catch(()=>{});return i?di._fromGetAccountInfoResponse(this.auth,i,e):null}return di._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new ll(ms(f_),e,a);const o=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=o[0]||ms(f_);const d=Gc(a,e.config.apiKey,e.name);let _=null;for(const v of i)try{const x=await v._get(d);if(x){let A;if(typeof x=="string"){const M=await ih(e,{idToken:x}).catch(()=>{});if(!M)break;A=await di._fromGetAccountInfoResponse(e,M,x)}else A=di._fromJSON(e,x);v!==c&&(_=A),c=v;break}}catch{}const p=o.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new ll(c,e,a):(c=p[0],_&&await c._set(d,_.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new ll(c,e,a))}}function d_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(s1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(t1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(a1(e))return"Blackberry";if(l1(e))return"Webos";if(n1(e))return"Safari";if((e.includes("chrome/")||i1(e))&&!e.includes("edge/"))return"Chrome";if(r1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function t1(s=un()){return/firefox\//i.test(s)}function n1(s=un()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function i1(s=un()){return/crios\//i.test(s)}function s1(s=un()){return/iemobile/i.test(s)}function r1(s=un()){return/android/i.test(s)}function a1(s=un()){return/blackberry/i.test(s)}function l1(s=un()){return/webos/i.test(s)}function zm(s=un()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function W2(s=un()){return zm(s)&&!!window.navigator?.standalone}function eS(){return px()&&document.documentMode===10}function o1(s=un()){return zm(s)||r1(s)||l1(s)||a1(s)||/windows phone/i.test(s)||s1(s)}function u1(s,e=[]){let i;switch(s){case"Browser":i=d_(un());break;case"Worker":i=`${d_(un())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Tl}/${a}`}class tS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,_)=>{try{const p=e(c);d(p)}catch(p){_(p)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function nS(s,e={}){return xl(s,"GET","/v2/passwordPolicy",nu(s,e))}const iS=6;class sS{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??iS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class rS{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m_(this),this.idTokenSubscription=new m_(this),this.beforeStateQueue=new tS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ms(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ll.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await ih(this,{idToken:e}),a=await di._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Wn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,_=await this.tryRedirectSignIn(e);(!c||c===d)&&_?.user&&(a=_.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await sh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=z2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wn(this.app))return Promise.reject(ps(this));const i=e?pn(e):null;return i&&Se(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wn(this.app)?Promise.reject(ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ms(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nS(this),i=new sS(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wo("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Z2(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ms(e)||this._popupRedirectResolver;Se(i,this,"argument-error"),this.redirectPersistenceManager=await ll.create(this,[ms(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const _=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(_,this,"internal-error"),_.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const p=e.addObserver(i,a,o);return()=>{d=!0,p()}}else{const p=e.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=u1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&L2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function iu(s){return pn(s)}class m_{constructor(e){this.auth=e,this.observer=null,this.addObserver=xx(i=>this.observer=i)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Bm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aS(s){Bm=s}function lS(s){return Bm.loadJS(s)}function oS(){return Bm.gapiScript}function uS(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function cS(s,e){const i=km(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(pr(c,e??{}))return o;ys(o,"already-initialized")}return i.initialize({options:e})}function hS(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ms);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function fS(s,e,i){const a=iu(s);Se(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=c1(e),{host:d,port:_}=dS(e),p=_===null?"":`:${_}`,v={url:`${c}//${d}${p}/`},x=Object.freeze({host:d,port:_,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Se(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Se(pr(v,a.config.emulator)&&pr(x,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=v,a.emulatorConfig=x,a.settings.appVerificationDisabledForTesting=!0,El(d)?(Uv(`${c}//${d}${p}`),zv("Auth",!0)):mS()}function c1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function dS(s){const e=c1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:p_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:p_(d)}}}function p_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function mS(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class h1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ds("not implemented")}_getIdTokenResponse(e){return ds("not implemented")}_linkToIdToken(e,i){return ds("not implemented")}_getReauthenticationResolver(e){return ds("not implemented")}}async function ol(s,e){return Pm(s,"POST","/v1/accounts:signInWithIdp",nu(s,e))}const pS="http://localhost";class la extends h1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new la(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ys("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new la(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return ol(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,ol(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,ol(e,i)}buildRequest(){const e={requestUri:pS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=eu(i)}return e}}class f1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class su extends f1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class rr extends su{constructor(){super("facebook.com")}static credential(e){return la._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rr.credential(e.oauthAccessToken)}catch{return null}}}rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";rr.PROVIDER_ID="facebook.com";class ar extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return la._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return ar.credential(i,a)}catch{return null}}}ar.GOOGLE_SIGN_IN_METHOD="google.com";ar.PROVIDER_ID="google.com";class lr extends su{constructor(){super("github.com")}static credential(e){return la._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com";lr.PROVIDER_ID="github.com";class or extends su{constructor(){super("twitter.com")}static credential(e,i){return la._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return or.credential(i,a)}catch{return null}}}or.TWITTER_SIGN_IN_METHOD="twitter.com";or.PROVIDER_ID="twitter.com";async function gS(s,e){return Pm(s,"POST","/v1/accounts:signUp",nu(s,e))}class vs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await di._fromIdTokenResponse(e,a,o),d=g_(a);return new vs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=g_(a);return new vs({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function g_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function yS(s){if(Wn(s.app))return Promise.reject(ps(s));const e=iu(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new vs({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await gS(e,{returnSecureToken:!0}),a=await vs._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class rh extends Ts{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new rh(e,i,a,o)}}function d1(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?rh._fromErrorAndOperation(s,c,e,a):c})}async function _S(s,e,i=!1){const a=await Go(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return vs._forOperation(s,"link",a)}async function vS(s,e,i=!1){const{auth:a}=s;if(Wn(a.app))return Promise.reject(ps(a));const o="reauthenticate";try{const c=await Go(s,d1(a,o,e,s),i);Se(c.idToken,a,"internal-error");const d=Um(c.idToken);Se(d,a,"internal-error");const{sub:_}=d;return Se(s.uid===_,a,"user-mismatch"),vs._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&ys(a,"user-mismatch"),c}}async function bS(s,e,i=!1){if(Wn(s.app))return Promise.reject(ps(s));const a="signIn",o=await d1(s,a,e),c=await vs._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}async function ES(s,e){return Pm(s,"POST","/v1/accounts:signInWithCustomToken",nu(s,e))}async function TS(s,e){if(Wn(s.app))return Promise.reject(ps(s));const i=iu(s),a=await ES(i,{token:e,returnSecureToken:!0}),o=await vs._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function xS(s,e,i,a){return pn(s).onIdTokenChanged(e,i,a)}function SS(s,e,i){return pn(s).beforeAuthStateChanged(e,i)}function AS(s,e,i,a){return pn(s).onAuthStateChanged(e,i,a)}const ah="__sak";class m1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ah,"1"),this.storage.removeItem(ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const wS=1e3,CS=10;class p1 extends m1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=o1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,_,p)=>{this.notifyListeners(d,p)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);eS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,CS):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},wS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}p1.type="LOCAL";const RS=p1;class g1 extends m1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}g1.type="SESSION";const y1=g1;function IS(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Eh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new Eh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const _=Array.from(d).map(async v=>v(i.origin,c)),p=await IS(_);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eh.receivers=[];function Hm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class NS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((_,p)=>{const v=Hm("",20);o.port1.start();const x=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(A){const M=A;if(M.data.eventId===v)switch(M.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),_(M.data.response);break;default:clearTimeout(x),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:v,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Bi(){return window}function DS(s){Bi().location.href=s}function _1(){return typeof Bi().WorkerGlobalScope<"u"&&typeof Bi().importScripts=="function"}async function OS(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MS(){return navigator?.serviceWorker?.controller||null}function VS(){return _1()?self:null}const v1="firebaseLocalStorageDb",kS=1,lh="firebaseLocalStorage",b1="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Th(s,e){return s.transaction([lh],e?"readwrite":"readonly").objectStore(lh)}function jS(){const s=indexedDB.deleteDatabase(v1);return new ru(s).toPromise()}function fm(){const s=indexedDB.open(v1,kS);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(lh,{keyPath:b1})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(lh)?e(a):(a.close(),await jS(),e(await fm()))})})}async function y_(s,e,i){const a=Th(s,!0).put({[b1]:e,value:i});return new ru(a).toPromise()}async function LS(s,e){const i=Th(s,!1).get(e),a=await new ru(i).toPromise();return a===void 0?null:a.value}function __(s,e){const i=Th(s,!0).delete(e);return new ru(i).toPromise()}const PS=800,US=3;class E1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>US)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eh._getInstance(VS()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await OS(),!this.activeServiceWorker)return;this.sender=new NS(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fm();return await y_(e,ah,"1"),await __(e,ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>y_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>LS(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>__(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Th(o,!1).getAll();return new ru(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}E1.type="LOCAL";const zS=E1;new tu(3e4,6e4);function BS(s,e){return e?ms(e):(Se(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class qm extends h1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ol(e,this._buildIdpRequest())}_linkToIdToken(e,i){return ol(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return ol(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function HS(s){return bS(s.auth,new qm(s),s.bypassAuthState)}function qS(s){const{auth:e,user:i}=s;return Se(i,e,"internal-error"),vS(i,new qm(s),s.bypassAuthState)}async function GS(s){const{auth:e,user:i}=s;return Se(i,e,"internal-error"),_S(i,new qm(s),s.bypassAuthState)}class T1{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:_}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(_)(p))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HS;case"linkViaPopup":case"linkViaRedirect":return GS;case"reauthViaPopup":case"reauthViaRedirect":return qS;default:ys(this.auth,"internal-error")}}resolve(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const FS=new tu(2e3,1e4);class rl extends T1{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,rl.currentPopupAction&&rl.currentPopupAction.cancel(),rl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const e=Hm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FS.get())};e()}}rl.currentPopupAction=null;const YS="pendingRedirect",Fc=new Map;class KS extends T1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Fc.get(this.auth._key());if(!e){try{const a=await QS(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Fc.set(this.auth._key(),e)}return this.bypassAuthState||Fc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QS(s,e){const i=JS(e),a=$S(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function XS(s,e){Fc.set(s._key(),e)}function $S(s){return ms(s._redirectPersistence)}function JS(s){return Gc(YS,s.config.apiKey,s.name)}async function ZS(s,e,i=!1){if(Wn(s.app))return Promise.reject(ps(s));const a=iu(s),o=BS(a,e),d=await new KS(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const WS=600*1e3;class eA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tA(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!x1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(zi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WS&&this.cachedEventUids.clear(),this.cachedEventUids.has(v_(e))}saveEventToCache(e){this.cachedEventUids.add(v_(e)),this.lastProcessedEventTime=Date.now()}}function v_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function x1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function tA(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return x1(s);default:return!1}}async function nA(s,e={}){return xl(s,"GET","/v1/projects",e)}const iA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sA=/^https?/;async function rA(s){if(s.config.emulator)return;const{authorizedDomains:e}=await nA(s);for(const i of e)try{if(aA(i))return}catch{}ys(s,"unauthorized-domain")}function aA(s){const e=cm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!sA.test(i))return!1;if(iA.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const lA=new tu(3e4,6e4);function b_(){const s=Bi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function oA(s){return new Promise((e,i)=>{function a(){b_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{b_(),i(zi(s,"network-request-failed"))},timeout:lA.get()})}if(Bi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Bi().gapi?.load)a();else{const o=uS("iframefcb");return Bi()[o]=()=>{gapi.load?a():i(zi(s,"network-request-failed"))},lS(`${oS()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Yc=null,e})}let Yc=null;function uA(s){return Yc=Yc||oA(s),Yc}const cA=new tu(5e3,15e3),hA="__/auth/iframe",fA="emulator/auth/iframe",dA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pA(s){const e=s.config;Se(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Lm(e,fA):`https://${s.config.authDomain}/${hA}`,a={apiKey:e.apiKey,appName:s.name,v:Tl},o=mA.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${eu(a).slice(1)}`}async function gA(s){const e=await uA(s),i=Bi().gapi;return Se(i,s,"internal-error"),e.open({where:document.body,url:pA(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dA,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=zi(s,"network-request-failed"),_=Bi().setTimeout(()=>{c(d)},cA.get());function p(){Bi().clearTimeout(_),o(a)}a.ping(p).then(p,()=>{c(d)})}))}const yA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_A=500,vA=600,bA="_blank",EA="http://localhost";class E_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TA(s,e,i,a=_A,o=vA){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let _="";const p={...yA,width:a.toString(),height:o.toString(),top:c,left:d},v=un().toLowerCase();i&&(_=i1(v)?bA:i),t1(v)&&(e=e||EA,p.scrollbars="yes");const x=Object.entries(p).reduce((M,[F,W])=>`${M}${F}=${W},`,"");if(W2(v)&&_!=="_self")return xA(e||"",_),new E_(null);const A=window.open(e||"",_,x);Se(A,s,"popup-blocked");try{A.focus()}catch{}return new E_(A)}function xA(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const SA="__/auth/handler",AA="emulator/auth/handler",wA=encodeURIComponent("fac");async function T_(s,e,i,a,o,c){Se(s.config.authDomain,s,"auth-domain-config-required"),Se(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:Tl,eventId:o};if(e instanceof f1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",Tx(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,A]of Object.entries({}))d[x]=A}if(e instanceof su){const x=e.getScopes().filter(A=>A!=="");x.length>0&&(d.scopes=x.join(","))}s.tenantId&&(d.tid=s.tenantId);const _=d;for(const x of Object.keys(_))_[x]===void 0&&delete _[x];const p=await s._getAppCheckToken(),v=p?`#${wA}=${encodeURIComponent(p)}`:"";return`${CA(s)}?${eu(_).slice(1)}${v}`}function CA({config:s}){return s.emulator?Lm(s,AA):`https://${s.authDomain}/${SA}`}const $d="webStorageSupport";class RA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=y1,this._completeRedirectFn=ZS,this._overrideRedirectResult=XS}async _openPopup(e,i,a,o){_s(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await T_(e,i,a,cm(),o);return TA(e,c,Hm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await T_(e,i,a,cm(),o);return DS(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(_s(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await gA(e),a=new eA(e);return i.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send($d,{type:$d},o=>{const c=o?.[0]?.[$d];c!==void 0&&i(!!c),ys(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=rA(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return o1()||n1()||zm()}}const IA=RA;var x_="@firebase/auth",S_="1.12.0";class NA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function DA(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OA(s){dl(new aa("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:_}=a.options;Se(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:_,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:u1(s)},v=new rS(a,o,c,p);return hS(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),dl(new aa("auth-internal",e=>{const i=iu(e.getProvider("auth").getImmediate());return(a=>new NA(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),fr(x_,S_,DA(s)),fr(x_,S_,"esm2020")}const MA=300,VA=Pv("authIdTokenMaxAge")||MA;let A_=null;const kA=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>VA)return;const o=i?.token;A_!==o&&(A_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function jA(s=Gv()){const e=km(s,"auth");if(e.isInitialized())return e.getImmediate();const i=cS(s,{popupRedirectResolver:IA,persistence:[zS,RS,y1]}),a=Pv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=kA(c.toString());SS(i,d,()=>d(i.currentUser)),xS(i,_=>d(_))}}const o=jv("auth");return o&&fS(i,`http://${o}`),i}function LA(){return document.getElementsByTagName("head")?.[0]??document}aS({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=zi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",LA().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OA("Browser");var w_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var dr,S1;(function(){var s;function e(R,w){function N(){}N.prototype=w.prototype,R.F=w.prototype,R.prototype=new N,R.prototype.constructor=R,R.D=function(S,D,k){for(var C=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)C[lt-2]=arguments[lt];return w.prototype[D].apply(S,C)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,w,N){N||(N=0);const S=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)S[D]=w.charCodeAt(N++)|w.charCodeAt(N++)<<8|w.charCodeAt(N++)<<16|w.charCodeAt(N++)<<24;else for(D=0;D<16;++D)S[D]=w[N++]|w[N++]<<8|w[N++]<<16|w[N++]<<24;w=R.g[0],N=R.g[1],D=R.g[2];let k=R.g[3],C;C=w+(k^N&(D^k))+S[0]+3614090360&4294967295,w=N+(C<<7&4294967295|C>>>25),C=k+(D^w&(N^D))+S[1]+3905402710&4294967295,k=w+(C<<12&4294967295|C>>>20),C=D+(N^k&(w^N))+S[2]+606105819&4294967295,D=k+(C<<17&4294967295|C>>>15),C=N+(w^D&(k^w))+S[3]+3250441966&4294967295,N=D+(C<<22&4294967295|C>>>10),C=w+(k^N&(D^k))+S[4]+4118548399&4294967295,w=N+(C<<7&4294967295|C>>>25),C=k+(D^w&(N^D))+S[5]+1200080426&4294967295,k=w+(C<<12&4294967295|C>>>20),C=D+(N^k&(w^N))+S[6]+2821735955&4294967295,D=k+(C<<17&4294967295|C>>>15),C=N+(w^D&(k^w))+S[7]+4249261313&4294967295,N=D+(C<<22&4294967295|C>>>10),C=w+(k^N&(D^k))+S[8]+1770035416&4294967295,w=N+(C<<7&4294967295|C>>>25),C=k+(D^w&(N^D))+S[9]+2336552879&4294967295,k=w+(C<<12&4294967295|C>>>20),C=D+(N^k&(w^N))+S[10]+4294925233&4294967295,D=k+(C<<17&4294967295|C>>>15),C=N+(w^D&(k^w))+S[11]+2304563134&4294967295,N=D+(C<<22&4294967295|C>>>10),C=w+(k^N&(D^k))+S[12]+1804603682&4294967295,w=N+(C<<7&4294967295|C>>>25),C=k+(D^w&(N^D))+S[13]+4254626195&4294967295,k=w+(C<<12&4294967295|C>>>20),C=D+(N^k&(w^N))+S[14]+2792965006&4294967295,D=k+(C<<17&4294967295|C>>>15),C=N+(w^D&(k^w))+S[15]+1236535329&4294967295,N=D+(C<<22&4294967295|C>>>10),C=w+(D^k&(N^D))+S[1]+4129170786&4294967295,w=N+(C<<5&4294967295|C>>>27),C=k+(N^D&(w^N))+S[6]+3225465664&4294967295,k=w+(C<<9&4294967295|C>>>23),C=D+(w^N&(k^w))+S[11]+643717713&4294967295,D=k+(C<<14&4294967295|C>>>18),C=N+(k^w&(D^k))+S[0]+3921069994&4294967295,N=D+(C<<20&4294967295|C>>>12),C=w+(D^k&(N^D))+S[5]+3593408605&4294967295,w=N+(C<<5&4294967295|C>>>27),C=k+(N^D&(w^N))+S[10]+38016083&4294967295,k=w+(C<<9&4294967295|C>>>23),C=D+(w^N&(k^w))+S[15]+3634488961&4294967295,D=k+(C<<14&4294967295|C>>>18),C=N+(k^w&(D^k))+S[4]+3889429448&4294967295,N=D+(C<<20&4294967295|C>>>12),C=w+(D^k&(N^D))+S[9]+568446438&4294967295,w=N+(C<<5&4294967295|C>>>27),C=k+(N^D&(w^N))+S[14]+3275163606&4294967295,k=w+(C<<9&4294967295|C>>>23),C=D+(w^N&(k^w))+S[3]+4107603335&4294967295,D=k+(C<<14&4294967295|C>>>18),C=N+(k^w&(D^k))+S[8]+1163531501&4294967295,N=D+(C<<20&4294967295|C>>>12),C=w+(D^k&(N^D))+S[13]+2850285829&4294967295,w=N+(C<<5&4294967295|C>>>27),C=k+(N^D&(w^N))+S[2]+4243563512&4294967295,k=w+(C<<9&4294967295|C>>>23),C=D+(w^N&(k^w))+S[7]+1735328473&4294967295,D=k+(C<<14&4294967295|C>>>18),C=N+(k^w&(D^k))+S[12]+2368359562&4294967295,N=D+(C<<20&4294967295|C>>>12),C=w+(N^D^k)+S[5]+4294588738&4294967295,w=N+(C<<4&4294967295|C>>>28),C=k+(w^N^D)+S[8]+2272392833&4294967295,k=w+(C<<11&4294967295|C>>>21),C=D+(k^w^N)+S[11]+1839030562&4294967295,D=k+(C<<16&4294967295|C>>>16),C=N+(D^k^w)+S[14]+4259657740&4294967295,N=D+(C<<23&4294967295|C>>>9),C=w+(N^D^k)+S[1]+2763975236&4294967295,w=N+(C<<4&4294967295|C>>>28),C=k+(w^N^D)+S[4]+1272893353&4294967295,k=w+(C<<11&4294967295|C>>>21),C=D+(k^w^N)+S[7]+4139469664&4294967295,D=k+(C<<16&4294967295|C>>>16),C=N+(D^k^w)+S[10]+3200236656&4294967295,N=D+(C<<23&4294967295|C>>>9),C=w+(N^D^k)+S[13]+681279174&4294967295,w=N+(C<<4&4294967295|C>>>28),C=k+(w^N^D)+S[0]+3936430074&4294967295,k=w+(C<<11&4294967295|C>>>21),C=D+(k^w^N)+S[3]+3572445317&4294967295,D=k+(C<<16&4294967295|C>>>16),C=N+(D^k^w)+S[6]+76029189&4294967295,N=D+(C<<23&4294967295|C>>>9),C=w+(N^D^k)+S[9]+3654602809&4294967295,w=N+(C<<4&4294967295|C>>>28),C=k+(w^N^D)+S[12]+3873151461&4294967295,k=w+(C<<11&4294967295|C>>>21),C=D+(k^w^N)+S[15]+530742520&4294967295,D=k+(C<<16&4294967295|C>>>16),C=N+(D^k^w)+S[2]+3299628645&4294967295,N=D+(C<<23&4294967295|C>>>9),C=w+(D^(N|~k))+S[0]+4096336452&4294967295,w=N+(C<<6&4294967295|C>>>26),C=k+(N^(w|~D))+S[7]+1126891415&4294967295,k=w+(C<<10&4294967295|C>>>22),C=D+(w^(k|~N))+S[14]+2878612391&4294967295,D=k+(C<<15&4294967295|C>>>17),C=N+(k^(D|~w))+S[5]+4237533241&4294967295,N=D+(C<<21&4294967295|C>>>11),C=w+(D^(N|~k))+S[12]+1700485571&4294967295,w=N+(C<<6&4294967295|C>>>26),C=k+(N^(w|~D))+S[3]+2399980690&4294967295,k=w+(C<<10&4294967295|C>>>22),C=D+(w^(k|~N))+S[10]+4293915773&4294967295,D=k+(C<<15&4294967295|C>>>17),C=N+(k^(D|~w))+S[1]+2240044497&4294967295,N=D+(C<<21&4294967295|C>>>11),C=w+(D^(N|~k))+S[8]+1873313359&4294967295,w=N+(C<<6&4294967295|C>>>26),C=k+(N^(w|~D))+S[15]+4264355552&4294967295,k=w+(C<<10&4294967295|C>>>22),C=D+(w^(k|~N))+S[6]+2734768916&4294967295,D=k+(C<<15&4294967295|C>>>17),C=N+(k^(D|~w))+S[13]+1309151649&4294967295,N=D+(C<<21&4294967295|C>>>11),C=w+(D^(N|~k))+S[4]+4149444226&4294967295,w=N+(C<<6&4294967295|C>>>26),C=k+(N^(w|~D))+S[11]+3174756917&4294967295,k=w+(C<<10&4294967295|C>>>22),C=D+(w^(k|~N))+S[2]+718787259&4294967295,D=k+(C<<15&4294967295|C>>>17),C=N+(k^(D|~w))+S[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+k&4294967295}a.prototype.v=function(R,w){w===void 0&&(w=R.length);const N=w-this.blockSize,S=this.C;let D=this.h,k=0;for(;k<w;){if(D==0)for(;k<=N;)o(this,R,k),k+=this.blockSize;if(typeof R=="string"){for(;k<w;)if(S[D++]=R.charCodeAt(k++),D==this.blockSize){o(this,S),D=0;break}}else for(;k<w;)if(S[D++]=R[k++],D==this.blockSize){o(this,S),D=0;break}}this.h=D,this.o+=w},a.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var N=R.length-8;N<R.length;++N)R[N]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,N=0;N<4;++N)for(let S=0;S<32;S+=8)R[w++]=this.g[N]>>>S&255;return R};function c(R,w){var N=_;return Object.prototype.hasOwnProperty.call(N,R)?N[R]:N[R]=w(R)}function d(R,w){this.h=w;const N=[];let S=!0;for(let D=R.length-1;D>=0;D--){const k=R[D]|0;S&&k==w||(N[D]=k,S=!1)}this.g=N}var _={};function p(R){return-128<=R&&R<128?c(R,function(w){return new d([w|0],w<0?-1:0)}):new d([R|0],R<0?-1:0)}function v(R){if(isNaN(R)||!isFinite(R))return A;if(R<0)return Z(v(-R));const w=[];let N=1;for(let S=0;R>=N;S++)w[S]=R/N|0,N*=4294967296;return new d(w,0)}function x(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return Z(x(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=v(Math.pow(w,8));let S=A;for(let k=0;k<R.length;k+=8){var D=Math.min(8,R.length-k);const C=parseInt(R.substring(k,k+D),w);D<8?(D=v(Math.pow(w,D)),S=S.j(D).add(v(C))):(S=S.j(N),S=S.add(v(C)))}return S}var A=p(0),M=p(1),F=p(16777216);s=d.prototype,s.m=function(){if(se(this))return-Z(this).m();let R=0,w=1;for(let N=0;N<this.g.length;N++){const S=this.i(N);R+=(S>=0?S:4294967296+S)*w,w*=4294967296}return R},s.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(W(this))return"0";if(se(this))return"-"+Z(this).toString(R);const w=v(Math.pow(R,6));var N=this;let S="";for(;;){const D=Ye(N,w).g;N=pe(N,D.j(w));let k=((N.g.length>0?N.g[0]:N.h)>>>0).toString(R);if(N=D,W(N))return k+S;for(;k.length<6;)k="0"+k;S=k+S}},s.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function W(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function se(R){return R.h==-1}s.l=function(R){return R=pe(this,R),se(R)?-1:W(R)?0:1};function Z(R){const w=R.g.length,N=[];for(let S=0;S<w;S++)N[S]=~R.g[S];return new d(N,~R.h).add(M)}s.abs=function(){return se(this)?Z(this):this},s.add=function(R){const w=Math.max(this.g.length,R.g.length),N=[];let S=0;for(let D=0;D<=w;D++){let k=S+(this.i(D)&65535)+(R.i(D)&65535),C=(k>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);S=C>>>16,k&=65535,C&=65535,N[D]=C<<16|k}return new d(N,N[N.length-1]&-2147483648?-1:0)};function pe(R,w){return R.add(Z(w))}s.j=function(R){if(W(this)||W(R))return A;if(se(this))return se(R)?Z(this).j(Z(R)):Z(Z(this).j(R));if(se(R))return Z(this.j(Z(R)));if(this.l(F)<0&&R.l(F)<0)return v(this.m()*R.m());const w=this.g.length+R.g.length,N=[];for(var S=0;S<2*w;S++)N[S]=0;for(S=0;S<this.g.length;S++)for(let D=0;D<R.g.length;D++){const k=this.i(S)>>>16,C=this.i(S)&65535,lt=R.i(D)>>>16,Et=R.i(D)&65535;N[2*S+2*D]+=C*Et,be(N,2*S+2*D),N[2*S+2*D+1]+=k*Et,be(N,2*S+2*D+1),N[2*S+2*D+1]+=C*lt,be(N,2*S+2*D+1),N[2*S+2*D+2]+=k*lt,be(N,2*S+2*D+2)}for(R=0;R<w;R++)N[R]=N[2*R+1]<<16|N[2*R];for(R=w;R<2*w;R++)N[R]=0;return new d(N,0)};function be(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function Te(R,w){this.g=R,this.h=w}function Ye(R,w){if(W(w))throw Error("division by zero");if(W(R))return new Te(A,A);if(se(R))return w=Ye(Z(R),w),new Te(Z(w.g),Z(w.h));if(se(w))return w=Ye(R,Z(w)),new Te(Z(w.g),w.h);if(R.g.length>30){if(se(R)||se(w))throw Error("slowDivide_ only works with positive integers.");for(var N=M,S=w;S.l(R)<=0;)N=qe(N),S=qe(S);var D=Me(N,1),k=Me(S,1);for(S=Me(S,2),N=Me(N,2);!W(S);){var C=k.add(S);C.l(R)<=0&&(D=D.add(N),k=C),S=Me(S,1),N=Me(N,1)}return w=pe(R,D.j(w)),new Te(D,w)}for(D=A;R.l(w)>=0;){for(N=Math.max(1,Math.floor(R.m()/w.m())),S=Math.ceil(Math.log(N)/Math.LN2),S=S<=48?1:Math.pow(2,S-48),k=v(N),C=k.j(w);se(C)||C.l(R)>0;)N-=S,k=v(N),C=k.j(w);W(k)&&(k=M),D=D.add(k),R=pe(R,C)}return new Te(D,R)}s.B=function(R){return Ye(this,R).h},s.and=function(R){const w=Math.max(this.g.length,R.g.length),N=[];for(let S=0;S<w;S++)N[S]=this.i(S)&R.i(S);return new d(N,this.h&R.h)},s.or=function(R){const w=Math.max(this.g.length,R.g.length),N=[];for(let S=0;S<w;S++)N[S]=this.i(S)|R.i(S);return new d(N,this.h|R.h)},s.xor=function(R){const w=Math.max(this.g.length,R.g.length),N=[];for(let S=0;S<w;S++)N[S]=this.i(S)^R.i(S);return new d(N,this.h^R.h)};function qe(R){const w=R.g.length+1,N=[];for(let S=0;S<w;S++)N[S]=R.i(S)<<1|R.i(S-1)>>>31;return new d(N,R.h)}function Me(R,w){const N=w>>5;w%=32;const S=R.g.length-N,D=[];for(let k=0;k<S;k++)D[k]=w>0?R.i(k+N)>>>w|R.i(k+N+1)<<32-w:R.i(k+N);return new d(D,R.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,S1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=x,dr=d}).apply(typeof w_<"u"?w_:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var A1,Mo,w1,Kc,dm,C1,R1,I1;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var m=0;m<u.length;++m){var b=u[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var b=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in b))break e;b=b[L]}u=u[u.length-1],T=b[u],m=m(T),m!=T&&m!=null&&e(b,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var b=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&b.push([T,m[T]]);return b}});var c=c||{},d=this||self;function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function p(u,m,b){return u.call.apply(u.bind,arguments)}function v(u,m,b){return v=p,v.apply(null,arguments)}function x(u,m){var b=Array.prototype.slice.call(arguments,1);return function(){var T=b.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function b(){}b.prototype=m.prototype,u.Z=m.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var ee=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)ee[Ie-2]=arguments[Ie];return m.prototype[L].apply(T,ee)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const b=Array(m);for(let T=0;T<m;T++)b[T]=u[T];return b}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var b=typeof L;if(b=b!="object"?b:L?Array.isArray(L)?"array":b:"null",b=="array"||b=="object"&&typeof L.length=="number"){b=u.length||0;const B=L.length||0;u.length=b+B;for(let ee=0;ee<B;ee++)u[b+ee]=L[ee]}else u.push(L)}}class se{constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function pe(){var u=R;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class be{constructor(){this.h=this.g=null}add(m,b){const T=Te.get();T.set(m,b),this.h?this.h.next=T:this.g=T,this.h=T}}var Te=new se(()=>new Ye,u=>u.reset());class Ye{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let qe,Me=!1,R=new be,w=()=>{const u=Promise.resolve(void 0);qe=()=>{u.then(N)}};function N(){for(var u;u=pe();){try{u.h.call(u.g)}catch(b){Z(b)}var m=Te;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Me=!1}function S(){this.u=this.u,this.C=this.C}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};d.addEventListener("test",b,m),d.removeEventListener("test",b,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function lt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(lt,D),lt.prototype.init=function(u,m){const b=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(b=="mouseover"?m=u.fromElement:b=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&lt.Z.h.call(this)},lt.prototype.h=function(){lt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Et="closure_listenable_"+(Math.random()*1e6|0),q=0;function ne(u,m,b,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=b,this.capture=!!T,this.ha=L,this.key=++q,this.da=this.fa=!1}function de(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function De(u,m,b){for(const T in u)m.call(b,u[T],T,u)}function Ke(u,m){for(const b in u)m.call(void 0,u[b],b,u)}function V(u){const m={};for(const b in u)m[b]=u[b];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,m){let b,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(b in T)u[b]=T[b];for(let B=0;B<K.length;B++)b=K[B],Object.prototype.hasOwnProperty.call(T,b)&&(u[b]=T[b])}}function oe(u){this.src=u,this.g={},this.h=0}oe.prototype.add=function(u,m,b,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const ee=Re(u,m,T,L);return ee>-1?(m=u[ee],b||(m.fa=!1)):(m=new ne(m,this.src,B,!!T,L),m.fa=b,u.push(m)),m};function xe(u,m){const b=m.type;if(b in u.g){var T=u.g[b],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(de(m),u.g[b].length==0&&(delete u.g[b],u.h--))}}function Re(u,m,b,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!b&&B.ha==T)return L}return-1}var je="closure_lm_"+(Math.random()*1e6|0),Tt={};function ot(u,m,b,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ot(u,m[B],b,T,L);return null}return b=wr(b),u&&u[Et]?u.J(m,b,_(T)?!!T.capture:!1,L):Un(u,m,b,!1,T,L)}function Un(u,m,b,T,L,B){if(!m)throw Error("Invalid event type");const ee=_(L)?!!L.capture:!!L;let Ie=Ki(u);if(Ie||(u[je]=Ie=new oe(u)),b=Ie.add(m,b,T,ee,B),b.proxy)return b;if(T=xs(),b.proxy=T,T.src=u,T.listener=b,u.addEventListener)k||(L=ee),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Cn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return b}function xs(){function u(b){return m.call(u.src,u.listener,b)}const m=Sr;return u}function Ss(u,m,b,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Ss(u,m[B],b,T,L);else T=_(T)?!!T.capture:!!T,b=wr(b),u&&u[Et]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],b=Re(m,b,T,L),b>-1&&(de(m[b]),Array.prototype.splice.call(m,b,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Ki(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Re(m,b,T,L)),(b=u>-1?m[u]:null)&&As(b))}function As(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Et])xe(m.i,u);else{var b=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(b,T,u.capture):m.detachEvent?m.detachEvent(Cn(b),T):m.addListener&&m.removeListener&&m.removeListener(T),(b=Ki(m))?(xe(b,u),b.h==0&&(b.src=null,m[je]=null)):de(u)}}}function Cn(u){return u in Tt?Tt[u]:Tt[u]="on"+u}function Sr(u,m){if(u.da)u=!0;else{m=new lt(m,this);const b=u.listener,T=u.ha||u.src;u.fa&&As(u),u=b.call(T,m)}return u}function Ki(u){return u=u[je],u instanceof oe?u:null}var Ar="__closure_events_fn_"+(Math.random()*1e9>>>0);function wr(u){return typeof u=="function"?u:(u[Ar]||(u[Ar]=function(m){return u.handleEvent(m)}),u[Ar])}function Qe(){S.call(this),this.i=new oe(this),this.M=this,this.G=null}A(Qe,S),Qe.prototype[Et]=!0,Qe.prototype.removeEventListener=function(u,m,b,T){Ss(this,u,m,b,T)};function Ge(u,m){var b,T=u.G;if(T)for(b=[];T;T=T.G)b.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(T,u),ie(m,L)}L=!0;let B,ee;if(b)for(ee=b.length-1;ee>=0;ee--)B=m.g=b[ee],L=Rn(B,T,!0,m)&&L;if(B=m.g=u,L=Rn(B,T,!0,m)&&L,L=Rn(B,T,!1,m)&&L,b)for(ee=0;ee<b.length;ee++)B=m.g=b[ee],L=Rn(B,T,!1,m)&&L}Qe.prototype.N=function(){if(Qe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const b=u.g[m];for(let T=0;T<b.length;T++)de(b[T]);delete u.g[m],u.h--}}this.G=null},Qe.prototype.J=function(u,m,b,T){return this.i.add(String(u),m,!1,b,T)},Qe.prototype.K=function(u,m,b,T){return this.i.add(String(u),m,!0,b,T)};function Rn(u,m,b,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const ee=m[B];if(ee&&!ee.da&&ee.capture==b){const Ie=ee.listener,wt=ee.ha||ee.src;ee.fa&&xe(u.i,ee),L=Ie.call(wt,T)!==!1&&L}}return L&&!T.defaultPrevented}function re(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function le(u){u.g=re(()=>{u.g=null,u.i&&(u.i=!1,le(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ae extends S{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:le(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ue(u){S.call(this),this.h=u,this.g={}}A(ue,S);var Y=[];function ge(u){De(u.g,function(m,b){this.g.hasOwnProperty(b)&&As(m)},u),u.g={}}ue.prototype.N=function(){ue.Z.N.call(this),ge(this)},ue.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var te=d.JSON.stringify,We=d.JSON.parse,gn=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ti(){}function et(){}var Nt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){D.call(this,"d")}A(Ht,D);function cn(){D.call(this,"c")}A(cn,D);var At={},fu=null;function da(){return fu=fu||new Qe}At.Ia="serverreachability";function du(u){D.call(this,At.Ia,u)}A(du,D);function yi(u){const m=da();Ge(m,new du(m))}At.STAT_EVENT="statevent";function Cr(u,m){D.call(this,At.STAT_EVENT,u),this.stat=m}A(Cr,D);function Dt(u){const m=da();Ge(m,new Cr(m,u))}At.Ja="timingevent";function _i(u,m){D.call(this,At.Ja,u),this.size=m}A(_i,D);function vi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ni(){this.g=!0}ni.prototype.ua=function(){this.g=!1};function Bh(u,m,b,T,L,B){u.info(function(){if(u.g)if(B){var ee="",Ie=B.split("&");for(let Je=0;Je<Ie.length;Je++){var wt=Ie[Je].split("=");if(wt.length>1){const yt=wt[0];wt=wt[1];const qn=yt.split("_");ee=qn.length>=2&&qn[1]=="type"?ee+(yt+"="+wt+"&"):ee+(yt+"=redacted&")}}}else ee=null;else ee=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+b+`
`+ee})}function mu(u,m,b,T,L,B,ee){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+b+`
`+B+" "+ee})}function bi(u,m,b,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Hh(u,b)+(T?" "+T:"")})}function Rr(u,m){u.info(function(){return"TIMEOUT: "+m})}ni.prototype.info=function(){};function Hh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var b=B[u];if(!(b.length<2)){var T=b[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ee=1;ee<T.length;ee++)T[ee]=""}}}}return te(B)}catch{return m}}var Ir={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Rl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Il;function Nr(){}A(Nr,ti),Nr.prototype.g=function(){return new XMLHttpRequest},Il=new Nr;function Qi(u){return encodeURIComponent(String(u))}function pu(u){var m=1;u=u.split(":");const b=[];for(;m>0&&u.length;)b.push(u.shift()),m--;return u.length&&b.push(u.join(":")),b}function ii(u,m,b,T){this.j=u,this.i=m,this.l=b,this.S=T||1,this.V=new ue(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new si}function si(){this.i=null,this.g="",this.h=!1}var Ot={},Yt={};function Ei(u,m,b){u.M=1,u.A=Dr(Vt(m)),u.u=b,u.R=!0,ma(u,null)}function ma(u,m){u.F=Date.now(),Ti(u),u.B=Vt(u.A);var b=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),_a(b.i,"t",T),u.C=0,b=u.j.L,u.h=new si,u.g=Nu(u.j,b?m:null,!u.u),u.P>0&&(u.O=new ae(v(u.Y,u,u.g),u.P)),m=u.V,b=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Y[0]=L.toString()),L=Y);for(let B=0;B<L.length;B++){const ee=ot(b,L[B],T||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),yi(),Bh(u.i,u.v,u.B,u.l,u.S,u.u)}ii.prototype.ba=function(u){u=u.target;const m=this.O;m&&li(u)==3?m.j():this.Y(u)},ii.prototype.Y=function(u){try{if(u==this.g)e:{const Ie=li(this.g),wt=this.g.ya(),Je=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||$t(this.g)))){this.K||Ie!=4||wt==7||(wt==8||Je<=0?yi(3):yi(2)),xi(this);var m=this.g.ca();this.X=m;var b=qh(this);if(this.o=m==200,mu(this.i,this.v,this.B,this.l,this.S,Ie,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(T)){var B=T;break t}}B=null}if(u=B)bi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,u);else{this.o=!1,this.m=3,Dt(12),In(this),zn(this);break e}}if(this.R){u=!0;let yt;for(;!this.K&&this.C<b.length;)if(yt=yu(this,b),yt==Yt){Ie==4&&(this.m=4,Dt(14),u=!1),bi(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==Ot){this.m=4,Dt(15),bi(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else bi(this.i,this.l,yt,null),Si(this,yt);if(gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||b.length!=0||this.h.h||(this.m=1,Dt(16),u=!1),this.o=this.o&&u,!u)bi(this.i,this.l,b,"[Invalid Chunked Response]"),In(this),zn(this);else if(b.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Gl(ee),ee.P=!0,Dt(11))}}else bi(this.i,this.l,b,null),Si(this,b);Ie==4&&In(this),this.o&&!this.K&&(Ie==4?wu(this.j,this):(this.o=!1,Ti(this)))}else $i(this.g),m==400&&b.indexOf("Unknown SID")>0?(this.m=3,Dt(12)):(this.m=0,Dt(13)),In(this),zn(this)}}}catch{}};function qh(u){if(!gu(u))return u.g.la();const m=$t(u.g);if(m==="")return"";let b="";const T=m.length,L=li(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return In(u),zn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,b+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=b,u.C=0,u.h.g}function gu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function yu(u,m){var b=u.C,T=m.indexOf(`
`,b);return T==-1?Yt:(b=Number(m.substring(b,T)),isNaN(b)?Ot:(T+=1,T+b>m.length?Yt:(m=m.slice(T,T+b),u.C=T+b,m)))}ii.prototype.cancel=function(){this.K=!0,In(this)};function Ti(u){u.T=Date.now()+u.H,pa(u,u.H)}function pa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=vi(v(u.aa,u),m)}function xi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ii.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Rr(this.i,this.B),this.M!=2&&(yi(),Dt(17)),In(this),this.m=2,zn(this)):pa(this,this.T-u)};function zn(u){u.j.I==0||u.K||wu(u.j,u)}function In(u){xi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ge(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Si(u,m){try{var b=u.j;if(b.I!=0&&(b.g==u||wi(b.h,u))){if(!u.L&&wi(b.h,u)&&b.I==3){try{var T=b.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)xa(b),Ms(b);else break e;Pr(b),Dt(18)}}else b.xa=L[1],0<b.xa-b.K&&L[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=vi(v(b.Va,b),6e3));Ai(b.h)<=1&&b.ta&&(b.ta=void 0)}else Oi(b,11)}else if((u.L||b.g==u)&&xa(b),!C(m))for(L=b.Ba.g.parse(m),m=0;m<L.length;m++){let Je=L[m];const yt=Je[0];if(!(yt<=b.K))if(b.K=yt,Je=Je[1],b.I==2)if(Je[0]=="c"){b.M=Je[1],b.ba=Je[2];const qn=Je[3];qn!=null&&(b.ka=qn,b.j.info("VER="+b.ka));const Mi=Je[4];Mi!=null&&(b.za=Mi,b.j.info("SVER="+b.za));const oi=Je[5];oi!=null&&typeof oi=="number"&&oi>0&&(T=1.5*oi,b.O=T,b.j.info("backChannelRequestTimeoutMs_="+T)),T=b;const ui=u.g;if(ui){const Ur=ui.g?ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ur){var B=T.h;B.g||Ur.indexOf("spdy")==-1&&Ur.indexOf("quic")==-1&&Ur.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ol(B,B.h),B.h=null))}if(T.G){const Sa=ui.g?ui.g.getResponseHeader("X-HTTP-Session-Id"):null;Sa&&(T.wa=Sa,it(T.J,T.G,Sa))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),T=b;var ee=u;if(T.na=Iu(T,T.L?T.ba:null,T.W),ee.L){Ml(T.h,ee);var Ie=ee,wt=T.O;wt&&(Ie.H=wt),Ie.D&&(xi(Ie),Ti(Ie)),T.g=ee}else Su(T);b.i.length>0&&Di(b)}else Je[0]!="stop"&&Je[0]!="close"||Oi(b,7);else b.I==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?Oi(b,7):Hl(b):Je[0]!="noop"&&b.l&&b.l.qa(Je),b.A=0)}}yi(4)}catch{}}var Mt=class{constructor(u,m){this.g=u,this.map=m}};function Nl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Dl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ai(u){return u.h?1:u.g?u.g.size:0}function wi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ol(u,m){u.g?u.g.add(m):u.h=m}function Ml(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Nl.prototype.cancel=function(){if(this.i=Vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Vl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const b of u.g.values())m=m.concat(b.G);return m}return F(u.i)}var _u=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ga(u,m){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const T=u[b].indexOf("=");let L,B=null;T>=0?(L=u[b].substring(0,T),B=u[b].substring(T+1)):L=u[b],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Nn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Nn?(this.l=u.l,Kt(this,u.j),this.o=u.o,this.g=u.g,ws(this,u.u),this.h=u.h,kl(this,Tu(u.i)),this.m=u.m):u&&(m=String(u).match(_u))?(this.l=!1,Kt(this,m[1]||"",!0),this.o=Ci(m[2]||""),this.g=Ci(m[3]||"",!0),ws(this,m[4]),this.h=Ci(m[5]||"",!0),kl(this,m[6]||"",!0),this.m=Ci(m[7]||"")):(this.l=!1,this.i=new Rs(null,this.l))}Nn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Or(m,ya,!0),":");var b=this.g;return(b||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Or(m,ya,!0),"@"),u.push(Qi(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Or(b,b.charAt(0)=="/"?jl:vu,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Or(b,bu)),u.join("")},Nn.prototype.resolve=function(u){const m=Vt(this);let b=!!u.j;b?Kt(m,u.j):b=!!u.o,b?m.o=u.o:b=!!u.g,b?m.g=u.g:b=u.u!=null;var T=u.h;if(b)ws(m,u.u);else if(b=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let ee=0;ee<L.length;){const Ie=L[ee++];Ie=="."?T&&ee==L.length&&B.push(""):Ie==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&ee==L.length&&B.push("")):(B.push(Ie),T=!0)}T=B.join("/")}else T=L}return b?m.h=T:b=u.i.toString()!=="",b?kl(m,Tu(u.i)):b=!!u.m,b&&(m.m=u.m),m};function Vt(u){return new Nn(u)}function Kt(u,m,b){u.j=b?Ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ws(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function kl(u,m,b){m instanceof Rs?(u.i=m,va(u.i,u.l)):(b||(m=Or(m,Cs)),u.i=new Rs(m,u.l))}function it(u,m,b){u.i.set(m,b)}function Dr(u){return it(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Or(u,m,b){return typeof u=="string"?(u=encodeURI(u).replace(m,yn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function yn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ya=/[#\/\?@]/g,vu=/[#\?:]/g,jl=/[#\?]/g,Cs=/[#\?@]/g,bu=/#/g;function Rs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&ga(u.i,function(m,b){u.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}s=Rs.prototype,s.add=function(u,m){_n(this),this.i=null,u=Is(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(m),this.h+=1,this};function Eu(u,m){_n(u),m=Is(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ll(u,m){return _n(u),m=Is(u,m),u.g.has(m)}s.forEach=function(u,m){_n(this),this.g.forEach(function(b,T){b.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Pl(u,m){_n(u);let b=[];if(typeof m=="string")Ll(u,m)&&(b=b.concat(u.g.get(Is(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)b=b.concat(u[m]);return b}s.set=function(u,m){return _n(this),this.i=null,u=Is(this,u),Ll(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Pl(this,u),u.length>0?String(u[0]):m):m};function _a(u,m,b){Eu(u,m),b.length>0&&(u.i=null,u.g.set(Is(u,m),F(b)),u.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var b=m[T];const L=Qi(b);b=Pl(this,b);for(let B=0;B<b.length;B++){let ee=L;b[B]!==""&&(ee+="="+Qi(b[B])),u.push(ee)}}return this.i=u.join("&")};function Tu(u){const m=new Rs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Is(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function va(u,m){m&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(b,T){const L=T.toLowerCase();T!=L&&(Eu(this,T),_a(this,L,b))},u)),u.j=m}function ri(u,m){const b=new ni;if(d.Image){const T=new Image;T.onload=x(Bn,b,"TestLoadImage: loaded",!0,m,T),T.onerror=x(Bn,b,"TestLoadImage: error",!1,m,T),T.onabort=x(Bn,b,"TestLoadImage: abort",!1,m,T),T.ontimeout=x(Bn,b,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Ul(u,m){const b=new ni,T=new AbortController,L=setTimeout(()=>{T.abort(),Bn(b,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Bn(b,"TestPingServer: ok",!0,m):Bn(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Bn(b,"TestPingServer: error",!1,m)})}function Bn(u,m,b,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(b)}catch{}}function Ns(){this.g=new gn}function Ri(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Ri,ti),Ri.prototype.g=function(){return new Mr(this.i,this.h)};function Mr(u,m){Qe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Mr,Qe),s=Mr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ai(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ds(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ba(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ba(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ds(this):ai(this),this.readyState==3&&ba(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ds(this))},s.Na=function(u){this.g&&(this.response=u,Ds(this))},s.ga=function(){this.g&&Ds(this)};function Ds(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ai(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=m.next();return u.join(`\r
`)};function ai(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Hn(u){let m="";return De(u,function(b,T){m+=T,m+=":",m+=b,m+=`\r
`}),m}function Vr(u,m,b){e:{for(T in b){var T=!1;break e}T=!0}T||(b=Hn(b),typeof u=="string"?b!=null&&Qi(b):it(u,m,b))}function ut(u){Qe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(ut,Qe);var Ii=/^https?$/i,zl=["POST","PUT"];s=ut.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,b,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Il.g(),this.g.onreadystatechange=M(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){kr(this,B);return}if(u=b||"",b=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)b.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())b.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(b.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(zl,m,void 0)>=0)||T||L||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ee]of b)this.g.setRequestHeader(B,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){kr(this,B)}};function kr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Bl(u),Xi(u)}function Bl(u){u.A||(u.A=!0,Ge(u,"complete"),Ge(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ge(this,"complete"),Ge(this,"abort"),Xi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),ut.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?jr(this):this.Xa())},s.Xa=function(){jr(this)};function jr(u){if(u.h&&typeof c<"u"){if(u.v&&li(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ge(u,"readystatechange"),li(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var b;if(!(b=m)){var T;if(T=B===0){let ee=String(u.D).match(_u)[1]||null;!ee&&d.self&&d.self.location&&(ee=d.self.location.protocol.slice(0,-1)),T=!Ii.test(ee?ee.toLowerCase():"")}b=T}if(b)Ge(u,"complete"),Ge(u,"success");else{u.o=6;try{var L=li(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Bl(u)}}finally{Xi(u)}}}}function Xi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,m||Ge(u,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function li(u){return u.g?u.g.readyState:0}s.ca=function(){try{return li(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),We(m)}};function $t(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(u){const m={};u=(u.g&&li(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(C(u[T]))continue;var b=pu(u[T]);const L=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const B=m[L]||[];m[L]=B,B.push(b)}Ke(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ni(u,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||m}function Os(u){this.za=0,this.i=[],this.j=new ni,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ni("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ni("baseRetryDelayMs",5e3,u),this.Za=Ni("retryDelaySeedMs",1e4,u),this.Ta=Ni("forwardChannelMaxRetries",2,u),this.va=Ni("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Nl(u&&u.concurrentRequestLimit),this.Ba=new Ns,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Os.prototype,s.ka=8,s.I=1,s.connect=function(u,m,b,T){Dt(0),this.W=u,this.H=m||{},b&&T!==void 0&&(this.H.OSID=b,this.H.OAID=T),this.F=this.X,this.J=Iu(this,null,this.W),Di(this)};function Hl(u){if(Ea(u),u.I==3){var m=u.V++,b=Vt(u.J);if(it(b,"SID",u.M),it(b,"RID",m),it(b,"TYPE","terminate"),Lr(u,b),m=new ii(u,u.j,m),m.M=2,m.A=Dr(Vt(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=m.A,b=!0),b||(m.g=Nu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ti(m)}Ru(u)}function Ms(u){u.g&&(Gl(u),u.g.cancel(),u.g=null)}function Ea(u){Ms(u),u.v&&(d.clearTimeout(u.v),u.v=null),xa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Di(u){if(!Dl(u.h)&&!u.m){u.m=!0;var m=u.Ea;qe||w(),Me||(qe(),Me=!0),R.add(m,u),u.D=0}}function Ta(u,m){return Ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=vi(v(u.Ea,u,m),Cu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new ii(this,this.j,u);let B=this.o;if(this.U&&(B?(B=V(B),ie(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,b=0;b<this.i.length;b++){t:{var T=this.i[b];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=b;break e}if(m===4096||b===this.i.length-1){m=b+1;break e}}m=1e3}else m=1e3;m=xu(this,L,m),b=Vt(this.J),it(b,"RID",u),it(b,"CVER",22),this.G&&it(b,"X-HTTP-Session-Id",this.G),Lr(this,b),B&&(this.R?m="headers="+Qi(Hn(B))+"&"+m:this.u&&Vr(b,this.u,B)),Ol(this.h,L),this.Ra&&it(b,"TYPE","init"),this.S?(it(b,"$req",m),it(b,"SID","null"),L.U=!0,Ei(L,b,null)):Ei(L,b,m),this.I=2}}else this.I==3&&(u?ql(this,u):this.i.length==0||Dl(this.h)||ql(this))};function ql(u,m){var b;m?b=m.l:b=u.V++;const T=Vt(u.J);it(T,"SID",u.M),it(T,"RID",b),it(T,"AID",u.K),Lr(u,T),u.u&&u.o&&Vr(T,u.u,u.o),b=new ii(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),m&&(u.i=m.G.concat(u.i)),m=xu(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ol(u.h,b),Ei(b,T,m)}function Lr(u,m){u.H&&De(u.H,function(b,T){it(m,T,b)}),u.l&&De({},function(b,T){it(m,T,b)})}function xu(u,m,b){b=Math.min(u.i.length,b);const T=u.l?v(u.l.Ka,u.l,u):null;e:{var L=u.i;let Ie=-1;for(;;){const wt=["count="+b];Ie==-1?b>0?(Ie=L[0].g,wt.push("ofs="+Ie)):Ie=0:wt.push("ofs="+Ie);let Je=!0;for(let yt=0;yt<b;yt++){var B=L[yt].g;const qn=L[yt].map;if(B-=Ie,B<0)Ie=Math.max(0,L[yt].g-100),Je=!1;else try{B="req"+B+"_"||"";try{var ee=qn instanceof Map?qn:Object.entries(qn);for(const[Mi,oi]of ee){let ui=oi;_(oi)&&(ui=te(oi)),wt.push(B+Mi+"="+encodeURIComponent(ui))}}catch(Mi){throw wt.push(B+"type="+encodeURIComponent("_badmap")),Mi}}catch{T&&T(qn)}}if(Je){ee=wt.join("&");break e}}ee=void 0}return u=u.i.splice(0,b),m.G=u,ee}function Su(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;qe||w(),Me||(qe(),Me=!0),R.add(m,u),u.A=0}}function Pr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=vi(v(u.Da,u),Cu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Au(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=vi(v(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Dt(10),Ms(this),Au(this))};function Gl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Au(u){u.g=new ii(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Vt(u.na);it(m,"RID","rpc"),it(m,"SID",u.M),it(m,"AID",u.K),it(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&it(m,"TO",u.ia),it(m,"TYPE","xmlhttp"),Lr(u,m),u.u&&u.o&&Vr(m,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=Dr(Vt(m)),b.u=null,b.R=!0,ma(b,u)}s.Va=function(){this.C!=null&&(this.C=null,Ms(this),Pr(this),Dt(19))};function xa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function wu(u,m){var b=null;if(u.g==m){xa(u),Gl(u),u.g=null;var T=2}else if(wi(u.h,m))b=m.G,Ml(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){b=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=da(),Ge(T,new _i(T,b)),Di(u)}else Su(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&Ta(u,m)||T==2&&Pr(u)))switch(b&&b.length>0&&(m=u.h,m.i=m.i.concat(b)),L){case 1:Oi(u,5);break;case 4:Oi(u,10);break;case 3:Oi(u,6);break;default:Oi(u,2)}}}function Cu(u,m){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*m}function Oi(u,m){if(u.j.info("Error code "+m),m==2){var b=v(u.bb,u),T=u.Ua;const L=!T;T=new Nn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Kt(T,"https"),Dr(T),L?ri(T.toString(),b):Ul(T.toString(),b)}else Dt(2);u.I=0,u.l&&u.l.pa(m),Ru(u),Ea(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function Ru(u){if(u.I=0,u.ja=[],u.l){const m=Vl(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function Iu(u,m,b){var T=b instanceof Nn?Vt(b):new Nn(b);if(T.g!="")m&&(T.g=m+"."+T.g),ws(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new Nn(null);T&&Kt(B,T),m&&(B.g=m),L&&ws(B,L),b&&(B.h=b),T=B}return b=u.G,m=u.wa,b&&m&&it(T,b,m),it(T,"VER",u.ka),Lr(u,T),T}function Nu(u,m,b){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ut(new Ri({ab:b})):new ut(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}s=Du.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Vs(){}Vs.prototype.g=function(u,m){return new hn(u,m)};function hn(u,m){Qe.call(this),this.g=new Os(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ji(this)}A(hn,Qe),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Hl(this.g)},hn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=te(u),u=b);m.i.push(new Mt(m.Ya++,u)),m.I==3&&Di(m)},hn.prototype.N=function(){this.g.l=null,delete this.j,Hl(this.g),delete this.g,hn.Z.N.call(this)};function Ou(u){Ht.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const b in m){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Ou,Ht);function Mu(){cn.call(this),this.status=1}A(Mu,cn);function Ji(u){this.g=u}A(Ji,Du),Ji.prototype.ra=function(){Ge(this.g,"a")},Ji.prototype.qa=function(u){Ge(this.g,new Ou(u))},Ji.prototype.pa=function(u){Ge(this.g,new Mu)},Ji.prototype.oa=function(){Ge(this.g,"b")},Vs.prototype.createWebChannel=Vs.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,I1=function(){return new Vs},R1=function(){return da()},C1=At,dm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ir.NO_ERROR=0,Ir.TIMEOUT=8,Ir.HTTP_ERROR=6,Kc=Ir,Rl.COMPLETE="complete",w1=Rl,et.EventType=Nt,Nt.OPEN="a",Nt.CLOSE="b",Nt.ERROR="c",Nt.MESSAGE="d",Qe.prototype.listen=Qe.prototype.J,Mo=et,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,A1=ut}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});let ln=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let Sl="12.8.0";function PA(s){Sl=s}const oa=new Mm("@firebase/firestore");function tl(){return oa.logLevel}function ce(s,...e){if(oa.logLevel<=Ue.DEBUG){const i=e.map(Gm);oa.debug(`Firestore (${Sl}): ${s}`,...i)}}function bs(s,...e){if(oa.logLevel<=Ue.ERROR){const i=e.map(Gm);oa.error(`Firestore (${Sl}): ${s}`,...i)}}function ml(s,...e){if(oa.logLevel<=Ue.WARN){const i=e.map(Gm);oa.warn(`Firestore (${Sl}): ${s}`,...i)}}function Gm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Ee(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,N1(s,a,i)}function N1(s,e,i){let a=`FIRESTORE (${Sl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw bs(a),new Error(a)}function nt(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||N1(e,o,a)}function Ce(s,e){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Ts{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class D1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(ln.UNAUTHENTICATED)))}shutdown(){}}class zA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class BA{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){nt(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,i(p)):Promise.resolve();let c=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new mr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},_=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>_(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?_(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new mr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(nt(typeof a.accessToken=="string",31837,{l:a}),new D1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class HA{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class qA{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new HA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class C_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){nt(this.o===void 0,3512);const a=c=>{c.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ce("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new C_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(nt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new C_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function FA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Fm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=FA(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function ze(s,e){return s<e?-1:s>e?1:0}function mm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return Jd(o)===Jd(c)?ze(o,c):Jd(o)?1:-1}return ze(s.length,e.length)}const YA=55296,KA=57343;function Jd(s){const e=s.charCodeAt(0);return e>=YA&&e<=KA}function pl(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const R_="__name__";class Ui{constructor(e,i,a){i===void 0?i=0:i>e.length&&Ee(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Ee(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Ui.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ui?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=Ui.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return ze(e.length,i.length)}static compareSegments(e,i){const a=Ui.isNumericId(e),o=Ui.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Ui.extractNumericId(e).compare(Ui.extractNumericId(i)):mm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return dr.fromString(e.substring(4,e.length-2))}}class vt extends Ui{construct(e,i,a){return new vt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new me(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new vt(i)}static emptyPath(){return new vt([])}}const QA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Ui{construct(e,i,a){return new nn(e,i,a)}static isValidIdentifier(e){return QA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===R_}static keyField(){return new nn([R_])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new me(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const _=e[o];if(_==="\\"){if(o+1===e.length)throw new me(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new me(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else _==="`"?(d=!d,o++):_!=="."||d?(a+=_,o++):(c(),o++)}if(c(),d)throw new me(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(i)}static emptyPath(){return new nn([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(vt.fromString(e))}static fromName(e){return new _e(vt.fromString(e).popFirst(5))}static empty(){return new _e(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return vt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new vt(e.slice()))}}function XA(s,e,i){if(!i)throw new me(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function $A(s,e,i,a){if(e===!0&&a===!0)throw new me(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function I_(s){if(!_e.isDocumentKey(s))throw new me(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function O1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Ym(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ee(12329,{type:typeof s})}function mi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new me(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ym(s);throw new me(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function zt(s,e){const i={typeString:s};return e&&(i.value=e),i}function au(s,e){if(!O1(s))throw new me(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new me(J.INVALID_ARGUMENT,i);return!0}const N_=-62135596800,D_=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*D_);return new gt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new me(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new me(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<N_)throw new me(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/D_}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(au(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-N_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:zt("string",gt._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new gt(0,0))}static max(){return new Ae(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Fo=-1;function JA(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(a===1e9?new gt(i+1,0):new gt(i,a));return new gr(o,_e.empty(),e)}function ZA(s){return new gr(s.readTime,s.key,Fo)}class gr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new gr(Ae.min(),_e.empty(),Fo)}static max(){return new gr(Ae.max(),_e.empty(),Fo)}}function WA(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=_e.comparator(s.documentKey,e.documentKey),i!==0?i:ze(s.largestBatchId,e.largestBatchId))}const ew="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Al(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==ew)throw s;ce("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,a)=>{i(e)}))}static reject(e){return new $(((i,a)=>{a(e)}))}static waitFor(e){return new $(((i,a)=>{let o=0,c=0,d=!1;e.forEach((_=>{++o,_.next((()=>{++c,d&&c===o&&i()}),(p=>a(p)))})),d=!0,c===o&&i()}))}static or(e){let i=$.resolve(!1);for(const a of e)i=i.next((o=>o?$.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new $(((a,o)=>{const c=e.length,d=new Array(c);let _=0;for(let p=0;p<c;p++){const v=p;i(e[v]).next((x=>{d[v]=x,++_,_===c&&a(d)}),(x=>o(x)))}}))}static doWhile(e,i){return new $(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function nw(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function wl(s){return s.name==="IndexedDbTransactionError"}class xh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}xh.ce=-1;const Km=-1;function Sh(s){return s==null}function oh(s){return s===0&&1/s==-1/0}function iw(s){return typeof s=="number"&&Number.isInteger(s)&&!oh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const M1="";function sw(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=O_(e)),e=rw(s.get(i),e);return O_(e)}function rw(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case M1:i+="";break;default:i+=c}}return i}function O_(s){return s+M1+""}function M_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Tr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function V1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class bt{constructor(e,i){this.comparator=e,this.root=i||tn.EMPTY}insert(e,i){return new bt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uc(this.root,e,this.comparator,!0)}}class Uc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??tn.RED,this.left=o??tn.EMPTY,this.right=c??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new tn(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return tn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new tn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ft{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new V_(this.data.getIterator())}getIteratorFrom(e){return new V_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ft(this.comparator);return i.data=e,i}}class V_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Pn{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Pn([])}unionWith(e){let i=new Ft(nn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Pn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return pl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class k1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new k1("Invalid base64 string: "+c):c}})(e);return new sn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new sn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const aw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yr(s){if(nt(!!s,39018),typeof s=="string"){let e=0;const i=aw.exec(s);if(nt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:It(s.seconds),nanos:It(s.nanos)}}function It(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function _r(s){return typeof s=="string"?sn.fromBase64String(s):sn.fromUint8Array(s)}const j1="server_timestamp",L1="__type__",P1="__previous_value__",U1="__local_write_time__";function Qm(s){return(s?.mapValue?.fields||{})[L1]?.stringValue===j1}function Ah(s){const e=s.mapValue.fields[P1];return Qm(e)?Ah(e):e}function Yo(s){const e=yr(s.mapValue.fields[U1].timestampValue);return new gt(e.seconds,e.nanos)}class lw{constructor(e,i,a,o,c,d,_,p,v,x,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=_,this.longPollingOptions=p,this.useFetchStreams=v,this.isUsingEmulator=x,this.apiKey=A}}const uh="(default)";class Ko{constructor(e,i){this.projectId=e,this.database=i||uh}static empty(){return new Ko("","")}get isDefaultDatabase(){return this.database===uh}isEqual(e){return e instanceof Ko&&e.projectId===this.projectId&&e.database===this.database}}function ow(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new me(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ko(s.options.projectId,e)}const z1="__type__",uw="__max__",zc={mapValue:{}},B1="__vector__",ch="value";function vr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Qm(s)?4:hw(s)?9007199254740991:cw(s)?10:11:Ee(28295,{value:s})}function Fi(s,e){if(s===e)return!0;const i=vr(s);if(i!==vr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Yo(s).isEqual(Yo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=yr(o.timestampValue),_=yr(c.timestampValue);return d.seconds===_.seconds&&d.nanos===_.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return _r(o.bytesValue).isEqual(_r(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return It(o.geoPointValue.latitude)===It(c.geoPointValue.latitude)&&It(o.geoPointValue.longitude)===It(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return It(o.integerValue)===It(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=It(o.doubleValue),_=It(c.doubleValue);return d===_?oh(d)===oh(_):isNaN(d)&&isNaN(_)}return!1})(s,e);case 9:return pl(s.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},_=c.mapValue.fields||{};if(M_(d)!==M_(_))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(_[p]===void 0||!Fi(d[p],_[p])))return!1;return!0})(s,e);default:return Ee(52216,{left:s})}}function Qo(s,e){return(s.values||[]).find((i=>Fi(i,e)))!==void 0}function gl(s,e){if(s===e)return 0;const i=vr(s),a=vr(e);if(i!==a)return ze(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return ze(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const _=It(c.integerValue||c.doubleValue),p=It(d.integerValue||d.doubleValue);return _<p?-1:_>p?1:_===p?0:isNaN(_)?isNaN(p)?0:-1:1})(s,e);case 3:return k_(s.timestampValue,e.timestampValue);case 4:return k_(Yo(s),Yo(e));case 5:return mm(s.stringValue,e.stringValue);case 6:return(function(c,d){const _=_r(c),p=_r(d);return _.compareTo(p)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const _=c.split("/"),p=d.split("/");for(let v=0;v<_.length&&v<p.length;v++){const x=ze(_[v],p[v]);if(x!==0)return x}return ze(_.length,p.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const _=ze(It(c.latitude),It(d.latitude));return _!==0?_:ze(It(c.longitude),It(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return j_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const _=c.fields||{},p=d.fields||{},v=_[ch]?.arrayValue,x=p[ch]?.arrayValue,A=ze(v?.values?.length||0,x?.values?.length||0);return A!==0?A:j_(v,x)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===zc.mapValue&&d===zc.mapValue)return 0;if(c===zc.mapValue)return 1;if(d===zc.mapValue)return-1;const _=c.fields||{},p=Object.keys(_),v=d.fields||{},x=Object.keys(v);p.sort(),x.sort();for(let A=0;A<p.length&&A<x.length;++A){const M=mm(p[A],x[A]);if(M!==0)return M;const F=gl(_[p[A]],v[x[A]]);if(F!==0)return F}return ze(p.length,x.length)})(s.mapValue,e.mapValue);default:throw Ee(23264,{he:i})}}function k_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return ze(s,e);const i=yr(s),a=yr(e),o=ze(i.seconds,a.seconds);return o!==0?o:ze(i.nanos,a.nanos)}function j_(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=gl(i[o],a[o]);if(c)return c}return ze(i.length,a.length)}function yl(s){return pm(s)}function pm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=yr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return _r(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return _e.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=pm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${pm(i.fields[d])}`;return o+"}"})(s.mapValue):Ee(61005,{value:s})}function Qc(s){switch(vr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ah(s);return e?16+Qc(e):16;case 5:return 2*s.stringValue.length;case 6:return _r(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Qc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return Tr(a.fields,((c,d)=>{o+=c.length+Qc(d)})),o})(s.mapValue);default:throw Ee(13486,{value:s})}}function gm(s){return!!s&&"integerValue"in s}function Xm(s){return!!s&&"arrayValue"in s}function L_(s){return!!s&&"nullValue"in s}function P_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Xc(s){return!!s&&"mapValue"in s}function cw(s){return(s?.mapValue?.fields||{})[z1]?.stringValue===B1}function Uo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Tr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Uo(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Uo(s.arrayValue.values[i]);return e}return{...s}}function hw(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===uw}class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Xc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uo(i)}setAll(e){let i=nn.emptyPath(),a={},o=[];e.forEach(((d,_)=>{if(!i.isImmediateParentOf(_)){const p=this.getFieldsMap(i);this.applyChanges(p,a,o),a={},o=[],i=_.popLast()}d?a[_.lastSegment()]=Uo(d):o.push(_.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Xc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Xc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Tr(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new wn(Uo(this.value))}}function H1(s){const e=[];return Tr(s.fields,((i,a)=>{const o=new nn([i]);if(Xc(a)){const c=H1(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Pn(e)}class on{constructor(e,i,a,o,c,d,_){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=_}static newInvalidDocument(e){return new on(e,0,Ae.min(),Ae.min(),Ae.min(),wn.empty(),0)}static newFoundDocument(e,i,a,o){return new on(e,1,i,Ae.min(),a,o,0)}static newNoDocument(e,i){return new on(e,2,i,Ae.min(),Ae.min(),wn.empty(),0)}static newUnknownDocument(e,i){return new on(e,3,i,Ae.min(),Ae.min(),wn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hh{constructor(e,i){this.position=e,this.inclusive=i}}function U_(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=_e.comparator(_e.fromName(d.referenceValue),i.key):a=gl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function z_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Fi(s.position[i],e.position[i]))return!1;return!0}class fh{constructor(e,i="asc"){this.field=e,this.dir=i}}function fw(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class q1{}class Gt extends q1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new mw(e,i,a):i==="array-contains"?new yw(e,a):i==="in"?new _w(e,a):i==="not-in"?new vw(e,a):i==="array-contains-any"?new bw(e,a):new Gt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new pw(e,a):new gw(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(gl(i,this.value)):i!==null&&vr(this.value)===vr(i)&&this.matchesComparison(gl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yi extends q1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Yi(e,i)}matches(e){return G1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function G1(s){return s.op==="and"}function F1(s){return dw(s)&&G1(s)}function dw(s){for(const e of s.filters)if(e instanceof Yi)return!1;return!0}function ym(s){if(s instanceof Gt)return s.field.canonicalString()+s.op.toString()+yl(s.value);if(F1(s))return s.filters.map((e=>ym(e))).join(",");{const e=s.filters.map((i=>ym(i))).join(",");return`${s.op}(${e})`}}function Y1(s,e){return s instanceof Gt?(function(a,o){return o instanceof Gt&&a.op===o.op&&a.field.isEqual(o.field)&&Fi(a.value,o.value)})(s,e):s instanceof Yi?(function(a,o){return o instanceof Yi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,_)=>c&&Y1(d,o.filters[_])),!0):!1})(s,e):void Ee(19439)}function K1(s){return s instanceof Gt?(function(i){return`${i.field.canonicalString()} ${i.op} ${yl(i.value)}`})(s):s instanceof Yi?(function(i){return i.op.toString()+" {"+i.getFilters().map(K1).join(" ,")+"}"})(s):"Filter"}class mw extends Gt{constructor(e,i,a){super(e,i,a),this.key=_e.fromName(a.referenceValue)}matches(e){const i=_e.comparator(e.key,this.key);return this.matchesComparison(i)}}class pw extends Gt{constructor(e,i){super(e,"in",i),this.keys=Q1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class gw extends Gt{constructor(e,i){super(e,"not-in",i),this.keys=Q1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Q1(s,e){return(e.arrayValue?.values||[]).map((i=>_e.fromName(i.referenceValue)))}class yw extends Gt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Xm(i)&&Qo(i.arrayValue,this.value)}}class _w extends Gt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Qo(this.value.arrayValue,i)}}class vw extends Gt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Qo(this.value.arrayValue,i)}}class bw extends Gt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Xm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Qo(this.value.arrayValue,a)))}}class Ew{constructor(e,i=null,a=[],o=[],c=null,d=null,_=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=_,this.Te=null}}function B_(s,e=null,i=[],a=[],o=null,c=null,d=null){return new Ew(s,e,i,a,o,c,d)}function $m(s){const e=Ce(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>ym(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Sh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>yl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>yl(a))).join(",")),e.Te=i}return e.Te}function Jm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!fw(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Y1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!z_(s.startAt,e.startAt)&&z_(s.endAt,e.endAt)}function _m(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class wh{constructor(e,i=null,a=[],o=[],c=null,d="F",_=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=_,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Tw(s,e,i,a,o,c,d,_){return new wh(s,e,i,a,o,c,d,_)}function Ch(s){return new wh(s)}function H_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function xw(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function Sw(s){return s.collectionGroup!==null}function zo(s){const e=Ce(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let _=new Ft(nn.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((v=>{v.isInequality()&&(_=_.add(v.field))}))})),_})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new fh(c,a))})),i.has(nn.keyField().canonicalString())||e.Ie.push(new fh(nn.keyField(),a))}return e.Ie}function Hi(s){const e=Ce(s);return e.Ee||(e.Ee=Aw(e,zo(s))),e.Ee}function Aw(s,e){if(s.limitType==="F")return B_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new fh(o.field,c)}));const i=s.endAt?new hh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new hh(s.startAt.position,s.startAt.inclusive):null;return B_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function vm(s,e,i){return new wh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Rh(s,e){return Jm(Hi(s),Hi(e))&&s.limitType===e.limitType}function X1(s){return`${$m(Hi(s))}|lt:${s.limitType}`}function nl(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>K1(o))).join(", ")}]`),Sh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>yl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>yl(o))).join(",")),`Target(${a})`})(Hi(s))}; limitType=${s.limitType})`}function Ih(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):_e.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of zo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,_,p){const v=U_(d,_,p);return d.inclusive?v<=0:v<0})(a.startAt,zo(a),o)||a.endAt&&!(function(d,_,p){const v=U_(d,_,p);return d.inclusive?v>=0:v>0})(a.endAt,zo(a),o))})(s,e)}function ww(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function $1(s){return(e,i)=>{let a=!1;for(const o of zo(s)){const c=Cw(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function Cw(s,e,i){const a=s.field.isKeyField()?_e.comparator(e.key,i.key):(function(c,d,_){const p=d.data.field(c),v=_.data.field(c);return p!==null&&v!==null?gl(p,v):Ee(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Ee(19790,{direction:s.dir})}}class ha{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Tr(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return V1(this.inner)}size(){return this.innerSize}}const Rw=new bt(_e.comparator);function Es(){return Rw}const J1=new bt(_e.comparator);function Vo(...s){let e=J1;for(const i of s)e=e.insert(i.key,i);return e}function Z1(s){let e=J1;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function ia(){return Bo()}function W1(){return Bo()}function Bo(){return new ha((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Iw=new bt(_e.comparator),Nw=new Ft(_e.comparator);function Be(...s){let e=Nw;for(const i of s)e=e.add(i);return e}const Dw=new Ft(ze);function Ow(){return Dw}function Zm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(e)?"-0":e}}function eb(s){return{integerValue:""+s}}function Mw(s,e){return iw(e)?eb(e):Zm(s,e)}class Nh{constructor(){this._=void 0}}function Vw(s,e,i){return s instanceof dh?(function(o,c){const d={fields:{[L1]:{stringValue:j1},[U1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Qm(c)&&(c=Ah(c)),c&&(d.fields[P1]=c),{mapValue:d}})(i,e):s instanceof _l?nb(s,e):s instanceof Xo?ib(s,e):(function(o,c){const d=tb(o,c),_=q_(d)+q_(o.Ae);return gm(d)&&gm(o.Ae)?eb(_):Zm(o.serializer,_)})(s,e)}function kw(s,e,i){return s instanceof _l?nb(s,e):s instanceof Xo?ib(s,e):i}function tb(s,e){return s instanceof mh?(function(a){return gm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class dh extends Nh{}class _l extends Nh{constructor(e){super(),this.elements=e}}function nb(s,e){const i=sb(e);for(const a of s.elements)i.some((o=>Fi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Xo extends Nh{constructor(e){super(),this.elements=e}}function ib(s,e){let i=sb(e);for(const a of s.elements)i=i.filter((o=>!Fi(o,a)));return{arrayValue:{values:i}}}class mh extends Nh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function q_(s){return It(s.integerValue||s.doubleValue)}function sb(s){return Xm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class jw{constructor(e,i){this.field=e,this.transform=i}}function Lw(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof _l&&o instanceof _l||a instanceof Xo&&o instanceof Xo?pl(a.elements,o.elements,Fi):a instanceof mh&&o instanceof mh?Fi(a.Ae,o.Ae):a instanceof dh&&o instanceof dh})(s.transform,e.transform)}class Pw{constructor(e,i){this.version=e,this.transformResults=i}}class pi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new pi}static exists(e){return new pi(void 0,e)}static updateTime(e){return new pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $c(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Dh{}function rb(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Wm(s.key,pi.none()):new lu(s.key,s.data,pi.none());{const i=s.data,a=wn.empty();let o=new Ft(nn.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new xr(s.key,a,new Pn(o.toArray()),pi.none())}}function Uw(s,e,i){s instanceof lu?(function(o,c,d){const _=o.value.clone(),p=F_(o.fieldTransforms,c,d.transformResults);_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):s instanceof xr?(function(o,c,d){if(!$c(o.precondition,c))return void c.convertToUnknownDocument(d.version);const _=F_(o.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(ab(o)),p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Ho(s,e,i,a){return s instanceof lu?(function(c,d,_,p){if(!$c(c.precondition,d))return _;const v=c.value.clone(),x=Y_(c.fieldTransforms,p,d);return v.setAll(x),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(s,e,i,a):s instanceof xr?(function(c,d,_,p){if(!$c(c.precondition,d))return _;const v=Y_(c.fieldTransforms,p,d),x=d.data;return x.setAll(ab(c)),x.setAll(v),d.convertToFoundDocument(d.version,x).setHasLocalMutations(),_===null?null:_.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,e,i,a):(function(c,d,_){return $c(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):_})(s,e,i)}function zw(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=tb(a.transform,o||null);c!=null&&(i===null&&(i=wn.empty()),i.set(a.field,c))}return i||null}function G_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&pl(a,o,((c,d)=>Lw(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class lu extends Dh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class xr extends Dh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ab(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function F_(s,e,i){const a=new Map;nt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,_=e.data.field(c.field);a.set(c.field,kw(d,_,i[o]))}return a}function Y_(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,Vw(c,d,e))}return a}class Wm extends Dh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Bw extends Dh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Hw{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&Uw(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Ho(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Ho(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=W1();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let _=this.applyToLocalView(d,c.mutatedFields);_=i.has(o.key)?null:_;const p=rb(d,_);p!==null&&a.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(Ae.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Be())}isEqual(e){return this.batchId===e.batchId&&pl(this.mutations,e.mutations,((i,a)=>G_(i,a)))&&pl(this.baseMutations,e.baseMutations,((i,a)=>G_(i,a)))}}class ep{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){nt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return Iw})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new ep(e,i,a,o)}}class qw{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Gw{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ut,Fe;function Fw(s){switch(s){case J.OK:return Ee(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ee(15467,{code:s})}}function lb(s){if(s===void 0)return bs("GRPC error has no .code"),J.UNKNOWN;switch(s){case Ut.OK:return J.OK;case Ut.CANCELLED:return J.CANCELLED;case Ut.UNKNOWN:return J.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return J.INTERNAL;case Ut.UNAVAILABLE:return J.UNAVAILABLE;case Ut.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ut.NOT_FOUND:return J.NOT_FOUND;case Ut.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ut.ABORTED:return J.ABORTED;case Ut.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ut.DATA_LOSS:return J.DATA_LOSS;default:return Ee(39323,{code:s})}}(Fe=Ut||(Ut={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function Yw(){return new TextEncoder}const Kw=new dr([4294967295,4294967295],0);function K_(s){const e=Yw().encode(s),i=new S1;return i.update(e),new Uint8Array(i.digest())}function Q_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new dr([i,a],0),new dr([o,c],0)]}class tp{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new ko(`Invalid padding: ${i}`);if(a<0)throw new ko(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new ko(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new ko(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=dr.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(dr.fromNumber(a)));return o.compare(Kw)===1&&(o=new dr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=K_(e),[a,o]=Q_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new tp(c,o,i);return a.forEach((_=>d.insert(_))),d}insert(e){if(this.ge===0)return;const i=K_(e),[a,o]=Q_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.be(d)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class ko extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Oh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Oh(Ae.min(),o,new bt(ze),Es(),Be())}}class ou{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new ou(a,i,Be(),Be(),Be())}}class Jc{constructor(e,i,a,o){this.Se=e,this.removedTargetIds=i,this.key=a,this.De=o}}class ob{constructor(e,i){this.targetId=e,this.Ce=i}}class ub{constructor(e,i,a=sn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class X_{constructor(){this.ve=0,this.Fe=$_(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),i=Be(),a=Be();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Ee(38017,{changeType:c})}})),new ou(this.Me,this.xe,e,i,a)}Ke(){this.Oe=!1,this.Fe=$_()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Qw{constructor(e){this.Ge=e,this.ze=new Map,this.je=Es(),this.He=Bc(),this.Je=Bc(),this.Ze=new bt(ze)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(_m(c))if(a===0){const d=new _e(c.path);this.et(i,d,on.newNoDocument(d,Ae.min()))}else nt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const _=this.ut(e),p=_?this.ct(_,e,d):1;if(p!==0){this.it(i);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,_;try{d=_r(a).toUint8Array()}catch(p){if(p instanceof k1)return ml("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{_=new tp(d,o,c)}catch(p){return ml(p instanceof ko?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return _.ge===0?null:_}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),_=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(_)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const _=this.ot(d);if(_){if(c.current&&_m(_.target)){const p=new _e(_.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,on.newNoDocument(p,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Be();this.Je.forEach(((c,d)=>{let _=!0;d.forEachWhile((p=>{const v=this.ot(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(_=!1,!1)})),_&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Oh(e,i,this.Ze,this.je,a);return this.je=Es(),this.He=Bc(),this.Je=Bc(),this.Ze=new bt(ze),o}Ye(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new X_,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Ft(ze),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Ft(ze),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ce("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new X_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Bc(){return new bt(_e.comparator)}function $_(){return new bt(_e.comparator)}const Xw={asc:"ASCENDING",desc:"DESCENDING"},$w={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jw={and:"AND",or:"OR"};class Zw{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function bm(s,e){return s.useProto3Json||Sh(e)?e:{value:e}}function ph(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cb(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Ww(s,e){return ph(s,e.toTimestamp())}function qi(s){return nt(!!s,49232),Ae.fromTimestamp((function(i){const a=yr(i);return new gt(a.seconds,a.nanos)})(s))}function np(s,e){return Em(s,e).canonicalString()}function Em(s,e){const i=(function(o){return new vt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function hb(s){const e=vt.fromString(s);return nt(gb(e),10190,{key:e.toString()}),e}function Tm(s,e){return np(s.databaseId,e.path)}function Zd(s,e){const i=hb(e);if(i.get(1)!==s.databaseId.projectId)throw new me(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new me(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new _e(db(i))}function fb(s,e){return np(s.databaseId,e)}function eC(s){const e=hb(s);return e.length===4?vt.emptyPath():db(e)}function xm(s){return new vt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function db(s){return nt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function J_(s,e,i){return{name:Tm(s,e),fields:i.value.mapValue.fields}}function tC(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Ee(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(v,x){return v.useProto3Json?(nt(x===void 0||typeof x=="string",58123),sn.fromBase64String(x||"")):(nt(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),sn.fromUint8Array(x||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,_=d&&(function(v){const x=v.code===void 0?J.UNKNOWN:lb(v.code);return new me(x,v.message||"")})(d);i=new ub(a,o,c,_||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Zd(s,a.document.name),c=qi(a.document.updateTime),d=a.document.createTime?qi(a.document.createTime):Ae.min(),_=new wn({mapValue:{fields:a.document.fields}}),p=on.newFoundDocument(o,c,d,_),v=a.targetIds||[],x=a.removedTargetIds||[];i=new Jc(v,x,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Zd(s,a.document),c=a.readTime?qi(a.readTime):Ae.min(),d=on.newNoDocument(o,c),_=a.removedTargetIds||[];i=new Jc([],_,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Zd(s,a.document),c=a.removedTargetIds||[];i=new Jc([],c,o,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new Gw(o,c),_=a.targetId;i=new ob(_,d)}}return i}function nC(s,e){let i;if(e instanceof lu)i={update:J_(s,e.key,e.value)};else if(e instanceof Wm)i={delete:Tm(s,e.key)};else if(e instanceof xr)i={update:J_(s,e.key,e.data),updateMask:hC(e.fieldMask)};else{if(!(e instanceof Bw))return Ee(16599,{dt:e.type});i={verify:Tm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const _=d.transform;if(_ instanceof dh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof _l)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof Xo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof mh)return{fieldPath:d.field.canonicalString(),increment:_.Ae};throw Ee(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:Ww(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ee(27497)})(s,e.precondition)),i}function iC(s,e){return s&&s.length>0?(nt(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?qi(o.updateTime):qi(c);return d.isEqual(Ae.min())&&(d=qi(c)),new Pw(d,o.transformResults||[])})(i,e)))):[]}function sC(s,e){return{documents:[fb(s,e.path)]}}function rC(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=fb(s,o);const c=(function(v){if(v.length!==0)return pb(Yi.create(v,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((x=>(function(M){return{field:il(M.field),direction:oC(M.dir)}})(x)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const _=bm(s,e.limit);return _!==null&&(i.structuredQuery.limit=_),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:i,parent:o}}function aC(s){let e=eC(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){nt(a===1,65062);const x=i.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let c=[];i.where&&(c=(function(A){const M=mb(A);return M instanceof Yi&&F1(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(W){return new fh(sl(W.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(M)))})(i.orderBy));let _=null;i.limit&&(_=(function(A){let M;return M=typeof A=="object"?A.value:A,Sh(M)?null:M})(i.limit));let p=null;i.startAt&&(p=(function(A){const M=!!A.before,F=A.values||[];return new hh(F,M)})(i.startAt));let v=null;return i.endAt&&(v=(function(A){const M=!A.before,F=A.values||[];return new hh(F,M)})(i.endAt)),Tw(e,o,d,c,_,"F",p,v)}function lC(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function mb(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=sl(i.unaryFilter.field);return Gt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=sl(i.unaryFilter.field);return Gt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=sl(i.unaryFilter.field);return Gt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=sl(i.unaryFilter.field);return Gt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Gt.create(sl(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Yi.create(i.compositeFilter.filters.map((a=>mb(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(i.compositeFilter.op))})(s):Ee(30097,{filter:s})}function oC(s){return Xw[s]}function uC(s){return $w[s]}function cC(s){return Jw[s]}function il(s){return{fieldPath:s.canonicalString()}}function sl(s){return nn.fromServerFormat(s.fieldPath)}function pb(s){return s instanceof Gt?(function(i){if(i.op==="=="){if(P_(i.value))return{unaryFilter:{field:il(i.field),op:"IS_NAN"}};if(L_(i.value))return{unaryFilter:{field:il(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(P_(i.value))return{unaryFilter:{field:il(i.field),op:"IS_NOT_NAN"}};if(L_(i.value))return{unaryFilter:{field:il(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:il(i.field),op:uC(i.op),value:i.value}}})(s):s instanceof Yi?(function(i){const a=i.getFilters().map((o=>pb(o)));return a.length===1?a[0]:{compositeFilter:{op:cC(i.op),filters:a}}})(s):Ee(54877,{filter:s})}function hC(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function gb(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function yb(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class ur{constructor(e,i,a,o,c=Ae.min(),d=Ae.min(),_=sn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=_,this.expectedCount=p}withSequenceNumber(e){return new ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class fC{constructor(e){this.yt=e}}function dC(s){const e=aC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?vm(e,e.limit,"L"):e}class mC{constructor(){this.Sn=new pC}addToCollectionParentIndex(e,i){return this.Sn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(gr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(gr.min())}updateCollectionGroup(e,i,a){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class pC{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Ft(vt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Ft(vt.comparator)).toArray()}}const Z_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_b=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(_b,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class vl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new vl(0)}static ar(){return new vl(-1)}}const W_="LruGarbageCollector",gC=1048576;function ev([s,e],[i,a]){const o=ze(s,i);return o===0?ze(e,a):o}class yC{constructor(e){this.Pr=e,this.buffer=new Ft(ev),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();ev(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class _C{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ce(W_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){wl(i)?ce(W_,"Ignoring IndexedDB error during garbage collection: ",i):await Al(i)}await this.Ar(3e5)}))}}class vC{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(xh.ce);const a=new yC(i);return this.Vr.forEachTarget(e,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Z_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Z_):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let a,o,c,d,_,p,v;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(a=A,_=Date.now(),this.removeTargets(e,a,i)))).next((A=>(c=A,p=Date.now(),this.removeOrphanedDocuments(e,a)))).next((A=>(v=Date.now(),tl()<=Ue.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-x}ms
	Determined least recently used ${o} in `+(_-d)+`ms
	Removed ${c} targets in `+(p-_)+`ms
	Removed ${A} documents in `+(v-p)+`ms
Total Duration: ${v-x}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function bC(s,e){return new vC(s,e)}class EC{constructor(){this.changes=new ha((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class TC{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class xC{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Ho(a.mutation,o,Pn.empty(),gt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Be()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Be()){const o=ia();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=Vo();return c.forEach(((_,p)=>{d=d.insert(_,p.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=ia();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Be())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,_)=>{i.set(d,_)}))}))}computeViews(e,i,a,o){let c=Es();const d=Bo(),_=(function(){return Bo()})();return i.forEach(((p,v)=>{const x=a.get(v.key);o.has(v.key)&&(x===void 0||x.mutation instanceof xr)?c=c.insert(v.key,v):x!==void 0?(d.set(v.key,x.mutation.getFieldMask()),Ho(x.mutation,v,x.mutation.getFieldMask(),gt.now())):d.set(v.key,Pn.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((v,x)=>d.set(v,x))),i.forEach(((v,x)=>_.set(v,new TC(x,d.get(v)??null)))),_)))}recalculateAndSaveOverlays(e,i){const a=Bo();let o=new bt(((d,_)=>d-_)),c=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const _ of d)_.keys().forEach((p=>{const v=i.get(p);if(v===null)return;let x=a.get(p)||Pn.empty();x=_.applyToLocalView(v,x),a.set(p,x);const A=(o.get(_.batchId)||Be()).add(p);o=o.insert(_.batchId,A)}))})).next((()=>{const d=[],_=o.getReverseIterator();for(;_.hasNext();){const p=_.getNext(),v=p.key,x=p.value,A=W1();x.forEach((M=>{if(!c.has(M)){const F=rb(i.get(M),a.get(M));F!==null&&A.set(M,F),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,A))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return xw(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Sw(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):$.resolve(ia());let _=Fo,p=c;return d.next((v=>$.forEach(v,((x,A)=>(_<A.largestBatchId&&(_=A.largestBatchId),c.get(x)?$.resolve():this.remoteDocumentCache.getEntry(e,x).next((M=>{p=p.insert(x,M)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,p,v,Be()))).next((x=>({batchId:_,changes:Z1(x)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new _e(i)).next((a=>{let o=Vo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=Vo();return this.indexManager.getCollectionParents(e,c).next((_=>$.forEach(_,(p=>{const v=(function(A,M){return new wh(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,a,o).next((x=>{x.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((p,v)=>{const x=v.getKey();d.get(x)===null&&(d=d.insert(x,on.newInvalidDocument(x)))}));let _=Vo();return d.forEach(((p,v)=>{const x=c.get(p);x!==void 0&&Ho(x.mutation,v,Pn.empty(),gt.now()),Ih(i,v)&&(_=_.insert(p,v))})),_}))}}class SC{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:qi(o.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:dC(o.bundledQuery),readTime:qi(o.readTime)}})(i)),$.resolve()}}class AC{constructor(){this.overlays=new bt(_e.comparator),this.Lr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ia();return $.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.bt(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),$.resolve()}getOverlaysForCollection(e,i,a){const o=ia(),c=i.length+1,d=new _e(i.child("")),_=this.overlays.getIteratorFrom(d);for(;_.hasNext();){const p=_.getNext().value,v=p.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&p.largestBatchId>a&&o.set(p.getKey(),p)}return $.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new bt(((v,x)=>v-x));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let x=c.get(v.largestBatchId);x===null&&(x=ia(),c=c.insert(v.largestBatchId,x)),x.set(v.getKey(),v)}}const _=ia(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((v,x)=>_.set(v,x))),!(_.size()>=o)););return $.resolve(_)}bt(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new qw(i,a));let c=this.Lr.get(i);c===void 0&&(c=Be(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class wC{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class ip{constructor(){this.kr=new Ft(Xt.Kr),this.qr=new Ft(Xt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const a=new Xt(e,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Wr(new Xt(e,i))}Qr(e,i){e.forEach((a=>this.removeReference(a,i)))}Gr(e){const i=new _e(new vt([])),a=new Xt(i,e),o=new Xt(i,e+1),c=[];return this.qr.forEachInRange([a,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new _e(new vt([])),a=new Xt(i,e),o=new Xt(i,e+1);let c=Be();return this.qr.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Xt(e,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Xt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return _e.comparator(e.key,i.key)||ze(e.Hr,i.Hr)}static Ur(e,i){return ze(e.Hr,i.Hr)||_e.comparator(e.key,i.key)}}class CC{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ft(Xt.Kr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Hw(c,i,a,o);this.mutationQueue.push(d);for(const _ of o)this.Jr=this.Jr.add(new Xt(_.key,c)),this.indexManager.addToCollectionParentIndex(e,_.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.Xr(a),c=o<0?0:o;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Km:this.Yn-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Xt(i,0),o=new Xt(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,o],(d=>{const _=this.Zr(d.Hr);c.push(_)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Ft(ze);return i.forEach((o=>{const c=new Xt(o,0),d=new Xt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(_=>{a=a.add(_.Hr)}))})),$.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;_e.isDocumentKey(c)||(c=c.child(""));const d=new Xt(new _e(c),0);let _=new Ft(ze);return this.Jr.forEachWhile((p=>{const v=p.key.path;return!!a.isPrefixOf(v)&&(v.length===o&&(_=_.add(p.Hr)),!0)}),d),$.resolve(this.Yr(_))}Yr(e){const i=[];return e.forEach((a=>{const o=this.Zr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){nt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return $.forEach(i.mutations,(o=>{const c=new Xt(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,i){const a=new Xt(i,0),o=this.Jr.firstAfterOrEqual(a);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class RC{constructor(e){this.ti=e,this.docs=(function(){return new bt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():on.newInvalidDocument(i))}getEntries(e,i){let a=Es();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():on.newInvalidDocument(o))})),$.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=Es();const d=i.path,_=new _e(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(_);for(;p.hasNext();){const{key:v,value:{document:x}}=p.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||WA(ZA(x),a)<=0||(o.has(x.key)||Ih(i,x))&&(c=c.insert(x.key,x.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,a,o){Ee(9500)}ni(e,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new IC(this)}getSize(e){return $.resolve(this.size)}}class IC extends EC{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(a)})),$.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class NC{constructor(e){this.persistence=e,this.ri=new ha((i=>$m(i)),Jm),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.ii=0,this.si=new ip,this.targetCount=0,this.oi=vl._r()}forEachTarget(e,i){return this.ri.forEach(((a,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),$.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new vl(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.lr(i),$.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.ri.forEach(((d,_)=>{_.sequenceNumber<=i&&a.get(_.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,_.targetId)),o++)})),$.waitFor(c).next((()=>o))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const a=this.ri.get(i)||null;return $.resolve(a)}addMatchingKeys(e,i,a){return this.si.$r(i,a),$.resolve()}removeMatchingKeys(e,i,a){this.si.Qr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const a=this.si.jr(i);return $.resolve(a)}containsKey(e,i){return $.resolve(this.si.containsKey(i))}}class vb{constructor(e,i){this._i={},this.overlays={},this.ai=new xh(0),this.ui=!1,this.ui=!0,this.ci=new wC,this.referenceDelegate=e(this),this.li=new NC(this),this.indexManager=new mC,this.remoteDocumentCache=(function(o){return new RC(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new fC(i),this.Pi=new SC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new AC,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this._i[e.toKey()];return a||(a=new CC(i,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,a){ce("MemoryPersistence","Starting transaction:",e);const o=new DC(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,i){return $.or(Object.values(this._i).map((a=>()=>a.containsKey(e,i))))}}class DC extends tw{constructor(e){super(),this.currentSequenceNumber=e}}class sp{constructor(e){this.persistence=e,this.Ri=new ip,this.Ai=null}static Vi(e){return new sp(e)}get di(){if(this.Ai)return this.Ai;throw Ee(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),$.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(a=>{const o=_e.fromPath(a);return this.mi(e,o).next((c=>{c||i.removeEntry(o,Ae.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class gh{constructor(e,i){this.persistence=e,this.fi=new ha((a=>sw(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=bC(this,i)}static Vi(e,i){return new gh(e,i)}Ti(){}Ii(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}pr(e){let i=0;return this.mr(e,(a=>{i++})).next((()=>i))}mr(e,i){return $.forEach(this.fi,((a,o)=>this.wr(e,a,o).next((c=>c?$.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((_=>{_||(a++,c.removeEntry(d,Ae.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),$.resolve()}removeReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Qc(e.data.value)),i}wr(e,i,a){return $.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return $.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class rp{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Ts=a,this.Is=o}static Es(e,i){let a=Be(),o=Be();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new rp(e,i.fromCache,a,o)}}class OC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class MC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return gx()?8:nw(un())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new OC;return this.ys(e,i,d).next((_=>{if(c.result=_,this.As)return this.ws(e,i,d,_.size)}))})).next((()=>c.result))}ws(e,i,a,o){return a.documentReadCount<this.Vs?(tl()<=Ue.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",nl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(tl()<=Ue.DEBUG&&ce("QueryEngine","Query:",nl(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(tl()<=Ue.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",nl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hi(i))):$.resolve())}gs(e,i){if(H_(i))return $.resolve(null);let a=Hi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=vm(i,null,"F"),a=Hi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Be(...c);return this.fs.getDocuments(e,d).next((_=>this.indexManager.getMinOffset(e,a).next((p=>{const v=this.bs(i,_);return this.Ss(i,v,d,p.readTime)?this.gs(e,vm(i,null,"F")):this.Ds(e,v,i,p)}))))})))))}ps(e,i,a,o){return H_(i)||o.isEqual(Ae.min())?$.resolve(null):this.fs.getDocuments(e,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,o)?$.resolve(null):(tl()<=Ue.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),nl(i)),this.Ds(e,d,i,JA(o,Fo)).next((_=>_)))}))}bs(e,i){let a=new Ft($1(e));return i.forEach(((o,c)=>{Ih(e,c)&&(a=a.add(c))})),a}Ss(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,i,a){return tl()<=Ue.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",nl(i)),this.fs.getDocumentsMatchingQuery(e,i,gr.min(),a)}Ds(e,i,a,o){return this.fs.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ap="LocalStore",VC=3e8;class kC{constructor(e,i,a,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new bt(ze),this.Fs=new ha((c=>$m(c)),Jm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xC(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function jC(s,e,i,a){return new kC(s,e,i,a)}async function bb(s,e){const i=Ce(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Os(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],_=[];let p=Be();for(const v of o){d.push(v.batchId);for(const x of v.mutations)p=p.add(x.key)}for(const v of c){_.push(v.batchId);for(const x of v.mutations)p=p.add(x.key)}return i.localDocuments.getDocuments(a,p).next((v=>({Ns:v,removedBatchIds:d,addedBatchIds:_})))}))}))}function LC(s,e){const i=Ce(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(_,p,v,x){const A=v.batch,M=A.keys();let F=$.resolve();return M.forEach((W=>{F=F.next((()=>x.getEntry(p,W))).next((se=>{const Z=v.docVersions.get(W);nt(Z!==null,48541),se.version.compareTo(Z)<0&&(A.applyToRemoteDocument(se,v),se.isValidDocument()&&(se.setReadTime(v.commitVersion),x.addEntry(se)))}))})),F.next((()=>_.mutationQueue.removeMutationBatch(p,A)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(_){let p=Be();for(let v=0;v<_.mutationResults.length;++v)_.mutationResults[v].transformResults.length>0&&(p=p.add(_.batch.mutations[v].key));return p})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function Eb(s){const e=Ce(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function PC(s,e){const i=Ce(s),a=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const _=[];e.targetChanges.forEach(((x,A)=>{const M=o.get(A);if(!M)return;_.push(i.li.removeMatchingKeys(c,x.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,x.addedDocuments,A))));let F=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?F=F.withResumeToken(sn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):x.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(x.resumeToken,a)),o=o.insert(A,F),(function(se,Z,pe){return se.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=VC?!0:pe.addedDocuments.size+pe.modifiedDocuments.size+pe.removedDocuments.size>0})(M,F,x)&&_.push(i.li.updateTargetData(c,F))}));let p=Es(),v=Be();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&_.push(i.persistence.referenceDelegate.updateLimboDocument(c,x))})),_.push(UC(c,d,e.documentUpdates).next((x=>{p=x.Bs,v=x.Ls}))),!a.isEqual(Ae.min())){const x=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));_.push(x)}return $.waitFor(_).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,p,v))).next((()=>p))})).then((c=>(i.vs=o,c)))}function UC(s,e,i){let a=Be(),o=Be();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=Es();return i.forEach(((_,p)=>{const v=c.get(_);p.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(_)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(_,p.readTime),d=d.insert(_,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(p),d=d.insert(_,p)):ce(ap,"Ignoring outdated watch update for ",_,". Current version:",v.version," Watch version:",p.version)})),{Bs:d,Ls:o}}))}function zC(s,e){const i=Ce(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Km),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function BC(s,e){const i=Ce(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.li.getTargetData(a,e).next((c=>c?(o=c,$.resolve(o)):i.li.allocateTargetId(a).next((d=>(o=new ur(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(e,a.targetId)),a}))}async function Sm(s,e,i){const a=Ce(s),o=a.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!wl(d))throw d;ce(ap,`Failed to update sequence numbers for target ${e}: ${d}`)}a.vs=a.vs.remove(e),a.Fs.delete(o.target)}function tv(s,e,i){const a=Ce(s);let o=Ae.min(),c=Be();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,v,x){const A=Ce(p),M=A.Fs.get(x);return M!==void 0?$.resolve(A.vs.get(M)):A.li.getTargetData(v,x)})(a,d,Hi(e)).next((_=>{if(_)return o=_.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,_.targetId).next((p=>{c=p}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,e,i?o:Ae.min(),i?c:Be()))).next((_=>(HC(a,ww(e),_),{documents:_,ks:c})))))}function HC(s,e,i){let a=s.Ms.get(e)||Ae.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(e,a)}class nv{constructor(){this.activeTargetIds=Ow()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qC{constructor(){this.vo=new nv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,a){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new nv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class GC{Mo(e){}shutdown(){}}const iv="ConnectivityMonitor";class sv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ce(iv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ce(iv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Hc=null;function Am(){return Hc===null?Hc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hc++,"0x"+Hc.toString(16)}const Wd="RestConnection",FC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class YC{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===uh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,i,a,o,c){const d=Am(),_=this.Qo(e,i.toUriEncodedString());ce(Wd,`Sending RPC '${e}' ${d}:`,_,a);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,c);const{host:v}=new URL(_),x=El(v);return this.zo(e,_,p,a,x).then((A=>(ce(Wd,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw ml(Wd,`RPC '${e}' ${d} failed with error: `,A,"url: ",_,"request:",a),A}))}jo(e,i,a,o,c,d){return this.Wo(e,i,a,o,c)}Go(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Sl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}Qo(e,i){const a=FC[e];let o=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class KC{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const an="WebChannelConnection",No=(s,e,i)=>{s.listen(e,(a=>{try{i(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class ul extends YC{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ul.c_){const e=R1();No(e,C1.STAT_EVENT,(i=>{i.stat===dm.PROXY?ce(an,"STAT_EVENT: detected buffering proxy"):i.stat===dm.NOPROXY&&ce(an,"STAT_EVENT: detected no buffering proxy")})),ul.c_=!0}}zo(e,i,a,o,c){const d=Am();return new Promise(((_,p)=>{const v=new A1;v.setWithCredentials(!0),v.listenOnce(w1.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Kc.NO_ERROR:const A=v.getResponseJson();ce(an,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),_(A);break;case Kc.TIMEOUT:ce(an,`RPC '${e}' ${d} timed out`),p(new me(J.DEADLINE_EXCEEDED,"Request time out"));break;case Kc.HTTP_ERROR:const M=v.getStatus();if(ce(an,`RPC '${e}' ${d} failed with status:`,M,"response text:",v.getResponseText()),M>0){let F=v.getResponseJson();Array.isArray(F)&&(F=F[0]);const W=F?.error;if(W&&W.status&&W.message){const se=(function(pe){const be=pe.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(be)>=0?be:J.UNKNOWN})(W.status);p(new me(se,W.message))}else p(new me(J.UNKNOWN,"Server responded with status "+v.getStatus()))}else p(new me(J.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ce(an,`RPC '${e}' ${d} completed.`)}}));const x=JSON.stringify(o);ce(an,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",x,a,15)}))}T_(e,i,a){const o=Am(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(_.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Go(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const v=c.join("");ce(an,`Creating RPC '${e}' stream ${o}: ${v}`,_);const x=d.createWebChannel(v,_);this.I_(x);let A=!1,M=!1;const F=new KC({Ho:W=>{M?ce(an,`Not sending because RPC '${e}' stream ${o} is closed:`,W):(A||(ce(an,`Opening RPC '${e}' stream ${o} transport.`),x.open(),A=!0),ce(an,`RPC '${e}' stream ${o} sending:`,W),x.send(W))},Jo:()=>x.close()});return No(x,Mo.EventType.OPEN,(()=>{M||(ce(an,`RPC '${e}' stream ${o} transport opened.`),F.i_())})),No(x,Mo.EventType.CLOSE,(()=>{M||(M=!0,ce(an,`RPC '${e}' stream ${o} transport closed`),F.o_(),this.E_(x))})),No(x,Mo.EventType.ERROR,(W=>{M||(M=!0,ml(an,`RPC '${e}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),F.o_(new me(J.UNAVAILABLE,"The operation could not be completed")))})),No(x,Mo.EventType.MESSAGE,(W=>{if(!M){const se=W.data[0];nt(!!se,16349);const Z=se,pe=Z?.error||Z[0]?.error;if(pe){ce(an,`RPC '${e}' stream ${o} received error:`,pe);const be=pe.status;let Te=(function(Me){const R=Ut[Me];if(R!==void 0)return lb(R)})(be),Ye=pe.message;Te===void 0&&(Te=J.INTERNAL,Ye="Unknown error status: "+be+" with message "+pe.message),M=!0,F.o_(new me(Te,Ye)),x.close()}else ce(an,`RPC '${e}' stream ${o} received:`,se),F.__(se)}})),ul.u_(),setTimeout((()=>{F.s_()}),0),F}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,a){super.Go(e,i,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return I1()}}function QC(s){return new ul(s)}function em(){return typeof document<"u"?document:null}function Mh(s){return new Zw(s,!0)}ul.c_=!1;class Tb{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=a,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const rv="PersistentStream";class xb{constructor(e,i,a,o,c,d,_,p){this.Ci=e,this.b_=a,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=_,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Tb(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(bs(i.toString()),bs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new me(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(rv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(ce(rv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class XC extends xb{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=tC(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Ae.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ae.min():d.readTime?qi(d.readTime):Ae.min()})(e);return this.listener.J_(i,a)}Z_(e){const i={};i.database=xm(this.serializer),i.addTarget=(function(c,d){let _;const p=d.target;if(_=_m(p)?{documents:sC(c,p)}:{query:rC(c,p).ft},_.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){_.resumeToken=cb(c,d.resumeToken);const v=bm(c,d.expectedCount);v!==null&&(_.expectedCount=v)}else if(d.snapshotVersion.compareTo(Ae.min())>0){_.readTime=ph(c,d.snapshotVersion.toTimestamp());const v=bm(c,d.expectedCount);v!==null&&(_.expectedCount=v)}return _})(this.serializer,e);const a=lC(this.serializer,e);a&&(i.labels=a),this.K_(i)}X_(e){const i={};i.database=xm(this.serializer),i.removeTarget=e,this.K_(i)}}class $C extends xb{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=iC(e.writeResults,e.commitTime),a=qi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=xm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>nC(this.serializer,a)))};this.K_(i)}}class JC{}class ZC extends JC{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new me(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,Em(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(J.UNKNOWN,c.toString())}))}jo(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,_])=>this.connection.jo(e,Em(i,a),o,d,_,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new me(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function WC(s,e,i,a){return new ZC(s,e,i,a)}class eR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bs(i),this.aa=!1):ce("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ua="RemoteStore";class tR{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{fa(this)&&(ce(ua,"Restarting streams for network reachability change."),await(async function(p){const v=Ce(p);v.Ea.add(4),await uu(v),v.Va.set("Unknown"),v.Ea.delete(4),await Vh(v)})(this))}))})),this.Va=new eR(a,o)}}async function Vh(s){if(fa(s))for(const e of s.Ra)await e(!0)}async function uu(s){for(const e of s.Ra)await e(!1)}function Sb(s,e){const i=Ce(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),cp(i)?up(i):Cl(i).O_()&&op(i,e))}function lp(s,e){const i=Ce(s),a=Cl(i);i.Ia.delete(e),a.O_()&&Ab(i,e),i.Ia.size===0&&(a.O_()?a.L_():fa(i)&&i.Va.set("Unknown"))}function op(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Cl(s).Z_(e)}function Ab(s,e){s.da.$e(e),Cl(s).X_(e)}function up(s){s.da=new Qw({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Cl(s).start(),s.Va.ua()}function cp(s){return fa(s)&&!Cl(s).x_()&&s.Ia.size>0}function fa(s){return Ce(s).Ea.size===0}function wb(s){s.da=void 0}async function nR(s){s.Va.set("Online")}async function iR(s){s.Ia.forEach(((e,i)=>{op(s,e)}))}async function sR(s,e){wb(s),cp(s)?(s.Va.ha(e),up(s)):s.Va.set("Unknown")}async function rR(s,e,i){if(s.Va.set("Online"),e instanceof ub&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const _ of c.targetIds)o.Ia.has(_)&&(await o.remoteSyncer.rejectListen(_,d),o.Ia.delete(_),o.da.removeTarget(_))})(s,e)}catch(a){ce(ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await yh(s,a)}else if(e instanceof Jc?s.da.Xe(e):e instanceof ob?s.da.st(e):s.da.tt(e),!i.isEqual(Ae.min()))try{const a=await Eb(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const _=c.da.Tt(d);return _.targetChanges.forEach(((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const x=c.Ia.get(v);x&&c.Ia.set(v,x.withResumeToken(p.resumeToken,d))}})),_.targetMismatches.forEach(((p,v)=>{const x=c.Ia.get(p);if(!x)return;c.Ia.set(p,x.withResumeToken(sn.EMPTY_BYTE_STRING,x.snapshotVersion)),Ab(c,p);const A=new ur(x.target,p,v,x.sequenceNumber);op(c,A)})),c.remoteSyncer.applyRemoteEvent(_)})(s,i)}catch(a){ce(ua,"Failed to raise snapshot:",a),await yh(s,a)}}async function yh(s,e,i){if(!wl(e))throw e;s.Ea.add(1),await uu(s),s.Va.set("Offline"),i||(i=()=>Eb(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ce(ua,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Vh(s)}))}function Cb(s,e){return e().catch((i=>yh(s,i,e)))}async function kh(s){const e=Ce(s),i=br(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Km;for(;aR(e);)try{const o=await zC(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,lR(e,o)}catch(o){await yh(e,o)}Rb(e)&&Ib(e)}function aR(s){return fa(s)&&s.Ta.length<10}function lR(s,e){s.Ta.push(e);const i=br(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function Rb(s){return fa(s)&&!br(s).x_()&&s.Ta.length>0}function Ib(s){br(s).start()}async function oR(s){br(s).ra()}async function uR(s){const e=br(s);for(const i of s.Ta)e.ea(i.mutations)}async function cR(s,e,i){const a=s.Ta.shift(),o=ep.from(a,e,i);await Cb(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await kh(s)}async function hR(s,e){e&&br(s).Y_&&await(async function(a,o){if((function(d){return Fw(d)&&d!==J.ABORTED})(o.code)){const c=a.Ta.shift();br(a).B_(),await Cb(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await kh(a)}})(s,e),Rb(s)&&Ib(s)}async function av(s,e){const i=Ce(s);i.asyncQueue.verifyOperationInProgress(),ce(ua,"RemoteStore received new credentials");const a=fa(i);i.Ea.add(3),await uu(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Vh(i)}async function fR(s,e){const i=Ce(s);e?(i.Ea.delete(2),await Vh(i)):e||(i.Ea.add(2),await uu(i),i.Va.set("Unknown"))}function Cl(s){return s.ma||(s.ma=(function(i,a,o){const c=Ce(i);return c.sa(),new XC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:nR.bind(null,s),Yo:iR.bind(null,s),t_:sR.bind(null,s),J_:rR.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),cp(s)?up(s):s.Va.set("Unknown")):(await s.ma.stop(),wb(s))}))),s.ma}function br(s){return s.fa||(s.fa=(function(i,a,o){const c=Ce(i);return c.sa(),new $C(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:oR.bind(null,s),t_:hR.bind(null,s),ta:uR.bind(null,s),na:cR.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await kh(s)):(await s.fa.stop(),s.Ta.length>0&&(ce(ua,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class hp{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,_=new hp(e,i,d,o,c);return _.start(a),_}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fp(s,e){if(bs("AsyncQueue",`${e}: ${s}`),wl(s))return new me(J.UNAVAILABLE,`${e}: ${s}`);throw s}class cl{static emptySet(e){return new cl(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||_e.comparator(i.key,a.key):(i,a)=>_e.comparator(i.key,a.key),this.keyedMap=Vo(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof cl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new cl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class lv{constructor(){this.ga=new bt(_e.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ee(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class bl{constructor(e,i,a,o,c,d,_,p,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=_,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((_=>{d.push({type:0,doc:_})})),new bl(e,i,cl.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class dR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class mR{constructor(){this.queries=ov(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Ce(i),c=o.queries;o.queries=ov(),c.forEach(((d,_)=>{for(const p of _.ba)p.onError(a)}))})(this,new me(J.ABORTED,"Firestore shutting down"))}}function ov(){return new ha((s=>X1(s)),Rh)}async function Nb(s,e){const i=Ce(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.Sa()&&e.Da()&&(a=2):(c=new dR,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const _=fp(d,`Initialization of query '${nl(e.query)}' failed`);return void e.onError(_)}i.queries.set(o,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&dp(i)}async function Db(s,e){const i=Ce(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function pR(s,e){const i=Ce(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const _ of d.ba)_.Fa(o)&&(a=!0);d.wa=o}}a&&dp(i)}function gR(s,e,i){const a=Ce(s),o=a.queries.get(e);if(o)for(const c of o.ba)c.onError(i);a.queries.delete(e)}function dp(s){s.Ca.forEach((e=>{e.next()}))}var wm,uv;(uv=wm||(wm={})).Ma="default",uv.Cache="cache";class Ob{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new bl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==wm.Cache}}class Mb{constructor(e){this.key=e}}class Vb{constructor(e){this.key=e}}class yR{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Be(),this.mutatedKeys=Be(),this.eu=$1(e),this.tu=new cl(this.eu)}get nu(){return this.Za}ru(e,i){const a=i?i.iu:new lv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,_=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,A)=>{const M=o.get(x),F=Ih(this.query,A)?A:null,W=!!M&&this.mutatedKeys.has(M.key),se=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let Z=!1;M&&F?M.data.isEqual(F.data)?W!==se&&(a.track({type:3,doc:F}),Z=!0):this.su(M,F)||(a.track({type:2,doc:F}),Z=!0,(p&&this.eu(F,p)>0||v&&this.eu(F,v)<0)&&(_=!0)):!M&&F?(a.track({type:0,doc:F}),Z=!0):M&&!F&&(a.track({type:1,doc:M}),Z=!0,(p||v)&&(_=!0)),Z&&(F?(d=d.add(F),c=se?c.add(x):c.delete(x)):(d=d.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const x=this.query.limitType==="F"?d.last():d.first();d=d.delete(x.key),c=c.delete(x.key),a.track({type:1,doc:x})}return{tu:d,iu:a,Ss:_,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((x,A)=>(function(F,W){const se=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:Z})}};return se(F)-se(W)})(x.type,A.type)||this.eu(x.doc,A.doc))),this.ou(a),o=o??!1;const _=i&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,v=p!==this.Xa;return this.Xa=p,d.length!==0||v?{snapshot:new bl(this.query,e.tu,c,d,e.mutatedKeys,p===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:_}:{au:_}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Be(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return e.forEach((a=>{this.Ya.has(a)||i.push(new Vb(a))})),this.Ya.forEach((a=>{e.has(a)||i.push(new Mb(a))})),i}cu(e){this.Za=e.ks,this.Ya=Be();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return bl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const mp="SyncEngine";class _R{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class vR{constructor(e){this.key=e,this.hu=!1}}class bR{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ha((_=>X1(_)),Rh),this.Iu=new Map,this.Eu=new Set,this.Ru=new bt(_e.comparator),this.Au=new Map,this.Vu=new ip,this.du={},this.mu=new Map,this.fu=vl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ER(s,e,i=!0){const a=zb(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await kb(a,e,i,!0),o}async function TR(s,e){const i=zb(s);await kb(i,e,!0,!1)}async function kb(s,e,i,a){const o=await BC(s.localStore,Hi(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let _;return a&&(_=await xR(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&Sb(s.remoteStore,o),_}async function xR(s,e,i,a,o){s.pu=(A,M,F)=>(async function(se,Z,pe,be){let Te=Z.view.ru(pe);Te.Ss&&(Te=await tv(se.localStore,Z.query,!1).then((({documents:R})=>Z.view.ru(R,Te))));const Ye=be&&be.targetChanges.get(Z.targetId),qe=be&&be.targetMismatches.get(Z.targetId)!=null,Me=Z.view.applyChanges(Te,se.isPrimaryClient,Ye,qe);return hv(se,Z.targetId,Me.au),Me.snapshot})(s,A,M,F);const c=await tv(s.localStore,e,!0),d=new yR(e,c.ks),_=d.ru(c.documents),p=ou.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),v=d.applyChanges(_,s.isPrimaryClient,p);hv(s,i,v.au);const x=new _R(e,i,d);return s.Tu.set(e,x),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),v.snapshot}async function SR(s,e,i){const a=Ce(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!Rh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Sm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&lp(a.remoteStore,o.targetId),Cm(a,o.targetId)})).catch(Al)):(Cm(a,o.targetId),await Sm(a.localStore,o.targetId,!0))}async function AR(s,e){const i=Ce(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),lp(i.remoteStore,a.targetId))}async function wR(s,e,i){const a=MR(s);try{const o=await(function(d,_){const p=Ce(d),v=gt.now(),x=_.reduce(((F,W)=>F.add(W.key)),Be());let A,M;return p.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let W=Es(),se=Be();return p.xs.getEntries(F,x).next((Z=>{W=Z,W.forEach(((pe,be)=>{be.isValidDocument()||(se=se.add(pe))}))})).next((()=>p.localDocuments.getOverlayedDocuments(F,W))).next((Z=>{A=Z;const pe=[];for(const be of _){const Te=zw(be,A.get(be.key).overlayedDocument);Te!=null&&pe.push(new xr(be.key,Te,H1(Te.value.mapValue),pi.exists(!0)))}return p.mutationQueue.addMutationBatch(F,v,pe,_)})).next((Z=>{M=Z;const pe=Z.applyToLocalDocumentSet(A,se);return p.documentOverlayCache.saveOverlays(F,Z.batchId,pe)}))})).then((()=>({batchId:M.batchId,changes:Z1(A)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,_,p){let v=d.du[d.currentUser.toKey()];v||(v=new bt(ze)),v=v.insert(_,p),d.du[d.currentUser.toKey()]=v})(a,o.batchId,i),await cu(a,o.changes),await kh(a.remoteStore)}catch(o){const c=fp(o,"Failed to persist write");i.reject(c)}}async function jb(s,e){const i=Ce(s);try{const a=await PC(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(nt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?nt(d.hu,14607):o.removedDocuments.size>0&&(nt(d.hu,42227),d.hu=!1))})),await cu(i,a,e)}catch(a){await Al(a)}}function cv(s,e,i){const a=Ce(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const _=d.view.va(e);_.snapshot&&o.push(_.snapshot)})),(function(d,_){const p=Ce(d);p.onlineState=_;let v=!1;p.queries.forEach(((x,A)=>{for(const M of A.ba)M.va(_)&&(v=!0)})),v&&dp(p)})(a.eventManager,e),o.length&&a.Pu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function CR(s,e,i){const a=Ce(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new bt(_e.comparator);d=d.insert(c,on.newNoDocument(c,Ae.min()));const _=Be().add(c),p=new Oh(Ae.min(),new Map,new bt(ze),d,_);await jb(a,p),a.Ru=a.Ru.remove(c),a.Au.delete(e),pp(a)}else await Sm(a.localStore,e,!1).then((()=>Cm(a,e,i))).catch(Al)}async function RR(s,e){const i=Ce(s),a=e.batch.batchId;try{const o=await LC(i.localStore,e);Pb(i,a,null),Lb(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await cu(i,o)}catch(o){await Al(o)}}async function IR(s,e,i){const a=Ce(s);try{const o=await(function(d,_){const p=Ce(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let x;return p.mutationQueue.lookupMutationBatch(v,_).next((A=>(nt(A!==null,37113),x=A.keys(),p.mutationQueue.removeMutationBatch(v,A)))).next((()=>p.mutationQueue.performConsistencyCheck(v))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(v,x,_))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,x))).next((()=>p.localDocuments.getDocuments(v,x)))}))})(a.localStore,e);Pb(a,e,i),Lb(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await cu(a,o)}catch(o){await Al(o)}}function Lb(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function Pb(s,e,i){const a=Ce(s);let o=a.du[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.du[a.currentUser.toKey()]=o}}function Cm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||Ub(s,a)}))}function Ub(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(lp(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),pp(s))}function hv(s,e,i){for(const a of i)a instanceof Mb?(s.Vu.addReference(a.key,e),NR(s,a)):a instanceof Vb?(ce(mp,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||Ub(s,a.key)):Ee(19791,{wu:a})}function NR(s,e){const i=e.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(ce(mp,"New document in limbo: "+i),s.Eu.add(a),pp(s))}function pp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new _e(vt.fromString(e)),a=s.fu.next();s.Au.set(a,new vR(i)),s.Ru=s.Ru.insert(i,a),Sb(s.remoteStore,new ur(Hi(Ch(i.path)),a,"TargetPurposeLimboResolution",xh.ce))}}async function cu(s,e,i){const a=Ce(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((_,p)=>{d.push(a.pu(p,e,i).then((v=>{if((v||i)&&a.isPrimaryClient){const x=v?!v.fromCache:i?.targetChanges.get(p.targetId)?.current;a.sharedClientState.updateQueryState(p.targetId,x?"current":"not-current")}if(v){o.push(v);const x=rp.Es(p.targetId,v);c.push(x)}})))})),await Promise.all(d),a.Pu.J_(o),await(async function(p,v){const x=Ce(p);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>$.forEach(v,(M=>$.forEach(M.Ts,(F=>x.persistence.referenceDelegate.addReference(A,M.targetId,F))).next((()=>$.forEach(M.Is,(F=>x.persistence.referenceDelegate.removeReference(A,M.targetId,F)))))))))}catch(A){if(!wl(A))throw A;ce(ap,"Failed to update sequence numbers: "+A)}for(const A of v){const M=A.targetId;if(!A.fromCache){const F=x.vs.get(M),W=F.snapshotVersion,se=F.withLastLimboFreeSnapshotVersion(W);x.vs=x.vs.insert(M,se)}}})(a.localStore,c))}async function DR(s,e){const i=Ce(s);if(!i.currentUser.isEqual(e)){ce(mp,"User change. New user:",e.toKey());const a=await bb(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((_=>{_.forEach((p=>{p.reject(new me(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await cu(i,a.Ns)}}function OR(s,e){const i=Ce(s),a=i.Au.get(e);if(a&&a.hu)return Be().add(a.key);{let o=Be();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const _=i.Tu.get(d);o=o.unionWith(_.view.nu)}return o}}function zb(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=jb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CR.bind(null,e),e.Pu.J_=pR.bind(null,e.eventManager),e.Pu.yu=gR.bind(null,e.eventManager),e}function MR(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IR.bind(null,e),e}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return jC(this.persistence,new MC,e.initialUser,this.serializer)}Cu(e){return new vb(sp.Vi,this.serializer)}Du(e){return new qC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class VR extends _h{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){nt(this.persistence.referenceDelegate instanceof gh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new _C(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new vb((a=>gh.Vi(a,i)),this.serializer)}}class Rm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>cv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=DR.bind(null,this.syncEngine),await fR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new mR})()}createDatastore(e){const i=Mh(e.databaseInfo.databaseId),a=QC(e.databaseInfo);return WC(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,_){return new tR(a,o,c,d,_)})(this.localStore,this.datastore,e.asyncQueue,(i=>cv(this.syncEngine,i,0)),(function(){return sv.v()?new sv:new GC})())}createSyncEngine(e,i){return(function(o,c,d,_,p,v,x){const A=new bR(o,c,d,_,p,v);return x&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ce(i);ce(ua,"RemoteStore shutting down."),a.Ea.add(5),await uu(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rm.provider={build:()=>new Rm};class Bb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):bs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Er="FirestoreClient";class kR{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=o,this.user=ln.UNAUTHENTICATED,this.clientId=Fm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ce(Er,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ce(Er,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=fp(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function tm(s,e){s.asyncQueue.verifyOperationInProgress(),ce(Er,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await bb(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function fv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await jR(s);ce(Er,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>av(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>av(e.remoteStore,o))),s._onlineComponents=e}async function jR(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ce(Er,"Using user provided OfflineComponentProvider");try{await tm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;ml("Error using user provided cache. Falling back to memory cache: "+i),await tm(s,new _h)}}else ce(Er,"Using default OfflineComponentProvider"),await tm(s,new VR(void 0));return s._offlineComponents}async function Hb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ce(Er,"Using user provided OnlineComponentProvider"),await fv(s,s._uninitializedComponentsProvider._online)):(ce(Er,"Using default OnlineComponentProvider"),await fv(s,new Rm))),s._onlineComponents}function LR(s){return Hb(s).then((e=>e.syncEngine))}async function Im(s){const e=await Hb(s),i=e.eventManager;return i.onListen=ER.bind(null,e.syncEngine),i.onUnlisten=SR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=TR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=AR.bind(null,e.syncEngine),i}function PR(s,e,i,a){const o=new Bb(a),c=new Ob(e,o,i);return s.asyncQueue.enqueueAndForget((async()=>Nb(await Im(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>Db(await Im(s),c)))}}function UR(s,e,i={}){const a=new mr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,_,p,v){const x=new Bb({next:M=>{x.Nu(),d.enqueueAndForget((()=>Db(c,A)));const F=M.docs.has(_);!F&&M.fromCache?v.reject(new me(J.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&p&&p.source==="server"?v.reject(new me(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(M)},error:M=>v.reject(M)}),A=new Ob(Ch(_.path),x,{includeMetadataChanges:!0,Ka:!0});return Nb(c,A)})(await Im(s),s.asyncQueue,e,i,a))),a.promise}function zR(s,e){const i=new mr;return s.asyncQueue.enqueueAndForget((async()=>wR(await LR(s),e,i))),i.promise}function qb(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const BR="ComponentProvider",dv=new Map;function HR(s,e,i,a,o){return new lw(s,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,qb(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const Gb="firestore.googleapis.com",mv=!0;class pv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Gb,this.ssl=mv}else this.host=e.host,this.ssl=e.ssl??mv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_b;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gC)throw new me(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$A("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qb(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gp{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new UA;switch(a.type){case"firstParty":return new qA(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new me(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=dv.get(i);a&&(ce(BR,"Removing Datastore"),dv.delete(i),a.terminate())})(this),Promise.resolve()}}function qR(s,e,i,a={}){s=mi(s,gp);const o=El(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},_=`${e}:${i}`;o&&(Uv(`https://${_}`),zv("Firestore",!0)),c.host!==Gb&&c.host!==_&&ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:_,ssl:o,emulatorOptions:a};if(!pr(p,d)&&(s._setSettings(p),a.mockUserToken)){let v,x;if(typeof a.mockUserToken=="string")v=a.mockUserToken,x=ln.MOCK_USER;else{v=lx(a.mockUserToken,s._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new me(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new ln(A)}s._authCredentials=new zA(new D1(v,x))}}class jh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new jh(this.firestore,e,this._query)}}class Bt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $o(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}toJSON(){return{type:Bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(au(i,Bt._jsonSchema))return new Bt(e,a||null,new _e(vt.fromString(i.referencePath)))}}Bt._jsonSchemaVersion="firestore/documentReference/1.0",Bt._jsonSchema={type:zt("string",Bt._jsonSchemaVersion),referencePath:zt("string")};class $o extends jh{constructor(e,i,a){super(e,i,Ch(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new _e(e))}withConverter(e){return new $o(this.firestore,e,this._path)}}function dn(s,e,...i){if(s=pn(s),arguments.length===1&&(e=Fm.newId()),XA("doc","path",e),s instanceof gp){const a=vt.fromString(e,...i);return I_(a),new Bt(s,null,new _e(a))}{if(!(s instanceof Bt||s instanceof $o))throw new me(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(vt.fromString(e,...i));return I_(a),new Bt(s.firestore,s instanceof $o?s.converter:null,new _e(a))}}const gv="AsyncQueue";class yv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Tb(this,"async_queue_retry"),this._c=()=>{const a=em();a&&ce(gv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=em();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=em();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!wl(e))throw e;ce(gv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,bs("INTERNAL UNHANDLED ERROR: ",_v(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=hp.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:_v(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function _v(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class ca extends gp{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new yv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yv(e),this._firestoreClient=void 0,await e}}}function GR(s,e){const i=typeof s=="object"?s:Gv(),a=typeof s=="string"?s:uh,o=km(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=rx("firestore");c&&qR(o,...c)}return o}function yp(s){if(s._terminated)throw new me(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||FR(s),s._firestoreClient}function FR(s){const e=s._freezeSettings(),i=HR(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new kR(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class ei{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ei(sn.fromBase64String(e))}catch(i){throw new me(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ei(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(au(e,ei._jsonSchema))return ei.fromBase64String(e.bytes)}}ei._jsonSchemaVersion="firestore/bytes/1.0",ei._jsonSchema={type:zt("string",ei._jsonSchemaVersion),bytes:zt("string")};class _p{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new me(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Lh{constructor(e){this._methodName=e}}class Gi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new me(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new me(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gi._jsonSchemaVersion}}static fromJSON(e){if(au(e,Gi._jsonSchema))return new Gi(e.latitude,e.longitude)}}Gi._jsonSchemaVersion="firestore/geoPoint/1.0",Gi._jsonSchema={type:zt("string",Gi._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};class gi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(au(e,gi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new gi(e.vectorValues);throw new me(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gi._jsonSchemaVersion="firestore/vectorValue/1.0",gi._jsonSchema={type:zt("string",gi._jsonSchemaVersion),vectorValues:zt("object")};const YR=/^__.*__$/;class KR{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new xr(e,this.data,this.fieldMask,i,this.fieldTransforms):new lu(e,this.data,i,this.fieldTransforms)}}class Fb{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new xr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Yb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{dataSource:s})}}class Ph{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Ph({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return vh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Yb(this.dataSource)&&YR.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class QR{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Mh(e)}createContext(e,i,a,o=!1){return new Ph({dataSource:e,methodName:i,targetDoc:a,path:nn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kb(s){const e=s._freezeSettings(),i=Mh(s._databaseId);return new QR(s._databaseId,!!e.ignoreUndefinedProperties,i)}function XR(s,e,i,a,o,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,o);bp("Data must be an object, but it was:",d,a);const _=Qb(a,d);let p,v;if(c.merge)p=new Pn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const x=[];for(const A of c.mergeFields){const M=Jo(e,A,i);if(!d.contains(M))throw new me(J.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);Jb(x,M)||x.push(M)}p=new Pn(x),v=d.fieldTransforms.filter((A=>p.covers(A.field)))}else p=null,v=d.fieldTransforms;return new KR(new wn(_),p,v)}class Uh extends Lh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uh}}function $R(s,e,i){return new Ph({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class vp extends Lh{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=$R(this,e,!0),a=this.Ac.map((c=>hu(c,i))),o=new _l(a);return new jw(e.path,o)}isEqual(e){return e instanceof vp&&pr(this.Ac,e.Ac)}}function JR(s,e,i,a){const o=s.createContext(1,e,i);bp("Data must be an object, but it was:",o,a);const c=[],d=wn.empty();Tr(a,((p,v)=>{const x=$b(e,p,i);v=pn(v);const A=o.childContextForFieldPath(x);if(v instanceof Uh)c.push(x);else{const M=hu(v,A);M!=null&&(c.push(x),d.set(x,M))}}));const _=new Pn(c);return new Fb(d,_,o.fieldTransforms)}function ZR(s,e,i,a,o,c){const d=s.createContext(1,e,i),_=[Jo(e,a,i)],p=[o];if(c.length%2!=0)throw new me(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)_.push(Jo(e,c[M])),p.push(c[M+1]);const v=[],x=wn.empty();for(let M=_.length-1;M>=0;--M)if(!Jb(v,_[M])){const F=_[M];let W=p[M];W=pn(W);const se=d.childContextForFieldPath(F);if(W instanceof Uh)v.push(F);else{const Z=hu(W,se);Z!=null&&(v.push(F),x.set(F,Z))}}const A=new Pn(v);return new Fb(x,A,d.fieldTransforms)}function hu(s,e){if(Xb(s=pn(s)))return bp("Unsupported field value:",e,s),Qb(s,e);if(s instanceof Lh)return(function(a,o){if(!Yb(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const _ of a){let p=hu(_,o.childContextForArray(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=pn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Mw(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=gt.fromDate(a);return{timestampValue:ph(o.serializer,c)}}if(a instanceof gt){const c=new gt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ph(o.serializer,c)}}if(a instanceof Gi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ei)return{bytesValue:cb(o.serializer,a._byteString)};if(a instanceof Bt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:np(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof gi)return(function(d,_){const p=d instanceof gi?d.toArray():d;return{mapValue:{fields:{[z1]:{stringValue:B1},[ch]:{arrayValue:{values:p.map((x=>{if(typeof x!="number")throw _.createError("VectorValues must only contain numeric values.");return Zm(_.serializer,x)}))}}}}}})(a,o);if(yb(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Ym(a)}`)})(s,e)}function Qb(s,e){const i={};return V1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tr(s,((a,o)=>{const c=hu(o,e.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function Xb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof gt||s instanceof Gi||s instanceof ei||s instanceof Bt||s instanceof Lh||s instanceof gi||yb(s))}function bp(s,e,i){if(!Xb(i)||!O1(i)){const a=Ym(i);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function Jo(s,e,i){if((e=pn(e))instanceof _p)return e._internalPath;if(typeof e=="string")return $b(s,e);throw vh("Field path arguments must be of type string or ",s,!1,void 0,i)}const WR=new RegExp("[~\\*/\\[\\]]");function $b(s,e,i){if(e.search(WR)>=0)throw vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new _p(...e.split("."))._internalPath}catch{throw vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function vh(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let _=`Function ${e}() called with invalid data`;i&&(_+=" (via `toFirestore()`)"),_+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${a}`),d&&(p+=` in document ${o}`),p+=")"),new me(J.INVALID_ARGUMENT,_+s+p)}function Jb(s,e){return s.some((i=>i.isEqual(e)))}class eI{convertValue(e,i="none"){switch(vr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(_r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Tr(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[ch].arrayValue?.values?.map((a=>It(a.doubleValue)));return new gi(i)}convertGeoPoint(e){return new Gi(It(e.latitude),It(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Ah(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Yo(e));default:return null}}convertTimestamp(e){const i=yr(e);return new gt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=vt.fromString(e);nt(gb(a),9688,{name:e});const o=new Ko(a.get(1),a.get(3)),c=new _e(a.popFirst(5));return o.isEqual(i)||bs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class Zb extends eI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ei(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,i)}}function sr(...s){return new vp("arrayUnion",s)}const vv="@firebase/firestore",bv="4.10.0";function Ev(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Wb{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(Jo("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class tI extends Wb{data(){return super.data()}}function nI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new me(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function iI(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class jo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ra extends Wb{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Jo("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ra._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",ra._jsonSchema={type:zt("string",ra._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class Zc extends ra{data(e={}){return super.data(e)}}class hl{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new jo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Zc(this._firestore,this._userDataWriter,a.key,a,new jo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new me(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((_=>{const p=new Zc(o._firestore,o._userDataWriter,_.doc.key,_.doc,new jo(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);return _.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((_=>c||_.type!==3)).map((_=>{const p=new Zc(o._firestore,o._userDataWriter,_.doc.key,_.doc,new jo(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,x=-1;return _.type!==0&&(v=d.indexOf(_.doc.key),d=d.delete(_.doc.key)),_.type!==1&&(d=d.add(_.doc),x=d.indexOf(_.doc.key)),{type:sI(_.type),doc:p,oldIndex:v,newIndex:x}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=hl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function sI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:s})}}hl._jsonSchemaVersion="firestore/querySnapshot/1.0",hl._jsonSchema={type:zt("string",hl._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};function Tv(s){s=mi(s,Bt);const e=mi(s.firestore,ca),i=yp(e);return UR(i,s._key).then((a=>eE(e,s,a)))}function rI(s,e,i){s=mi(s,Bt);const a=mi(s.firestore,ca),o=iI(s.converter,e),c=Kb(a);return Ep(a,[XR(c,"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,pi.none())])}function Zn(s,e,i,...a){s=mi(s,Bt);const o=mi(s.firestore,ca),c=Kb(o);let d;return d=typeof(e=pn(e))=="string"||e instanceof _p?ZR(c,"updateDoc",s._key,e,i,a):JR(c,"updateDoc",s._key,e),Ep(o,[d.toMutation(s._key,pi.exists(!0))])}function xv(s){return Ep(mi(s.firestore,ca),[new Wm(s._key,pi.none())])}function Sv(s,...e){s=pn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Ev(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Ev(e[a])){const v=e[a];e[a]=v.next?.bind(v),e[a+1]=v.error?.bind(v),e[a+2]=v.complete?.bind(v)}let c,d,_;if(s instanceof Bt)d=mi(s.firestore,ca),_=Ch(s._key.path),c={next:v=>{e[a]&&e[a](eE(d,s,v))},error:e[a+1],complete:e[a+2]};else{const v=mi(s,jh);d=mi(v.firestore,ca),_=v._query;const x=new Zb(d);c={next:A=>{e[a]&&e[a](new hl(d,x,v,A))},error:e[a+1],complete:e[a+2]},nI(s._query)}const p=yp(d);return PR(p,_,o,c)}function Ep(s,e){const i=yp(s);return zR(i,e)}function eE(s,e,i){const a=i.docs.get(e._key),o=new Zb(s);return new ra(s,o,e._key,a,new jo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){PA(Tl),dl(new aa("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),_=new ca(new BA(a.getProvider("auth-internal")),new GA(d,a.getProvider("app-check-internal")),ow(d,o),d);return c={useFetchStreams:i,...c},_._setSettings(c),_}),"PUBLIC").setMultipleInstances(!0)),fr(vv,bv,e),fr(vv,bv,"esm2020")})();const tE=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim();const aI=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const lI=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase());const Av=s=>{const e=lI(s);return e.charAt(0).toUpperCase()+e.slice(1)};var oI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const uI=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const cI=tt.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,..._},p)=>tt.createElement("svg",{ref:p,...oI,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:tE("lucide",o),...!c&&!uI(_)&&{"aria-hidden":"true"},..._},[...d.map(([v,x])=>tt.createElement(v,x)),...Array.isArray(c)?c:[c]]));const at=(s,e)=>{const i=tt.forwardRef(({className:a,...o},c)=>tt.createElement(cI,{ref:c,iconNode:e,className:tE(`lucide-${aI(Av(s))}`,`lucide-${s}`,a),...o}));return i.displayName=Av(s),i};const hI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],nE=at("arrow-right",hI);const fI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Do=at("book-open",fI);const dI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],na=at("circle-check-big",dI);const mI=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],pI=at("copy",mI);const gI=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],wv=at("crown",gI);const yI=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],Cv=at("door-open",yI);const _I=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],iE=at("file-text",_I);const vI=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],sE=at("gift",vI);const bI=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],EI=at("hammer",bI);const TI=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],Nm=at("hand",TI);const xI=[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]],rE=at("handshake",xI);const SI=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],AI=at("hash",SI);const wI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Rv=at("history",wI);const CI=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],aE=at("house",CI);const RI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],lE=at("info",RI);const II=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],NI=at("layers",II);const DI=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],OI=at("loader",DI);const MI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],oE=at("log-out",MI);const VI=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Wc=at("refresh-cw",VI);const kI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],nm=at("rotate-ccw",kI);const jI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Iv=at("shield",jI);const LI=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],PI=at("sparkles",LI);const UI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],zI=at("trash-2",UI);const BI=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Dm=at("triangle-alert",BI);const HI=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],zh=at("trophy",HI);const qI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],GI=at("user",qI);const FI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],YI=at("users",FI);const KI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],sa=at("x",KI);const QI=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Nv=at("zap",QI),XI={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:b5deb05899e092116aa637"},uE=qv(XI),im=jA(uE),mn=GR(uE),Sn=typeof __app_id<"u"?__app_id:"together-game",$I="23",el="together_game_roomId",Dv={MAGENTA:{id:"M",bg:"bg-pink-600",border:"border-pink-400",text:"text-white"},LEMON:{id:"L",bg:"bg-yellow-400",border:"border-yellow-200",text:"text-yellow-900"}},Pi=[{id:"A",name:"Team Magenta",color:"text-pink-400",bg:"bg-pink-900/30",border:"border-pink-500/50",badgeBg:"bg-pink-900"},{id:"B",name:"Team Lemon",color:"text-yellow-400",bg:"bg-yellow-900/30",border:"border-yellow-500/50",badgeBg:"bg-yellow-900"},{id:"C",name:"Team Cyan",color:"text-cyan-400",bg:"bg-cyan-900/30",border:"border-cyan-500/50",badgeBg:"bg-cyan-900"}],JI=[{id:"run_3",text:"Run of 3",points:2,type:"RUN",count:3,desc:"Collect any 3 sequential cards (e.g., 5, 6, 7). Colors can be mixed."},{id:"set_3",text:"3 of a Kind",points:2,type:"SET",count:3,desc:"Collect 3 cards of the same number. Colors can be mixed."},{id:"pair_1s",text:"Paired 1s",points:2,type:"EXACT_SET",val:1,count:2,desc:"Collect two cards showing the number 1."},{id:"odd_colors",text:"Odd Color Pair",points:2,type:"ODD_COLORS",desc:"Collect two Odd-numbered cards: one must be Lemon and one Magenta."},{id:"sum_18_3",text:"Sum of 18",points:3,type:"SUM",count:3,target:18,desc:"Collect 3 cards that add up to exactly 18."},{id:"low_sum_6",text:"Low Sum 6",points:3,type:"SUM",count:3,target:6,desc:"Collect 3 cards that add up to exactly 6."},{id:"arith_pair",text:"Arithmetic Pair",points:3,type:"ARITHMETIC_PAIR",desc:"Collect a Lemon card (X) and a Magenta card (Y) where (Y = X + 3)."},{id:"two_pairs",text:"Two Pairs",points:3,type:"TWO_PAIRS",desc:"Collect two pairs of numbers (e.g., two 3s and two 8s). Colors can be mixed."},{id:"run_4_mixed",text:"Run of 4",points:3,type:"RUN",count:4,desc:"Collect any 4 sequential cards (e.g., 2, 3, 4, 5). Colors can be mixed."},{id:"run_3_blue",text:"Lemon Run",points:3,type:"RUN",count:3,specificColor:"L",desc:"Collect 3 sequential cards that are all Lemon."},{id:"set_6s",text:"Set of 6's",points:3,type:"EXACT_SET",val:6,count:3,desc:"Collect three cards showing the number 6."},{id:"set_odd",text:"Odd Set",points:3,type:"SET_PARITY",count:3,parity:"ODD",desc:"Collect 3 cards of the same number, where that number is Odd."},{id:"set_even",text:"Even Set",points:3,type:"SET_PARITY",count:3,parity:"EVEN",desc:"Collect 3 cards of the same number, where that number is Even."},{id:"even_blues",text:"Even Lemons",points:3,type:"COLOR_PARITY",count:3,color:"L",parity:"EVEN",desc:"Collect 3 Lemon cards that are all Even numbers."},{id:"odd_magentas",text:"Odd Magentas",points:3,type:"COLOR_PARITY",count:3,color:"M",parity:"ODD",desc:"Collect 3 Magenta cards that are all Odd numbers."},{id:"run_low",text:"Low Run",points:4,type:"EXACT_SEQ",seq:[1,2,3,4],desc:"Collect the exact sequence 1, 2, 3, 4. Colors can be mixed."},{id:"run_high",text:"High Run",points:4,type:"EXACT_SEQ",seq:[5,6,7,8],desc:"Collect the exact sequence 5, 6, 7, 8. Colors can be mixed."},{id:"run_odd",text:"Odd Run",points:4,type:"EXACT_SEQ",seq:[3,5,7],desc:"Collect the exact sequence 3, 5, 7. Colors can be mixed."},{id:"set_4",text:"4 of a Kind",points:4,type:"SET",count:4,desc:"Collect 4 cards of the same number. Colors can be mixed."},{id:"full_house",text:"Full House",points:4,type:"FULL_HOUSE",desc:"Collect a Set of 3 and a Pair (e.g., three 5s and two 8s)."},{id:"mixed_pair",text:"Mixed Pairs",points:4,type:"MIXED_PAIRS",desc:"Collect one Pair of Lemon cards and one Pair of Magenta cards."},{id:"blue_odds",text:"Lemon Odds",points:4,type:"COLOR_PARITY",count:4,color:"L",parity:"ODD",desc:"Collect 4 Lemon cards that are all Odd numbers."},{id:"mag_evens",text:"Magenta Evens",points:4,type:"COLOR_PARITY",count:4,color:"M",parity:"EVEN",desc:"Collect 4 Magenta cards that are all Even numbers."},{id:"sum_10_blue",text:"Lemon 10",points:4,type:"SUM_COLOR",count:3,target:10,color:"L",desc:"Collect 3 Lemon cards that add up to exactly 10."},{id:"sum_20_mag",text:"Magenta 20",points:4,type:"SUM_COLOR",count:3,target:20,color:"M",desc:"Collect 3 Magenta cards that add up to exactly 20."},{id:"even_sum_14",text:"Even Sum 14",points:4,type:"SUM_PARITY",count:3,target:14,parity:"EVEN",desc:"Collect 3 Even-numbered cards that add up to exactly 14."},{id:"odd_sum_15",text:"Odd Sum 15",points:4,type:"SUM_PARITY",count:3,target:15,parity:"ODD",desc:"Collect 3 Odd-numbered cards that add up to exactly 15."},{id:"doubler",text:"Doubler",points:4,type:"DOUBLER_SUM",desc:"Collect 3 cards where two of the same color add up to the number on the other color card."},{id:"blue_low",text:"Lemon Low",points:4,type:"COLOR_RANGE",count:4,color:"L",max:4,desc:"Collect 4 Lemon cards with numbers 4 or lower."},{id:"mag_high",text:"Magenta High",points:4,type:"COLOR_RANGE",count:4,color:"M",min:5,desc:"Collect 4 Magenta cards with numbers 5 or higher."},{id:"tri_color_set_3",text:"Color Set (3's)",points:4,type:"SPECIFIC_SET_MIXED",val:3,countL:2,countM:1,desc:"Collect three 3s: exactly two must be Lemon and one must be Magenta."},{id:"sum_12_tri",text:"Unique Sum 12",points:4,type:"SUM_DIFF",count:3,target:12,desc:"Collect 3 cards with different numbers that add up to exactly 12."},{id:"run_5",text:"Run of 5",points:5,type:"RUN",count:5,desc:"Collect any 5 sequential cards (e.g., 2, 3, 4, 5, 6). Colors can be mixed."},{id:"run_4_col",text:"Color Run 4",points:5,type:"RUN",count:4,sameColor:!0,desc:"Collect 4 sequential cards that share the same color."},{id:"set_4_8s",text:"Four 8s",points:5,type:"EXACT_SET",val:8,count:4,desc:"Collect four cards showing the number 8."},{id:"four_sum_28",text:"Four 7s",points:5,type:"EXACT_SET",val:7,count:4,desc:"Collect four cards showing the number 7."},{id:"pure_blue",text:"Pure Lemon",points:4,type:"PURE_COLOR",count:5,color:"L",desc:"Collect any 5 Lemon cards, regardless of number."},{id:"pure_mag",text:"Pure Magenta",points:4,type:"PURE_COLOR",count:5,color:"M",desc:"Collect any 5 Magenta cards, regardless of number."},{id:"sum_25_4",text:"Sum of 25",points:5,type:"SUM",count:4,target:25,desc:"Collect 4 cards that add up to exactly 25."},{id:"color_run_4",text:"Split Color Run",points:5,type:"COLOR_SPLIT_RUN",desc:"Collect a run of 4 cards: the lower two must be Lemon and the higher two Magenta."},{id:"high_pairs",text:"High Pairs",points:5,type:"SPECIFIC_PAIRS",vals:[7,8],desc:"Collect a pair of 7s and a pair of 8s."},{id:"max_min",text:"Max/Min Pairs",points:5,type:"SPECIFIC_PAIRS",vals:[1,8],desc:"Collect a pair of 1s and a pair of 8s."},{id:"blue_even_run",text:"Lemon Even Run",points:5,type:"RUN_COLOR_PARITY",color:"L",parity:"EVEN",desc:"Collect 3 Lemon cards that form an Even sequence (2, 4, 6 or 4, 6, 8)."},{id:"mag_odd_set",text:"Magenta Odd Set",points:5,type:"SET_PARITY_COLOR",count:3,parity:"ODD",color:"M",desc:"Collect 3 Magenta cards of the same Odd number."},{id:"all_four_7s",text:"Four Split color 7s",points:6,type:"ALL_FOUR_7S",desc:"Collect four 7s: exactly two must be Lemon and two must be Magenta."},{id:"odd_full_house_blue",text:"Odd Lemon House",points:6,type:"FULL_HOUSE_COLOR_PARITY",color:"L",parity:"ODD",desc:"Collect a Full House (Set of 3 + Pair) using only Odd-numbered Lemon cards."}],cE=s=>{let e=s.length,i;for(;e!==0;)i=Math.floor(Math.random()*e),e--,[s[e],s[i]]=[s[i],s[e]];return s},ZI=()=>{let s=[];for(let e=0;e<4;e++)for(let i=1;i<=8;i++)s.push({id:`M-${e}-${i}`,color:"M",value:i}),s.push({id:`L-${e}-${i}`,color:"L",value:i});return cE(s)},Ov=()=>y.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[y.jsx(rE,{size:12,className:"text-pink-600"}),y.jsx("span",{className:"text-[10px] font-black tracking-widest text-pink-600 uppercase",children:"TOGETHER"})]}),WI=()=>y.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[y.jsx(rE,{size:22,className:"text-pink-600"}),y.jsx("span",{className:"text-[20px] font-black tracking-widest text-pink-600 uppercase",children:"TOGETHER"})]}),eN=(s,e)=>{if(!s||s.length===0)return!1;const i=s.map(c=>c.value).sort((c,d)=>c-d),a=s.map(c=>c.color),o=i.reduce((c,d)=>c+d,0);switch(e.type){case"RUN":if(s.length!==e.count)return!1;for(let S=0;S<i.length-1;S++)if(i[S]+1!==i[S+1])return!1;return!(e.sameColor&&!a.every(S=>S===a[0])||e.specificColor&&!a.every(S=>S===e.specificColor));case"EXACT_SEQ":return s.length!==e.seq.length?!1:i.every((S,D)=>S===e.seq[D]);case"SET":return s.length!==e.count?!1:i.every(S=>S===i[0]);case"TWO_PAIRS":return s.length!==4?!1:i[0]===i[1]&&i[2]===i[3]&&i[1]!==i[2];case"FULL_HOUSE":if(s.length!==5)return!1;const c=i.filter(S=>S===i[0]).length,d=i.filter(S=>S===i[4]).length;return c===3&&d===2||c===2&&d===3;case"SET_PARITY":return s.length!==e.count||!i.every(S=>S===i[0])?!1:e.parity==="ODD"?i[0]%2!==0:i[0]%2===0;case"EXACT_SET":return s.length!==e.count?!1:i.every(S=>S===e.val);case"COLOR_PARITY":return s.length!==e.count||!a.every(S=>S===e.color)?!1:e.parity==="ODD"?i.every(S=>S%2!==0):i.every(S=>S%2===0);case"COLOR_RANGE":return s.length!==e.count||!a.every(S=>S===e.color)?!1:e.max?i.every(S=>S<=e.max):e.min?i.every(S=>S>=e.min):!1;case"MIXED_PAIRS":if(s.length!==4)return!1;const _=s.filter(S=>S.color==="L").map(S=>S.value),p=s.filter(S=>S.color==="M").map(S=>S.value);return _.length!==2||p.length!==2?!1:_[0]===_[1]&&p[0]===p[1];case"PURE_COLOR":return s.length!==e.count?!1:a.every(S=>S===e.color);case"SUM":return s.length!==e.count?!1:o===e.target;case"SUM_COLOR":return s.length!==e.count||!a.every(S=>S===e.color)?!1:o===e.target;case"SUM_PARITY":if(s.length!==e.count||o!==e.target)return!1;const v=e.parity==="ODD";return i.every(S=>S%2!==0===v);case"SUM_DIFF":return s.length!==e.count||o!==e.target?!1:new Set(i).size===i.length;case"DOUBLER_SUM":if(s.length!==3)return!1;for(let S=0;S<3;S++){const D=s[S],k=s.filter((C,lt)=>lt!==S);if(k[0].color===k[1].color&&k[0].value+k[1].value===D.value)return!0}return!1;case"COLOR_SPLIT_RUN":if(s.length!==4)return!1;for(let S=0;S<i.length-1;S++)if(i[S]+1!==i[S+1])return!1;const x=[...s].sort((S,D)=>S.value-D.value),A=x[0].color,M=x[1].color,F=x[2].color,W=x[3].color;return A==="L"&&M==="L"&&F==="M"&&W==="M";case"SPECIFIC_PAIRS":return s.length!==4||i[0]!==i[1]||i[2]!==i[3]?!1:i[0]===e.vals[0]&&i[2]===e.vals[1];case"ODD_COLORS":return s.length!==2||i.some(S=>S%2===0)?!1:a.includes("L")&&a.includes("M");case"ALL_FOUR_7S":if(s.length!==4||!i.every(S=>S===7))return!1;const se=a.filter(S=>S==="L").length,Z=a.filter(S=>S==="M").length;return se===2&&Z===2;case"ARITHMETIC_PAIR":if(s.length!==2)return!1;const pe=s.find(S=>S.color==="L"),be=s.find(S=>S.color==="M");return!pe||!be?!1:be.value===pe.value+3;case"FULL_HOUSE_COLOR_PARITY":if(s.length!==5||!a.every(S=>S===e.color))return!1;const Te=e.parity==="ODD";if(!i.every(S=>S%2!==0===Te))return!1;const Ye=i.filter(S=>S===i[0]).length,qe=i.filter(S=>S===i[4]).length;return Ye===3&&qe===2||Ye===2&&qe===3;case"RUN_COLOR_PARITY":if(s.length!==3||!a.every(S=>S===e.color))return!1;const Me=e.parity==="ODD";return i.every(S=>S%2!==0===Me)?i[1]===i[0]+2&&i[2]===i[1]+2:!1;case"SET_PARITY_COLOR":if(s.length!==e.count||!a.every(S=>S===e.color)||!i.every(S=>S===i[0]))return!1;const R=e.parity==="ODD";return i[0]%2!==0===R;case"SPECIFIC_SET_MIXED":if(s.length!==3||!i.every(S=>S===e.val))return!1;const w=a.filter(S=>S==="L").length,N=a.filter(S=>S==="M").length;return w===e.countL&&N===e.countM;default:return!1}},Oo=()=>y.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,var(--tw-gradient-stops))] from-slate-900 via-slate-950 to-black"}),y.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-96 h-96 bg-pink-600/30 rounded-full blur-3xl animate-pulse"}),y.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-96 h-96 bg-yellow-400/30 rounded-full blur-3xl animate-pulse delay-700"})]}),tN=({event:s,onClose:e,currentUserId:i})=>{if(!s)return null;const{type:a,actorName:o,data:c,actorId:d,targetId:_}=s,p=i===_;if(i===d)return null;let x=null,A="",M=null;switch(a){case"GOAL_CHANGE":A="Goal Changed",M=y.jsx(Wc,{className:"text-purple-400",size:32}),x=y.jsxs("div",{className:"flex flex-col gap-4",children:[y.jsxs("div",{className:"text-center text-slate-300",children:[y.jsx("span",{className:"font-bold text-white",children:o})," changed"," ",c.goalType==="PERSONAL"?"their":"the"," ",y.jsx("span",{className:"font-bold text-purple-400",children:c.goalType==="PERSONAL"?"Personal":"Public"})," ","Goal!"]}),y.jsxs("div",{className:"flex items-center justify-center gap-4",children:[y.jsxs("div",{className:"opacity-60 scale-75 origin-right",children:[y.jsx(fl,{goal:c.oldGoal,small:!0}),y.jsx("div",{className:"text-center text-xs mt-1 text-slate-500",children:"OLD"})]}),y.jsx(nE,{className:"text-slate-500"}),y.jsxs("div",{className:"scale-90 origin-left",children:[y.jsx(fl,{goal:c.newGoal,small:!0}),y.jsx("div",{className:"text-center text-xs mt-1 text-green-400",children:"NEW"})]})]})]});break;case"GOAL_CLAIM":A="Goal Completed!",M=y.jsx(zh,{className:"text-yellow-400",size:32}),x=y.jsxs("div",{className:"flex flex-col gap-4 items-center",children:[y.jsxs("div",{className:"text-center text-slate-300",children:[y.jsx("span",{className:"font-bold text-white",children:o})," completed"," ",c.goalType==="PERSONAL"?"their":"the"," ",y.jsx("span",{className:"font-bold text-yellow-400",children:c.goalType})," ","goal!"]}),y.jsx(fl,{goal:c.goal}),y.jsx("div",{className:"flex gap-1 justify-center bg-slate-800/50 p-2 rounded-xl mt-2",children:c.cards.map((F,W)=>y.jsx(Zo,{card:F,tiny:!0},W))})]});break;case"TRADE":p?(A="Trade Received",M=y.jsx(sE,{className:"text-blue-400",size:32}),x=y.jsxs("div",{className:"flex flex-col gap-4 items-center",children:[y.jsxs("div",{className:"text-center text-slate-300",children:[y.jsx("span",{className:"font-bold text-white",children:o})," sent you cards!"]}),y.jsx("div",{className:"flex gap-2 justify-center",children:c.cards.map((F,W)=>y.jsx(Zo,{card:F,small:!0},W))})]})):(A="Trade Occurred",M=y.jsx(Nm,{className:"text-blue-400",size:32}),x=y.jsx("div",{className:"flex flex-col gap-4 items-center",children:y.jsxs("div",{className:"text-center text-slate-300 text-lg",children:[y.jsx("span",{className:"font-bold text-white",children:o})," gave"," ",y.jsxs("span",{className:"font-bold text-blue-400",children:[c.count," card",c.count>1?"s":""]})," ","to ",y.jsx("span",{className:"font-bold text-white",children:c.targetName}),"."]})}));break;default:return null}return y.jsx("div",{className:"fixed inset-0 z-200 flex items-center justify-center p-4 animate-in fade-in duration-300 pointer-events-none",children:y.jsxs("div",{className:"bg-slate-900/95 border-2 border-slate-700 rounded-2xl max-w-sm w-full p-6 shadow-2xl relative pointer-events-auto transform transition-all scale-100",children:[y.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-slate-500 hover:text-white",children:y.jsx(sa,{size:24})}),y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("div",{className:"mb-4 bg-slate-800 p-3 rounded-full border border-slate-700",children:M}),y.jsx("h3",{className:"text-2xl font-black text-white mb-4",children:A}),x,y.jsx("button",{onClick:e,className:"w-full mt-6 bg-slate-800 hover:bg-slate-700 text-white font-bold py-3 rounded-xl transition-colors",children:"Dismiss"})]})]})})},sm=({onConfirmLeave:s,onConfirmLobby:e,onCancel:i,isHost:a,inGame:o})=>y.jsx("div",{className:"fixed inset-0 z-200 bg-black/90 flex items-center justify-center p-4 animate-in fade-in duration-200",children:y.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl max-w-sm w-full p-6 text-center shadow-2xl",children:[y.jsx(Dm,{className:"mx-auto text-red-500 mb-4",size:48}),y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Leave Game?"}),y.jsx("p",{className:"text-slate-400 mb-6",children:o?"Leaving now will disrupt the game!":"You will be removed from the lobby."}),y.jsxs("div",{className:"flex flex-col gap-3",children:[y.jsx("button",{onClick:i,className:"bg-slate-800 hover:bg-slate-700 text-white font-bold py-3 rounded-xl transition-colors",children:"Stay (Cancel)"}),a&&o&&y.jsxs("button",{onClick:e,className:"bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl transition-colors flex items-center justify-center gap-2",children:[y.jsx(aE,{size:18})," Return Everyone to Lobby"]}),y.jsxs("button",{onClick:s,className:"bg-red-600 hover:bg-red-500 text-white font-bold py-3 rounded-xl transition-colors flex items-center justify-center gap-2",children:[y.jsx(oE,{size:18})," ",a&&o?"End Game for All":"Leave Room"]})]})]})}),nN=({goal:s,onClose:e})=>y.jsx("div",{className:"fixed inset-0 z-100 bg-black/80 flex items-center justify-center p-4 animate-in fade-in duration-200",onClick:e,children:y.jsxs("div",{className:"bg-slate-900 border-2 border-slate-700 rounded-2xl max-w-sm w-full p-6 shadow-2xl relative",onClick:i=>i.stopPropagation(),children:[y.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-slate-500 hover:text-white",children:y.jsx(sa,{size:24})}),y.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[y.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-800 flex items-center justify-center mb-2",children:y.jsx(lE,{size:32,className:"text-pink-400"})}),y.jsx("h3",{className:"text-2xl font-black text-white",children:s.text}),y.jsx("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700 w-full",children:y.jsx("p",{className:"text-slate-300 font-medium text-lg leading-relaxed",children:s.desc||"No description available."})}),y.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[y.jsx(zh,{className:"text-yellow-400",size:20}),y.jsxs("span",{className:"text-xl font-bold text-yellow-400",children:[s.points," Points"]})]}),y.jsx("button",{onClick:e,className:"w-full bg-slate-800 hover:bg-slate-700 text-white font-bold py-3 rounded-xl mt-4 transition-colors",children:"Got it"})]})]})}),iN=({completedGoals:s,onClose:e})=>{const i=[...s].sort((a,o)=>a.teamId.localeCompare(o.teamId));return y.jsx("div",{className:"fixed inset-0 z-200 bg-black/95 flex items-center justify-center p-4 animate-in fade-in duration-200",children:y.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl max-w-4xl w-full max-h-[90vh] flex flex-col shadow-2xl",children:[y.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-center bg-slate-800/50 rounded-t-2xl",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"bg-indigo-600 p-2 rounded-lg",children:y.jsx(iE,{className:"text-white",size:24})}),y.jsx("h2",{className:"text-2xl font-black text-white",children:"Game Report Card"})]}),y.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-700 rounded-full transition-colors text-slate-400 hover:text-white",children:y.jsx(sa,{size:24})})]}),y.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:Pi.map(a=>{const o=i.filter(c=>c.teamId===a.id);return o.length===0?null:y.jsxs("div",{className:`border-l-4 ${a.border} pl-6 py-2`,children:[y.jsx("h3",{className:`text-xl font-black mb-4 ${a.color}`,children:a.name}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map((c,d)=>y.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 border border-slate-700 flex flex-col gap-3",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsx("div",{className:"font-bold text-white text-lg",children:c.goal.text}),y.jsxs("div",{className:"text-xs text-slate-400",children:["Completed by ",c.playerName]})]}),y.jsxs("div",{className:"bg-yellow-400/10 text-yellow-400 font-bold px-2 py-1 rounded text-xs border border-yellow-400/20",children:["+",c.points," pts"]})]}),y.jsx("div",{className:"flex gap-1 justify-center bg-slate-900/50 p-2 rounded-lg",children:c.cards.map((_,p)=>y.jsx(Zo,{card:_,tiny:!0},p))})]},d))})]},a.id)})}),y.jsx("div",{className:"p-4 border-t border-slate-800 text-center bg-slate-800/30 rounded-b-2xl",children:y.jsx("button",{onClick:e,className:"bg-white text-slate-900 font-bold px-8 py-3 rounded-xl hover:scale-105 transition-transform",children:"Close Report"})})]})})},Zo=({card:s,onClick:e,selected:i,small:a,disabled:o,tiny:c})=>{if(!s)return y.jsx("div",{className:`border-2 border-dashed border-gray-700 rounded-xl bg-gray-800/50 ${a?"w-10 h-14":"w-20 h-28"}`});const d=s.color==="M"?Dv.MAGENTA:Dv.LEMON;return c?y.jsx("div",{className:`w-6 h-8 rounded flex items-center justify-center text-xs font-black ${d.bg} ${d.text} border border-white/20 shadow-sm`,children:s.value}):y.jsxs("button",{onClick:o?void 0:e,disabled:o,className:`
        relative rounded-xl font-black flex flex-col items-center justify-center transition-all shadow-lg select-none
        ${a?"w-12 h-16 text-xl":"w-20 h-28 md:w-24 md:h-32 text-4xl md:text-5xl"}
        ${d.bg} ${d.text} ${d.border} border-b-4
        ${i?"ring-2 ring-white -translate-y-2 z-10 scale-105":""}
        ${o?"opacity-40 cursor-not-allowed grayscale-[0.3]":"hover:brightness-110 cursor-pointer active:scale-95"}
      `,children:[y.jsx("span",{children:s.value}),!a&&y.jsxs(y.Fragment,{children:[y.jsx("span",{className:"absolute top-1 left-2 text-[10px] opacity-70",children:d.id}),y.jsx("span",{className:"absolute bottom-1 right-2 text-[10px] opacity-70 rotate-180",children:d.id})]})]})},fl=({goal:s,isPublic:e,isPersonal:i,completed:a,onClick:o,selected:c,small:d})=>y.jsxs("div",{onClick:o,className:`
      relative rounded-xl border flex flex-col items-center justify-center text-center overflow-hidden transition-all
      ${a?"bg-green-900/40 border-green-500 opacity-60":e?"bg-indigo-900/60 border-indigo-500 shadow-[0_0_15px_rgba(99,102,241,0.2)]":"bg-slate-800 border-slate-600"}
      ${c?"ring-2 ring-white scale-105 z-20":""}
      ${d?"w-24 h-16 p-1":"w-full h-full min-h-[100px] p-2 hover:bg-slate-700 cursor-pointer"}
    `,children:[e&&!d&&y.jsx("div",{className:"absolute top-0 inset-x-0 bg-indigo-600 text-[9px] font-bold text-white uppercase tracking-widest py-0.5",children:"Public Goal"}),i&&!d&&y.jsx("div",{className:"absolute top-0 inset-x-0 bg-pink-600 text-[9px] font-bold text-white uppercase tracking-widest py-0.5",children:"My Goal"}),y.jsx("div",{className:"flex-1 flex items-center justify-center px-1",children:y.jsx("p",{className:`text-white font-bold ${d?"text-[9px] leading-tight line-clamp-2":"text-xs md:text-sm leading-tight"}`,children:s?.text||"???"})}),!d&&y.jsxs("div",{className:"mt-1 flex items-center gap-1 bg-black/40 px-2 rounded-full",children:[y.jsx(zh,{size:10,className:"text-yellow-400"}),y.jsxs("span",{className:"text-yellow-400 font-bold text-xs",children:[s?.points," pts"]})]}),a&&y.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center backdrop-blur-[1px]",children:y.jsx(na,{className:"text-green-500 drop-shadow-lg",size:d?20:32})})]});function sN(){const[s,e]=tt.useState(null),[i,a]=tt.useState("menu"),[o,c]=tt.useState(""),[d,_]=tt.useState(()=>localStorage.getItem(el)||""),[p,v]=tt.useState(null),[x,A]=tt.useState(""),[M,F]=tt.useState(!1),[W,se]=tt.useState(!1),[Z,pe]=tt.useState([]),[be,Te]=tt.useState(!1),[Ye,qe]=tt.useState(!1),[Me,R]=tt.useState(!1),[w,N]=tt.useState(!1),[S,D]=tt.useState(!1),[k,C]=tt.useState(null),[lt,Et]=tt.useState(null),[q,ne]=tt.useState(0),[de,De]=tt.useState(null),[Ke,V]=tt.useState(null),[K,ie]=tt.useState(()=>localStorage.getItem("gameHub_playerName")||"");tt.useEffect(()=>{K&&localStorage.setItem("gameHub_playerName",K)},[K]),tt.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await TS(im,__initial_auth_token):await yS(im))(),AS(im,e)},[]),tt.useEffect(()=>{const re=Sv(dn(mn,"game_hub_settings","config"),le=>{le.exists()&&le.data()[$I]?.maintenance?F(!0):F(!1)});return()=>re()},[]),tt.useEffect(()=>{if(!d||!s)return;const re=Sv(dn(mn,"artifacts",Sn,"public","data","rooms",d),le=>{if(le.exists()){const ae=le.data();if(!ae.players.some(ue=>ue.id===s.uid)){_(""),localStorage.removeItem(el),a("menu"),A("You were removed.");return}v(ae),a(ae.status==="lobby"?"lobby":"game"),ae.lastEvent&&ae.lastEvent.id!==q&&(ne(ae.lastEvent.id),Et(ae.lastEvent))}else _(""),localStorage.removeItem(el),a("menu"),A("Room ended.")});return()=>re()},[d,s,q]);const oe=async()=>{if(!p||!s)return;const re=p.players.map(le=>le.id===s.uid?{...le,ready:!le.ready}:le);await Zn(dn(mn,"artifacts",Sn,"public","data","rooms",d),{players:re})},xe=async()=>{if(!K)return A("Name required");D(!0);const re="123456789ABCDEFGHIJKLMNPQRSTUVWXYZ";let le="";for(let ue=0;ue<6;ue++)le+=re.charAt(Math.floor(Math.random()*re.length));const ae={roomId:le,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:K,teamId:"A",hand:[],ready:!1}],logs:[],completedGoals:[],lastEvent:null};await rI(dn(mn,"artifacts",Sn,"public","data","rooms",le),ae),_(le),localStorage.setItem(el,le),a("lobby"),D(!1)},Re=async()=>{if(!o||!K)return A("Enter Code and Name");D(!0);const re=dn(mn,"artifacts",Sn,"public","data","rooms",o),le=await Tv(re);if(!le.exists())return D(!1),A("Room not found");const ae=le.data();if(ae.status!=="lobby")return D(!1),A("Game in progress");if(ae.players.length>=6)return D(!1),A("Room full");ae.players.length;const ue=[...ae.players,{id:s.uid,name:K,teamId:null,hand:[],ready:!1}];await Zn(re,{players:ue}),_(o),localStorage.setItem(el,o),D(!1)},je=()=>{const re=p.roomId,le=()=>{se(!0),setTimeout(()=>se(!1),2e3),triggerFeedback&&triggerFeedback("neutral","COPIED!","",na)};try{navigator.clipboard.writeText(re),le()}catch{const ue=document.createElement("textarea");ue.value=re,document.body.appendChild(ue),ue.select(),document.execCommand("copy"),document.body.removeChild(ue),le()}},Tt=async()=>{const re=p.players.length;if(re!==4&&re!==6){alert("Strictly 4 or 6 players required.");return}const le=[...p.players],ae=re===4?["A","B"]:["A","B","C"];le.forEach((et,Nt)=>{re===4?et.teamId=Nt%2===0?"A":"B":et.teamId=Nt%3===0?"A":Nt%3===1?"B":"C",et.hand=[],et.score=0,et.ready=!1});const ue=ZI(),Y=cE([...JI]),ge=[ue.pop(),ue.pop(),ue.pop()],te=Y.pop();le.forEach((et,Nt)=>{const Ht=Nt===0?1:Nt===1?2:3;for(let cn=0;cn<Ht;cn++)et.hand.push(ue.pop());et.personalGoal=Y.pop()});const We={};ae.forEach(et=>{We[et]={goals:0,points:0}});const ti=le[0].hand.length>6?"CHECK_LIMIT":"PLAYING";await Zn(dn(mn,"artifacts",Sn,"public","data","rooms",d),{status:"playing",players:le,deck:ue,market:ge,goalDeck:Y,publicGoal:te,turnIndex:0,turnPhase:ti,cardsDrawn:0,tradesPerformed:0,goalChanged:!1,teamScores:We,completedGoals:[],lastEvent:{id:Date.now(),type:"GAME_START",actorName:"System"},logs:[{id:Date.now(),text:"Game Started! Good Luck.",type:"neutral"}]})},ot=async()=>{if(!d||!s)return;const re=dn(mn,"artifacts",Sn,"public","data","rooms",d);try{const le=await Tv(re);if(le.exists()){const ae=le.data();if(ae.hostId===s.uid)await xv(re);else{const ue=ae.players.findIndex(ge=>ge.id===s.uid),Y=ae.players.filter(ge=>ge.id!==s.uid);if(Y.length===0)await xv(re);else{let ge=ae.turnIndex,te=!1;ue<ae.turnIndex?ge=Math.max(0,ae.turnIndex-1):ue===ae.turnIndex&&(te=!0),ge>=Y.length&&(ge=0);const We={players:Y,turnIndex:ge,logs:sr({id:Date.now(),text:`${K} left the game.`,type:"danger"})};if(te&&Y.length>0){const gn=Y[ge];We.turnPhase=gn.hand.length>6?"CHECK_LIMIT":"PLAYING",We.cardsDrawn=0,We.tradesPerformed=0,We.goalChanged=!1}await Zn(re,We)}}}}catch(le){console.error("Error leaving room",le)}_(""),localStorage.removeItem(el),a("menu"),v(null),R(!1)},Un=async()=>{if(!p||p.hostId!==s.uid)return;const re=p.players.map(le=>({...le,hand:[],ready:!1,score:0,personalGoal:null}));await Zn(dn(mn,"artifacts",Sn,"public","data","rooms",d),{status:"lobby",players:re,deck:[],market:[],goalDeck:[],publicGoal:null,logs:[],teamScores:{},completedGoals:[],turnIndex:0,lastEvent:null}),R(!1)},xs=async()=>{await Tt()},Ss=async re=>{if(!p||p.hostId!==s.uid)return;const le=p.players.filter(ae=>ae.id!==re);await Zn(dn(mn,"artifacts",Sn,"public","data","rooms",d),{players:le})},As=async re=>{const le=p.players.findIndex(ge=>ge.id===s.uid),ae=p.players[le],ue=ae.hand.filter(ge=>ge.id!==re.id),Y={};Y.players=[...p.players],Y.players[le].hand=ue,Y.deck=[re,...p.deck],ue.length<=6&&(Y.turnPhase="PLAYING"),Y.logs=sr({id:Date.now(),text:`${ae.name} discarded a card (Recycled).`,type:"neutral"}),await Zn(dn(mn,"artifacts",Sn,"public","data","rooms",d),Y)},Cn=async re=>{if(p.cardsDrawn>=2){alert("You have already drawn 2 cards this turn.");return}const le=p.players.findIndex(We=>We.id===s.uid),ae=p.players[le];let ue,Y={players:[...p.players],deck:[...p.deck],market:[...p.market]};re===-1?ue=Y.deck.pop():(ue=Y.market[re],Y.market[re]=Y.deck.length>0?Y.deck.pop():null),Y.players[le].hand.push(ue);const ge=p.cardsDrawn+1;Y.cardsDrawn=ge;let te=re===-1?"drew from deck":`took ${ue.value} from market`;Y.logs=sr({id:Date.now(),text:`${ae.name} ${te}.`,type:"neutral"}),await Zn(dn(mn,"artifacts",Sn,"public","data","rooms",d),Y)},Sr=async re=>{if(p.goalChanged){alert("You can only change a goal once per turn.");return}const le=p.players.findIndex(te=>te.id===s.uid),ae=p.players[le],ue={players:[...p.players],goalDeck:[...p.goalDeck],publicGoal:p.publicGoal};let Y,ge;re==="PERSONAL"?(Y=ae.personalGoal,ue.goalDeck.unshift(Y),ge=ue.goalDeck.pop(),ue.players[le].personalGoal=ge):(Y=p.publicGoal,ue.goalDeck.unshift(Y),ge=ue.goalDeck.pop(),ue.publicGoal=ge),ue.goalChanged=!0,ue.logs=sr({id:Date.now(),text:`${ae.name} changed the ${re==="PERSONAL"?"Personal":"Public"} Goal.`,type:"neutral"}),ue.lastEvent={id:Date.now(),type:"GOAL_CHANGE",actorId:s.uid,actorName:ae.name,data:{oldGoal:Y,newGoal:ge,goalType:re}},await Zn(dn(mn,"artifacts",Sn,"public","data","rooms",d),ue)},Ki=async re=>{const le=p.players.findIndex(et=>et.id===s.uid),ae=p.players[le],ue=re==="PERSONAL"?ae.personalGoal:p.publicGoal;if(!eN(Z,ue)){alert("Invalid selection for this goal!");return}const Y={players:[...p.players],goalDeck:[...p.goalDeck],teamScores:{...p.teamScores},deck:[...p.deck]},ge=Z.map(et=>et.id);Y.players[le].hand=ae.hand.filter(et=>!ge.includes(et.id)),Y.deck=[...Z,...Y.deck];const te=ae.teamId;Y.teamScores[te].goals+=1,Y.teamScores[te].points+=ue.points;const We={id:Date.now(),teamId:te,playerName:ae.name,goal:ue,cards:Z,points:ue.points};Y.completedGoals=sr(We),re==="PERSONAL"?Y.players[le].personalGoal=Y.goalDeck.pop():Y.publicGoal=Y.goalDeck.pop();let gn="success",ti=`${ae.name} claimed ${ue.text} (+${ue.points}pts)!`;Y.teamScores[te].goals>=8&&(Y.status="finished",ti=`GAME OVER! ${Pi.find(et=>et.id===te).name} completed 8 goals!`),Y.logs=sr({id:Date.now(),text:ti,type:gn}),Y.lastEvent={id:Date.now(),type:"GOAL_CLAIM",actorId:s.uid,actorName:ae.name,data:{goal:ue,cards:Z,goalType:re}},pe([]),await Zn(dn(mn,"artifacts",Sn,"public","data","rooms",d),Y)},Ar=async re=>{if(p.tradesPerformed>=2){alert("Max 2 cards per turn.");return}if(Z.length!==1&&Z.length!==2){alert("Select 1 or 2 cards.");return}if(p.tradesPerformed+Z.length>2){alert("Can only trade 2 total.");return}const le=p.players.findIndex(te=>te.id===s.uid),ae=p.players.findIndex(te=>te.id===re),ue=p.players[ae],Y={players:[...p.players]},ge=Z.map(te=>te.id);Y.players[le].hand=Y.players[le].hand.filter(te=>!ge.includes(te.id)),Y.players[ae].hand.push(...Z),Y.tradesPerformed=p.tradesPerformed+Z.length,Y.logs=sr({id:Date.now(),text:`${p.players[le].name} gave ${Z.length} card(s) to ${p.players[ae].name}.`,type:"neutral"}),Y.lastEvent={id:Date.now(),type:"TRADE",actorId:s.uid,actorName:p.players[le].name,targetId:re,targetName:ue.name,data:{count:Z.length,cards:Z,targetName:ue.name}},pe([]),V(null),await Zn(dn(mn,"artifacts",Sn,"public","data","rooms",d),Y)},wr=async()=>{if(p.cardsDrawn<2){alert("You must draw 2 cards before passing your turn.");return}const re=(p.turnIndex+1)%p.players.length,le=p.players[re],ae=le.hand.length>6?"CHECK_LIMIT":"PLAYING";await Zn(dn(mn,"artifacts",Sn,"public","data","rooms",d),{turnIndex:re,turnPhase:ae,cardsDrawn:0,tradesPerformed:0,goalChanged:!1,logs:sr({id:Date.now(),text:`Turn passed to ${le.name}`,type:"neutral"})})};if(M)return y.jsx("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:y.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[y.jsx(EI,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),y.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),y.jsx("p",{className:"text-gray-400",children:"The bond is broken. Take some time to rescue your friendship."})]})});if(!s)return y.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center text-pink-500 animate-pulse",children:"Alliance Awakens..."});if(d&&!p&&!x)return y.jsxs("div",{className:"min-h-screen bg-zinc-950 flex flex-col items-center justify-center text-white p-4",children:[y.jsx(Oo,{}),y.jsxs("div",{className:"bg-zinc-900/80 backdrop-blur p-8 rounded-2xl border border-zinc-700 shadow-2xl flex flex-col items-center gap-4 animate-in fade-in zoom-in duration-300",children:[y.jsx(OI,{size:48,className:"text-pink-500 animate-spin"}),y.jsxs("div",{className:"text-center",children:[y.jsx("h2",{className:"text-xl font-bold",children:"Reconnecting..."}),y.jsx("p",{className:"text-zinc-400 text-sm",children:"Resuming your session"})]})]})]});if(i==="menu")return y.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center p-4 relative overflow-y-auto font-sans",children:[y.jsx(Oo,{}),Ye&&y.jsx("div",{className:"fixed inset-0 bg-black/90 z-200 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-slate-900 max-w-3xl w-full max-h-[85vh] overflow-y-auto rounded-2xl border border-slate-700 shadow-2xl relative flex flex-col",children:[y.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-800 bg-slate-900 sticky top-0 z-10",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"bg-pink-600 p-2 rounded-xl",children:y.jsx(Do,{className:"text-white",size:24})}),y.jsx("h2",{className:"text-3xl font-black text-white tracking-tight",children:"Code of Conduct"})]}),y.jsx("button",{onClick:()=>qe(!1),className:"p-2 bg-slate-800 rounded-full text-slate-400 hover:text-white transition-colors border border-slate-700 hover:bg-slate-700",children:y.jsx(sa,{size:20})})]}),y.jsxs("div",{className:"p-8 space-y-10 text-slate-300",children:[y.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[y.jsxs("div",{children:[y.jsxs("h3",{className:"text-2xl font-bold text-white mb-3 flex items-center gap-2",children:[y.jsx(Iv,{className:"text-pink-500"})," The Basics"]}),y.jsxs("p",{className:"leading-relaxed text-lg",children:["Together is a ",y.jsx("strong",{children:"cooperative team game"}),". You are paired with the player sitting opposite you. Your goal is to complete specific patterns called"," ",y.jsx("strong",{children:"Goal Cards"})," faster than the other teams."]})]}),y.jsxs("div",{className:"bg-slate-800 p-6 rounded-2xl border border-slate-700 shadow-inner",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[y.jsx("div",{className:"w-12 h-16 bg-pink-600 rounded-lg border-2 border-pink-400"}),y.jsx("div",{className:"w-12 h-16 bg-yellow-400 rounded-lg border-2 border-yellow-200"}),y.jsxs("div",{className:"text-sm font-bold text-slate-400",children:["The Deck has numbers ",y.jsx("strong",{children:"1-8"})," in two colors:"," ",y.jsx("span",{className:"text-pink-400",children:"Magenta"})," &"," ",y.jsx("span",{className:"text-yellow-400",children:"Lemon"}),"."]})]}),y.jsxs("div",{className:"text-xs bg-slate-900 p-3 rounded-lg text-slate-400",children:[y.jsx("strong",{children:"Winning Condition:"})," The game ends when a team claims ",y.jsx("strong",{children:"8 Goals"}),". The team with the highest score wins!"]})]})]}),y.jsx("hr",{className:"border-slate-800"}),y.jsxs("section",{children:[y.jsxs("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[y.jsx(nm,{className:"text-blue-400"})," Turn Structure"]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"bg-slate-800/50 p-5 rounded-xl border border-slate-700/50 relative overflow-hidden group hover:border-blue-500/30 transition-colors",children:[y.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 font-black text-6xl group-hover:opacity-20 transition-opacity",children:"1"}),y.jsx("h4",{className:"font-bold text-white text-lg mb-2",children:"Cleanup"}),y.jsxs("p",{className:"text-sm",children:["If you start your turn with"," ",y.jsx("strong",{children:"more than 6 cards"}),", you must discard down to 6 before doing anything else."]})]}),y.jsxs("div",{className:"bg-slate-800/50 p-5 rounded-xl border border-slate-700/50 relative overflow-hidden group hover:border-blue-500/30 transition-colors",children:[y.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 font-black text-6xl group-hover:opacity-20 transition-opacity",children:"2"}),y.jsx("h4",{className:"font-bold text-white text-lg mb-2",children:"Actions (Any Order)"}),y.jsxs("p",{className:"text-sm",children:["You can Draw, Trade, or Claim goals in any order. BUT you ",y.jsx("strong",{children:"MUST draw 2 cards"})," before passing."]})]}),y.jsxs("div",{className:"bg-slate-800/50 p-5 rounded-xl border border-slate-700/50 relative overflow-hidden group hover:border-blue-500/30 transition-colors",children:[y.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 font-black text-6xl group-hover:opacity-20 transition-opacity",children:"3"}),y.jsx("h4",{className:"font-bold text-white text-lg mb-2",children:"Pass"}),y.jsxs("p",{className:"text-sm",children:["Once you have drawn your 2 cards and finished your moves, ",y.jsx("strong",{children:"Pass"})," the turn."]})]})]})]}),y.jsx("hr",{className:"border-slate-800"}),y.jsxs("section",{children:[y.jsxs("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[y.jsx(Nv,{className:"text-yellow-400"})," Valid Actions"]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex gap-4 items-start",children:[y.jsx("div",{className:"bg-green-500/20 p-3 rounded-lg text-green-400 shrink-0",children:y.jsx(na,{size:24})}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-lg font-bold text-white",children:"Claim a Goal"}),y.jsxs("p",{className:"text-sm text-slate-400",children:["Select cards from your hand that match your"," ",y.jsx("strong",{children:"Personal Goal"})," or the shared"," ",y.jsx("strong",{children:"Public Goal"}),". If valid, you score points and get a new goal."]})]})]}),y.jsxs("div",{className:"flex gap-4 items-start",children:[y.jsx("div",{className:"bg-blue-500/20 p-3 rounded-lg text-blue-400 shrink-0",children:y.jsx(Nm,{size:24})}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-lg font-bold text-white",children:"Trade Cards"}),y.jsxs("p",{className:"text-sm text-slate-400",children:["Give 1 or 2 cards from your hand to your partner. You cannot receive cards, only give.",y.jsx("strong",{children:"Limit:"})," Max 2 cards traded per turn."]})]})]}),y.jsxs("div",{className:"flex gap-4 items-start",children:[y.jsx("div",{className:"bg-purple-500/20 p-3 rounded-lg text-purple-400 shrink-0",children:y.jsx(Wc,{size:24})}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-lg font-bold text-white",children:"Cycle Goal"}),y.jsx("p",{className:"text-sm text-slate-400",children:"Once per turn, you can discard your current Personal Goal or the Public Goal and draw a new one. Use this if a goal seems impossible!"})]})]})]})]}),y.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 p-4 rounded-xl flex gap-4 items-center",children:[y.jsx("div",{className:"bg-red-500/20 p-2 rounded-full text-red-400",children:y.jsx(Dm,{size:24})}),y.jsxs("p",{className:"text-sm font-medium text-red-200",children:[y.jsx("strong",{children:"Communication Rule:"}),' You strictly cannot talk about the specific numbers or colors in your hand. You CAN say "I need high cards" or "I can help with that goal," but not "I have a Magenta 5."']})]})]}),y.jsx("div",{className:"p-6 border-t border-slate-800 bg-slate-900 sticky bottom-0 text-center",children:y.jsx("button",{onClick:()=>qe(!1),className:"bg-white text-slate-900 font-bold py-4 px-12 rounded-xl hover:scale-105 transition-transform shadow-xl",children:"Got It, Let's Play!"})})]})}),y.jsxs("div",{className:"z-10 bg-slate-900/80 backdrop-blur-xl border border-slate-700 p-8 rounded-3xl w-full max-w-md shadow-2xl flex flex-col gap-6 my-auto",children:[y.jsxs("div",{className:"text-center",children:[y.jsxs("div",{className:"flex justify-center gap-2 mb-4",children:[y.jsx("div",{className:"w-12 h-12 bg-pink-600 rounded-xl rotate-3 flex items-center justify-center shadow-lg shadow-pink-500/20",children:y.jsx(AI,{className:"text-white",size:24})}),y.jsx("div",{className:"w-12 h-12 bg-yellow-400 rounded-xl -rotate-6 flex items-center justify-center shadow-lg shadow-yellow-400/20",children:y.jsx(PI,{className:"text-yellow-900",size:24})})]}),y.jsx("h1",{className:"text-5xl font-black text-white tracking-tighter mb-1",children:"TOGETHER"}),y.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-xs",children:"UNITED WE STAND"})]}),x&&y.jsx("div",{className:"bg-red-500/20 border border-red-500/50 text-red-200 p-3 rounded-xl text-center text-sm font-bold",children:x}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-slate-400 text-xs font-bold uppercase ml-1",children:"Your Name"}),y.jsx("input",{className:"w-full bg-slate-950/50 border border-slate-700 focus:border-pink-500 p-4 rounded-xl text-white font-bold outline-none transition-all placeholder:text-slate-600",placeholder:"Enter Name",value:K,onChange:re=>ie(re.target.value)})]}),y.jsxs("button",{onClick:xe,disabled:S,className:"w-full bg-linear-to-r from-pink-600 to-purple-600 hover:from-pink-500 hover:to-purple-500 text-white p-4 rounded-xl font-black shadow-lg shadow-pink-900/20 active:scale-95 transition-all flex items-center justify-center gap-2",children:[y.jsx(wv,{size:20})," CREATE CO-OPERATION"]}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("div",{className:"w-full border-t border-slate-700"})}),y.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:y.jsx("span",{className:"bg-slate-900 px-2 text-slate-500 font-bold",children:"Or Join"})})]}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[y.jsx("input",{className:"w-full sm:flex-1 bg-slate-950/50 border border-slate-700 focus:border-yellow-400 p-4 rounded-xl text-white font-mono uppercase outline-none placeholder:text-slate-600",placeholder:"ROOM CODE",value:o,onChange:re=>c(re.target.value.toUpperCase())}),y.jsx("button",{onClick:Re,disabled:S,className:"w-full sm:w-auto bg-yellow-400 hover:bg-yellow-300 text-yellow-900 px-8 py-4 rounded-xl font-black shadow-lg shadow-yellow-900/20 active:scale-95 transition-all",children:"JOIN"})]})]}),y.jsxs("button",{onClick:()=>qe(!0),className:"flex items-center justify-center gap-2 text-slate-500 hover:text-white transition-colors text-sm font-bold mt-2",children:[y.jsx(Do,{size:16})," Code of Conduct"]})]}),y.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by Duos. A tribute game.",y.jsx("br",{}),"Developed by ",y.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",y.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-pink-500 underline hover:text-pink-600",children:"GAMEHUB"})," ","for more games."]})]});const Qe=p?.players[p.turnIndex]?.id===s?.uid,Ge=p?.players.find(re=>re.id===s?.uid),Rn=Pi.find(re=>re.id===Ge?.teamId);if(p?.players.find(re=>re.teamId===Ge?.teamId&&re.id!==s?.uid),i==="lobby"&&p){const re=p.hostId===s.uid,le=p.players.length,ae=le===4||le===6;return y.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center p-6 text-white relative",children:[y.jsx(Oo,{}),y.jsx(WI,{}),Me&&y.jsx(sm,{onCancel:()=>R(!1),onConfirmLeave:ot,onConfirmLobby:()=>{Un(),R(!1)},isHost:re,inGame:!1}),y.jsxs("div",{className:"z-10 w-full max-w-4xl bg-slate-900/90 backdrop-blur p-8 rounded-3xl border border-slate-700 shadow-2xl",children:[y.jsxs("div",{className:"flex justify-between items-center mb-8",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg md:text-xl text-pink-500 font-bold uppercase",children:"Co-ops Code"}),y.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[y.jsx("div",{className:"text-2xl md:text-3xl font-mono text-white font-black",children:p.roomId}),y.jsxs("div",{className:"relative",children:[y.jsx("button",{onClick:je,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-gray-400 hover:text-white",children:W?y.jsx(na,{size:16,className:"text-green-500"}):y.jsx(pI,{size:16})}),W&&y.jsx("div",{className:"absolute left-full ml-2 top-1/2 -translate-y-1/2 bg-pink-500 text-black text-xs font-bold px-2 py-1 rounded shadow-lg animate-fade-in-up whitespace-nowrap",children:"Copied!"})]})]})]}),y.jsx("button",{onClick:()=>R(!0),className:"p-3 bg-red-500/20 hover:bg-red-500/40 text-red-200 rounded-xl transition-colors",children:y.jsx(oE,{size:24})})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8",children:[p.players.map((ue,Y)=>{const ge=le===4?Y%2===0?"A":"B":Y%3===0?"A":Y%3===1?"B":"C",te=Pi.find(We=>We.id===ge);return y.jsxs("div",{className:`bg-slate-800 border-2 ${te?te.border:"border-slate-700"} p-4 rounded-2xl flex items-center justify-between gap-4`,children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold text-xl ${te?te.bg:"bg-slate-700"} ${te?te.color:"text-slate-400"}`,children:ue.name[0]}),y.jsxs("div",{children:[y.jsxs("div",{className:"font-bold text-lg flex items-center gap-2",children:[y.jsx(GI,{size:16,className:"text-slate-400"}),ue.name,p.hostId===ue.id&&y.jsx(wv,{size:14,className:"text-yellow-400"})]}),y.jsxs("div",{className:`text-xs font-bold uppercase flex items-center gap-2 mt-1 ${te?te.color:"text-slate-500"}`,children:[y.jsx(YI,{size:14}),te?te.name:"Waiting..."]})]})]}),re&&ue.id!==s.uid&&y.jsx("button",{onClick:()=>Ss(ue.id),className:"text-slate-600 hover:text-red-500 transition-colors",title:"Kick Player",children:y.jsx(zI,{size:18})})]},ue.id)}),Array.from({length:Math.max(0,(le<4?4:6)-le)}).map((ue,Y)=>y.jsx("div",{className:"border-2 border-dashed border-slate-800 rounded-2xl p-4 flex items-center justify-center text-slate-700 font-bold",children:"Waiting for Player..."},Y))]}),re?y.jsx("button",{onClick:Tt,disabled:!ae,className:`w-full py-6 rounded-2xl font-black text-2xl tracking-widest shadow-xl transition-all ${ae?"bg-green-600 hover:bg-green-500 text-white hover:scale-[1.02]":"bg-slate-800 text-slate-600 cursor-not-allowed"}`,children:ae?"START TOGETHER":`WAITING FOR ${le<4?"4":"4 or 6"} PLAYERS`}):y.jsx("div",{className:"text-center py-8 bg-slate-900/50 rounded-2xl animate-pulse text-slate-500 font-bold",children:"Waiting for Host to start..."})]}),y.jsx(Ov,{})]})}if(i==="game"&&p){const re=p.players[p.turnIndex],le=p.hostId===s.uid,ae=p.players.filter(Y=>Y.id!==p.hostId).every(Y=>Y.ready);if(p.status==="finished"){const Y=Object.keys(p.teamScores).reduce((te,We)=>p.teamScores[te].points>p.teamScores[We].points?te:We),ge=Pi.find(te=>te.id===Y);return y.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center p-8 text-center text-white font-sans relative",children:[y.jsx(Oo,{}),w&&y.jsx(iN,{completedGoals:p.completedGoals||[],onClose:()=>N(!1)}),Me&&y.jsx(sm,{onConfirmLeave:ot,onConfirmLobby:()=>{Un(),R(!1)},onCancel:()=>R(!1),isHost:le,inGame:!0}),y.jsxs("div",{className:"fixed top-0 left-0 right-0 bg-slate-900 border-b border-slate-800 p-2 md:p-4 flex items-center justify-between shadow-md z-40 backdrop-blur-md bg-opacity-90",children:[y.jsx("div",{className:"flex gap-2 md:gap-4 overflow-x-auto",children:Pi.map(te=>{if(!p.teamScores[te.id]||p.players.length===4&&te.id==="C")return null;const We=p.teamScores[te.id],gn=Ge?.teamId===te.id;return y.jsxs("div",{className:`flex flex-col md:flex-row items-center gap-1 md:gap-3 px-3 py-1 rounded-lg border ${Ge?.teamId===te.id?te.border:"border-transparent"}`,children:[y.jsx("span",{className:`font-black text-xs md:text-sm uppercase ${te.color}`,children:te.name}),y.jsxs("div",{className:"flex gap-2 text-xs font-bold text-slate-400",children:[y.jsxs("span",{children:[We.goals,"/8 Goals"]}),gn&&y.jsxs("span",{children:[We.points," Pts"]})]})]},te.id)})}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>qe(!0),className:"p-2 rounded-full text-slate-500 hover:bg-slate-800",title:"How to Play",children:y.jsx(Do,{size:20})}),y.jsx("button",{onClick:()=>Te(!be),className:`p-2 rounded-full ${be?"bg-slate-800 text-white":"text-slate-500 hover:bg-slate-800"}`,children:y.jsx(Rv,{size:20})}),y.jsx("button",{onClick:()=>R(!0),className:"p-2 rounded-full text-red-500 hover:bg-red-900/20",title:"Leave Game",children:y.jsx(Cv,{size:20})})]})]}),be&&y.jsxs("div",{className:"fixed top-16 md:top-20 right-4 w-72 max-h-64 bg-slate-900/95 backdrop-blur shadow-2xl rounded-xl border border-slate-700 z-50 flex flex-col overflow-hidden",children:[y.jsx("div",{className:"bg-slate-800 p-2 text-xs font-bold text-slate-400 uppercase border-b border-slate-700",children:"Game Log"}),y.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:p.logs.slice().reverse().map(te=>y.jsx("div",{className:`text-xs p-2 rounded ${te.type==="success"?"bg-green-900/30 text-green-400 border border-green-900/50":"bg-slate-800 text-slate-400"}`,children:te.text},te.id))})]}),Ye&&y.jsx("div",{className:"fixed inset-0 bg-black/90 z-200 flex items-center justify-center p-4 text-left",children:y.jsxs("div",{className:"bg-slate-900 max-w-3xl w-full max-h-[85vh] overflow-y-auto rounded-2xl border border-slate-700 p-6 relative",children:[y.jsx("button",{onClick:()=>qe(!1),className:"absolute top-4 right-4 text-slate-500",children:y.jsx(sa,{})}),y.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Game Rules"}),y.jsx("p",{className:"text-slate-400",children:"See main menu for full rules."})]})}),y.jsxs("div",{className:"z-10 bg-slate-900/80 backdrop-blur p-8 rounded-3xl border border-slate-700 shadow-2xl max-w-2xl w-full mt-20",children:[y.jsx(zh,{size:80,className:"text-yellow-400 mb-6 mx-auto animate-bounce"}),y.jsxs("h1",{className:"text-6xl font-black mb-2",children:[ge.name," Wins!"]}),y.jsx("div",{className:"grid grid-cols-2 gap-8 my-8",children:Pi.map(te=>p.teamScores[te.id]?y.jsxs("div",{className:`bg-slate-800 p-6 rounded-2xl border ${te.border}`,children:[y.jsx("h2",{className:`text-2xl font-bold ${te.color}`,children:te.name}),y.jsxs("div",{className:"text-4xl font-black mt-2",children:[p.teamScores[te.id].points," pts"]}),y.jsxs("div",{className:"text-sm text-slate-400",children:[p.teamScores[te.id].goals," goals"]})]},te.id):null)}),y.jsxs("button",{onClick:()=>N(!0),className:"w-full bg-slate-800 hover:bg-slate-700 text-white font-bold py-3 rounded-xl mb-8 border border-slate-600 transition-colors flex items-center justify-center gap-2",children:[y.jsx(iE,{size:20})," View Game Report Card"]}),y.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:p.players.map(te=>y.jsxs("div",{className:`px-3 py-1 rounded-full text-sm border flex items-center gap-2 ${te.ready?"border-green-500 bg-green-900/20 text-green-300":"border-gray-700 bg-gray-800 text-gray-400"}`,children:[te.name," ",te.ready&&y.jsx(na,{size:12})]},te.id))}),le?y.jsxs("div",{className:"flex gap-4",children:[y.jsxs("button",{onClick:xs,disabled:!ae,className:`flex-1 py-3 rounded-xl font-bold text-lg flex items-center justify-center gap-2 transition-transform ${ae?"bg-green-600 hover:bg-green-500 text-white hover:scale-105":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,children:[y.jsx(nm,{size:20})," Restart Game"]}),y.jsxs("button",{onClick:Un,disabled:!ae,className:`flex-1 py-3 rounded-xl font-bold text-lg flex items-center justify-center gap-2 transition-transform ${ae?"bg-blue-600 hover:bg-blue-500 text-white hover:scale-105":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,children:[y.jsx(aE,{size:20})," Return to Lobby"]})]}):Ge.ready?y.jsx("div",{className:"text-green-400 font-bold animate-pulse border border-green-500/30 bg-green-900/10 p-4 rounded-xl",children:"Waiting for Host..."}):y.jsx("button",{onClick:oe,className:"w-full py-4 bg-green-600 hover:bg-green-500 text-white rounded-xl font-bold text-lg shadow-lg hover:scale-105 transition-transform animate-pulse",children:"Ready for Next Game"})]})]})}const ue=({type:Y,goal:ge})=>y.jsxs("div",{className:"absolute inset-0 bg-slate-900/90 backdrop-blur-sm z-30 flex flex-col items-center justify-center gap-2 rounded-xl animate-in fade-in duration-200",onClick:te=>te.stopPropagation(),children:[y.jsxs("div",{className:"flex gap-4 items-center justify-center",children:[y.jsxs("button",{onClick:()=>{Ki(Y),De(null)},disabled:Z.length===0,className:"flex flex-col items-center justify-center gap-1 group text-green-400 disabled:opacity-30 disabled:cursor-not-allowed hover:text-green-300 transition-colors",title:"Claim Goal (Select Cards First)",children:[y.jsx("div",{className:"bg-green-900/40 p-2 rounded-full border border-green-500/50 group-hover:scale-110 transition-transform",children:y.jsx(na,{size:20})}),y.jsx("span",{className:"text-[9px] font-black uppercase tracking-wider",children:"Done"})]}),y.jsxs("button",{onClick:()=>{Sr(Y),De(null)},disabled:p.goalChanged,className:"flex flex-col items-center justify-center gap-1 group text-purple-400 disabled:opacity-30 disabled:cursor-not-allowed hover:text-purple-300 transition-colors",title:"Cycle Goal",children:[y.jsx("div",{className:"bg-purple-900/40 p-2 rounded-full border border-purple-500/50 group-hover:scale-110 transition-transform",children:y.jsx(Wc,{size:20})}),y.jsx("span",{className:"text-[9px] font-black uppercase tracking-wider",children:"Change"})]})]}),y.jsxs("button",{onClick:()=>{C(ge),De(null)},className:"flex items-center gap-1 text-[10px] font-bold text-slate-400 hover:text-white transition-colors mt-1 bg-white/5 px-2 py-0.5 rounded-full",children:[y.jsx(lE,{size:10})," Details"]}),y.jsx("button",{onClick:()=>De(null),className:"absolute top-1 right-1 text-slate-500 hover:text-white p-1 hover:bg-white/10 rounded-full transition-colors",children:y.jsx(sa,{size:14})})]});return y.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col font-sans relative overflow-x-hidden overflow-y-auto text-slate-200",onClick:()=>{De(null),V(null)},children:[y.jsx(Oo,{}),k&&y.jsx(nN,{goal:k,onClose:()=>C(null)}),y.jsx(tN,{event:lt,onClose:()=>Et(null),currentUserId:s.uid}),Ye&&y.jsx("div",{className:"fixed inset-0 bg-black/90 z-200 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-slate-900 max-w-3xl w-full max-h-[85vh] overflow-y-auto rounded-2xl border border-slate-700 shadow-2xl relative flex flex-col",children:[y.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-800 bg-slate-900 sticky top-0 z-10",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"bg-pink-600 p-2 rounded-xl",children:y.jsx(Do,{className:"text-white",size:24})}),y.jsx("h2",{className:"text-3xl font-black text-white tracking-tight",children:"Code of Conduct"})]}),y.jsx("button",{onClick:()=>qe(!1),className:"p-2 bg-slate-800 rounded-full text-slate-400 hover:text-white transition-colors border border-slate-700 hover:bg-slate-700",children:y.jsx(sa,{size:20})})]}),y.jsxs("div",{className:"p-8 space-y-10 text-slate-300",children:[y.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[y.jsxs("div",{children:[y.jsxs("h3",{className:"text-2xl font-bold text-white mb-3 flex items-center gap-2",children:[y.jsx(Iv,{className:"text-pink-500"})," The Basics"]}),y.jsxs("p",{className:"leading-relaxed text-lg",children:["Together is a ",y.jsx("strong",{children:"cooperative team game"}),". You are paired with the player sitting opposite you. Your goal is to complete specific patterns called"," ",y.jsx("strong",{children:"Goal Cards"})," faster than the other teams."]})]}),y.jsxs("div",{className:"bg-slate-800 p-6 rounded-2xl border border-slate-700 shadow-inner",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[y.jsx("div",{className:"w-12 h-16 bg-pink-600 rounded-lg border-2 border-pink-400"}),y.jsx("div",{className:"w-12 h-16 bg-yellow-400 rounded-lg border-2 border-yellow-200"}),y.jsxs("div",{className:"text-sm font-bold text-slate-400",children:["The Deck has numbers ",y.jsx("strong",{children:"1-8"})," in two colors:"," ",y.jsx("span",{className:"text-pink-400",children:"Magenta"})," &"," ",y.jsx("span",{className:"text-yellow-400",children:"Lemon"}),"."]})]}),y.jsxs("div",{className:"text-xs bg-slate-900 p-3 rounded-lg text-slate-400",children:[y.jsx("strong",{children:"Winning Condition:"})," The game ends when a team claims ",y.jsx("strong",{children:"8 Goals"}),". The team with the highest score wins!"]})]})]}),y.jsx("hr",{className:"border-slate-800"}),y.jsxs("section",{children:[y.jsxs("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[y.jsx(nm,{className:"text-blue-400"})," Turn Structure"]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"bg-slate-800/50 p-5 rounded-xl border border-slate-700/50 relative overflow-hidden group hover:border-blue-500/30 transition-colors",children:[y.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 font-black text-6xl group-hover:opacity-20 transition-opacity",children:"1"}),y.jsx("h4",{className:"font-bold text-white text-lg mb-2",children:"Cleanup"}),y.jsxs("p",{className:"text-sm",children:["If you start your turn with"," ",y.jsx("strong",{children:"more than 6 cards"}),", you must discard down to 6 before doing anything else."]})]}),y.jsxs("div",{className:"bg-slate-800/50 p-5 rounded-xl border border-slate-700/50 relative overflow-hidden group hover:border-blue-500/30 transition-colors",children:[y.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 font-black text-6xl group-hover:opacity-20 transition-opacity",children:"2"}),y.jsx("h4",{className:"font-bold text-white text-lg mb-2",children:"Actions (Any Order)"}),y.jsxs("p",{className:"text-sm",children:["You can Draw, Trade, or Claim goals in any order. BUT you ",y.jsx("strong",{children:"MUST draw 2 cards"})," before passing."]})]}),y.jsxs("div",{className:"bg-slate-800/50 p-5 rounded-xl border border-slate-700/50 relative overflow-hidden group hover:border-blue-500/30 transition-colors",children:[y.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 font-black text-6xl group-hover:opacity-20 transition-opacity",children:"3"}),y.jsx("h4",{className:"font-bold text-white text-lg mb-2",children:"Pass"}),y.jsxs("p",{className:"text-sm",children:["Once you have drawn your 2 cards and finished your moves, ",y.jsx("strong",{children:"Pass"})," the turn."]})]})]})]}),y.jsx("hr",{className:"border-slate-800"}),y.jsxs("section",{children:[y.jsxs("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[y.jsx(Nv,{className:"text-yellow-400"})," Valid Actions"]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex gap-4 items-start",children:[y.jsx("div",{className:"bg-green-500/20 p-3 rounded-lg text-green-400 shrink-0",children:y.jsx(na,{size:24})}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-lg font-bold text-white",children:"Claim a Goal"}),y.jsxs("p",{className:"text-sm text-slate-400",children:["Select cards from your hand that match your"," ",y.jsx("strong",{children:"Personal Goal"})," or the shared"," ",y.jsx("strong",{children:"Public Goal"}),". If valid, you score points and get a new goal."]})]})]}),y.jsxs("div",{className:"flex gap-4 items-start",children:[y.jsx("div",{className:"bg-blue-500/20 p-3 rounded-lg text-blue-400 shrink-0",children:y.jsx(Nm,{size:24})}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-lg font-bold text-white",children:"Trade Cards"}),y.jsxs("p",{className:"text-sm text-slate-400",children:["Give 1 or 2 cards from your hand to your partner. You cannot receive cards, only give.",y.jsx("strong",{children:"Limit:"})," Max 2 cards traded per turn."]})]})]}),y.jsxs("div",{className:"flex gap-4 items-start",children:[y.jsx("div",{className:"bg-purple-500/20 p-3 rounded-lg text-purple-400 shrink-0",children:y.jsx(Wc,{size:24})}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-lg font-bold text-white",children:"Cycle Goal"}),y.jsx("p",{className:"text-sm text-slate-400",children:"Once per turn, you can discard your current Personal Goal or the Public Goal and draw a new one. Use this if a goal seems impossible!"})]})]})]})]}),y.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 p-4 rounded-xl flex gap-4 items-center",children:[y.jsx("div",{className:"bg-red-500/20 p-2 rounded-full text-red-400",children:y.jsx(Dm,{size:24})}),y.jsxs("p",{className:"text-sm font-medium text-red-200",children:[y.jsx("strong",{children:"Communication Rule:"}),' You strictly cannot talk about the specific numbers or colors in your hand. You CAN say "I need high cards" or "I can help with that goal," but not "I have a Magenta 5."']})]})]}),y.jsx("div",{className:"p-6 border-t border-slate-800 bg-slate-900 sticky bottom-0 text-center",children:y.jsx("button",{onClick:()=>qe(!1),className:"bg-white text-slate-900 font-bold py-4 px-12 rounded-xl hover:scale-105 transition-transform shadow-xl",children:"Got It, Let's Play!"})})]})}),Me&&y.jsx(sm,{onConfirmLeave:ot,onConfirmLobby:()=>{Un(),R(!1)},onCancel:()=>R(!1),isHost:le,inGame:!0}),y.jsxs("div",{className:"bg-slate-900 border-b border-slate-800 p-2 md:p-4 flex items-center justify-between shadow-md z-160 sticky top-0 backdrop-blur-md bg-opacity-90",children:[y.jsx("div",{className:"flex gap-2 md:gap-4 overflow-x-auto",children:Pi.map(Y=>{if(!p.teamScores[Y.id]||p.players.length===4&&Y.id==="C")return null;const ge=p.teamScores[Y.id],te=re.teamId===Y.id,We=Ge?.teamId===Y.id;return y.jsxs("div",{className:`flex flex-col md:flex-row items-center gap-1 md:gap-3 px-3 py-1 rounded-lg border ${te?Y.bg+" "+Y.border:"bg-transparent border-transparent"}`,children:[y.jsx("span",{className:`font-black text-xs md:text-sm uppercase ${Y.color}`,children:Y.name}),y.jsxs("div",{className:"flex gap-2 text-xs font-bold text-slate-400",children:[y.jsxs("span",{children:[ge.goals,"/8 Goals"]}),We&&y.jsxs("span",{children:[ge.points," Pts"]})]})]},Y.id)})}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>qe(!0),className:"p-2 rounded-full text-slate-500 hover:bg-slate-800",title:"How to Play",children:y.jsx(Do,{size:20})}),y.jsx("button",{onClick:()=>Te(!be),className:`p-2 rounded-full ${be?"bg-pink-900 text-pink-400":"text-gray-400 hover:bg-gray-800"}`,children:y.jsx(Rv,{size:20})}),y.jsx("button",{onClick:()=>R(!0),className:"p-2 rounded-full text-red-500 hover:bg-red-900/20",title:"Leave Game",children:y.jsx(Cv,{size:20})})]})]}),be&&y.jsxs("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-gray-900/95 border border-gray-700 rounded-xl z-155 overflow-y-auto p-2 shadow-2xl",children:[y.jsx("div",{className:"bg-slate-800 p-2 text-xs font-bold text-slate-400 uppercase border-b border-slate-700",children:"Game Log"}),y.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:p.logs.slice().reverse().map(Y=>y.jsx("div",{className:`text-xs p-2 rounded ${Y.type==="success"?"bg-green-900/30 text-green-400 border border-green-900/50":"bg-slate-800 text-slate-400"}`,children:Y.text},Y.id))})]}),y.jsxs("div",{className:"flex-1 flex flex-col max-w-7xl mx-auto w-full p-2 md:p-4 gap-2 z-10",children:[y.jsx("div",{className:"overflow-x-auto pb-2 min-h-[100px]",children:y.jsx("div",{className:"flex justify-center gap-2 md:gap-4 w-fit mx-auto px-4",children:p.players.map((Y,ge)=>{if(Y.id===s.uid)return null;const te=p.turnIndex===ge,We=Pi.find(et=>et.id===Y.teamId),gn=Y.teamId===Ge.teamId,ti=Ke===Y.id&&Qe&&gn&&Z.length>0&&Z.length<=2;return y.jsxs("div",{className:`relative flex flex-col items-center min-w-[80px] transition-all ${te?"scale-105 opacity-100":"opacity-70"}`,children:[ti&&y.jsxs("button",{onClick:et=>{et.stopPropagation(),Ar(Y.id)},className:"absolute z-50 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-blue-600 text-white font-bold text-xs px-4 py-2 rounded-full shadow-lg hover:bg-blue-500 animate-in zoom-in duration-200 flex items-center gap-1 ring-2 ring-white",children:[y.jsx(sE,{size:14})," GIVE"]}),y.jsxs("div",{className:`relative w-10 h-10 rounded-full border-2 ${te?"border-white ring-2 ring-blue-500":We.border} bg-slate-800 flex items-center justify-center font-bold text-sm shadow-md cursor-pointer`,onClick:et=>{et.stopPropagation(),gn&&Qe&&Z.length>0&&Z.length<=2&&V(Ke===Y.id?null:Y.id)},children:[Y.name[0],y.jsx("div",{className:`absolute -bottom-1 px-1.5 py-0.5 rounded text-[7px] font-black uppercase text-white ${We.bg.replace("/30","")}`,children:We.name.split(" ")[1]})]}),y.jsx("span",{className:"text-[9px] font-bold text-slate-400 mt-1 max-w-[70px] truncate",children:Y.name}),y.jsx("div",{className:"mt-1 w-20 scale-90 origin-top",children:y.jsx(fl,{goal:Y.personalGoal,small:!0,isPersonal:!0,onClick:()=>C(Y.personalGoal)})}),y.jsxs("div",{className:"mt-1 flex -space-x-1",children:[Array.from({length:Math.min(5,Y.hand.length)}).map((et,Nt)=>y.jsx("div",{className:"w-2.5 h-3 bg-slate-700 rounded border border-slate-500"},Nt)),Y.hand.length>5&&y.jsx("div",{className:"w-2.5 h-3 bg-red-500 rounded border border-slate-500"})]})]},Y.id)})})}),y.jsxs("div",{className:"flex-1 bg-slate-900/50 backdrop-blur-md rounded-3xl border border-slate-800 shadow-xl p-4 flex flex-col md:flex-row items-center justify-center gap-8 md:gap-6 mb-4 md:mb-0 relative",children:[y.jsxs("div",{className:"flex flex-col w-32 h-24 md:w-48 md:h-32 shrink-0",children:[y.jsx("div",{className:"text-center text-[10px] font-bold text-slate-500 mb-1 uppercase",children:"Public Goal"}),y.jsx("div",{className:"relative flex-1 w-full h-full",children:p.publicGoal?y.jsxs(y.Fragment,{children:[y.jsx(fl,{goal:p.publicGoal,isPublic:!0,selected:de==="PUBLIC",onClick:Y=>{Y.stopPropagation(),Qe&&p.turnPhase==="PLAYING"?De(de==="PUBLIC"?null:"PUBLIC"):C(p.publicGoal)}}),de==="PUBLIC"&&y.jsx(ue,{type:"PUBLIC",goal:p.publicGoal})]}):y.jsx("div",{className:"h-full border-2 border-dashed border-slate-700 rounded-lg flex items-center justify-center text-slate-600",children:"Empty"})})]}),y.jsxs("div",{className:"flex flex-col items-center gap-2 mt-2 md:mt-0",children:[y.jsx("div",{className:"flex gap-2",children:p.market.map((Y,ge)=>y.jsx(Zo,{card:Y,small:!0,disabled:!Qe||p.turnPhase==="CHECK_LIMIT"||p.cardsDrawn>=2,onClick:()=>Cn(ge)},ge))}),y.jsxs("button",{onClick:()=>Cn(-1),disabled:!Qe||p.turnPhase==="CHECK_LIMIT"||p.cardsDrawn>=2,className:"w-full h-10 bg-slate-800 border border-slate-700 rounded-xl flex items-center justify-center gap-2 text-slate-300 text-sm font-bold hover:bg-slate-700 active:scale-95 disabled:opacity-50 transition-all shadow-lg",children:[y.jsx(NI,{size:16})," Draw Blind"]})]})]}),y.jsxs("div",{className:"bg-slate-900 rounded-t-3xl shadow-[0_-10px_40px_rgba(0,0,0,0.3)] p-4 pt-14 border-t border-slate-800 relative mt-auto",children:[y.jsxs("div",{className:"absolute top-0 left-0 bg-slate-800 border-b border-r border-slate-700 rounded-br-2xl px-4 py-2 flex items-center gap-3",children:[y.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ${Rn.bg} ${Rn.color}`,children:Ge.name[0]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-white font-bold text-sm leading-none",children:Ge.name}),y.jsx("div",{className:`text-[10px] uppercase font-black tracking-wider ${Rn.color}`,children:Rn.name})]})]}),Qe&&p.turnPhase==="PLAYING"&&y.jsxs("button",{onClick:wr,disabled:p.cardsDrawn<2,className:"absolute top-4 right-4 bg-slate-700 text-white px-6 py-2 rounded-xl font-bold shadow hover:bg-slate-600 active:scale-95 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:["PASS"," ",p.cardsDrawn<2&&y.jsxs("span",{className:"text-[10px] opacity-70",children:["(Draw ",2-p.cardsDrawn," more)"]}),y.jsx(nE,{size:16})]}),y.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[y.jsxs("div",{className:"relative w-28 md:w-36 shrink-0 self-center md:self-end mb-4 md:mb-0 flex flex-col gap-2",children:[y.jsxs("div",{className:"mb-2 text-center md:text-left",children:[y.jsx("div",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-1",children:"Current Turn"}),y.jsx("div",{className:`text-lg font-black animate-bounce  ${Pi.find(Y=>Y.id===re.teamId).color}`,children:Qe?"YOUR TURN":re.name}),Qe&&y.jsx("div",{className:"text-[10px] font-bold bg-slate-800 text-blue-400 border border-blue-900/50 px-2 py-1 rounded-full mt-1 inline-block shadow-lg animate-pulse",children:p.turnPhase==="CHECK_LIMIT"?"Discard down to 6":p.cardsDrawn<2?`Draw ${2-p.cardsDrawn} more`:"Actions or Pass"})]}),y.jsx("div",{className:"relative w-full flex-1 min-h-[100px]",children:Ge.personalGoal?y.jsxs(y.Fragment,{children:[y.jsx(fl,{goal:Ge.personalGoal,isPersonal:!0,selected:de==="PERSONAL",onClick:Y=>{Y.stopPropagation(),Qe&&p.turnPhase==="PLAYING"?De(de==="PERSONAL"?null:"PERSONAL"):C(Ge.personalGoal)}}),de==="PERSONAL"&&y.jsx(ue,{type:"PERSONAL",goal:Ge.personalGoal})]}):y.jsx("div",{className:"h-full bg-slate-800 rounded-lg flex items-center justify-center text-xs text-slate-500 font-bold border-2 border-dashed border-slate-700",children:"Completed!"})})]}),y.jsx("div",{className:"flex-1 overflow-x-auto pb-4 pt-16 px-2 w-full min-h-[200px]",children:y.jsx("div",{className:"flex gap-2 items-end w-fit mx-auto",children:Ge.hand.sort((Y,ge)=>Y.value-ge.value).map(Y=>y.jsxs("div",{className:"relative group shrink-0 w-20 h-28 md:w-24 md:h-32",children:[Qe&&p.turnPhase==="CHECK_LIMIT"&&y.jsx("button",{onClick:()=>As(Y),className:"absolute -top-12 left-1/2 -translate-x-1/2 bg-red-500 text-white text-[10px] font-bold px-3 py-1.5 rounded-full opacity-100 z-50 shadow-xl animate-pulse border-2 border-slate-900",children:"DISCARD"}),y.jsx("div",{className:"w-full h-full",children:y.jsx(Zo,{card:Y,selected:Z.some(ge=>ge.id===Y.id),disabled:!Qe||p.turnPhase!=="PLAYING"&&p.turnPhase!=="CHECK_LIMIT",onClick:()=>{p.turnPhase==="PLAYING"&&(Z.some(ge=>ge.id===Y.id)?pe(Z.filter(ge=>ge.id!==Y.id)):pe([...Z,Y]))}})})]},Y.id))})})]})]})]}),y.jsx(Ov,{})]})}return null}$T.createRoot(document.getElementById("root")).render(y.jsx(tt.StrictMode,{children:y.jsx(sN,{})}));
